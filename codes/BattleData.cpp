void __fastcall BattleData___cctor(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  struct BattleData_StaticFields *static_fields; // x0
  __int64 v8; // x1
  struct BattleData_StaticFields *v9; // x0
  __int64 v10; // x1
  struct BattleData_StaticFields *v11; // x0
  __int64 v12; // x1
  struct BattleData_StaticFields *v13; // x0
  __int64 v14; // x1
  struct BattleData_StaticFields *v15; // x0
  __int64 v16; // x1

  if ( (byte_41843C1 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_22156/*"skipSkill"*/, v2);
    sub_B2C35C(&StringLiteral_21101/*"noSkipDeadFirstIdListKey"*/, v3);
    sub_B2C35C(&StringLiteral_12892/*"SkipDead"*/, v4);
    sub_B2C35C(&StringLiteral_13590/*"TdConstantVel"*/, v5);
    sub_B2C35C(&StringLiteral_19146/*"hightSpeed"*/, v6);
    byte_41843C1 = 1;
  }
  static_fields = BattleData_TypeInfo->static_fields;
  v8 = StringLiteral_21101/*"noSkipDeadFirstIdListKey"*/;
  static_fields->NO_SKIP_DEAD_FIRST_ID_LIST_KEY = (struct System_String_o *)StringLiteral_21101/*"noSkipDeadFirstIdListKey"*/;
  sub_B2C2F8(&static_fields->NO_SKIP_DEAD_FIRST_ID_LIST_KEY, v8);
  v9 = BattleData_TypeInfo->static_fields;
  v10 = StringLiteral_22156/*"skipSkill"*/;
  v9->skipKey = (struct System_String_o *)StringLiteral_22156/*"skipSkill"*/;
  sub_B2C2F8(&v9->skipKey, v10);
  v11 = BattleData_TypeInfo->static_fields;
  v12 = StringLiteral_19146/*"hightSpeed"*/;
  v11->speedKey = (struct System_String_o *)StringLiteral_19146/*"hightSpeed"*/;
  sub_B2C2F8(&v11->speedKey, v12);
  v13 = BattleData_TypeInfo->static_fields;
  v14 = StringLiteral_13590/*"TdConstantVel"*/;
  v13->TdCvKey = (struct System_String_o *)StringLiteral_13590/*"TdConstantVel"*/;
  sub_B2C2F8(&v13->TdCvKey, v14);
  v15 = BattleData_TypeInfo->static_fields;
  v16 = StringLiteral_12892/*"SkipDead"*/;
  v15->SkipDeadKey = (struct System_String_o *)StringLiteral_12892/*"SkipDead"*/;
  sub_B2C2F8(&v15->SkipDeadKey, v16);
}


void __fastcall BattleData___ctor(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v31; // x21
  struct System_Int32_array *v32; // x0
  struct System_Int32_array *v33; // x0
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v34; // x21
  PlayerServantNoblePhantasmUsageData_o *v35; // x21
  StageEntity_c *v36; // x0
  System_Collections_Generic_List_int__o *v37; // x20
  QuestKnockdownInfo_o *v38; // x20
  struct BattleCommandData_array *v39; // x0
  struct BattleCommandData_array *v40; // x0
  System_Collections_Generic_List_int__o *v41; // x20
  struct BattleCommandData_array *v42; // x0
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v43; // x20
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v44; // x20
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v45; // x20
  ItemDroppedSkillShiftInfo_o *v46; // x20
  System_Collections_Generic_List_int__o *v47; // x20
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v48; // x20
  System_Collections_Generic_Dictionary_int__int__o *v49; // x20
  ChangeBattlePhaseNotify_o *v50; // x20
  struct System_Int32_array *v51; // x0
  __int64 v52; // x1
  BattleAttackManager_o *v53; // x20
  BaseBattleEvent_o *v54; // x20
  BattleDefenceTargetData_o *v55; // x20
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v56; // x20
  System_Collections_Generic_List_double__o *v57; // x20
  System_Collections_Generic_List_int__o *v58; // x20
  System_Collections_Generic_List_int__o *v59; // x20
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v60; // x20
  struct System_Double_array *v61; // x0
  __int64 v62; // x0

  if ( (byte_41843C0 & 1) == 0 )
  {
    sub_B2C35C(&BaseBattleEvent_TypeInfo, method);
    sub_B2C35C(&BattleAttackManager_TypeInfo, v3);
    sub_B2C35C(&BattleCommandData___TypeInfo, v4);
    sub_B2C35C(&BattleDefenceTargetData_TypeInfo, v5);
    sub_B2C35C(&ChangeBattlePhaseNotify_TypeInfo, v6);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int___ctor__, v7);
    sub_B2C35C(&System_Collections_Generic_Dictionary_int__int__TypeInfo, v8);
    sub_B2C35C(&double___TypeInfo, v9);
    sub_B2C35C(&int___TypeInfo, v10);
    sub_B2C35C(&ItemDroppedSkillShiftInfo_TypeInfo, v11);
    sub_B2C35C(&Method_System_Collections_Generic_List_string___ctor___67320968, v12);
    sub_B2C35C(&Method_System_Collections_Generic_List_DataVals___ctor__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v14);
    sub_B2C35C(&Method_System_Collections_Generic_List_RestockServantLogic___ctor__, v15);
    sub_B2C35C(&Method_System_Collections_Generic_List_AiNpcBattleServantData___ctor__, v16);
    sub_B2C35C(&Method_System_Collections_Generic_List_double___ctor__, v17);
    sub_B2C35C(&Method_System_Collections_Generic_List_Dictionary_string__object____ctor__, v18);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleActionData_BuffData___ctor__, v19);
    sub_B2C35C(&System_Collections_Generic_List_DataVals__TypeInfo, v20);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v21);
    sub_B2C35C(&System_Collections_Generic_List_Dictionary_string__object___TypeInfo, v22);
    sub_B2C35C(&System_Collections_Generic_List_string__TypeInfo, v23);
    sub_B2C35C(&System_Collections_Generic_List_BattleActionData_BuffData__TypeInfo, v24);
    sub_B2C35C(&System_Collections_Generic_List_double__TypeInfo, v25);
    sub_B2C35C(&System_Collections_Generic_List_RestockServantLogic__TypeInfo, v26);
    sub_B2C35C(&System_Collections_Generic_List_AiNpcBattleServantData__TypeInfo, v27);
    sub_B2C35C(&PlayerServantNoblePhantasmUsageData_TypeInfo, v28);
    sub_B2C35C(&QuestKnockdownInfo_TypeInfo, v29);
    sub_B2C35C(&StageEntity_TypeInfo, v30);
    byte_41843C0 = 1;
  }
  v31 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_AiNpcBattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v31,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_AiNpcBattleServantData___ctor__);
  this->fields.aiNpcDataList = (struct System_Collections_Generic_List_AiNpcBattleServantData__o *)v31;
  sub_B2C2F8(&this->fields.aiNpcDataList, v31);
  v32 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, 0LL);
  this->fields.turnEffect = v32;
  sub_B2C2F8(&this->fields.turnEffect, v32);
  v33 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, 1LL);
  this->fields.waveClearNeedTurn = v33;
  sub_B2C2F8(&this->fields.waveClearNeedTurn, v33);
  v34 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_Dictionary_string__object___TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v34,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_Dictionary_string__object____ctor__);
  this->fields.firstNpPlayList = (struct System_Collections_Generic_List_Dictionary_string__object___o *)v34;
  sub_B2C2F8(&this->fields.firstNpPlayList, v34);
  v35 = (PlayerServantNoblePhantasmUsageData_o *)sub_B2C42C(PlayerServantNoblePhantasmUsageData_TypeInfo);
  PlayerServantNoblePhantasmUsageData___ctor(v35, 0LL);
  this->fields.playerServantNoblePhantasmUsageData = v35;
  sub_B2C2F8(&this->fields.playerServantNoblePhantasmUsageData, v35);
  v36 = StageEntity_TypeInfo;
  if ( (BYTE3(StageEntity_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !StageEntity_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(StageEntity_TypeInfo);
    v36 = StageEntity_TypeInfo;
  }
  this->fields.enemyActCount = v36->static_fields->DEFAULT_ENEMY_ACTION_COUNT;
  v37 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v37,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  this->fields.lockTargetIdList = v37;
  sub_B2C2F8(&this->fields.lockTargetIdList, v37);
  v38 = (QuestKnockdownInfo_o *)sub_B2C42C(QuestKnockdownInfo_TypeInfo);
  QuestKnockdownInfo___ctor(v38, 0LL);
  this->fields.currenctKnockdown = v38;
  sub_B2C2F8(&this->fields.currenctKnockdown, v38);
  v39 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.fixedCommands = v39;
  sub_B2C2F8(&this->fields.fixedCommands, v39);
  v40 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.wkCommands = v40;
  sub_B2C2F8(&this->fields.wkCommands, v40);
  v41 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v41,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  this->fields.doNotSelectCommandSvtIdList = v41;
  sub_B2C2F8(&this->fields.doNotSelectCommandSvtIdList, v41);
  v42 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.canSelectCommands = v42;
  sub_B2C2F8(&this->fields.canSelectCommands, v42);
  this->fields.isCalcCritical = 1;
  v43 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_DataVals__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v43,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_DataVals___ctor__);
  this->fields.performedValsList = (struct System_Collections_Generic_List_DataVals__o *)v43;
  sub_B2C2F8(&this->fields.performedValsList, v43);
  v44 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleActionData_BuffData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v44,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleActionData_BuffData___ctor__);
  this->fields.freshBuffDataList = (struct System_Collections_Generic_List_BattleActionData_BuffData__o *)v44;
  sub_B2C2F8(&this->fields.freshBuffDataList, v44);
  this->fields.continueCount = 1;
  v45 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_RestockServantLogic__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v45,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_RestockServantLogic___ctor__);
  this->fields.restockServantLogicList = (struct System_Collections_Generic_List_RestockServantLogic__o *)v45;
  sub_B2C2F8(&this->fields.restockServantLogicList, v45);
  v46 = (ItemDroppedSkillShiftInfo_o *)sub_B2C42C(ItemDroppedSkillShiftInfo_TypeInfo);
  ItemDroppedSkillShiftInfo___ctor(v46, 0LL);
  this->fields.itemDroppedSkillShiftInfo = v46;
  sub_B2C2F8(&this->fields.itemDroppedSkillShiftInfo, v46);
  this->fields.winResult = 1;
  this->fields.systemflg_acceleration = 1;
  *(_WORD *)&this->fields.systemflg_selectcancel = 257;
  this->fields.typeTurn = 1;
  v47 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v47,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  this->fields.playedSpeedOneSkillIdList = v47;
  sub_B2C2F8(&this->fields.playedSpeedOneSkillIdList, v47);
  v48 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_string__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v48,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_string___ctor___67320968);
  this->fields.playedSpeedOneFieldIdList = (struct System_Collections_Generic_List_string__o *)v48;
  sub_B2C2F8(&this->fields.playedSpeedOneFieldIdList, v48);
  v49 = (System_Collections_Generic_Dictionary_int__int__o *)sub_B2C42C(System_Collections_Generic_Dictionary_int__int__TypeInfo);
  System_Collections_Generic_Dictionary_int__int____ctor(
    v49,
    (const MethodInfo_2E2399C *)Method_System_Collections_Generic_Dictionary_int__int___ctor__);
  this->fields.usedEventMasterSkillDict = v49;
  sub_B2C2F8(&this->fields.usedEventMasterSkillDict, v49);
  v50 = (ChangeBattlePhaseNotify_o *)sub_B2C42C(ChangeBattlePhaseNotify_TypeInfo);
  ChangeBattlePhaseNotify___ctor(v50, 0LL);
  this->fields.changePhaseNotify = v50;
  sub_B2C2F8(&this->fields.changePhaseNotify, v50);
  this->fields.justDeadTargetId = -1;
  v51 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, 1LL);
  if ( !v51 )
    goto LABEL_11;
  if ( !v51->max_length )
    goto LABEL_12;
  v51->m_Items[1] = 1;
  this->fields.maleIndiv = v51;
  sub_B2C2F8(&this->fields.maleIndiv, v51);
  v51 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, 1LL);
  if ( !v51 )
LABEL_11:
    sub_B2C434(v51, v52);
  if ( !v51->max_length )
  {
LABEL_12:
    v62 = sub_B2C460(v51);
    sub_B2C400(v62, 0LL);
  }
  v51->m_Items[1] = 2;
  this->fields.femaleIndiv = v51;
  sub_B2C2F8(&this->fields.femaleIndiv, v51);
  v53 = (BattleAttackManager_o *)sub_B2C42C(BattleAttackManager_TypeInfo);
  BattleAttackManager___ctor(v53, 0LL);
  this->fields.battleAtkManager = v53;
  sub_B2C2F8(&this->fields.battleAtkManager, v53);
  v54 = (BaseBattleEvent_o *)sub_B2C42C(BaseBattleEvent_TypeInfo);
  BaseBattleEvent___ctor(v54, 0LL);
  this->fields.battleEvent = v54;
  sub_B2C2F8(&this->fields.battleEvent, v54);
  this->fields.temporarySpell = -1;
  v55 = (BattleDefenceTargetData_o *)sub_B2C42C(BattleDefenceTargetData_TypeInfo);
  BattleDefenceTargetData___ctor(v55, 0LL);
  this->fields.defenceTargetData = v55;
  sub_B2C2F8(&this->fields.defenceTargetData, v55);
  v56 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_string__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v56,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_string___ctor___67320968);
  this->fields.commonEffectPathList = (struct System_Collections_Generic_List_string__o *)v56;
  sub_B2C2F8(&this->fields.commonEffectPathList, v56);
  this->fields.masterSkillUseWaveTurn = -1LL;
  v57 = (System_Collections_Generic_List_double__o *)sub_B2C42C(System_Collections_Generic_List_double__TypeInfo);
  System_Collections_Generic_List_double____ctor(
    v57,
    (const MethodInfo_2F602C8 *)Method_System_Collections_Generic_List_double___ctor__);
  this->fields.chainTypeList = v57;
  sub_B2C2F8(&this->fields.chainTypeList, v57);
  v58 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v58,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  this->fields.listQuestRouteId = v58;
  sub_B2C2F8(&this->fields.listQuestRouteId, v58);
  this->fields.isShowMasterSkillCutIn = 1;
  v59 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v59,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  this->fields.noSkipDeadFirstIdUseThisTurn = v59;
  sub_B2C2F8(&this->fields.noSkipDeadFirstIdUseThisTurn, v59);
  *(_QWORD *)&this->fields.tutorialId = -1LL;
  v60 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_Dictionary_string__object___TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v60,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_Dictionary_string__object____ctor__);
  this->fields.tmpFirstNpPlayList = (struct System_Collections_Generic_List_Dictionary_string__object___o *)v60;
  sub_B2C2F8(&this->fields.tmpFirstNpPlayList, v60);
  v61 = (struct System_Double_array *)sub_B2C374(double___TypeInfo, 1LL);
  this->fields.wkZeroParam = v61;
  sub_B2C2F8(&this->fields.wkZeroParam, v61);
  UnityEngine_MonoBehaviour___ctor((UnityEngine_MonoBehaviour_o *)this, 0LL);
}


void __fastcall BattleData__ActPassiveBuff(
        BattleData_o *this,
        BattleSkillInfoData_o *skillInfo,
        bool isShift,
        bool isDeckDataLoad,
        const MethodInfo *method)
{
  __int64 v9; // x1
  UnityEngine_Object_o *logic; // x23
  WebViewManager_o *v11; // x0
  const MethodInfo *v12; // x1
  struct BattleLogic_o *v13; // x8
  BattleLogicSkill_o *logicSkill; // x0
  UnityEngine_Object_o *Instance; // x22

  if ( (byte_41843B9 & 1) == 0 )
  {
    sub_B2C35C(&UnityEngine_Object_TypeInfo, skillInfo);
    sub_B2C35C(&Method_SingletonMonoBehaviour_WarBoardManager__get_Instance__, v9);
    byte_41843B9 = 1;
  }
  logic = (UnityEngine_Object_o *)this->fields.logic;
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  v11 = (WebViewManager_o *)UnityEngine_Object__op_Inequality(logic, 0LL, 0LL);
  if ( ((unsigned __int8)v11 & 1) != 0 )
  {
    v13 = this->fields.logic;
    if ( v13 )
    {
      logicSkill = v13->fields.logicSkill;
      if ( logicSkill )
        BattleLogicSkill__actPassiveSkill(logicSkill, skillInfo, isShift, isDeckDataLoad, 0LL);
      return;
    }
LABEL_18:
    sub_B2C434(v11, v12);
  }
  if ( BattleData__IsWarBoard(this, v12) )
  {
    Instance = (UnityEngine_Object_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_WarBoardManager__get_Instance__);
    if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
    }
    if ( UnityEngine_Object__op_Inequality(Instance, 0LL, 0LL) )
    {
      v11 = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_WarBoardManager__get_Instance__);
      if ( v11 )
      {
        WarBoardManager__ActPassiveSkill((WarBoardManager_o *)v11, skillInfo, isShift, isDeckDataLoad, 0LL);
        return;
      }
      goto LABEL_18;
    }
  }
}


void __fastcall BattleData__AddChainCount(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  struct BattleComboData_o *combodata; // x8
  int32_t flashtype; // w8
  struct BattleComboData_o *v6; // x8
  int32_t v7; // w1
  struct BattleComboData_o *v8; // x8
  struct BattleComboData_o *v9; // x8
  struct BattleComboData_o *v10; // x8

  combodata = this->fields.combodata;
  if ( !combodata )
    goto LABEL_26;
  if ( !combodata->fields.flash )
    goto LABEL_16;
  flashtype = combodata->fields.flashtype;
  switch ( flashtype )
  {
    case 3:
      BattleData__AddChainCount_18446136(this, 3, v2);
      v8 = this->fields.combodata;
      if ( !v8 )
        goto LABEL_26;
      if ( v8->fields.samecount >= 3 )
      {
        v7 = 7;
        goto LABEL_15;
      }
      break;
    case 2:
      BattleData__AddChainCount_18446136(this, 2, v2);
      v9 = this->fields.combodata;
      if ( !v9 )
        goto LABEL_26;
      if ( v9->fields.samecount >= 3 )
      {
        v7 = 6;
        goto LABEL_15;
      }
      break;
    case 1:
      BattleData__AddChainCount_18446136(this, 1, v2);
      v6 = this->fields.combodata;
      if ( !v6 )
        goto LABEL_26;
      if ( v6->fields.samecount >= 3 )
      {
        v7 = 5;
LABEL_15:
        BattleData__AddChainCount_18446136(this, v7, v2);
      }
      break;
  }
LABEL_16:
  v10 = this->fields.combodata;
  if ( !v10
    || v10->fields.isMighty
    && ((BattleData__AddChainCount_18446136(this, 9, v2), (v10 = this->fields.combodata) == 0LL)
     || v10->fields.samecount >= 3
     && (BattleData__AddChainCount_18446136(this, 10, v2), (v10 = this->fields.combodata) == 0LL))
    || v10->fields.isTreasureDvc
    && (BattleData__AddChainCount_18446136(this, 8, v2), (v10 = this->fields.combodata) == 0LL) )
  {
LABEL_26:
    sub_B2C434(this, method);
  }
  if ( v10->fields.samecount >= 3 )
    BattleData__AddChainCount_18446136(this, 4, v2);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__AddChainCount_18446136(
        BattleData_o *this,
        int32_t chainCountType,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  System_Collections_Generic_Dictionary_int__int__o *chainCountDict; // x0
  System_Collections_Generic_Dictionary_int__int__o *v10; // x21
  int32_t Item; // w0

  if ( (byte_4184313 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__Add__, *(_QWORD *)&chainCountType);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__get_Item__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__set_Item__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_double__Add__, v8);
    byte_4184313 = 1;
  }
  chainCountDict = this->fields.chainCountDict;
  if ( !chainCountDict )
    goto LABEL_10;
  chainCountDict = (System_Collections_Generic_Dictionary_int__int__o *)System_Collections_Generic_Dictionary_int__int___ContainsKey(
                                                                          chainCountDict,
                                                                          chainCountType,
                                                                          (const MethodInfo_2E247A4 *)Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__);
  if ( ((unsigned __int8)chainCountDict & 1) == 0 )
  {
    chainCountDict = this->fields.chainCountDict;
    if ( !chainCountDict )
      goto LABEL_10;
    System_Collections_Generic_Dictionary_int__int___Add(
      chainCountDict,
      chainCountType,
      0,
      (const MethodInfo_2E24540 *)Method_System_Collections_Generic_Dictionary_int__int__Add__);
  }
  v10 = this->fields.chainCountDict;
  if ( !v10
    || (Item = System_Collections_Generic_Dictionary_int__int___get_Item(
                 this->fields.chainCountDict,
                 chainCountType,
                 (const MethodInfo_2E24480 *)Method_System_Collections_Generic_Dictionary_int__int__get_Item__),
        System_Collections_Generic_Dictionary_int__int___set_Item(
          v10,
          chainCountType,
          Item + 1,
          (const MethodInfo_2E24518 *)Method_System_Collections_Generic_Dictionary_int__int__set_Item__),
        (chainCountDict = (System_Collections_Generic_Dictionary_int__int__o *)this->fields.chainTypeList) == 0LL) )
  {
LABEL_10:
    sub_B2C434(chainCountDict, *(_QWORD *)&chainCountType);
  }
  System_Collections_Generic_List_double___Add(
    (System_Collections_Generic_List_double__o *)chainCountDict,
    (double)chainCountType,
    (const MethodInfo_2F61020 *)Method_System_Collections_Generic_List_double__Add__);
}


void __fastcall BattleData__AddEnemyEntryCount(BattleData_o *this, const MethodInfo *method)
{
  ++this->fields._EnemyEntryCountOnThisTurn_k__BackingField;
}


void __fastcall BattleData__AddFreshBuffList(
        BattleData_o *this,
        BattleActionData_BuffData_o *buff,
        const MethodInfo *method)
{
  struct System_Collections_Generic_List_BattleActionData_BuffData__o *freshBuffDataList; // x0

  if ( (byte_418431F & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleActionData_BuffData__Add__, buff);
    byte_418431F = 1;
  }
  freshBuffDataList = this->fields.freshBuffDataList;
  if ( !freshBuffDataList )
    sub_B2C434(0LL, buff);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)freshBuffDataList,
    (EventMissionProgressRequest_Argument_ProgressData_o *)buff,
    (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleActionData_BuffData__Add__);
}


void __fastcall BattleData__AddMasterSkillDelayIfNeeded(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  struct BattleData_o *data; // x8
  struct BattleData_o *v7; // x8
  QuestPhaseEntity_o *v8; // x19
  _BOOL8 v9; // x0
  __int64 v10; // x1
  Il2CppObject *current; // x20
  int32_t MasterSkillDelay; // w0
  System_Collections_Generic_List_Enumerator_T__o v13; // [xsp+8h] [xbp-38h] BYREF

  v2 = this;
  if ( (byte_4184395 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__get_Current__, v4);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__, v5);
    byte_4184395 = 1;
  }
  memset(&v13, 0, sizeof(v13));
  data = v2->fields.data;
  if ( !data
    || (this = (BattleData_o *)data->fields.battle_ent) == 0LL
    || (this = (BattleData_o *)BattleEntity__GetQuestPhaseEntity((BattleEntity_o *)this, 0LL),
        (v7 = v2->fields.data) == 0LL)
    || (v8 = (QuestPhaseEntity_o *)this, (this = (BattleData_o *)v7->fields.masterSkillInfo) == 0LL) )
  {
    sub_B2C434(this, method);
  }
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v13,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)this,
    (const MethodInfo_2EF52DC *)Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__);
  while ( 1 )
  {
    v9 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
           &v13,
           (const MethodInfo_20EA42C *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__);
    if ( !v9 )
      break;
    current = v13.fields.current;
    if ( !v13.fields.current )
      sub_B2C434(v9, v10);
    if ( LODWORD(v13.fields.current[1].klass) == 1 )
    {
      if ( !v8 )
        sub_B2C434(v9, v10);
      MasterSkillDelay = QuestPhaseEntity__GetMasterSkillDelay(v8, 0LL);
      BattleSkillInfoData__TurnExtendForDelay((BattleSkillInfoData_o *)current, MasterSkillDelay, 999, 0LL);
    }
  }
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v13,
    (const MethodInfo_20EA428 *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__);
}


void __fastcall BattleData__AddPerformedVals(BattleData_o *this, DataVals_o *val, const MethodInfo *method)
{
  struct System_Collections_Generic_List_DataVals__o *performedValsList; // x0

  if ( (byte_418431C & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_DataVals__Add__, val);
    byte_418431C = 1;
  }
  performedValsList = this->fields.performedValsList;
  if ( !performedValsList )
    sub_B2C434(0LL, val);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)performedValsList,
    (EventMissionProgressRequest_Argument_ProgressData_o *)val,
    (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_DataVals__Add__);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__AddQuestRouteId(BattleData_o *this, int32_t routeId, const MethodInfo *method)
{
  __int64 v5; // x1
  System_Collections_Generic_List_int__o *listQuestRouteId; // x0

  if ( (byte_41843AE & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, *(_QWORD *)&routeId);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, v5);
    byte_41843AE = 1;
  }
  listQuestRouteId = this->fields.listQuestRouteId;
  if ( !listQuestRouteId )
    goto LABEL_7;
  if ( System_Collections_Generic_List_int___Contains(
         listQuestRouteId,
         routeId,
         (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__) )
  {
    return;
  }
  listQuestRouteId = this->fields.listQuestRouteId;
  if ( !listQuestRouteId )
LABEL_7:
    sub_B2C434(listQuestRouteId, *(_QWORD *)&routeId);
  System_Collections_Generic_List_int___Add(
    listQuestRouteId,
    routeId,
    (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__AddServantVoicePlayed(
        BattleData_o *this,
        int32_t svtId,
        System_String_o *labelName,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  VoiceMaster_o *Master_WarQuestSelectionMaster; // x22
  System_String_o *v10; // x0
  __int64 v11; // x1
  int32_t FlagRequestNumber; // w0
  const MethodInfo *v13; // x4

  if ( (byte_41842E7 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_VoiceMaster___, *(_QWORD *)&svtId);
    sub_B2C35C(&DataManager_TypeInfo, v7);
    sub_B2C35C(&StringLiteral_15905/*"_"*/, v8);
    byte_41842E7 = 1;
  }
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = (VoiceMaster_o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_VoiceMaster___);
  v10 = System_String__Concat_44305532((System_String_o *)StringLiteral_15905/*"_"*/, labelName, 0LL);
  if ( !Master_WarQuestSelectionMaster )
    sub_B2C434(v10, v11);
  FlagRequestNumber = VoiceMaster__getFlagRequestNumber(Master_WarQuestSelectionMaster, svtId, v10, 0, 0LL);
  if ( FlagRequestNumber )
    BattleData__AddServantVoicePlayed_18384340(this, svtId, FlagRequestNumber, 0, v13);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__AddServantVoicePlayed_18384340(
        BattleData_o *this,
        int32_t svtId,
        int32_t condValue,
        bool skipVoiceOffCheck,
        const MethodInfo *method)
{
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  Il2CppObject *v15; // x21
  Il2CppObject *v16; // x0
  WarBoardAIRoute_RouteData_o *Item; // x0
  __int64 v18; // x1
  System_Xml_XmlQualifiedName_o *v19; // x21
  struct System_Collections_Generic_Dictionary_string__object__o *voicePlayedInfo; // x22
  struct System_Collections_Generic_Dictionary_string__object__o *v21; // x20
  System_Xml_Schema_XmlSchemaObject_o *v22; // x0
  BattleData_o *v23; // x0
  const MethodInfo *v24; // x1
  __int64 v25; // [xsp+8h] [xbp-38h] BYREF
  int32_t v26; // [xsp+18h] [xbp-28h] BYREF
  int32_t v27; // [xsp+1Ch] [xbp-24h] BYREF

  v27 = svtId;
  if ( (byte_41842E8 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__, *(_QWORD *)&svtId);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__get_Item__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__set_Item__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_string__Add__, v11);
    sub_B2C35C(&int_TypeInfo, v12);
    sub_B2C35C(&long_TypeInfo, v13);
    sub_B2C35C(&StringLiteral_23587/*"{0},{1}"*/, v14);
    byte_41842E8 = 1;
  }
  if ( skipVoiceOffCheck || !BattleData__IsVoiceOffSvt(this, svtId, *(const MethodInfo **)&condValue) )
  {
    if ( condValue > 63 )
    {
      LODWORD(v25) = svtId;
      v15 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v25);
      v26 = condValue;
      v16 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v26);
      Item = (WarBoardAIRoute_RouteData_o *)System_String__Format_44301068(
                                              (System_String_o *)StringLiteral_23587/*"{0},{1}"*/,
                                              v15,
                                              v16,
                                              0LL);
      if ( this->fields.voicePlayedOver64Info )
      {
        System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData___Add(
          (System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData__o *)this->fields.voicePlayedOver64Info,
          Item,
          (const MethodInfo_2D8CC18 *)Method_System_Collections_Generic_HashSet_string__Add__);
        return;
      }
      goto LABEL_17;
    }
    Item = (WarBoardAIRoute_RouteData_o *)System_Int32__ToString((int32_t)&v27, 0LL);
    if ( !this->fields.voicePlayedInfo )
      goto LABEL_17;
    v19 = (System_Xml_XmlQualifiedName_o *)Item;
    Item = (WarBoardAIRoute_RouteData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___ContainsKey(
                                            (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)this->fields.voicePlayedInfo,
                                            (System_Xml_XmlQualifiedName_o *)Item,
                                            (const MethodInfo_2DB1F34 *)Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__);
    if ( ((unsigned __int8)Item & 1) == 0 )
    {
      voicePlayedInfo = this->fields.voicePlayedInfo;
      v25 = 0LL;
      Item = (WarBoardAIRoute_RouteData_o *)j_il2cpp_value_box_0(long_TypeInfo, &v25);
      if ( !voicePlayedInfo )
        goto LABEL_17;
      System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___set_Item(
        (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)voicePlayedInfo,
        v19,
        (System_Xml_Schema_XmlSchemaObject_o *)Item,
        (const MethodInfo_2DB1C98 *)Method_System_Collections_Generic_Dictionary_string__object__set_Item__);
    }
    v21 = this->fields.voicePlayedInfo;
    if ( !v21
      || (Item = (WarBoardAIRoute_RouteData_o *)System_Collections_Generic_Dictionary_Type__IStoreExtension___get_Item(
                                                  (System_Collections_Generic_Dictionary_Type__IStoreExtension__o *)v21,
                                                  (System_Type_o *)v19,
                                                  (const MethodInfo_2DB1BFC *)Method_System_Collections_Generic_Dictionary_string__object__get_Item__)) == 0LL )
    {
LABEL_17:
      sub_B2C434(Item, v18);
    }
    if ( Item->klass->_1.element_class == long_TypeInfo->_1.element_class )
    {
      v25 = *(_QWORD *)j_il2cpp_object_unbox_0(Item) | (1LL << condValue);
      v22 = (System_Xml_Schema_XmlSchemaObject_o *)j_il2cpp_value_box_0(long_TypeInfo, &v25);
      System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___set_Item(
        (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)v21,
        v19,
        v22,
        (const MethodInfo_2DB1C98 *)Method_System_Collections_Generic_Dictionary_string__object__set_Item__);
    }
    else
    {
      v23 = (BattleData_o *)sub_B2C728(Item);
      BattleData__checkLimitTurn(v23, v24);
    }
  }
}


void __fastcall BattleData__AddTotalTurnDamage(BattleData_o *this, int64_t damage, const MethodInfo *method)
{
  QuestEntity_o *quest_ent; // x0

  quest_ent = this->fields.quest_ent;
  if ( !quest_ent )
    sub_B2C434(0LL, damage);
  if ( QuestEntity__HasFlag(quest_ent, 0x4000000LL, 0LL) )
    this->fields.totalDamageInTurn += damage;
}


void __fastcall BattleData__AddUseSkillId(BattleData_o *this, int32_t skillId, const MethodInfo *method)
{
  UseSkillEachTurn_o *useSkillEachTurn; // x19
  int64_t v5; // x0
  __int64 v6; // x1

  useSkillEachTurn = this->fields.useSkillEachTurn;
  v5 = ServantWaveTurnEventOwner__CalcWaveTurnVal(this->fields.wavecount, this->fields.turnCount, 0LL);
  if ( !useSkillEachTurn )
    sub_B2C434(v5, v6);
  UseSkillEachTurn__AddUseSkillId(useSkillEachTurn, v5, skillId, 0LL);
}


void __fastcall BattleData__AllocateAiToServants(
        BattleData_o *this,
        System_Collections_Generic_List_BattleServantData__array *svtDataLists,
        const MethodInfo *method)
{
  System_Collections_Generic_List_BattleServantData__array *v3; // x21
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  void *StageEntity; // x0
  __int64 v19; // x1
  int max_length; // w8
  System_Collections_Generic_List_peRenderTexture_ChangeLayerObject__o *v21; // x20
  unsigned int v22; // w9
  int v23; // w22
  System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *v24; // x21
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *_9__567_0; // x22
  Il2CppObject *v27; // x23
  struct BattleData___c_StaticFields *v28; // x0
  BattleData___c__DisplayClass567_0_o *v29; // x22
  __int64 v30; // x0
  __int64 v31; // x1
  Il2CppObject *current; // x1
  BattleServantData_o **p_svt; // x21
  __int64 v34; // x1
  System_Int32_array *ConcatServantAndBuffIndividualityies; // x0
  System_Predicate_peRenderTexture_ChangeLayerObject__o *v36; // x23
  __int64 v37; // x1
  peRenderTexture_ChangeLayerObject_o *v38; // x22
  AiStateManager_o *AiStateManager; // x0
  __int64 v40; // x1
  int v41; // w8
  __int64 v42; // x0
  System_Collections_Generic_List_BattleServantData__array *v43; // [xsp+8h] [xbp-A8h]
  int v44; // [xsp+14h] [xbp-9Ch]
  int v45; // [xsp+18h] [xbp-98h]
  unsigned int v46; // [xsp+1Ch] [xbp-94h]
  _BYTE v47[28]; // [xsp+20h] [xbp-90h] BYREF
  int v48; // [xsp+3Ch] [xbp-74h]
  System_Collections_Generic_List_Enumerator_T__o v49; // [xsp+40h] [xbp-70h] BYREF

  v3 = svtDataLists;
  if ( (byte_418437D & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Action_BattleServantData___ctor__, svtDataLists);
    sub_B2C35C(&System_Action_BattleServantData__TypeInfo, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__get_Current__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_AiAllocationInfo__Find__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ForEach__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__, v11);
    sub_B2C35C(&Method_System_Predicate_AiAllocationInfo___ctor__, v12);
    sub_B2C35C(&System_Predicate_AiAllocationInfo__TypeInfo, v13);
    sub_B2C35C(&Method_BattleData___c__AllocateAiToServants_b__567_0__, v14);
    sub_B2C35C(&Method_BattleData___c__DisplayClass567_0__AllocateAiToServants_b__1__, v15);
    sub_B2C35C(&BattleData___c__DisplayClass567_0_TypeInfo, v16);
    sub_B2C35C(&BattleData___c_TypeInfo, v17);
    byte_418437D = 1;
  }
  memset(&v49, 0, sizeof(v49));
  v48 = 0;
  StageEntity = BattleData__getStageEntity(this, (const MethodInfo *)svtDataLists);
  if ( !StageEntity )
    goto LABEL_38;
  StageEntity = StageEntity__GetAiAllocationInfoList((StageEntity_o *)StageEntity, 0LL);
  if ( !v3 )
    goto LABEL_38;
  max_length = v3->max_length;
  if ( max_length >= 1 )
  {
    v45 = 0;
    v21 = (System_Collections_Generic_List_peRenderTexture_ChangeLayerObject__o *)StageEntity;
    v22 = 0;
    v23 = 0;
    v43 = v3;
    while ( 1 )
    {
      if ( v22 >= max_length )
      {
        v42 = sub_B2C460(StageEntity);
        sub_B2C400(v42, 0LL);
      }
      v46 = v22;
      v44 = v23;
      StageEntity = BattleData___c_TypeInfo;
      v24 = (System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *)v3->m_Items[v22];
      if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !BattleData___c_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
        StageEntity = BattleData___c_TypeInfo;
      }
      static_fields = (struct BattleData___c_StaticFields *)*((_QWORD *)StageEntity + 23);
      _9__567_0 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)static_fields->__9__567_0;
      if ( !_9__567_0 )
      {
        if ( (*((_BYTE *)StageEntity + 307) & 4) != 0 && !*((_DWORD *)StageEntity + 56) )
        {
          j_il2cpp_runtime_class_init_0(StageEntity);
          static_fields = BattleData___c_TypeInfo->static_fields;
        }
        v27 = (Il2CppObject *)static_fields->__9;
        _9__567_0 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)sub_B2C42C(System_Action_BattleServantData__TypeInfo);
        System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData____ctor(
          _9__567_0,
          v27,
          Method_BattleData___c__AllocateAiToServants_b__567_0__,
          (const MethodInfo_24BBAD8 *)Method_System_Action_BattleServantData___ctor__);
        v28 = BattleData___c_TypeInfo->static_fields;
        v28->__9__567_0 = (struct System_Action_BattleServantData__o *)_9__567_0;
        sub_B2C2F8(&v28->__9__567_0, _9__567_0);
      }
      if ( !v24 )
        break;
      System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex___ForEach(
        v24,
        (System_Action_T__o *)_9__567_0,
        (const MethodInfo_2EF5178 *)Method_System_Collections_Generic_List_BattleServantData__ForEach__);
      if ( v21 )
      {
        System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
          (System_Collections_Generic_List_Enumerator_T__o *)v47,
          (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v24,
          (const MethodInfo_2EF52DC *)Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__);
        v49 = *(System_Collections_Generic_List_Enumerator_T__o *)v47;
        while ( System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
                  &v49,
                  (const MethodInfo_20EA42C *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__) )
        {
          v29 = (BattleData___c__DisplayClass567_0_o *)sub_B2C42C(BattleData___c__DisplayClass567_0_TypeInfo);
          BattleData___c__DisplayClass567_0___ctor(v29, 0LL);
          if ( !v29 )
            sub_B2C434(v30, v31);
          current = v49.fields.current;
          v29->fields.svt = (struct BattleServantData_o *)v49.fields.current;
          p_svt = &v29->fields.svt;
          sub_B2C2F8(&v29->fields, current);
          if ( !v29->fields.svt )
            sub_B2C434(0LL, v34);
          ConcatServantAndBuffIndividualityies = BattleServantData__getConcatServantAndBuffIndividualityies(
                                                   v29->fields.svt,
                                                   0LL,
                                                   0,
                                                   0,
                                                   0,
                                                   0LL);
          v29->fields.svtIndividuality = ConcatServantAndBuffIndividualityies;
          sub_B2C2F8(&v29->fields.svtIndividuality, ConcatServantAndBuffIndividualityies);
          v36 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_AiAllocationInfo__TypeInfo);
          System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
            v36,
            (Il2CppObject *)v29,
            Method_BattleData___c__DisplayClass567_0__AllocateAiToServants_b__1__,
            (const MethodInfo_2952BE4 *)Method_System_Predicate_AiAllocationInfo___ctor__);
          v38 = System_Collections_Generic_List_peRenderTexture_ChangeLayerObject___Find(
                  v21,
                  (System_Predicate_T__o *)v36,
                  (const MethodInfo_2EF4D20 *)Method_System_Collections_Generic_List_AiAllocationInfo__Find__);
          if ( v38 )
          {
            if ( !*p_svt )
              sub_B2C434(0LL, v37);
            AiStateManager = BattleServantData__get_AiStateManager(*p_svt, 0LL);
            if ( !AiStateManager )
              sub_B2C434(0LL, v40);
            ((void (__fastcall *)(AiStateManager_o *, struct UnityEngine_GameObject_o *, void *))AiStateManager->klass->vtable._4_InitAiStates.method)(
              AiStateManager,
              v38->fields.gameObject,
              AiStateManager->klass[1]._1.image);
          }
        }
        *(_DWORD *)&v47[4 * v45 + 24] = 196;
        v23 = ++v48;
        System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
          &v49,
          (const MethodInfo_20EA428 *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__);
        if ( v23 )
        {
          v41 = v23 - 1;
          v3 = v43;
          v45 = v23;
          if ( *(_DWORD *)&v47[4 * v23 + 20] == 196 )
          {
            --v23;
            v48 = v41;
            v45 = v41;
          }
        }
        else
        {
          v3 = v43;
          v45 = 0;
        }
      }
      else
      {
        v3 = v43;
        v23 = v44;
      }
      max_length = v3->max_length;
      v22 = v46 + 1;
      if ( (int)(v46 + 1) >= max_length )
        return;
    }
LABEL_38:
    sub_B2C434(StageEntity, v19);
  }
}


void __fastcall BattleData__AppendRestockServantLogic(
        BattleData_o *this,
        RestockServantLogic_o *restockServantLogic,
        const MethodInfo *method)
{
  struct System_Collections_Generic_List_RestockServantLogic__o *restockServantLogicList; // x0

  if ( (byte_4184301 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_RestockServantLogic__Add__, restockServantLogic);
    byte_4184301 = 1;
  }
  restockServantLogicList = this->fields.restockServantLogicList;
  if ( !restockServantLogicList )
    sub_B2C434(0LL, restockServantLogic);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)restockServantLogicList,
    (EventMissionProgressRequest_Argument_ProgressData_o *)restockServantLogic,
    (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_RestockServantLogic__Add__);
}


void __fastcall BattleData__ApplyCommandcardFirstBonus(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  BattleData_o *v3; // x19
  struct BattleData_o *data; // x8
  struct BattleComboData_o *combodata; // x8
  int32_t i; // w20
  int32_t v7; // w0
  const MethodInfo *v8; // x3
  BattleDataDefine_c *v9; // x0
  int32_t type; // w2
  const MethodInfo *v11; // x3

  v3 = this;
  if ( (byte_4184322 & 1) == 0 )
  {
    this = (BattleData_o *)sub_B2C35C(&BattleDataDefine_TypeInfo, method);
    byte_4184322 = 1;
  }
  data = v3->fields.data;
  if ( !data )
    goto LABEL_16;
  combodata = data->fields.combodata;
  if ( !combodata )
    goto LABEL_16;
  if ( !combodata->fields.isMighty )
  {
    this = (BattleData_o *)BattleData__getSelectCommand(v3, 0, v2);
    if ( this )
    {
      type = BattleCommandData__get_type((BattleCommandData_o *)this, method);
      BattleData__setFirstBonus(v3, 0, type, v11);
      return;
    }
LABEL_16:
    sub_B2C434(this, method);
  }
  for ( i = 0; ; ++i )
  {
    v9 = BattleDataDefine_TypeInfo;
    if ( (BYTE3(BattleDataDefine_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleDataDefine_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleDataDefine_TypeInfo);
      v9 = BattleDataDefine_TypeInfo;
    }
    if ( i >= v9->static_fields->COMMAND_CARD_NUM_TO_SELECT )
      break;
    this = (BattleData_o *)BattleData__getSelectCommand(v3, i, v2);
    if ( !this )
      goto LABEL_16;
    v7 = BattleCommandData__get_type((BattleCommandData_o *)this, method);
    BattleData__setFirstBonus(v3, 0, v7, v8);
  }
}


bool __fastcall BattleData__CanUseContinueItemQuest(
        BattleData_o *this,
        EventCampaignEntity_o *eventCampaignEnt,
        const MethodInfo *method)
{
  BattleData_o *v4; // x20
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  struct BattleData_o *data; // x8
  struct QuestEntity_o *quest_ent; // x8
  int32_t spotId; // w21
  int32_t v13; // w21
  struct BattleData_o *v14; // x8
  struct QuestEntity_o *v15; // x8
  struct QuestPhaseEntity_o *questphase_ent; // x8
  WarEntity_o *entity; // [xsp+8h] [xbp-28h] BYREF

  v4 = this;
  if ( (byte_41843A2 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_SpotMaster___, eventCampaignEnt);
    sub_B2C35C(&Method_DataManager_GetMasterData_WarGroupMaster___, v5);
    sub_B2C35C(&Method_DataManager_GetMaster_EventQuestMaster___, v6);
    sub_B2C35C(&DataManager_TypeInfo, v7);
    sub_B2C35C(&Method_DataMasterBase_SpotMaster__SpotEntity__int__TryGetEntity__, v8);
    this = (BattleData_o *)sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v9);
    byte_41843A2 = 1;
  }
  entity = 0LL;
  data = v4->fields.data;
  if ( !data )
    goto LABEL_24;
  quest_ent = data->fields.quest_ent;
  if ( !quest_ent )
    goto LABEL_24;
  spotId = quest_ent->fields.spotId;
  this = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !this )
    goto LABEL_24;
  this = (BattleData_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                           (DataManager_o *)this,
                           (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_SpotMaster___);
  if ( !this )
    goto LABEL_24;
  this = (BattleData_o *)DataMasterBase_WarMaster__WarEntity__int___TryGetEntity(
                           (DataMasterBase_WarMaster__WarEntity__int__o *)this,
                           &entity,
                           spotId,
                           (const MethodInfo_24E412C *)Method_DataMasterBase_SpotMaster__SpotEntity__int__TryGetEntity__);
  if ( ((unsigned __int8)this & 1) == 0 )
    goto LABEL_27;
  if ( !entity )
    goto LABEL_24;
  v13 = *(&entity->fields.id + 1);
  this = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !this )
    goto LABEL_24;
  this = (BattleData_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                           (DataManager_o *)this,
                           (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_WarGroupMaster___);
  v14 = v4->fields.data;
  if ( !v14 )
    goto LABEL_24;
  v15 = v14->fields.quest_ent;
  if ( !v15 || !eventCampaignEnt || !this )
    goto LABEL_24;
  if ( !WarGroupMaster__CanUseContinueItem(
          (WarGroupMaster_o *)this,
          v13,
          v15->fields.afterClear,
          v15->fields.type,
          eventCampaignEnt->fields.targetIds,
          0LL) )
  {
LABEL_27:
    if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
    this = (BattleData_o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_EventQuestMaster___);
    if ( eventCampaignEnt )
    {
      questphase_ent = v4->fields.questphase_ent;
      if ( questphase_ent )
      {
        if ( this )
          return EventQuestMaster__IsExistQuest(
                   (EventQuestMaster_o *)this,
                   eventCampaignEnt->fields.eventId,
                   questphase_ent->fields.questId,
                   questphase_ent->fields.phase,
                   0LL);
      }
    }
LABEL_24:
    sub_B2C434(this, eventCampaignEnt);
  }
  return 1;
}


void __fastcall BattleData__ChangeDoNotSelectCommandServantList(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  System_Collections_Generic_List_int__o *FieldPlayerServantList; // x0
  __int64 v7; // x1
  System_Collections_Generic_List_int__o *v8; // x20
  int size; // w8
  unsigned int v10; // w25
  BattleServantData_o *v11; // x24
  int32_t uniqueId; // w21
  BattleBuffData_o *buffData; // x22
  BattleBuffData_CheckIndividualitiesData_o *v14; // x23
  __int64 v15; // x0

  if ( (byte_418439B & 1) == 0 )
  {
    sub_B2C35C(&BattleBuffData_CheckIndividualitiesData_TypeInfo, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Clear__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, v5);
    byte_418439B = 1;
  }
  FieldPlayerServantList = (System_Collections_Generic_List_int__o *)BattleData__getFieldPlayerServantList(this, method);
  if ( !this->fields.doNotSelectCommandSvtIdList )
    goto LABEL_18;
  v8 = FieldPlayerServantList;
  System_Collections_Generic_List_int___Clear(
    this->fields.doNotSelectCommandSvtIdList,
    (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
  if ( !v8 )
    goto LABEL_18;
  size = v8->fields._size;
  if ( size >= 1 )
  {
    v10 = 0;
    while ( 1 )
    {
      if ( v10 >= size )
      {
        v15 = sub_B2C460(FieldPlayerServantList);
        sub_B2C400(v15, 0LL);
      }
      v11 = (BattleServantData_o *)*((_QWORD *)&v8->fields._syncRoot + (int)v10);
      if ( !v11 )
        break;
      uniqueId = v11->fields.uniqueId;
      buffData = v11->fields.buffData;
      v14 = (BattleBuffData_CheckIndividualitiesData_o *)sub_B2C42C(BattleBuffData_CheckIndividualitiesData_TypeInfo);
      BattleBuffData_CheckIndividualitiesData___ctor(v14, v11, 0LL, 0LL, 0LL, 0LL, 0LL);
      if ( !buffData )
        break;
      FieldPlayerServantList = (System_Collections_Generic_List_int__o *)BattleBuffData__getBuffList_30942396(
                                                                           buffData,
                                                                           83,
                                                                           v14,
                                                                           1,
                                                                           0,
                                                                           0LL,
                                                                           0LL);
      if ( !FieldPlayerServantList )
        break;
      if ( *(_QWORD *)&FieldPlayerServantList->fields._size )
      {
        FieldPlayerServantList = this->fields.doNotSelectCommandSvtIdList;
        if ( !FieldPlayerServantList )
          break;
        FieldPlayerServantList = (System_Collections_Generic_List_int__o *)System_Collections_Generic_List_int___Contains(
                                                                             FieldPlayerServantList,
                                                                             uniqueId,
                                                                             (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__);
        if ( ((unsigned __int8)FieldPlayerServantList & 1) == 0 )
        {
          FieldPlayerServantList = this->fields.doNotSelectCommandSvtIdList;
          if ( !FieldPlayerServantList )
            break;
          System_Collections_Generic_List_int___Add(
            FieldPlayerServantList,
            uniqueId,
            (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
        }
      }
      size = v8->fields._size;
      if ( (int)++v10 >= size )
        return;
    }
LABEL_18:
    sub_B2C434(FieldPlayerServantList, v7);
  }
}


bool __fastcall BattleData__CheckActorAllParts(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x23
  __int64 v6; // x21
  int size; // w8
  unsigned int v8; // w20
  const MethodInfo *v9; // x2
  BattleData_o *v10; // x0
  int32_t v11; // w1
  struct System_Collections_Generic_List_BattleServantData__o *v12; // x23
  struct System_Collections_Generic_List_BattleServantData__o *v13; // x23
  UnityEngine_Object_o *PartsActor; // x20

  v2 = this;
  if ( (byte_4184380 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v3);
    this = (BattleData_o *)sub_B2C35C(&UnityEngine_Object_TypeInfo, v4);
    byte_4184380 = 1;
  }
  enemy_datalist = v2->fields.enemy_datalist;
  if ( !enemy_datalist )
LABEL_29:
    sub_B2C434(this, method);
  v6 = 4LL;
  while ( 1 )
  {
    size = enemy_datalist->fields._size;
    v8 = v6 - 4;
    if ( (int)v6 - 4 >= size )
      return 0;
    if ( size <= v8 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    this = (BattleData_o *)*((_QWORD *)&enemy_datalist->fields._items->obj.klass + v6);
    if ( !this )
      goto LABEL_29;
    this = (BattleData_o *)BattleServantData__isMultiTargetUp((BattleServantData_o *)this, 0LL);
    if ( ((unsigned __int8)this & 1) != 0 )
    {
      v10 = v2;
      v11 = 0;
      goto LABEL_24;
    }
    v12 = v2->fields.enemy_datalist;
    if ( !v12 )
      goto LABEL_29;
    if ( v12->fields._size <= v8 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    this = (BattleData_o *)*((_QWORD *)&v12->fields._items->obj.klass + v6);
    if ( !this )
      goto LABEL_29;
    this = (BattleData_o *)BattleServantData__isMultiTargetCore((BattleServantData_o *)this, 0LL);
    if ( ((unsigned __int8)this & 1) != 0 )
    {
      v11 = 1;
      goto LABEL_23;
    }
    v13 = v2->fields.enemy_datalist;
    if ( !v13 )
      goto LABEL_29;
    if ( v13->fields._size <= v8 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    this = (BattleData_o *)*((_QWORD *)&v13->fields._items->obj.klass + v6);
    if ( !this )
      goto LABEL_29;
    this = (BattleData_o *)BattleServantData__isMultiTargetUnder((BattleServantData_o *)this, 0LL);
    if ( ((unsigned __int8)this & 1) != 0 )
      break;
LABEL_28:
    enemy_datalist = v2->fields.enemy_datalist;
    ++v6;
    if ( !enemy_datalist )
      goto LABEL_29;
  }
  v11 = 2;
LABEL_23:
  v10 = v2;
LABEL_24:
  PartsActor = (UnityEngine_Object_o *)BattleData__GetPartsActor(v10, v11, v9);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  this = (BattleData_o *)UnityEngine_Object__op_Equality(PartsActor, 0LL, 0LL);
  if ( ((unsigned __int8)this & 1) == 0 )
    goto LABEL_28;
  return 1;
}


bool __fastcall BattleData__CheckAlivePlayers(
        BattleData_o *this,
        System_Func_BattleServantData__bool__o *func,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData___c__DisplayClass469_0_o *v9; // x21
  __int64 v10; // x0
  __int64 v11; // x1
  System_Collections_Generic_List_T__o *player_datalist; // x19
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *v13; // x20

  if ( (byte_4184344 & 1) == 0 )
  {
    sub_B2C35C(&Method_BasicHelper_Any_BattleServantData___, func);
    sub_B2C35C(&Method_System_Func_BattleServantData__bool___ctor__, v5);
    sub_B2C35C(&System_Func_BattleServantData__bool__TypeInfo, v6);
    sub_B2C35C(&Method_BattleData___c__DisplayClass469_0__CheckAlivePlayers_b__0__, v7);
    sub_B2C35C(&BattleData___c__DisplayClass469_0_TypeInfo, v8);
    byte_4184344 = 1;
  }
  v9 = (BattleData___c__DisplayClass469_0_o *)sub_B2C42C(BattleData___c__DisplayClass469_0_TypeInfo);
  BattleData___c__DisplayClass469_0___ctor(v9, 0LL);
  if ( !v9 )
    sub_B2C434(v10, v11);
  v9->fields.func = func;
  sub_B2C2F8(&v9->fields, func);
  player_datalist = (System_Collections_Generic_List_T__o *)this->fields.player_datalist;
  v13 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B2C42C(System_Func_BattleServantData__bool__TypeInfo);
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
    v13,
    (Il2CppObject *)v9,
    Method_BattleData___c__DisplayClass469_0__CheckAlivePlayers_b__0__,
    (const MethodInfo_2711C04 *)Method_System_Func_BattleServantData__bool___ctor__);
  return BasicHelper__Any_WarBoardData_SquareRangeSearch_(
           player_datalist,
           (System_Func_T__bool__o *)v13,
           (const MethodInfo_17266AC *)Method_BasicHelper_Any_BattleServantData___);
}


int32_t __fastcall BattleData__CheckCurrentTemporaryCommandSpell(
        BattleData_o *this,
        UserGameEntity_o *userGame,
        const MethodInfo *method)
{
  UserGameEntity_o *SelfUserGame; // x20
  QuestPhaseEntity_o *questphase_ent; // x0

  SelfUserGame = userGame;
  if ( !userGame )
    SelfUserGame = UserGameMaster__getSelfUserGame(0LL);
  questphase_ent = this->fields.questphase_ent;
  if ( questphase_ent )
  {
    questphase_ent = (QuestPhaseEntity_o *)QuestPhaseEntity__IsUseTemporaryCommandSpell(questphase_ent, 0LL);
    if ( ((unsigned __int8)questphase_ent & 1) != 0 )
      return this->fields.temporarySpell;
  }
  if ( !SelfUserGame )
    sub_B2C434(questphase_ent, userGame);
  return UserGameEntity__getCommandSpell(SelfUserGame, 0LL);
}


bool __fastcall BattleData__CheckDefenceTargetBroken(BattleData_o *this, const MethodInfo *method)
{
  struct BattleDefenceTargetData_o *defenceTargetData; // x8

  defenceTargetData = this->fields.defenceTargetData;
  return defenceTargetData && defenceTargetData->fields.maxHp >= 1 && defenceTargetData->fields.nowHp < 1;
}


bool __fastcall BattleData__CheckDefenceTargetData(BattleData_o *this, const MethodInfo *method)
{
  struct BattleDefenceTargetData_o *defenceTargetData; // x8

  defenceTargetData = this->fields.defenceTargetData;
  return defenceTargetData && defenceTargetData->fields.maxHp > 0;
}


bool __fastcall BattleData__CheckDoNotSelectCommandCard(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  System_Collections_Generic_IEnumerable_T__o *FieldPlayerServantList; // x21
  System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *v26; // x20
  System_Collections_Generic_List_int__o *BuffList_30942396; // x0
  const MethodInfo *v28; // x1
  struct System_Collections_Generic_List_int__o *doNotSelectCommandSvtIdList; // x9
  int size; // w8
  unsigned int v31; // w28
  char v32; // w27
  BattleServantData_o *v33; // x24
  int32_t uniqueId; // w21
  BattleBuffData_o *buffData; // x22
  BattleBuffData_CheckIndividualitiesData_o *v36; // x23
  __int64 v37; // x22
  int v38; // w8
  System_Collections_Generic_List_int__o *v39; // x21
  unsigned int v40; // w23
  System_Collections_Generic_List_int__c **v41; // x26
  System_Collections_Generic_List_int__c *v42; // x8
  void **v43; // x26
  System_Collections_Generic_List_int__c *v44; // t1
  int32_t namespaze; // w22
  System_Collections_Generic_List_int__o *v46; // x21
  const MethodInfo *v47; // x2
  struct System_Collections_Generic_List_int__o *v48; // x28
  __int64 v49; // x25
  unsigned __int64 v50; // x26
  struct System_Collections_Generic_List_int__o *v51; // x28
  __int64 v52; // x1
  System_Collections_Generic_List_int__o *v53; // x0
  int32_t v54; // w27
  __int64 v55; // x1
  int v56; // w21
  System_Collections_Generic_List_int__o *v57; // x22
  struct BattleCommandData_array *canSelectCommands; // x25
  int max_length; // w8
  unsigned int v60; // w26
  BattleCommandData_o *v61; // x21
  const MethodInfo *v62; // x2
  BattleServantData_o *ServantData; // x0
  WarBoardManager_TaskList_o *v64; // x23
  char v65; // w21
  struct BattleCommandData_array **p_canSelectCommands; // x22
  struct BattleCommandData_array *v67; // x0
  __int64 v69; // x0
  _BOOL4 v70; // w8
  struct System_Collections_Generic_List_int__o *v71; // x8
  __int64 v72; // x0
  int32_t v73; // [xsp+8h] [xbp-C8h]
  char v74; // [xsp+Ch] [xbp-C4h]
  char v75; // [xsp+10h] [xbp-C0h]
  System_Collections_Generic_List_Enumerator_T__o v76; // [xsp+18h] [xbp-B8h] BYREF
  int v77[2]; // [xsp+30h] [xbp-A0h]
  int v78; // [xsp+38h] [xbp-98h]
  System_Collections_Generic_List_Enumerator_T__o j; // [xsp+40h] [xbp-90h] BYREF
  System_Collections_Generic_List_Enumerator_T__o i; // [xsp+60h] [xbp-70h] BYREF

  if ( (byte_418439A & 1) == 0 )
  {
    sub_B2C35C(&BattleCommandData___TypeInfo, method);
    sub_B2C35C(&BattleBuffData_CheckIndividualitiesData_TypeInfo, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_int__Dispose__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_int__MoveNext__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_int__get_Current__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__get_Current__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Clear__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Contains__, v12);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__GetEnumerator__, v14);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__, v15);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Remove__, v16);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor___67300944, v17);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v18);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Count__, v19);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v20);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v21);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Item__, v22);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v23);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v24);
    byte_418439A = 1;
  }
  memset(&i, 0, sizeof(i));
  memset(&j, 0, sizeof(j));
  v78 = 0;
  FieldPlayerServantList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getFieldPlayerServantList(
                                                                            this,
                                                                            method);
  v26 = (System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_WarBoardAIRoute_RouteData____ctor(
    v26,
    FieldPlayerServantList,
    (const MethodInfo_2EF3994 *)Method_System_Collections_Generic_List_BattleServantData___ctor___67300944);
  doNotSelectCommandSvtIdList = this->fields.doNotSelectCommandSvtIdList;
  if ( !doNotSelectCommandSvtIdList || !v26 )
    goto LABEL_50;
  size = v26->fields._size;
  v73 = doNotSelectCommandSvtIdList->fields._size;
  if ( size >= 1 )
  {
    v75 = 0;
    v31 = 0;
    v32 = 0;
    while ( 1 )
    {
      if ( size <= v31 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v33 = (BattleServantData_o *)v26->fields._items->m_Items[v31];
      if ( !v33 )
        goto LABEL_50;
      uniqueId = v33->fields.uniqueId;
      buffData = v33->fields.buffData;
      v36 = (BattleBuffData_CheckIndividualitiesData_o *)sub_B2C42C(BattleBuffData_CheckIndividualitiesData_TypeInfo);
      BattleBuffData_CheckIndividualitiesData___ctor(v36, v33, 0LL, 0LL, 0LL, 0LL, 0LL);
      if ( !buffData )
        goto LABEL_50;
      BuffList_30942396 = (System_Collections_Generic_List_int__o *)BattleBuffData__getBuffList_30942396(
                                                                      buffData,
                                                                      83,
                                                                      v36,
                                                                      1,
                                                                      0,
                                                                      0LL,
                                                                      0LL);
      if ( !BuffList_30942396 || !this->fields.doNotSelectCommandSvtIdList )
        goto LABEL_50;
      v37 = *(_QWORD *)&BuffList_30942396->fields._size;
      BuffList_30942396 = (System_Collections_Generic_List_int__o *)System_Collections_Generic_List_int___Contains(
                                                                      this->fields.doNotSelectCommandSvtIdList,
                                                                      uniqueId,
                                                                      (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__);
      if ( v37 )
      {
        if ( ((unsigned __int8)BuffList_30942396 & 1) == 0 )
        {
          BuffList_30942396 = this->fields.doNotSelectCommandSvtIdList;
          if ( !BuffList_30942396 )
            goto LABEL_50;
          System_Collections_Generic_List_int___Add(
            BuffList_30942396,
            uniqueId,
            (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
        }
        v75 = 1;
      }
      else if ( ((unsigned __int8)BuffList_30942396 & 1) != 0 )
      {
        BuffList_30942396 = this->fields.doNotSelectCommandSvtIdList;
        if ( !BuffList_30942396 )
          goto LABEL_50;
        BuffList_30942396 = (System_Collections_Generic_List_int__o *)System_Collections_Generic_List_int___Remove(
                                                                        BuffList_30942396,
                                                                        uniqueId,
                                                                        (const MethodInfo_2F68974 *)Method_System_Collections_Generic_List_int__Remove__);
        v32 = 1;
      }
      size = v26->fields._size;
      if ( (int)++v31 >= size )
        goto LABEL_24;
    }
  }
  v75 = 0;
  v32 = 0;
LABEL_24:
  BuffList_30942396 = (System_Collections_Generic_List_int__o *)BattleData__getSubPlayerServantList(this, v28);
  if ( !BuffList_30942396 )
LABEL_50:
    sub_B2C434(BuffList_30942396, v28);
  v38 = BuffList_30942396->fields._size;
  v39 = BuffList_30942396;
  if ( v38 >= 1 )
  {
    v40 = 0;
    do
    {
      if ( v40 >= v38 )
      {
LABEL_91:
        v72 = sub_B2C460(BuffList_30942396);
        sub_B2C400(v72, 0LL);
      }
      v41 = &v39->klass + (int)v40;
      v44 = v41[4];
      v43 = (void **)(v41 + 4);
      v42 = v44;
      if ( !v44 )
        goto LABEL_50;
      BuffList_30942396 = this->fields.doNotSelectCommandSvtIdList;
      if ( !BuffList_30942396 )
        goto LABEL_50;
      namespaze = (int32_t)v42->_1.namespaze;
      BuffList_30942396 = (System_Collections_Generic_List_int__o *)System_Collections_Generic_List_int___Contains(
                                                                      BuffList_30942396,
                                                                      namespaze,
                                                                      (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__);
      if ( ((unsigned __int8)BuffList_30942396 & 1) != 0 )
        goto LABEL_34;
      if ( v40 >= v39->fields._size )
        goto LABEL_91;
      BuffList_30942396 = (System_Collections_Generic_List_int__o *)*v43;
      if ( !*v43 )
        goto LABEL_50;
      BuffList_30942396 = (System_Collections_Generic_List_int__o *)BattleServantData__isDead(
                                                                      (BattleServantData_o *)BuffList_30942396,
                                                                      0LL);
      if ( ((unsigned __int8)BuffList_30942396 & 1) != 0 )
      {
LABEL_34:
        BuffList_30942396 = this->fields.doNotSelectCommandSvtIdList;
        if ( !BuffList_30942396 )
          goto LABEL_50;
        BuffList_30942396 = (System_Collections_Generic_List_int__o *)System_Collections_Generic_List_int___Remove(
                                                                        BuffList_30942396,
                                                                        namespaze,
                                                                        (const MethodInfo_2F68974 *)Method_System_Collections_Generic_List_int__Remove__);
        v32 = 1;
      }
      v38 = v39->fields._size;
    }
    while ( (int)++v40 < v38 );
  }
  v74 = v32;
  v46 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v46,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  v48 = this->fields.doNotSelectCommandSvtIdList;
  if ( !v48 )
    goto LABEL_50;
  v49 = 8LL;
  while ( 1 )
  {
    v50 = v49 - 8;
    if ( v49 - 8 >= v48->fields._size )
      break;
    if ( v50 >= (unsigned int)v48->fields._size )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    BuffList_30942396 = (System_Collections_Generic_List_int__o *)BattleData__getServantData(
                                                                    this,
                                                                    *((_DWORD *)&v48->fields._items->obj.klass + v49),
                                                                    v47);
    if ( !BuffList_30942396
      || (BuffList_30942396 = (System_Collections_Generic_List_int__o *)BattleServantData__isDead(
                                                                          (BattleServantData_o *)BuffList_30942396,
                                                                          0LL),
          ((unsigned __int8)BuffList_30942396 & 1) != 0) )
    {
      v51 = this->fields.doNotSelectCommandSvtIdList;
      if ( !v51 )
        goto LABEL_50;
      if ( v50 >= (unsigned int)v51->fields._size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      if ( !v46 )
        goto LABEL_50;
      System_Collections_Generic_List_int___Add(
        v46,
        *((_DWORD *)&v51->fields._items->obj.klass + v49),
        (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
    }
    v48 = this->fields.doNotSelectCommandSvtIdList;
    ++v49;
    if ( !v48 )
      goto LABEL_50;
  }
  if ( !v46 )
    goto LABEL_50;
  System_Collections_Generic_List_int___GetEnumerator(
    &v76,
    v46,
    (const MethodInfo_2F67E3C *)Method_System_Collections_Generic_List_int__GetEnumerator__);
  for ( i = v76;
        System_Collections_Generic_List_Enumerator_int___MoveNext(
          (System_Collections_Generic_List_Enumerator_int__o *)&i,
          (const MethodInfo_20E7EC0 *)Method_System_Collections_Generic_List_Enumerator_int__MoveNext__);
        System_Collections_Generic_List_int___Remove(
          v53,
          (int32_t)i.fields.current,
          (const MethodInfo_2F68974 *)Method_System_Collections_Generic_List_int__Remove__) )
  {
    v53 = this->fields.doNotSelectCommandSvtIdList;
    if ( !v53 )
      sub_B2C434(0LL, v52);
  }
  v77[0] = 393;
  v78 = 1;
  System_Collections_Generic_List_Enumerator_int___Dispose(
    (System_Collections_Generic_List_Enumerator_int__o *)&i,
    (const MethodInfo_20E7EBC *)Method_System_Collections_Generic_List_Enumerator_int__Dispose__);
  v78 = 0;
  BuffList_30942396 = this->fields.doNotSelectCommandSvtIdList;
  if ( !BuffList_30942396 )
    goto LABEL_50;
  if ( v26->fields._size <= BuffList_30942396->fields._size || (v75 & 1) == 0 )
  {
    this->fields.canSelectCommandIndex = 0;
    System_Collections_Generic_List_int___Clear(
      BuffList_30942396,
      (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
    v67 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
    this->fields.canSelectCommands = v67;
    sub_B2C2F8(&this->fields.canSelectCommands, v67);
    return 0;
  }
  BuffList_30942396 = (System_Collections_Generic_List_int__o *)this->fields.player_datalist;
  if ( !BuffList_30942396 )
    goto LABEL_50;
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v76,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)BuffList_30942396,
    (const MethodInfo_2EF52DC *)Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__);
  v54 = 0;
  for ( j = v76;
        System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
          &j,
          (const MethodInfo_20EA42C *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__);
        v54 += BattleServantData__isAlive((BattleServantData_o *)j.fields.current, 0, 0LL) )
  {
    if ( !j.fields.current )
      sub_B2C434(0LL, v55);
  }
  v77[0] = 484;
  v56 = ++v78;
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &j,
    (const MethodInfo_20EA428 *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__);
  if ( v56 && v77[v56 - 1] == 484 )
    v78 = v56 - 1;
  v57 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v57,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  canSelectCommands = this->fields.canSelectCommands;
  if ( !canSelectCommands )
    goto LABEL_50;
  max_length = canSelectCommands->max_length;
  if ( max_length < 1 )
  {
LABEL_78:
    v65 = v74;
    p_canSelectCommands = &this->fields.canSelectCommands;
    if ( v54 != this->fields.oldAliveCount )
      goto LABEL_82;
    goto LABEL_83;
  }
  v60 = 0;
  while ( 1 )
  {
    if ( v60 >= max_length )
      goto LABEL_91;
    v61 = canSelectCommands->m_Items[v60];
    if ( !v61 || !v57 )
      goto LABEL_50;
    BuffList_30942396 = (System_Collections_Generic_List_int__o *)System_Collections_Generic_List_int___Contains(
                                                                    v57,
                                                                    v61->fields.uniqueId,
                                                                    (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__);
    if ( ((unsigned __int8)BuffList_30942396 & 1) == 0 )
      break;
LABEL_77:
    max_length = canSelectCommands->max_length;
    if ( (int)++v60 >= max_length )
      goto LABEL_78;
  }
  ServantData = BattleData__getServantData(this, v61->fields.uniqueId, v62);
  if ( ServantData )
  {
    v64 = (WarBoardManager_TaskList_o *)ServantData;
    if ( BattleServantData__isAlive(ServantData, 0, 0LL)
      && System_Collections_Generic_List_WarBoardManager_TaskList___Contains(
           (System_Collections_Generic_List_WarBoardManager_TaskList__o *)v26,
           v64,
           (const MethodInfo_2EF48B0 *)Method_System_Collections_Generic_List_BattleServantData__Contains__) )
    {
      System_Collections_Generic_List_int___Add(
        v57,
        v61->fields.uniqueId,
        (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
      goto LABEL_77;
    }
  }
  v65 = v74;
  p_canSelectCommands = &this->fields.canSelectCommands;
LABEL_82:
  v69 = sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  *p_canSelectCommands = (struct BattleCommandData_array *)v69;
  sub_B2C2F8(p_canSelectCommands, v69);
  this->fields.oldAliveCount = v54;
LABEL_83:
  if ( *p_canSelectCommands )
    v70 = (*p_canSelectCommands)->max_length == 0;
  else
    v70 = 1;
  if ( v70 | v65 & 1 )
  {
LABEL_89:
    BattleData__shuffleCanSelectCommand(this, v28);
    return 1;
  }
  v71 = this->fields.doNotSelectCommandSvtIdList;
  if ( !v71 )
    goto LABEL_50;
  if ( v73 != v71->fields._size )
    goto LABEL_89;
  return 1;
}


bool __fastcall BattleData__CheckFreshBuffDataList(
        BattleData_o *this,
        System_Int32_array *targetTypeArray,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  DataManager_o *Instance; // x0
  __int64 v15; // x1
  struct System_Collections_Generic_List_BattleActionData_BuffData__o *freshBuffDataList; // x8
  DataMasterBase_WarMaster__WarEntity__int__o *v17; // x21
  __int64 v18; // x24
  BattleData___c__DisplayClass418_0_o *v19; // x22
  struct System_Collections_Generic_List_BattleActionData_BuffData__o *v20; // x23
  BattleActionData_BuffData_o *v21; // x8
  System_Func_int__bool__o *v22; // x23

  if ( (byte_4184321 & 1) == 0 )
  {
    sub_B2C35C(&Method_BasicHelper_Any_int____67380496, targetTypeArray);
    sub_B2C35C(&Method_DataManager_GetMasterData_BuffMaster___, v5);
    sub_B2C35C(&Method_DataMasterBase_BuffMaster__BuffEntity__int__GetEntity__, v6);
    sub_B2C35C(&Method_System_Func_int__bool___ctor__, v7);
    sub_B2C35C(&System_Func_int__bool__TypeInfo, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleActionData_BuffData__get_Count__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleActionData_BuffData__get_Item__, v10);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v11);
    sub_B2C35C(&Method_BattleData___c__DisplayClass418_0__CheckFreshBuffDataList_b__0__, v12);
    sub_B2C35C(&BattleData___c__DisplayClass418_0_TypeInfo, v13);
    byte_4184321 = 1;
  }
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance
    || (Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                      Instance,
                                      (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_BuffMaster___),
        (freshBuffDataList = this->fields.freshBuffDataList) == 0LL) )
  {
LABEL_15:
    sub_B2C434(Instance, v15);
  }
  v17 = (DataMasterBase_WarMaster__WarEntity__int__o *)Instance;
  v18 = 0LL;
  while ( 1 )
  {
    if ( (int)v18 >= freshBuffDataList->fields._size )
      return 0;
    v19 = (BattleData___c__DisplayClass418_0_o *)sub_B2C42C(BattleData___c__DisplayClass418_0_TypeInfo);
    BattleData___c__DisplayClass418_0___ctor(v19, 0LL);
    v20 = this->fields.freshBuffDataList;
    if ( !v20 )
      goto LABEL_15;
    if ( v20->fields._size <= (unsigned int)v18 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v21 = v20->fields._items->m_Items[v18];
    if ( !v21 )
      goto LABEL_15;
    if ( !v17 )
      goto LABEL_15;
    Instance = (DataManager_o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                                  v17,
                                  v21->fields.buffId,
                                  (const MethodInfo_24E40D0 *)Method_DataMasterBase_BuffMaster__BuffEntity__int__GetEntity__);
    if ( !v19 )
      goto LABEL_15;
    v19->fields.ent = (struct BuffEntity_o *)Instance;
    sub_B2C2F8(&v19->fields, Instance);
    v22 = (System_Func_int__bool__o *)sub_B2C42C(System_Func_int__bool__TypeInfo);
    System_Func_int__bool____ctor(
      v22,
      (Il2CppObject *)v19,
      Method_BattleData___c__DisplayClass418_0__CheckFreshBuffDataList_b__0__,
      (const MethodInfo_270C930 *)Method_System_Func_int__bool___ctor__);
    Instance = (DataManager_o *)BasicHelper__Any_int__24273940(
                                  targetTypeArray,
                                  (System_Func_T__bool__o *)v22,
                                  (const MethodInfo_1726414 *)Method_BasicHelper_Any_int____67380496);
    if ( ((unsigned __int8)Instance & 1) != 0 )
      return 1;
    freshBuffDataList = this->fields.freshBuffDataList;
    ++v18;
    if ( !freshBuffDataList )
      goto LABEL_15;
  }
}


System_Int32_array *__fastcall BattleData__CheckIndivSvtIdList(
        BattleData_o *this,
        System_Int32_array *svtIdList,
        System_Int32_array *tvals,
        bool isIncludeIgnoreIndiv,
        const MethodInfo *method)
{
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v15; // x23
  EventMissionProgressRequest_Argument_ProgressData_o *ServantData; // x0
  __int64 v17; // x1
  const MethodInfo *v18; // x2
  __int64 v19; // x8
  unsigned __int64 v20; // x24
  BattleServantData_array *v21; // x19
  System_Collections_Generic_List_int__o *v22; // x20
  int max_length; // w8
  unsigned int v24; // w21
  BattleServantData_o *v25; // x8
  __int64 v27; // x0

  if ( (byte_4184342 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, svtIdList);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v12);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v13);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v14);
    byte_4184342 = 1;
  }
  v15 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v15,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  if ( !svtIdList )
    goto LABEL_18;
  v19 = *(_QWORD *)&svtIdList->max_length;
  if ( (int)v19 >= 1 )
  {
    v20 = 0LL;
    while ( v20 < (unsigned int)v19 )
    {
      ServantData = (EventMissionProgressRequest_Argument_ProgressData_o *)BattleData__getServantData(
                                                                             this,
                                                                             svtIdList->m_Items[v20 + 1],
                                                                             v18);
      if ( !v15 )
        goto LABEL_18;
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
        v15,
        ServantData,
        (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
      LODWORD(v19) = svtIdList->max_length;
      if ( (__int64)++v20 >= (int)v19 )
        goto LABEL_9;
    }
LABEL_19:
    v27 = sub_B2C460(ServantData);
    sub_B2C400(v27, 0LL);
  }
LABEL_9:
  v21 = BattleBuffData__CheckIndivSvtDataList(
          (System_Collections_Generic_List_BattleServantData__o *)v15,
          tvals,
          isIncludeIgnoreIndiv,
          0LL);
  v22 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v22,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  if ( !v21 )
    goto LABEL_18;
  max_length = v21->max_length;
  if ( max_length >= 1 )
  {
    v24 = 0;
    while ( v24 < max_length )
    {
      v25 = v21->m_Items[v24];
      if ( !v25 || !v22 )
        goto LABEL_18;
      System_Collections_Generic_List_int___Add(
        v22,
        v25->fields.uniqueId,
        (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
      max_length = v21->max_length;
      if ( (int)++v24 >= max_length )
        goto LABEL_16;
    }
    goto LABEL_19;
  }
LABEL_16:
  if ( !v22 )
LABEL_18:
    sub_B2C434(ServantData, v17);
  return System_Collections_Generic_List_int___ToArray(
           v22,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__CheckMultiTargetBattle(BattleData_o *this, bool isResume, const MethodInfo *method)
{
  __int64 v5; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x23
  __int64 v7; // x21
  int size; // w8
  unsigned int v9; // w22
  BattleServantData_o *isMultiTargetCore; // x0
  struct System_Collections_Generic_List_BattleServantData__o *v11; // x23
  __int64 v12; // x8
  System_Collections_IEnumerator_o *v13; // x1

  if ( (byte_418437E & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, isResume);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v5);
    byte_418437E = 1;
  }
  enemy_datalist = this->fields.enemy_datalist;
  if ( enemy_datalist )
  {
    v7 = 4LL;
    while ( 1 )
    {
      size = enemy_datalist->fields._size;
      v9 = v7 - 4;
      if ( (int)v7 - 4 >= size )
        break;
      if ( size <= v9 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      isMultiTargetCore = (BattleServantData_o *)*((_QWORD *)&enemy_datalist->fields._items->obj.klass + v7);
      if ( !isMultiTargetCore )
        goto LABEL_20;
      isMultiTargetCore = (BattleServantData_o *)BattleServantData__isMultiTargetCore(isMultiTargetCore, 0LL);
      if ( ((unsigned __int8)isMultiTargetCore & 1) != 0 )
      {
        v11 = this->fields.enemy_datalist;
        if ( !v11 )
LABEL_20:
          sub_B2C434(isMultiTargetCore, isResume);
        if ( v11->fields._size <= v9 )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        v12 = *((_QWORD *)&v11->fields._items->obj.klass + v7);
        if ( v12 )
        {
          this->fields.isMultiTargetBattle = 1;
          if ( !isResume )
            this->fields.globaltargetId = *(_DWORD *)(v12 + 24);
          v13 = BattleData__PartsIntoTheBodyDelay(this, (const MethodInfo *)isResume);
          UnityEngine_MonoBehaviour__StartCoroutine_35309748((UnityEngine_MonoBehaviour_o *)this, v13, 0LL);
        }
        return;
      }
      enemy_datalist = this->fields.enemy_datalist;
      ++v7;
      if ( !enemy_datalist )
        goto LABEL_20;
    }
  }
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__CheckPerformedFuncType(BattleData_o *this, int32_t targetType, const MethodInfo *method)
{
  BattleData_o *v4; // x20
  __int64 v5; // x1
  struct System_Collections_Generic_List_DataVals__o *performedValsList; // x22
  __int64 v7; // x21
  int size; // w8
  DataVals_o *v9; // x8

  v4 = this;
  if ( (byte_418431E & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_DataVals__get_Count__, *(_QWORD *)&targetType);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_DataVals__get_Item__, v5);
    byte_418431E = 1;
  }
  performedValsList = v4->fields.performedValsList;
  if ( !performedValsList )
LABEL_11:
    sub_B2C434(this, *(_QWORD *)&targetType);
  v7 = 0LL;
  while ( 1 )
  {
    size = performedValsList->fields._size;
    if ( (int)v7 >= size )
      return 0;
    if ( size <= (unsigned int)v7 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v9 = performedValsList->fields._items->m_Items[v7];
    if ( !v9 )
      goto LABEL_11;
    if ( v9->fields.funcType == targetType )
      return 1;
    performedValsList = v4->fields.performedValsList;
    ++v7;
    if ( !performedValsList )
      goto LABEL_11;
  }
}


bool __fastcall BattleData__CheckStageScript(BattleData_o *this, System_String_o *key, const MethodInfo *method)
{
  StageEntity_o *StageEntity; // x0
  __int64 v5; // x1

  StageEntity = BattleData__getStageEntity(this, (const MethodInfo *)key);
  if ( !StageEntity )
    sub_B2C434(0LL, v5);
  return StageEntity__checkScript(StageEntity, key, 0LL);
}


void __fastcall BattleData__ClearRestockServantLogic(BattleData_o *this, const MethodInfo *method)
{
  struct System_Collections_Generic_List_RestockServantLogic__o *restockServantLogicList; // x0

  if ( (byte_4184302 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_RestockServantLogic__Clear__, method);
    byte_4184302 = 1;
  }
  restockServantLogicList = this->fields.restockServantLogicList;
  if ( !restockServantLogicList )
    sub_B2C434(0LL, method);
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)restockServantLogicList,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_RestockServantLogic__Clear__);
}


System_Collections_Generic_List_EventCommandAssistEntity__o *__fastcall BattleData__CreateCommandAssistInfoAll(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  DataMasterBase_WarMaster__WarEntity__int__o *Master_WarQuestSelectionMaster; // x0
  __int64 v8; // x1
  struct BattleEntity_o *battle_ent; // x8
  bool IsEventCommandAssist; // w8
  System_Collections_Generic_List_EventCommandAssistEntity__o *result; // x0
  struct QuestEntity_o *quest_ent; // x8
  struct BattleEntity_o *v13; // x8
  WarEntity_o *entity; // [xsp+8h] [xbp-18h] BYREF

  if ( (byte_4184372 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_EventCommandAssistMaster___, method);
    sub_B2C35C(&Method_DataManager_GetMaster_EventDetailMaster___, v3);
    sub_B2C35C(&DataManager_TypeInfo, v4);
    sub_B2C35C(&Method_DataMasterBase_EventDetailMaster__EventDetailEntity__int__TryGetEntity__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, v6);
    byte_4184372 = 1;
  }
  entity = 0LL;
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_EventDetailMaster___);
  entity = 0LL;
  battle_ent = this->fields.battle_ent;
  if ( !battle_ent || !Master_WarQuestSelectionMaster )
    goto LABEL_23;
  if ( !DataMasterBase_WarMaster__WarEntity__int___TryGetEntity(
          Master_WarQuestSelectionMaster,
          &entity,
          battle_ent->fields.eventId,
          (const MethodInfo_24E412C *)Method_DataMasterBase_EventDetailMaster__EventDetailEntity__int__TryGetEntity__) )
    return 0LL;
  Master_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)entity;
  if ( !entity )
    goto LABEL_23;
  IsEventCommandAssist = EventDetailEntity__IsEventCommandAssist((EventDetailEntity_o *)entity, 0LL);
  result = 0LL;
  if ( !IsEventCommandAssist )
    return result;
  Master_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)entity;
  if ( !entity )
    goto LABEL_23;
  Master_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)EventDetailEntity__GetIgnoreCommandAssistQuestIds(
                                                                                    (EventDetailEntity_o *)entity,
                                                                                    0LL);
  if ( Master_WarQuestSelectionMaster )
  {
    quest_ent = this->fields.quest_ent;
    if ( !quest_ent )
      goto LABEL_23;
    if ( System_Collections_Generic_List_int___Contains(
           (System_Collections_Generic_List_int__o *)Master_WarQuestSelectionMaster,
           quest_ent->fields.id,
           (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__) )
    {
      return 0LL;
    }
  }
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_EventCommandAssistMaster___);
  v13 = this->fields.battle_ent;
  if ( !v13 || !Master_WarQuestSelectionMaster )
LABEL_23:
    sub_B2C434(Master_WarQuestSelectionMaster, v8);
  return EventCommandAssistMaster__GetAllEntityList(
           (EventCommandAssistMaster_o *)Master_WarQuestSelectionMaster,
           v13->fields.eventId,
           -1,
           1,
           0LL);
}


System_Collections_Generic_List_List_EventCommandAssistEntity___o *__fastcall BattleData__CreateCommandAssistInfoArrayOversight(
        BattleData_o *this,
        System_Collections_Generic_List_EventCommandAssistEntity__o *commandAssistInfoList,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v6; // x20
  BattleData_o *v7; // x0
  const MethodInfo *v8; // x3
  EventMissionProgressRequest_Argument_ProgressData_o *CommandAssistList; // x0
  __int64 v10; // x1
  BattleData_o *v11; // x0
  const MethodInfo *v12; // x3
  EventMissionProgressRequest_Argument_ProgressData_o *v13; // x0
  BattleData_o *v14; // x0
  const MethodInfo *v15; // x3
  EventMissionProgressRequest_Argument_ProgressData_o *v16; // x0

  if ( (byte_4184373 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_List_EventCommandAssistEntity___Add__, commandAssistInfoList);
    sub_B2C35C(&Method_System_Collections_Generic_List_List_EventCommandAssistEntity____ctor__, v4);
    sub_B2C35C(&System_Collections_Generic_List_List_EventCommandAssistEntity___TypeInfo, v5);
    byte_4184373 = 1;
  }
  v6 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_List_EventCommandAssistEntity___TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v6,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_List_EventCommandAssistEntity____ctor__);
  CommandAssistList = (EventMissionProgressRequest_Argument_ProgressData_o *)BattleData__GetCommandAssistList(
                                                                               v7,
                                                                               commandAssistInfoList,
                                                                               1,
                                                                               v8);
  if ( !v6 )
    sub_B2C434(CommandAssistList, v10);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v6,
    CommandAssistList,
    (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_List_EventCommandAssistEntity___Add__);
  v13 = (EventMissionProgressRequest_Argument_ProgressData_o *)BattleData__GetCommandAssistList(
                                                                 v11,
                                                                 commandAssistInfoList,
                                                                 2,
                                                                 v12);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v6,
    v13,
    (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_List_EventCommandAssistEntity___Add__);
  v16 = (EventMissionProgressRequest_Argument_ProgressData_o *)BattleData__GetCommandAssistList(
                                                                 v14,
                                                                 commandAssistInfoList,
                                                                 3,
                                                                 v15);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v6,
    v16,
    (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_List_EventCommandAssistEntity___Add__);
  return (System_Collections_Generic_List_List_EventCommandAssistEntity___o *)v6;
}


System_Collections_Generic_List_commandAssistData__o *__fastcall BattleData__CreateLotteryCommandAssistInfo(
        BattleData_o *this,
        DeckData_o *mydeck,
        const MethodInfo *method)
{
  DeckData_o *v3; // x20
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  BattleData___c__DisplayClass546_0_o *v27; // x19
  System_Collections_Generic_List_List_EventCommandAssistEntity___o *CommandAssistInfoArrayOversight; // x0
  __int64 v29; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v30; // x22
  const MethodInfo *v31; // x1
  System_Collections_Generic_List_EventCommandAssistEntity__o *CommandAssistInfoAll; // x0
  const MethodInfo *v33; // x2
  System_Collections_Generic_List_List_EventCommandAssistEntity___o *v34; // x24
  System_Object_array *Shuffle_object; // x23
  const MethodInfo *v36; // x3
  const MethodInfo *v37; // x4
  const MethodInfo *v38; // x2
  unsigned __int64 v39; // x9
  BattleData___c__DisplayClass546_1_o *v40; // x28
  struct BattleDeckServantData_o *v41; // x1
  BattleData___c__DisplayClass546_1_Fields *p_fields; // x21
  struct BattleEntity_o *battle_ent; // x8
  void *monitor; // x19
  System_Collections_Generic_List_List_EventCommandAssistEntity___c *klass; // x20
  __int64 v46; // x9
  System_Collections_Generic_List_List_EventCommandAssistEntity___o *v47; // x19
  int v48; // w8
  System_Predicate_peRenderTexture_ChangeLayerObject__o **p__9__1; // x23
  System_Predicate_peRenderTexture_ChangeLayerObject__o *v50; // x27
  __int64 v51; // x8
  __int64 i; // x9
  int v53; // w20
  System_Collections_Generic_List_EventCommandAssistEntity__o *v54; // x27
  EventCommandAssistEntity_o *v55; // x20
  BattleData___c__DisplayClass546_1_Fields *v56; // x26
  commandAssistData_o *v57; // x21
  WarQuestSelectionMaster_o *v58; // x0
  System_Predicate_peRenderTexture_ChangeLayerObject__o *v59; // x19
  __int64 v61; // x0
  Il2CppObject *v62; // [xsp+0h] [xbp-A0h]
  System_Collections_Generic_List_EventCommandAssistEntity__o *commandAssistInfoList; // [xsp+8h] [xbp-98h]
  int32_t v64; // [xsp+14h] [xbp-8Ch]
  DeckData_o *v65; // [xsp+18h] [xbp-88h]
  System_Object_array *v66; // [xsp+20h] [xbp-80h]
  BattleData_o *v67; // [xsp+28h] [xbp-78h]
  DataMasterBase_WarMaster__WarEntity__int__o *Master_WarQuestSelectionMaster; // [xsp+30h] [xbp-70h]
  unsigned __int64 v69; // [xsp+38h] [xbp-68h]
  int32_t cardIndex; // [xsp+44h] [xbp-5Ch]
  int64_t userSvtId; // [xsp+48h] [xbp-58h]
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v72; // 0:x0.16

  v3 = mydeck;
  if ( (byte_4184371 & 1) == 0 )
  {
    sub_B2C35C(&Method_BattleRandom_getShuffle_BattleDeckServantData___, mydeck);
    sub_B2C35C(&Method_DataManager_GetMaster_EventCommandAssistMaster___, v5);
    sub_B2C35C(&Method_DataManager_GetMaster_ServantMaster___, v6);
    sub_B2C35C(&DataManager_TypeInfo, v7);
    sub_B2C35C(&Method_DataMasterBase_ServantMaster__ServantEntity__int__GetEntity__, v8);
    sub_B2C35C(&Method_System_Linq_Enumerable_First_EventCommandAssistEntity___, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_commandAssistData__Add__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_commandAssistData__Find__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_List_commandAssistData__RemoveAll__, v12);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCommandAssistEntity__RemoveAt__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_List_commandAssistData___ctor__, v14);
    sub_B2C35C(&Method_System_Collections_Generic_List_commandAssistData__get_Count__, v15);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCommandAssistEntity__get_Count__, v16);
    sub_B2C35C(&Method_System_Collections_Generic_List_List_EventCommandAssistEntity___get_Item__, v17);
    sub_B2C35C(&System_Collections_Generic_List_commandAssistData__TypeInfo, v18);
    sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, v19);
    sub_B2C35C(&Method_System_Predicate_commandAssistData___ctor__, v20);
    sub_B2C35C(&System_Predicate_commandAssistData__TypeInfo, v21);
    sub_B2C35C(&Method_BattleData___c__DisplayClass546_0__CreateLotteryCommandAssistInfo_b__0__, v22);
    sub_B2C35C(&BattleData___c__DisplayClass546_0_TypeInfo, v23);
    sub_B2C35C(&Method_BattleData___c__DisplayClass546_1__CreateLotteryCommandAssistInfo_b__1__, v24);
    sub_B2C35C(&BattleData___c__DisplayClass546_1_TypeInfo, v25);
    sub_B2C35C(&commandAssistData_TypeInfo, v26);
    byte_4184371 = 1;
  }
  v27 = (BattleData___c__DisplayClass546_0_o *)sub_B2C42C(BattleData___c__DisplayClass546_0_TypeInfo);
  BattleData___c__DisplayClass546_0___ctor(v27, 0LL);
  if ( !v27 )
    goto LABEL_53;
  v27->fields.__4__this = this;
  sub_B2C2F8(&v27->fields.__4__this, this);
  v30 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_commandAssistData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v30,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_commandAssistData___ctor__);
  CommandAssistInfoAll = BattleData__CreateCommandAssistInfoAll(this, v31);
  if ( !CommandAssistInfoAll )
    return 0LL;
  v62 = (Il2CppObject *)v27;
  commandAssistInfoList = CommandAssistInfoAll;
  CommandAssistInfoArrayOversight = BattleData__CreateCommandAssistInfoArrayOversight(this, CommandAssistInfoAll, v33);
  if ( !v3 )
    goto LABEL_53;
  v34 = CommandAssistInfoArrayOversight;
  Shuffle_object = BattleRandom__getShuffle_object_(
                     (System_Object_array *)v3->fields.svts,
                     (const MethodInfo_172A930 *)Method_BattleRandom_getShuffle_BattleDeckServantData___);
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_ServantMaster___);
  CommandAssistInfoArrayOversight = (System_Collections_Generic_List_List_EventCommandAssistEntity___o *)BattleData__GetLotteryCount(this, v3->fields.svts, v34, v36);
  if ( !v30 )
    goto LABEL_53;
  if ( v30->fields._size < (int)CommandAssistInfoArrayOversight )
  {
    v65 = v3;
    v66 = Shuffle_object;
    v67 = this;
    v64 = (int)CommandAssistInfoArrayOversight;
    while ( 1 )
    {
      CommandAssistInfoArrayOversight = (System_Collections_Generic_List_List_EventCommandAssistEntity___o *)BattleData__IsResetCommandAssistInfoArrayOversight(this, v34, (System_Collections_Generic_List_commandAssistData__o *)v30, v3->fields.svts, v37);
      if ( ((unsigned __int8)CommandAssistInfoArrayOversight & 1) != 0 )
      {
        CommandAssistInfoArrayOversight = BattleData__CreateCommandAssistInfoArrayOversight(
                                            this,
                                            commandAssistInfoList,
                                            v38);
        v34 = CommandAssistInfoArrayOversight;
      }
      if ( !Shuffle_object )
        goto LABEL_53;
      if ( (int)Shuffle_object->max_length >= 1 )
        break;
LABEL_46:
      v3 = v65;
      if ( v30->fields._size >= v64 )
        goto LABEL_47;
    }
    v39 = 0LL;
    while ( 1 )
    {
      v69 = v39;
      v40 = (BattleData___c__DisplayClass546_1_o *)sub_B2C42C(BattleData___c__DisplayClass546_1_TypeInfo);
      BattleData___c__DisplayClass546_1___ctor(v40, 0LL);
      if ( v69 >= Shuffle_object->max_length )
      {
LABEL_54:
        v61 = sub_B2C460(CommandAssistInfoArrayOversight);
        sub_B2C400(v61, 0LL);
      }
      if ( !v40 )
        break;
      v41 = (struct BattleDeckServantData_o *)Shuffle_object->m_Items[v69];
      v40->fields.deckData = v41;
      p_fields = &v40->fields;
      sub_B2C2F8(&v40->fields, v41);
      battle_ent = this->fields.battle_ent;
      if ( !battle_ent )
        break;
      if ( !p_fields->deckData )
        break;
      CommandAssistInfoArrayOversight = (System_Collections_Generic_List_List_EventCommandAssistEntity___o *)battle_ent->fields.battleInfo;
      if ( !CommandAssistInfoArrayOversight )
        break;
      CommandAssistInfoArrayOversight = (System_Collections_Generic_List_List_EventCommandAssistEntity___o *)BattleInfoData__getUserServantFromID((BattleInfoData_o *)CommandAssistInfoArrayOversight, p_fields->deckData->fields.userSvtId, 0LL);
      if ( !CommandAssistInfoArrayOversight )
        break;
      klass = CommandAssistInfoArrayOversight[2].klass;
      monitor = CommandAssistInfoArrayOversight[2].monitor;
      if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
      }
      *(_QWORD *)&v72.fields.currentCryptoKey = klass;
      *(_QWORD *)&v72.fields.fakeValue = monitor;
      v29 = (unsigned int)CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v72, 0LL);
      CommandAssistInfoArrayOversight = (System_Collections_Generic_List_List_EventCommandAssistEntity___o *)Master_WarQuestSelectionMaster;
      if ( !Master_WarQuestSelectionMaster )
        break;
      CommandAssistInfoArrayOversight = (System_Collections_Generic_List_List_EventCommandAssistEntity___o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(Master_WarQuestSelectionMaster, v29, (const MethodInfo_24E40D0 *)Method_DataMasterBase_ServantMaster__ServantEntity__int__GetEntity__);
      v40->fields.i = 0;
      if ( !CommandAssistInfoArrayOversight )
        break;
      v46 = *(_QWORD *)&CommandAssistInfoArrayOversight[3].fields._size;
      v47 = CommandAssistInfoArrayOversight;
      if ( !v46 )
        break;
      v48 = 0;
      p__9__1 = (System_Predicate_peRenderTexture_ChangeLayerObject__o **)&v40->fields.__9__1;
      while ( v48 < *(_DWORD *)(v46 + 24) )
      {
        v50 = *p__9__1;
        if ( !*p__9__1 )
        {
          v50 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_commandAssistData__TypeInfo);
          System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
            v50,
            (Il2CppObject *)v40,
            Method_BattleData___c__DisplayClass546_1__CreateLotteryCommandAssistInfo_b__1__,
            (const MethodInfo_2952BE4 *)Method_System_Predicate_commandAssistData___ctor__);
          v40->fields.__9__1 = (struct System_Predicate_commandAssistData__o *)v50;
          sub_B2C2F8(&v40->fields.__9__1, v50);
        }
        CommandAssistInfoArrayOversight = (System_Collections_Generic_List_List_EventCommandAssistEntity___o *)System_Collections_Generic_List_peRenderTexture_ChangeLayerObject___Find((System_Collections_Generic_List_peRenderTexture_ChangeLayerObject__o *)v30, (System_Predicate_T__o *)v50, (const MethodInfo_2EF4D20 *)Method_System_Collections_Generic_List_commandAssistData__Find__);
        if ( !CommandAssistInfoArrayOversight )
        {
          v51 = *(_QWORD *)&v47[3].fields._size;
          if ( !v51 )
            goto LABEL_53;
          i = v40->fields.i;
          if ( (unsigned int)i >= *(_DWORD *)(v51 + 24) )
            goto LABEL_54;
          if ( !v34 )
            goto LABEL_53;
          v53 = *(_DWORD *)(v51 + 4 * i + 32) - 1;
          if ( v34->fields._size <= (unsigned int)v53 )
            System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
          v54 = v34->fields._items->m_Items[v53];
          if ( !v54 )
            goto LABEL_53;
          if ( v54->fields._size )
          {
            CommandAssistInfoArrayOversight = (System_Collections_Generic_List_List_EventCommandAssistEntity___o *)System_Linq_Enumerable__First_StonePurchaseNotificationMenu_DialogOpenQueue_((System_Collections_Generic_IEnumerable_TSource__o *)v54, (const MethodInfo_1A8F68C *)Method_System_Linq_Enumerable_First_EventCommandAssistEntity___);
            if ( !p_fields->deckData )
              goto LABEL_53;
            v55 = (EventCommandAssistEntity_o *)CommandAssistInfoArrayOversight;
            v56 = p_fields;
            userSvtId = p_fields->deckData->fields.userSvtId;
            cardIndex = v40->fields.i;
            v57 = (commandAssistData_o *)sub_B2C42C(commandAssistData_TypeInfo);
            commandAssistData___ctor(v57, v55, userSvtId, cardIndex, 0LL);
            System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
              v30,
              (EventMissionProgressRequest_Argument_ProgressData_o *)v57,
              (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_commandAssistData__Add__);
            System_Collections_Generic_List_XWeaponTrail_Element___RemoveAt(
              (System_Collections_Generic_List_XWeaponTrail_Element__o *)v54,
              0,
              (const MethodInfo_2EF6150 *)Method_System_Collections_Generic_List_EventCommandAssistEntity__RemoveAt__);
            p_fields = v56;
          }
        }
        v48 = v40->fields.i + 1;
        v40->fields.i = v48;
        v46 = *(_QWORD *)&v47[3].fields._size;
        if ( !v46 )
          goto LABEL_53;
      }
      Shuffle_object = v66;
      this = v67;
      v39 = v69 + 1;
      if ( (__int64)(v69 + 1) >= (int)v66->max_length )
        goto LABEL_46;
    }
LABEL_53:
    sub_B2C434(CommandAssistInfoArrayOversight, v29);
  }
LABEL_47:
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  v58 = DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_EventCommandAssistMaster___);
  v62[1].klass = (Il2CppClass *)v58;
  sub_B2C2F8(&v62[1], v58);
  v59 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_commandAssistData__TypeInfo);
  System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
    v59,
    v62,
    Method_BattleData___c__DisplayClass546_0__CreateLotteryCommandAssistInfo_b__0__,
    (const MethodInfo_2952BE4 *)Method_System_Predicate_commandAssistData___ctor__);
  System_Collections_Generic_List_ScrTerminalListTop_CaldeaFolderInfo___RemoveAll(
    (System_Collections_Generic_List_ScrTerminalListTop_CaldeaFolderInfo__o *)v30,
    (System_Predicate_T__o *)v59,
    (const MethodInfo_2EF5FB0 *)Method_System_Collections_Generic_List_commandAssistData__RemoveAll__);
  return (System_Collections_Generic_List_commandAssistData__o *)v30;
}


void __fastcall BattleData__DeleteContinueData(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  BattleData_c *v17; // x0
  System_String_o *skipKey; // x19

  if ( (byte_4184351 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, v1);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v2);
    sub_B2C35C(&StringLiteral_5064/*"DUEL"*/, v3);
    sub_B2C35C(&StringLiteral_10885/*"QUESTPHASEID"*/, v4);
    sub_B2C35C(&StringLiteral_15433/*"WaveRestartData"*/, v5);
    sub_B2C35C(&StringLiteral_3362/*"CONTINUECOUNT"*/, v6);
    sub_B2C35C(&StringLiteral_10884/*"QUESTID"*/, v7);
    sub_B2C35C(&StringLiteral_3363/*"CONTINUE_BATTLE_SAVEKEY"*/, v8);
    sub_B2C35C(&StringLiteral_11552/*"SAVEKEY_"*/, v9);
    sub_B2C35C(&StringLiteral_3384/*"CONTINUE_ITEM_SAVEKEY"*/, v10);
    sub_B2C35C(&StringLiteral_3253/*"COMMAND_SPELL_BATTLE_SAVEKEY"*/, v11);
    sub_B2C35C(&StringLiteral_10886/*"QUESTUSEDTURNSAVEKEY"*/, v12);
    sub_B2C35C(&StringLiteral_8126/*"IsDuelMessagePack"*/, v13);
    sub_B2C35C(&StringLiteral_11082/*"RESERVE_BATTKE_SAVEKEY"*/, v14);
    sub_B2C35C(&StringLiteral_15183/*"Version"*/, v15);
    sub_B2C35C(&StringLiteral_2752/*"Battle"*/, v16);
    byte_4184351 = 1;
  }
  v17 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v17 = BattleData_TypeInfo;
  }
  skipKey = v17->static_fields->skipKey;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__DeleteKey(skipKey, 0LL);
  EncryptedPlayerPrefs__DeleteKey(BattleData_TypeInfo->static_fields->speedKey, 0LL);
  EncryptedPlayerPrefs__DeleteKey(BattleData_TypeInfo->static_fields->TdCvKey, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_11552/*"SAVEKEY_"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_11082/*"RESERVE_BATTKE_SAVEKEY"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_10884/*"QUESTID"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_10885/*"QUESTPHASEID"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_3363/*"CONTINUE_BATTLE_SAVEKEY"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_3253/*"COMMAND_SPELL_BATTLE_SAVEKEY"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_3384/*"CONTINUE_ITEM_SAVEKEY"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_15183/*"Version"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_8126/*"IsDuelMessagePack"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_5064/*"DUEL"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_10884/*"QUESTID"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_2752/*"Battle"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_10886/*"QUESTUSEDTURNSAVEKEY"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_3362/*"CONTINUECOUNT"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_15433/*"WaveRestartData"*/, 0LL);
}


void __fastcall BattleData__DeleteDummyBuffDataAll(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x21
  __int64 v5; // x20
  int size; // w8
  BattleServantData_o *v7; // x8
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x21
  __int64 v9; // x20
  int v10; // w8
  BattleServantData_o *v11; // x8

  v2 = this;
  if ( (byte_4184366 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, method);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v3);
    byte_4184366 = 1;
  }
  player_datalist = v2->fields.player_datalist;
  if ( !player_datalist )
    goto LABEL_20;
  v5 = 0LL;
  while ( 1 )
  {
    size = player_datalist->fields._size;
    if ( (int)v5 >= size )
      break;
    if ( size <= (unsigned int)v5 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v7 = player_datalist->fields._items->m_Items[v5];
    if ( v7 )
    {
      this = (BattleData_o *)v7->fields.buffData;
      if ( this )
      {
        BattleBuffData__DeleteDummyBuff((BattleBuffData_o *)this, 0LL);
        player_datalist = v2->fields.player_datalist;
        ++v5;
        if ( player_datalist )
          continue;
      }
    }
    goto LABEL_20;
  }
  enemy_datalist = v2->fields.enemy_datalist;
  if ( !enemy_datalist )
LABEL_20:
    sub_B2C434(this, method);
  v9 = 0LL;
  while ( 1 )
  {
    v10 = enemy_datalist->fields._size;
    if ( (int)v9 >= v10 )
      break;
    if ( v10 <= (unsigned int)v9 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v11 = enemy_datalist->fields._items->m_Items[v9];
    if ( v11 )
    {
      this = (BattleData_o *)v11->fields.buffData;
      if ( this )
      {
        BattleBuffData__DeleteDummyBuff((BattleBuffData_o *)this, 0LL);
        enemy_datalist = v2->fields.enemy_datalist;
        ++v9;
        if ( enemy_datalist )
          continue;
      }
    }
    goto LABEL_20;
  }
}


void __fastcall BattleData__DeleteResumeCheckPlayedMovieSaveKey(BattleData_o *this, const MethodInfo *method)
{
  __int64 v2; // x1
  __int64 v3; // x1

  if ( (byte_418436C & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, method);
    sub_B2C35C(&StringLiteral_21494/*"playWaveStartMovie"*/, v2);
    sub_B2C35C(&StringLiteral_21715/*"rebootAlreadyPlayMovie"*/, v3);
    byte_418436C = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_21715/*"rebootAlreadyPlayMovie"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_21494/*"playWaveStartMovie"*/, 0LL);
  UnityEngine_PlayerPrefs__Save(0LL);
}


bool __fastcall BattleData__EnableContinueItem(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  DataManager_o *Instance; // x0
  __int64 v14; // x1
  EventCampaignEntity_array *TargetEntitiyAllList; // x20
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v16; // x21
  int max_length; // w8
  DataMasterBase_WarMaster__WarEntity__int__o *v18; // x22
  unsigned int v19; // w25
  EventMissionProgressRequest_Argument_ProgressData_o *v20; // x23
  System_Collections_Generic_List_EventCampaignEntity__o *v21; // x0
  const MethodInfo *v22; // x2
  EventCampaignEntity_o *v23; // x1
  __int64 v25; // x0

  if ( (byte_41843A1 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_EventCampaignMaster___, method);
    sub_B2C35C(&Method_DataManager_GetMasterData_EventMaster___, v3);
    sub_B2C35C(&Method_DataManager_GetMasterData_ItemMaster___, v4);
    sub_B2C35C(&Method_DataMasterBase_EventMaster__EventEntity__int__GetEntity__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCampaignEntity__Add__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCampaignEntity___ctor__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCampaignEntity__get_Count__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_ItemEntity__get_Count__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCampaignEntity__get_Item__, v10);
    sub_B2C35C(&System_Collections_Generic_List_EventCampaignEntity__TypeInfo, v11);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v12);
    byte_41843A1 = 1;
  }
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_26;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EventCampaignMaster___);
  if ( !Instance )
    goto LABEL_26;
  TargetEntitiyAllList = EventCampaignMaster__GetTargetEntitiyAllList((EventCampaignMaster_o *)Instance, 28, 0LL);
  v16 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_EventCampaignEntity__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v16,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_EventCampaignEntity___ctor__);
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_26;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EventMaster___);
  if ( !TargetEntitiyAllList )
    goto LABEL_26;
  max_length = TargetEntitiyAllList->max_length;
  if ( max_length >= 1 )
  {
    v18 = (DataMasterBase_WarMaster__WarEntity__int__o *)Instance;
    v19 = 0;
    while ( 1 )
    {
      if ( v19 >= max_length )
      {
        v25 = sub_B2C460(Instance);
        sub_B2C400(v25, 0LL);
      }
      v20 = (EventMissionProgressRequest_Argument_ProgressData_o *)TargetEntitiyAllList->m_Items[v19];
      if ( !v20 )
        break;
      if ( !v18 )
        break;
      Instance = (DataManager_o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                                    v18,
                                    v20->fields.missionTargetId,
                                    (const MethodInfo_24E40D0 *)Method_DataMasterBase_EventMaster__EventEntity__int__GetEntity__);
      if ( !Instance )
        break;
      Instance = (DataManager_o *)EventEntity__IsOpen((EventEntity_o *)Instance, 1, 0LL);
      if ( ((unsigned __int8)Instance & 1) != 0 )
      {
        if ( !v16 )
          break;
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v16,
          v20,
          (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_EventCampaignEntity__Add__);
      }
      max_length = TargetEntitiyAllList->max_length;
      if ( (int)++v19 >= max_length )
        goto LABEL_17;
    }
LABEL_26:
    sub_B2C434(Instance, v14);
  }
LABEL_17:
  v21 = EventCampaignMaster__CheckCampaignGrouping((System_Collections_Generic_List_EventCampaignEntity__o *)v16, 0LL);
  if ( !v21 )
    return 0;
  if ( v21->fields._size < 1 )
    return 0;
  v23 = v21->fields._items->m_Items[0];
  if ( !v23 || !BattleData__CanUseContinueItemQuest(this, v23, v22) )
    return 0;
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_26;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_ItemMaster___);
  if ( !Instance )
    goto LABEL_26;
  Instance = (DataManager_o *)ItemMaster__GetEntityListByType((ItemMaster_o *)Instance, 27, 0LL);
  if ( !Instance )
    goto LABEL_26;
  return SLODWORD(Instance->fields.datalist) > 0;
}


bool __fastcall BattleData__EqualCurrentUniqueWaveTurn(
        BattleData_o *this,
        int64_t compWaveTurn,
        const MethodInfo *method)
{
  return ServantWaveTurnEventOwner__CalcWaveTurnVal(this->fields.wavecount, this->fields.turnCount, 0LL) == compWaveTurn;
}


void __fastcall BattleData__ExecFuncAllServant(
        BattleData_o *this,
        System_Action_BattleServantData__o *func,
        const MethodInfo *method)
{
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x0

  if ( (byte_418433F & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ForEach__, func);
    byte_418433F = 1;
  }
  player_datalist = this->fields.player_datalist;
  if ( !player_datalist
    || (System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex___ForEach(
          (System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *)player_datalist,
          (System_Action_T__o *)func,
          (const MethodInfo_2EF5178 *)Method_System_Collections_Generic_List_BattleServantData__ForEach__),
        (player_datalist = this->fields.enemy_datalist) == 0LL) )
  {
    sub_B2C434(player_datalist, func);
  }
  System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex___ForEach(
    (System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *)player_datalist,
    (System_Action_T__o *)func,
    (const MethodInfo_2EF5178 *)Method_System_Collections_Generic_List_BattleServantData__ForEach__);
}


bool __fastcall BattleData__ExistDropItem(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  struct System_Collections_Generic_List_BattleDropItem__o *droplist; // x8
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x19
  signed __int64 size; // x8
  unsigned __int64 v9; // x20
  BattleServantData_o *v10; // x8
  struct DropInfo_array *v11; // x8

  v2 = this;
  if ( (byte_41843A3 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleDropItem__get_Count__, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v3);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v4);
    byte_41843A3 = 1;
  }
  droplist = v2->fields.droplist;
  if ( !droplist )
    sub_B2C434(this, method);
  if ( droplist->fields._size > 0 )
    return 1;
  enemy_datalist = v2->fields.enemy_datalist;
  if ( enemy_datalist )
  {
    LODWORD(size) = enemy_datalist->fields._size;
    if ( (int)size >= 1 )
    {
      v9 = 0LL;
      while ( 1 )
      {
        if ( v9 >= (unsigned int)size )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        v10 = enemy_datalist->fields._items->m_Items[v9];
        if ( v10 )
        {
          v11 = v10->fields.droplist;
          if ( v11 )
          {
            if ( *(_QWORD *)&v11->max_length )
              break;
          }
        }
        size = enemy_datalist->fields._size;
        if ( (__int64)++v9 >= size )
          return 0;
      }
      return 1;
    }
  }
  return 0;
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__ExistsFieldEnemyIntervalBuff(
        BattleData_o *this,
        int32_t targetType,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData___c__DisplayClass732_0_o *v9; // x21
  __int64 v10; // x0
  __int64 v11; // x1
  const MethodInfo *v12; // x2
  BattleServantData_array *FieldEnemyServantList; // x19
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *v14; // x20

  if ( (byte_41843B7 & 1) == 0 )
  {
    sub_B2C35C(&Method_BasicHelper_Any_BattleServantData____67380376, *(_QWORD *)&targetType);
    sub_B2C35C(&Method_System_Func_BattleServantData__bool___ctor__, v5);
    sub_B2C35C(&System_Func_BattleServantData__bool__TypeInfo, v6);
    sub_B2C35C(&Method_BattleData___c__DisplayClass732_0__ExistsFieldEnemyIntervalBuff_b__0__, v7);
    sub_B2C35C(&BattleData___c__DisplayClass732_0_TypeInfo, v8);
    byte_41843B7 = 1;
  }
  v9 = (BattleData___c__DisplayClass732_0_o *)sub_B2C42C(BattleData___c__DisplayClass732_0_TypeInfo);
  BattleData___c__DisplayClass732_0___ctor(v9, 0LL);
  if ( !v9 )
    sub_B2C434(v10, v11);
  v9->fields.targetType = targetType;
  FieldEnemyServantList = BattleData__getFieldEnemyServantList(this, 0, v12);
  v14 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B2C42C(System_Func_BattleServantData__bool__TypeInfo);
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
    v14,
    (Il2CppObject *)v9,
    Method_BattleData___c__DisplayClass732_0__ExistsFieldEnemyIntervalBuff_b__0__,
    (const MethodInfo_2711C04 *)Method_System_Func_BattleServantData__bool___ctor__);
  return BasicHelper__Any_USFGOPlayBgmEventConditional_CondBGM_(
           (WellFired_USFGOPlayBgmEventConditional_CondBGM_array *)FieldEnemyServantList,
           (System_Func_T__bool__o *)v14,
           (const MethodInfo_1726758 *)Method_BasicHelper_Any_BattleServantData____67380376);
}


UnityEngine_Transform_o *__fastcall BattleData__FindTransformChild(
        BattleData_o *this,
        UnityEngine_Transform_o *tran,
        System_String_o *tranName,
        const MethodInfo *method)
{
  BattleData_o *v6; // x21
  UnityEngine_Object_o *TransformChild; // x23
  int32_t v8; // w22
  UnityEngine_Transform_o *Child; // x0
  const MethodInfo *v10; // x3

  v6 = this;
  if ( (byte_4184383 & 1) == 0 )
  {
    this = (BattleData_o *)sub_B2C35C(&UnityEngine_Object_TypeInfo, tran);
    byte_4184383 = 1;
  }
  if ( !tran )
    sub_B2C434(this, tran);
  TransformChild = (UnityEngine_Object_o *)UnityEngine_Transform__Find(tran, tranName, 0LL);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  if ( !UnityEngine_Object__op_Inequality(TransformChild, 0LL, 0LL) )
  {
    if ( UnityEngine_Transform__get_childCount(tran, 0LL) < 1 )
    {
      return 0LL;
    }
    else
    {
      v8 = 0;
      while ( 1 )
      {
        Child = UnityEngine_Transform__GetChild(tran, v8, 0LL);
        TransformChild = (UnityEngine_Object_o *)BattleData__FindTransformChild(v6, Child, tranName, v10);
        if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
        }
        if ( UnityEngine_Object__op_Inequality(TransformChild, 0LL, 0LL) )
          break;
        if ( ++v8 >= UnityEngine_Transform__get_childCount(tran, 0LL) )
          return 0LL;
      }
    }
  }
  return (UnityEngine_Transform_o *)TransformChild;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__FreeEntryByIndex(
        BattleData_o *this,
        int32_t deckIndex,
        bool isEnemy,
        const MethodInfo *method)
{
  __int64 v7; // x8
  System_Int32_array *v8; // x20
  __int64 v9; // x0
  __int64 v10; // x1
  __int64 v11; // x0

  if ( (byte_41842FD & 1) == 0 )
  {
    sub_B2C35C(&Method_BasicHelper_IndexValue_int____67381984, *(_QWORD *)&deckIndex);
    byte_41842FD = 1;
  }
  v7 = 288LL;
  if ( isEnemy )
    v7 = 296LL;
  v8 = *(System_Int32_array **)((char *)&this->klass + v7);
  v9 = BasicHelper__IndexValue_int_(
         v8,
         deckIndex,
         -1,
         (const MethodInfo_172891C *)Method_BasicHelper_IndexValue_int____67381984);
  if ( (_DWORD)v9 != -1 )
  {
    if ( !v8 )
      sub_B2C434(v9, v10);
    if ( v8->max_length <= deckIndex )
    {
      v11 = sub_B2C460(v9);
      sub_B2C400(v11, 0LL);
    }
    v8->m_Items[deckIndex + 1] = -1;
  }
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_o *__fastcall BattleData__GetAiNpcServantData(
        BattleData_o *this,
        int32_t id,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData___c__DisplayClass428_0_o *v9; // x21
  __int64 v10; // x0
  __int64 v11; // x1
  struct System_Collections_Generic_List_AiNpcBattleServantData__o *aiNpcDataList; // x19
  System_Predicate_peRenderTexture_ChangeLayerObject__o *v13; // x20

  if ( (byte_4184327 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_AiNpcBattleServantData__Find__, *(_QWORD *)&id);
    sub_B2C35C(&Method_System_Predicate_AiNpcBattleServantData___ctor__, v5);
    sub_B2C35C(&System_Predicate_AiNpcBattleServantData__TypeInfo, v6);
    sub_B2C35C(&Method_BattleData___c__DisplayClass428_0__GetAiNpcServantData_b__0__, v7);
    sub_B2C35C(&BattleData___c__DisplayClass428_0_TypeInfo, v8);
    byte_4184327 = 1;
  }
  v9 = (BattleData___c__DisplayClass428_0_o *)sub_B2C42C(BattleData___c__DisplayClass428_0_TypeInfo);
  BattleData___c__DisplayClass428_0___ctor(v9, 0LL);
  if ( !v9
    || (v9->fields.id = id,
        aiNpcDataList = this->fields.aiNpcDataList,
        v13 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_AiNpcBattleServantData__TypeInfo),
        System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
          v13,
          (Il2CppObject *)v9,
          Method_BattleData___c__DisplayClass428_0__GetAiNpcServantData_b__0__,
          (const MethodInfo_2952BE4 *)Method_System_Predicate_AiNpcBattleServantData___ctor__),
        !aiNpcDataList) )
  {
    sub_B2C434(v10, v11);
  }
  return (BattleServantData_o *)System_Collections_Generic_List_peRenderTexture_ChangeLayerObject___Find(
                                  (System_Collections_Generic_List_peRenderTexture_ChangeLayerObject__o *)aiNpcDataList,
                                  (System_Predicate_T__o *)v13,
                                  (const MethodInfo_2EF4D20 *)Method_System_Collections_Generic_List_AiNpcBattleServantData__Find__);
}


// local variable allocation has failed, the output may be wrong!
System_Int32_array *__fastcall BattleData__GetAliveFieldServantIDArray(
        BattleData_o *this,
        bool isTargetOnly,
        int32_t exceptSvtId,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  System_Collections_Generic_List_int__o *v11; // x21
  const MethodInfo *v12; // x2
  System_Collections_Generic_IEnumerable_T__o *AliveFieldEnemyServantIDList; // x0
  __int64 v14; // x1
  const MethodInfo *v15; // x2
  System_Collections_Generic_IEnumerable_T__o *AliveFieldPlayerServantIDList; // x0

  if ( (byte_4184330 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__AddRange__, isTargetOnly);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Remove__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v9);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v10);
    byte_4184330 = 1;
  }
  v11 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v11,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  AliveFieldEnemyServantIDList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getAliveFieldEnemyServantIDList(
                                                                                  this,
                                                                                  isTargetOnly,
                                                                                  v12);
  if ( !v11 )
    sub_B2C434(AliveFieldEnemyServantIDList, v14);
  System_Collections_Generic_List_int___AddRange(
    v11,
    AliveFieldEnemyServantIDList,
    (const MethodInfo_2F6724C *)Method_System_Collections_Generic_List_int__AddRange__);
  AliveFieldPlayerServantIDList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getAliveFieldPlayerServantIDList(
                                                                                   this,
                                                                                   0LL,
                                                                                   v15);
  System_Collections_Generic_List_int___AddRange(
    v11,
    AliveFieldPlayerServantIDList,
    (const MethodInfo_2F6724C *)Method_System_Collections_Generic_List_int__AddRange__);
  if ( exceptSvtId != -1 )
    System_Collections_Generic_List_int___Remove(
      v11,
      exceptSvtId,
      (const MethodInfo_2F68974 *)Method_System_Collections_Generic_List_int__Remove__);
  return System_Collections_Generic_List_int___ToArray(
           v11,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


System_Int32_array *__fastcall BattleData__GetAssistIdArray(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetAssistIdArray(questphase_ent, 0LL);
}


System_Int32_array *__fastcall BattleData__GetAssistWeightArray(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetAssistWeightArray(questphase_ent, 0LL);
}


float __fastcall BattleData__GetBattleFinishWaitTime(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return (float)QuestPhaseEntity__GetBattleFinishWaitTime(questphase_ent, 0LL) / 1000.0;
}


BattleMasterImageEntity_o *__fastcall BattleData__GetBattleMasterImageEntity(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  DataManager_o *Instance; // x0
  __int64 v5; // x1
  BattleMasterImageEntity_o *result; // x0
  const MethodInfo *v7; // x1
  BattleMasterImageEntity_o *v8; // x20
  int32_t BattleMasterImageId; // w0

  if ( (byte_418438B & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_BattleMasterImageMaster___, method);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v3);
    byte_418438B = 1;
  }
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_8;
  result = (BattleMasterImageEntity_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                          Instance,
                                          (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_BattleMasterImageMaster___);
  if ( result )
  {
    v8 = result;
    Instance = (DataManager_o *)BattleData__getStageEntity(this, v7);
    if ( Instance )
    {
      BattleMasterImageId = StageEntity__getBattleMasterImageId((StageEntity_o *)Instance, 0LL);
      return BattleMasterImageMaster__GetEntity(
               (BattleMasterImageMaster_o *)v8,
               BattleMasterImageId,
               this->fields.battleGenderType,
               0LL);
    }
LABEL_8:
    sub_B2C434(Instance, v5);
  }
  return result;
}


int32_t __fastcall BattleData__GetBattleResultBgmId(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  QuestPhaseEntity_o *questphase_ent; // x0
  unsigned int ResultBgmId; // w20
  _QWORD **v7; // x23
  __int64 v8; // x21
  __int16 v9; // w8
  __int64 v10; // x21
  __int64 v11; // x21
  __int64 v12; // x21
  System_Int32_array *OverwriteResultBgmCondIds; // x0
  _QWORD **v14; // x23
  System_Int32_array *v15; // x21
  __int64 v16; // x22
  __int16 v17; // w8
  __int64 v18; // x22
  __int64 v19; // x22
  __int64 v20; // x22
  System_Int32_array *OverwriteResultBgmIds; // x22
  __int64 v22; // x8
  CommonReleaseMaster_o *v23; // x23
  unsigned __int64 v24; // x24
  int max_length; // w8
  __int64 v27; // x0

  if ( (byte_41843BF & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Array_Empty_int___, method);
    sub_B2C35C(&Method_DataManager_GetMaster_CommonReleaseMaster___, v3);
    sub_B2C35C(&DataManager_TypeInfo, v4);
    byte_41843BF = 1;
  }
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    goto LABEL_45;
  ResultBgmId = QuestPhaseEntity__getResultBgmId(questphase_ent, 21, 0LL);
  v7 = (_QWORD **)Method_System_Array_Empty_int___;
  v8 = **((_QWORD **)Method_System_Array_Empty_int___ + 6);
  v9 = *(_WORD *)(v8 + 306);
  if ( (v9 & 1) == 0 )
  {
    sub_AC505C(**((_QWORD **)Method_System_Array_Empty_int___ + 6));
    v9 = *(_WORD *)(v8 + 306);
  }
  if ( (v9 & 0x400) != 0 )
  {
    v10 = *v7[6];
    if ( (*(_BYTE *)(v10 + 306) & 1) == 0 )
      sub_AC505C(*v7[6]);
    if ( !*(_DWORD *)(v10 + 224) )
    {
      v11 = *v7[6];
      if ( (*(_BYTE *)(v11 + 306) & 1) == 0 )
        sub_AC505C(*v7[6]);
      j_il2cpp_runtime_class_init_0(v11);
    }
  }
  v12 = *v7[6];
  if ( (*(_BYTE *)(v12 + 306) & 1) == 0 )
    sub_AC505C(*v7[6]);
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    goto LABEL_45;
  OverwriteResultBgmCondIds = QuestPhaseEntity__GetOverwriteResultBgmCondIds(
                                questphase_ent,
                                **(System_Int32_array ***)(v12 + 184),
                                0LL);
  v14 = (_QWORD **)Method_System_Array_Empty_int___;
  v15 = OverwriteResultBgmCondIds;
  v16 = **((_QWORD **)Method_System_Array_Empty_int___ + 6);
  v17 = *(_WORD *)(v16 + 306);
  if ( (v17 & 1) == 0 )
  {
    sub_AC505C(v16);
    v17 = *(_WORD *)(v16 + 306);
  }
  if ( (v17 & 0x400) != 0 )
  {
    v18 = *v14[6];
    if ( (*(_BYTE *)(v18 + 306) & 1) == 0 )
      sub_AC505C(*v14[6]);
    if ( !*(_DWORD *)(v18 + 224) )
    {
      v19 = *v14[6];
      if ( (*(_BYTE *)(v19 + 306) & 1) == 0 )
        sub_AC505C(*v14[6]);
      j_il2cpp_runtime_class_init_0(v19);
    }
  }
  v20 = *v14[6];
  if ( (*(_BYTE *)(v20 + 306) & 1) == 0 )
    sub_AC505C(*v14[6]);
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    goto LABEL_45;
  OverwriteResultBgmIds = QuestPhaseEntity__GetOverwriteResultBgmIds(
                            questphase_ent,
                            **(System_Int32_array ***)(v20 + 184),
                            0LL);
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  questphase_ent = (QuestPhaseEntity_o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_CommonReleaseMaster___);
  if ( !v15 )
    goto LABEL_45;
  v22 = *(_QWORD *)&v15->max_length;
  if ( (int)v22 < 1 )
    goto LABEL_43;
  v23 = (CommonReleaseMaster_o *)questphase_ent;
  v24 = 0LL;
  while ( 1 )
  {
    if ( v24 >= (unsigned int)v22 )
      goto LABEL_46;
    if ( !v23 )
      goto LABEL_45;
    questphase_ent = (QuestPhaseEntity_o *)CommonReleaseMaster__IsOpen(v23, v15->m_Items[v24 + 1], 0LL, 0, 0LL);
    if ( ((unsigned __int8)questphase_ent & 1) != 0 )
      break;
    LODWORD(v22) = v15->max_length;
    if ( (__int64)++v24 >= (int)v22 )
      goto LABEL_43;
  }
  if ( !OverwriteResultBgmIds )
LABEL_45:
    sub_B2C434(questphase_ent, method);
  max_length = OverwriteResultBgmIds->max_length;
  if ( (int)v24 < max_length )
  {
    if ( (unsigned int)v24 >= max_length )
    {
LABEL_46:
      v27 = sub_B2C460(questphase_ent);
      sub_B2C400(v27, 0LL);
    }
    ResultBgmId = OverwriteResultBgmIds->m_Items[v24 + 1];
  }
LABEL_43:
  questphase_ent = (QuestPhaseEntity_o *)this->fields.battleEvent;
  if ( !questphase_ent )
    goto LABEL_45;
  return ((__int64 (__fastcall *)(QuestPhaseEntity_o *, _QWORD, void *))questphase_ent->klass[1]._1.klass)(
           questphase_ent,
           ResultBgmId,
           questphase_ent->klass[1]._1.fields);
}


System_Collections_Generic_List_BattleServantData__o *__fastcall BattleData__GetBattleServantDataList(
        BattleData_o *this,
        bool isEnemy,
        const MethodInfo *method)
{
  __int64 v3; // x8

  v3 = 128LL;
  if ( isEnemy )
    v3 = 168LL;
  return *(System_Collections_Generic_List_BattleServantData__o **)((char *)&this->klass + v3);
}


System_String_o *__fastcall BattleData__GetBattleUseItemParameter(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1

  if ( (byte_4184359 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_2536/*"BATTLE_USE_ITEM_SAVEKEY"*/, v2);
    byte_4184359 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__GetString((System_String_o *)StringLiteral_2536/*"BATTLE_USE_ITEM_SAVEKEY"*/, 0LL);
}


int32_t __fastcall BattleData__GetBeforeBattleSkillActor(BattleData_o *this, int32_t defVal, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, defVal);
  return QuestPhaseEntity__GetBeforeBattleSkillActor(questphase_ent, defVal, 0LL);
}


// local variable allocation has failed, the output may be wrong!
System_Single_array *__fastcall BattleData__GetCameraClipRangeFromBgMaster(
        BattleData_o *this,
        int32_t bgId,
        int32_t bgType,
        const MethodInfo *method)
{
  __int64 v6; // x1
  BattleBgMaster_o *Master_WarQuestSelectionMaster; // x0
  __int64 v8; // x1
  bool v9; // w8
  System_Single_array *result; // x0
  BattleBgEntity_o *entity; // [xsp+8h] [xbp-18h] BYREF

  if ( (byte_41843AC & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_BattleBgMaster___, *(_QWORD *)&bgId);
    sub_B2C35C(&DataManager_TypeInfo, v6);
    byte_41843AC = 1;
  }
  entity = 0LL;
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = (BattleBgMaster_o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_BattleBgMaster___);
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_11;
  v9 = BattleBgMaster__TryGetEntity(Master_WarQuestSelectionMaster, &entity, bgId, bgType, 0LL);
  result = 0LL;
  if ( !v9 )
    return result;
  Master_WarQuestSelectionMaster = (BattleBgMaster_o *)entity;
  if ( !entity )
LABEL_11:
    sub_B2C434(Master_WarQuestSelectionMaster, v8);
  return BattleBgEntity__GetCameraClippingRange(entity, 0LL);
}


System_Collections_Generic_List_EventCommandAssistEntity__o *__fastcall BattleData__GetCommandAssistList(
        BattleData_o *this,
        System_Collections_Generic_List_EventCommandAssistEntity__o *commandAssistInfoList,
        int32_t cardType,
        const MethodInfo *method)
{
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  BattleData___c__DisplayClass549_0_o *v14; // x21
  System_Collections_Generic_List_T__o *All; // x0
  __int64 v16; // x1
  System_Predicate_peRenderTexture_ChangeLayerObject__o *v17; // x20
  System_Object_array *v18; // x0
  System_Collections_Generic_IEnumerable_T__o *Shuffle_object; // x19
  System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *v20; // x20

  if ( (byte_4184374 & 1) == 0 )
  {
    sub_B2C35C(&Method_BattleRandom_getShuffle_EventCommandAssistEntity___, commandAssistInfoList);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCommandAssistEntity__FindAll__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCommandAssistEntity__ToArray__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCommandAssistEntity___ctor___67305064, v8);
    sub_B2C35C(&System_Collections_Generic_List_EventCommandAssistEntity__TypeInfo, v9);
    sub_B2C35C(&Method_System_Predicate_EventCommandAssistEntity___ctor__, v10);
    sub_B2C35C(&System_Predicate_EventCommandAssistEntity__TypeInfo, v11);
    sub_B2C35C(&Method_BattleData___c__DisplayClass549_0__GetCommandAssistList_b__0__, v12);
    sub_B2C35C(&BattleData___c__DisplayClass549_0_TypeInfo, v13);
    byte_4184374 = 1;
  }
  v14 = (BattleData___c__DisplayClass549_0_o *)sub_B2C42C(BattleData___c__DisplayClass549_0_TypeInfo);
  BattleData___c__DisplayClass549_0___ctor(v14, 0LL);
  if ( !v14
    || (v14->fields.cardType = cardType,
        v17 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_EventCommandAssistEntity__TypeInfo),
        System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
          v17,
          (Il2CppObject *)v14,
          Method_BattleData___c__DisplayClass549_0__GetCommandAssistList_b__0__,
          (const MethodInfo_2952BE4 *)Method_System_Predicate_EventCommandAssistEntity___ctor__),
        !commandAssistInfoList)
    || (All = System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo___FindAll(
                (System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo__o *)commandAssistInfoList,
                (System_Predicate_T__o *)v17,
                (const MethodInfo_2EF4DE8 *)Method_System_Collections_Generic_List_EventCommandAssistEntity__FindAll__)) == 0LL )
  {
    sub_B2C434(All, v16);
  }
  v18 = (System_Object_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                 (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)All,
                                 (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_EventCommandAssistEntity__ToArray__);
  Shuffle_object = (System_Collections_Generic_IEnumerable_T__o *)BattleRandom__getShuffle_object_(
                                                                    v18,
                                                                    (const MethodInfo_172A930 *)Method_BattleRandom_getShuffle_EventCommandAssistEntity___);
  v20 = (System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *)sub_B2C42C(System_Collections_Generic_List_EventCommandAssistEntity__TypeInfo);
  System_Collections_Generic_List_WarBoardAIRoute_RouteData____ctor(
    v20,
    Shuffle_object,
    (const MethodInfo_2EF3994 *)Method_System_Collections_Generic_List_EventCommandAssistEntity___ctor___67305064);
  return (System_Collections_Generic_List_EventCommandAssistEntity__o *)v20;
}


// local variable allocation has failed, the output may be wrong!
UnityEngine_Vector3_o __fastcall BattleData__GetCommandSpellCutinOffset(BattleData_o *this, const MethodInfo *method)
{
  BattleMasterImageEntity_o *BattleMasterImageEntity; // x0
  float commandSpellCutinOffsetX; // s0
  float commandSpellCutinOffsetY; // s1
  float v5; // s2
  UnityEngine_Vector3_o result; // 0:s0.4,4:s1.4,8:s2.4

  BattleMasterImageEntity = BattleData__GetBattleMasterImageEntity(this, method);
  if ( !BattleMasterImageEntity )
    goto LABEL_5;
  if ( !*(_QWORD *)&BattleMasterImageEntity->fields.commandSpellCutinOffsetX )
  {
    BattleMasterImageEntity = 0LL;
LABEL_5:
    *(UnityEngine_Vector3_o *)&commandSpellCutinOffsetX = UnityEngine_Vector3__get_zero((const MethodInfo *)BattleMasterImageEntity);
    goto LABEL_6;
  }
  commandSpellCutinOffsetX = (float)BattleMasterImageEntity->fields.commandSpellCutinOffsetX;
  commandSpellCutinOffsetY = (float)BattleMasterImageEntity->fields.commandSpellCutinOffsetY;
  v5 = 0.0;
LABEL_6:
  result.fields.z = v5;
  result.fields.y = commandSpellCutinOffsetY;
  result.fields.x = commandSpellCutinOffsetX;
  return result;
}


int32_t __fastcall BattleData__GetContinueCount(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.continueCount;
}


int64_t __fastcall BattleData__GetContinueDeadLine(BattleData_o *this, const MethodInfo *method)
{
  int64_t result; // x0

  result = this->fields.continueItemDeadLine;
  if ( !result )
  {
    BattleData__UpdateContinueItemInfo(this, method);
    return this->fields.continueItemDeadLine;
  }
  return result;
}


int32_t __fastcall BattleData__GetContinueItemId(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1

  if ( (byte_4184357 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_3384/*"CONTINUE_ITEM_SAVEKEY"*/, v2);
    byte_4184357 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__GetInt_33168616((System_String_o *)StringLiteral_3384/*"CONTINUE_ITEM_SAVEKEY"*/, 0, 0LL);
}


int32_t __fastcall BattleData__GetContinueItemImageId(BattleData_o *this, const MethodInfo *method)
{
  int32_t result; // w0

  result = this->fields.continueItemImageId;
  if ( !result )
  {
    BattleData__UpdateContinueItemInfo(this, method);
    return this->fields.continueItemImageId;
  }
  return result;
}


int32_t __fastcall BattleData__GetContinueItemNum(BattleData_o *this, const MethodInfo *method)
{
  int32_t result; // w0

  result = this->fields.continueItemNum;
  if ( !result )
  {
    BattleData__UpdateContinueItemInfo(this, method);
    return this->fields.continueItemNum;
  }
  return result;
}


int32_t __fastcall BattleData__GetContinueUseItemId(BattleData_o *this, const MethodInfo *method)
{
  int32_t result; // w0

  result = this->fields.continueUseItemId;
  if ( !result )
  {
    BattleData__UpdateContinueItemInfo(this, method);
    return this->fields.continueUseItemId;
  }
  return result;
}


int32_t __fastcall BattleData__GetCurrentEnemyMasterFaceId(BattleData_o *this, const MethodInfo *method)
{
  __int64 enemyMasterChangedFaceId; // x0
  struct EnemyMstBattleEntity_o *enemyMasterInfo; // x8

  enemyMasterChangedFaceId = (unsigned int)this->fields.enemyMasterChangedFaceId;
  if ( (int)enemyMasterChangedFaceId <= 0 )
  {
    enemyMasterInfo = this->fields.enemyMasterInfo;
    if ( !enemyMasterInfo )
      sub_B2C434(enemyMasterChangedFaceId, method);
    LODWORD(enemyMasterChangedFaceId) = enemyMasterInfo->fields.faceId;
  }
  return enemyMasterChangedFaceId;
}


int64_t __fastcall BattleData__GetCurrentUniqueWaveTurn(BattleData_o *this, const MethodInfo *method)
{
  return ServantWaveTurnEventOwner__CalcWaveTurnVal(this->fields.wavecount, this->fields.turnCount, 0LL);
}


// local variable allocation has failed, the output may be wrong!
System_Int32_array *__fastcall BattleData__GetCutInSvtIds(BattleData_o *this, bool isEnemy, const MethodInfo *method)
{
  StageEntity_o *StageEntity; // x0
  __int64 v5; // x1

  StageEntity = BattleData__getStageEntity(this, (const MethodInfo *)isEnemy);
  if ( !StageEntity )
    sub_B2C434(0LL, v5);
  return StageEntity__GetCutInSvtIds(StageEntity, isEnemy, 0LL);
}


int32_t __fastcall BattleData__GetDefenceTargetContinueRecoverRate(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0
  int32_t result; // w0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    return 500;
  result = QuestPhaseEntity__GetDefenceTargetContinueRecoverRate(questphase_ent, 0LL);
  if ( result < 1 )
    return 500;
  return result;
}


int32_t __fastcall BattleData__GetEffectBgmId(BattleData_o *this, const MethodInfo *method)
{
  StageEntity_o *StageEntity; // x0
  __int64 v3; // x1

  StageEntity = BattleData__getStageEntity(this, method);
  if ( !StageEntity )
    sub_B2C434(0LL, v3);
  return StageEntity__GetEffectBgmId(StageEntity, 0LL);
}


int32_t __fastcall BattleData__GetEffectSvtId(BattleData_o *this, const MethodInfo *method)
{
  StageEntity_o *StageEntity; // x0
  __int64 v3; // x1

  StageEntity = BattleData__getStageEntity(this, method);
  if ( !StageEntity )
    sub_B2C434(0LL, v3);
  return StageEntity__GetEffectSvtId(StageEntity, 0LL);
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__GetEnemySummonId(BattleData_o *this, int32_t index, const MethodInfo *method)
{
  StageEntity_o *StageEntity; // x0
  __int64 v6; // x1
  System_Int32_array *v7; // x0

  if ( (byte_418438F & 1) == 0 )
  {
    sub_B2C35C(&Method_BasicHelper_IndexValue_int____67381984, *(_QWORD *)&index);
    byte_418438F = 1;
  }
  StageEntity = BattleData__getStageEntity(this, *(const MethodInfo **)&index);
  if ( !StageEntity )
    sub_B2C434(0LL, v6);
  v7 = StageEntity__GetFieldCallServantId(StageEntity, 0LL);
  return BasicHelper__IndexValue_int_(
           v7,
           index,
           -1,
           (const MethodInfo_172891C *)Method_BasicHelper_IndexValue_int____67381984);
}


EquipAddEntity_o *__fastcall BattleData__GetEquipAddEntity(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  QuestPhaseEntity_o *questphase_ent; // x0
  WarQuestSelectionMaster_o *Master_WarQuestSelectionMaster; // x0
  __int64 v6; // x1
  EquipAddMaster_o *v7; // x20
  int32_t EquipAddId; // w21
  const MethodInfo *v9; // x1

  if ( (byte_41843A9 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_EquipAddMaster___, method);
    sub_B2C35C(&DataManager_TypeInfo, v3);
    byte_41843A9 = 1;
  }
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent || QuestPhaseEntity__GetEquipAddId(questphase_ent, 0LL) < 1 )
    return 0LL;
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_EquipAddMaster___);
  if ( !this->fields.questphase_ent
    || (v7 = (EquipAddMaster_o *)Master_WarQuestSelectionMaster,
        EquipAddId = QuestPhaseEntity__GetEquipAddId(this->fields.questphase_ent, 0LL),
        Master_WarQuestSelectionMaster = (WarQuestSelectionMaster_o *)BattleData__getMasterEquipId(this, v9),
        !v7) )
  {
    sub_B2C434(Master_WarQuestSelectionMaster, v6);
  }
  return EquipAddMaster__GetEntity(v7, EquipAddId, (int32_t)Master_WarQuestSelectionMaster, 0LL);
}


void __fastcall BattleData__GetEquipAddImageId(BattleData_o *this, int32_t *overwriteImageId, const MethodInfo *method)
{
  EquipAddEntity_o *EquipAddEntity; // x0
  EquipAddEntity_o *v6; // x21

  if ( !*overwriteImageId )
  {
    EquipAddEntity = BattleData__GetEquipAddEntity(this, (const MethodInfo *)overwriteImageId);
    if ( EquipAddEntity )
    {
      v6 = EquipAddEntity;
      if ( EquipAddEntity__IsOpen(EquipAddEntity, 0LL) )
        LODWORD(EquipAddEntity) = EquipAddEntity__GetImageId(v6, this->fields.battleGenderType, 0LL);
      else
        LODWORD(EquipAddEntity) = 0;
    }
    *overwriteImageId = (int)EquipAddEntity;
  }
}


int32_t __fastcall BattleData__GetEventId(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  BattleData_c *v3; // x0
  UnityEngine_Object_o *Instance; // x19
  BattleData_c *v6; // x0
  BattleData_o *v7; // x0
  __int64 v8; // x1
  struct BattleEntity_o *battle_ent; // x8

  if ( (byte_41842DA & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, v1);
    sub_B2C35C(&UnityEngine_Object_TypeInfo, v2);
    byte_41842DA = 1;
  }
  v3 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  Instance = (UnityEngine_Object_o *)BattleData__get_Instance((const MethodInfo *)v3);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  if ( UnityEngine_Object__op_Equality(Instance, 0LL, 0LL) )
    return 0;
  v6 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  v7 = BattleData__get_Instance((const MethodInfo *)v6);
  if ( !v7 || (battle_ent = v7->fields.battle_ent) == 0LL )
    sub_B2C434(v7, v8);
  return battle_ent->fields.eventId;
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleData__GetFieldAliveLogicServantArray(
        BattleData_o *this,
        int32_t targetFlag,
        bool isTargetOnly,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v16; // x19
  System_Enum_o *v17; // x23
  System_Collections_Generic_IEnumerable_T__o *FieldEnemyServantList; // x0
  __int64 v19; // x1
  const MethodInfo *v20; // x2
  System_Enum_o *v21; // x21
  const MethodInfo *v22; // x1
  BattleData___c_c *v23; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__456_0; // x20
  Il2CppObject *v26; // x21
  struct BattleData___c_StaticFields *v27; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v28; // x0
  int v30; // [xsp+8h] [xbp-38h] BYREF
  int32_t v31; // [xsp+Ch] [xbp-34h] BYREF

  if ( (byte_4184340 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_BattleServantData___, *(_QWORD *)&targetFlag);
    sub_B2C35C(&Method_System_Linq_Enumerable_Where_BattleServantData___, v7);
    sub_B2C35C(&Method_System_Func_BattleServantData__bool___ctor__, v8);
    sub_B2C35C(&System_Func_BattleServantData__bool__TypeInfo, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__AddRange__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v11);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v12);
    sub_B2C35C(&Target_PlayerTypeFlag_TypeInfo, v13);
    sub_B2C35C(&Method_BattleData___c__GetFieldAliveLogicServantArray_b__456_0__, v14);
    sub_B2C35C(&BattleData___c_TypeInfo, v15);
    byte_4184340 = 1;
  }
  v16 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v16,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  v31 = targetFlag;
  v17 = (System_Enum_o *)j_il2cpp_value_box_0(Target_PlayerTypeFlag_TypeInfo, &v31);
  v30 = 2;
  FieldEnemyServantList = (System_Collections_Generic_IEnumerable_T__o *)j_il2cpp_value_box_0(
                                                                           Target_PlayerTypeFlag_TypeInfo,
                                                                           &v30);
  if ( !v17 )
    goto LABEL_20;
  if ( System_Enum__HasFlag(v17, (System_Enum_o *)FieldEnemyServantList, 0LL) )
  {
    FieldEnemyServantList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getFieldEnemyServantList(
                                                                             this,
                                                                             isTargetOnly,
                                                                             v20);
    if ( !v16 )
      goto LABEL_20;
    System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
      (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v16,
      FieldEnemyServantList,
      (const MethodInfo_2EF46B0 *)Method_System_Collections_Generic_List_BattleServantData__AddRange__);
  }
  v31 = targetFlag;
  v21 = (System_Enum_o *)j_il2cpp_value_box_0(Target_PlayerTypeFlag_TypeInfo, &v31);
  v30 = 1;
  FieldEnemyServantList = (System_Collections_Generic_IEnumerable_T__o *)j_il2cpp_value_box_0(
                                                                           Target_PlayerTypeFlag_TypeInfo,
                                                                           &v30);
  if ( !v21 )
LABEL_20:
    sub_B2C434(FieldEnemyServantList, v19);
  if ( System_Enum__HasFlag(v21, (System_Enum_o *)FieldEnemyServantList, 0LL) )
  {
    FieldEnemyServantList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getFieldPlayerServantList(
                                                                             this,
                                                                             v22);
    if ( v16 )
    {
      System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
        (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v16,
        FieldEnemyServantList,
        (const MethodInfo_2EF46B0 *)Method_System_Collections_Generic_List_BattleServantData__AddRange__);
      goto LABEL_11;
    }
    goto LABEL_20;
  }
LABEL_11:
  v23 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v23 = BattleData___c_TypeInfo;
  }
  static_fields = v23->static_fields;
  _9__456_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)static_fields->__9__456_0;
  if ( !_9__456_0 )
  {
    if ( (BYTE3(v23->vtable._0_Equals.methodPtr) & 4) != 0 && !v23->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v23);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v26 = (Il2CppObject *)static_fields->__9;
    _9__456_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B2C42C(System_Func_BattleServantData__bool__TypeInfo);
    System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
      _9__456_0,
      v26,
      Method_BattleData___c__GetFieldAliveLogicServantArray_b__456_0__,
      (const MethodInfo_2711C04 *)Method_System_Func_BattleServantData__bool___ctor__);
    v27 = BattleData___c_TypeInfo->static_fields;
    v27->__9__456_0 = (struct System_Func_BattleServantData__bool__o *)_9__456_0;
    sub_B2C2F8(&v27->__9__456_0, _9__456_0);
  }
  v28 = System_Linq_Enumerable__Where_WarBoardManager_WarBoardOnboardSkillTarget_(
          (System_Collections_Generic_IEnumerable_TSource__o *)v16,
          (System_Func_TSource__bool__o *)_9__456_0,
          (const MethodInfo_1A9F3E4 *)Method_System_Linq_Enumerable_Where_BattleServantData___);
  return (BattleServantData_array *)System_Linq_Enumerable__ToArray_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
                                      v28,
                                      (const MethodInfo_1A9AFC8 *)Method_System_Linq_Enumerable_ToArray_BattleServantData___);
}


System_Collections_Generic_List_int__o *__fastcall BattleData__GetFieldIndividuality4Servant(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  System_Collections_Generic_List_int__o *v5; // x19
  const MethodInfo *v6; // x1
  void *FieldPlayerServantList; // x0
  __int64 v8; // x1
  const MethodInfo *v9; // x2
  int v10; // w8
  _DWORD *v11; // x21
  unsigned int v12; // w23
  char *v13; // x8
  BattleServantData_o *v14; // x22
  int v15; // w8
  void *v16; // x22
  unsigned int v17; // w25
  __int64 v18; // x8
  int v19; // w8
  _DWORD *v20; // x20
  unsigned int v21; // w22
  char *v22; // x8
  BattleServantData_o *v23; // x21
  int v24; // w8
  void *v25; // x21
  unsigned int v26; // w24
  __int64 v27; // x8
  __int64 v29; // x0

  if ( (byte_4184319 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v3);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v4);
    byte_4184319 = 1;
  }
  v5 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v5,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  FieldPlayerServantList = BattleData__getFieldPlayerServantList(this, v6);
  if ( !FieldPlayerServantList )
    goto LABEL_32;
  v10 = *((_DWORD *)FieldPlayerServantList + 6);
  v11 = FieldPlayerServantList;
  if ( v10 >= 1 )
  {
    v12 = 0;
    while ( 1 )
    {
      if ( v12 >= v10 )
        goto LABEL_33;
      v13 = (char *)&v11[2 * v12];
      v14 = (BattleServantData_o *)*((_QWORD *)v13 + 4);
      if ( !v14 )
        goto LABEL_32;
      FieldPlayerServantList = (void *)BattleServantData__isDead(*((BattleServantData_o **)v13 + 4), 0LL);
      if ( ((unsigned __int8)FieldPlayerServantList & 1) == 0 )
      {
        FieldPlayerServantList = BattleServantData__getFieldIndividualityBuff(v14, 0LL);
        if ( !FieldPlayerServantList )
          goto LABEL_32;
        v15 = *((_DWORD *)FieldPlayerServantList + 6);
        v16 = FieldPlayerServantList;
        if ( v15 >= 1 )
          break;
      }
LABEL_16:
      v10 = v11[6];
      if ( (int)++v12 >= v10 )
        goto LABEL_17;
    }
    v17 = 0;
    while ( v17 < v15 )
    {
      v18 = *((_QWORD *)v16 + (int)v17 + 4);
      if ( !v18 || !v5 )
        goto LABEL_32;
      System_Collections_Generic_List_int___Add(
        v5,
        *(_DWORD *)(v18 + 28),
        (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
      v15 = *((_DWORD *)v16 + 6);
      if ( (int)++v17 >= v15 )
        goto LABEL_16;
    }
LABEL_33:
    v29 = sub_B2C460(FieldPlayerServantList);
    sub_B2C400(v29, 0LL);
  }
LABEL_17:
  FieldPlayerServantList = BattleData__getFieldEnemyServantList(this, 0, v9);
  if ( !FieldPlayerServantList )
LABEL_32:
    sub_B2C434(FieldPlayerServantList, v8);
  v19 = *((_DWORD *)FieldPlayerServantList + 6);
  v20 = FieldPlayerServantList;
  if ( v19 >= 1 )
  {
    v21 = 0;
    while ( 1 )
    {
      if ( v21 >= v19 )
        goto LABEL_33;
      v22 = (char *)&v20[2 * v21];
      v23 = (BattleServantData_o *)*((_QWORD *)v22 + 4);
      if ( !v23 )
        goto LABEL_32;
      FieldPlayerServantList = (void *)BattleServantData__isDead(*((BattleServantData_o **)v22 + 4), 0LL);
      if ( ((unsigned __int8)FieldPlayerServantList & 1) == 0 )
      {
        FieldPlayerServantList = BattleServantData__getFieldIndividualityBuff(v23, 0LL);
        if ( !FieldPlayerServantList )
          goto LABEL_32;
        v24 = *((_DWORD *)FieldPlayerServantList + 6);
        v25 = FieldPlayerServantList;
        if ( v24 >= 1 )
          break;
      }
LABEL_30:
      v19 = v20[6];
      if ( (int)++v21 >= v19 )
        return v5;
    }
    v26 = 0;
    while ( v26 < v24 )
    {
      v27 = *((_QWORD *)v25 + (int)v26 + 4);
      if ( !v27 || !v5 )
        goto LABEL_32;
      System_Collections_Generic_List_int___Add(
        v5,
        *(_DWORD *)(v27 + 28),
        (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
      v24 = *((_DWORD *)v25 + 6);
      if ( (int)++v26 >= v24 )
        goto LABEL_30;
    }
    goto LABEL_33;
  }
  return v5;
}


int32_t __fastcall BattleData__GetFinishEffectId(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetFinishEffectId(questphase_ent, 0LL);
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__GetFirstBonusCriticalRate(
        BattleData_o *this,
        int32_t cardEntityId,
        const MethodInfo *method)
{
  BalanceConfig_c *v4; // x0

  if ( (byte_41843AB & 1) == 0 )
  {
    sub_B2C35C(&BalanceConfig_TypeInfo, *(_QWORD *)&cardEntityId);
    byte_41843AB = 1;
  }
  if ( cardEntityId != 3 )
    return 0;
  v4 = BalanceConfig_TypeInfo;
  if ( (BYTE3(BalanceConfig_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BalanceConfig_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BalanceConfig_TypeInfo);
    v4 = BalanceConfig_TypeInfo;
  }
  return v4->static_fields->CriticalRateToAddByQuickFirstBonus;
}


BattleCommandData_array *__fastcall BattleData__GetFixedCommandDatas(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.fixedCommands;
}


System_Int32_array *__fastcall BattleData__GetGimmickAnimTypeArray(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetGimmickAnimTypeArray(questphase_ent, 0LL);
}


int32_t __fastcall BattleData__GetGimmickId(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetGimmickId(questphase_ent, 0LL);
}


System_Object_array *__fastcall BattleData__GetGimmickResultVoiceArray(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetGimmickResultVoiceArray(questphase_ent, 0LL);
}


System_Int32_array *__fastcall BattleData__GetGimmickSkillIdArray(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetGimmickSkillIdArray(questphase_ent, 0LL);
}


System_Int32_array *__fastcall BattleData__GetGimmickSkillRateArray(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetGimmickSkillRateArray(questphase_ent, 0LL);
}


System_String_array *__fastcall BattleData__GetGimmickStartVoiceArray(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetGimmickStartVoiceArray(questphase_ent, 0LL);
}


int32_t __fastcall BattleData__GetGimmickSvtId(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetGimmickSvtId(questphase_ent, 0LL);
}


System_Int64_array *__fastcall BattleData__GetItemDroppedSkillShiftNpcSvtIdArray(
        BattleData_o *this,
        const MethodInfo *method)
{
  ItemDroppedSkillShiftInfo_o *itemDroppedSkillShiftInfo; // x0

  itemDroppedSkillShiftInfo = this->fields.itemDroppedSkillShiftInfo;
  if ( !itemDroppedSkillShiftInfo )
    sub_B2C434(0LL, method);
  return ItemDroppedSkillShiftInfo__GetNpcSvtIdArray(itemDroppedSkillShiftInfo, 0LL);
}


System_Int32_array *__fastcall BattleData__GetItemDroppedSkillShiftUniqueIdArray(
        BattleData_o *this,
        const MethodInfo *method)
{
  ItemDroppedSkillShiftInfo_o *itemDroppedSkillShiftInfo; // x0

  itemDroppedSkillShiftInfo = this->fields.itemDroppedSkillShiftInfo;
  if ( !itemDroppedSkillShiftInfo )
    sub_B2C434(0LL, method);
  return ItemDroppedSkillShiftInfo__GetUniqueIdArray(itemDroppedSkillShiftInfo, 0LL);
}


int32_t __fastcall BattleData__GetLimitRemainTurn(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.limitTurnCount + 1 - this->fields.turnCount;
}


int32_t __fastcall BattleData__GetLotteryCount(
        BattleData_o *this,
        BattleDeckServantData_array *svtDeckArray,
        System_Collections_Generic_List_List_EventCommandAssistEntity___o *commandAssistInfoOversightList,
        const MethodInfo *method)
{
  BattleData_o *v6; // x20
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  il2cpp_array_size_t max_length; // w22
  struct System_Collections_Generic_List_EventCommandAssistEntity__array *items; // x8
  System_Collections_Generic_List_EventCommandAssistEntity__o *v14; // x9
  int32_t size; // w23
  System_Collections_Generic_List_EventCommandAssistEntity__o *v16; // x9
  int32_t v17; // w24
  System_Collections_Generic_List_EventCommandAssistEntity__o *v18; // x8
  int32_t v19; // w8
  int32_t result; // w0
  signed int v21; // w8
  DataMasterBase_WarMaster__WarEntity__int__o *v22; // x22
  int v23; // w25
  int v24; // w21
  int v25; // w28
  unsigned int v26; // w26
  struct BattleEntity_o *battle_ent; // x8
  BattleDeckServantData_o *v28; // x9
  struct QuestPhaseEntity_o *questphase_ent; // x23
  struct QuestEntity_o *quest_ent; // x24
  struct BattleFieldData_array *field_datalist; // x11
  unsigned __int64 v32; // x8
  unsigned __int64 v33; // x9
  BattleFieldData_o **m_Items; // x11
  int v35; // w12
  int v36; // w8
  int v37; // w9
  int v38; // w10
  __int64 v39; // x0
  int32_t v40; // [xsp+0h] [xbp-60h]
  int v41; // [xsp+4h] [xbp-5Ch]
  int32_t v42; // [xsp+8h] [xbp-58h]
  int32_t v43; // [xsp+Ch] [xbp-54h]
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v44; // 0:x0.16

  v6 = this;
  if ( (byte_4184375 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_ServantMaster___, svtDeckArray);
    sub_B2C35C(&DataManager_TypeInfo, v7);
    sub_B2C35C(&Method_DataMasterBase_ServantMaster__ServantEntity__int__GetEntity__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCommandAssistEntity__get_Count__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_List_EventCommandAssistEntity___get_Item__, v10);
    this = (BattleData_o *)sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, v11);
    byte_4184375 = 1;
  }
  if ( !svtDeckArray || !commandAssistInfoOversightList )
    goto LABEL_58;
  if ( !commandAssistInfoOversightList->fields._size )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  items = commandAssistInfoOversightList->fields._items;
  v14 = items->m_Items[0];
  if ( !v14 )
    goto LABEL_58;
  size = v14->fields._size;
  if ( commandAssistInfoOversightList->fields._size <= 1u )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  v16 = items->m_Items[1];
  if ( !v16 )
    goto LABEL_58;
  v17 = v16->fields._size;
  if ( commandAssistInfoOversightList->fields._size <= 2u )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  v18 = items->m_Items[2];
  if ( !v18 )
LABEL_58:
    sub_B2C434(this, svtDeckArray);
  v19 = v18->fields._size;
  max_length = svtDeckArray->max_length;
  result = 5 * max_length;
  if ( !size || !v17 || !v19 )
  {
    v40 = v19;
    v41 = 5 * max_length;
    if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
    v42 = v17;
    v43 = size;
    this = (BattleData_o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_ServantMaster___);
    v21 = svtDeckArray->max_length;
    if ( v21 >= 1 )
    {
      v22 = (DataMasterBase_WarMaster__WarEntity__int__o *)this;
      v23 = 0;
      v24 = 0;
      v25 = 0;
      v26 = 0;
      while ( 1 )
      {
        if ( v26 >= v21 )
          goto LABEL_57;
        battle_ent = v6->fields.battle_ent;
        if ( !battle_ent )
          goto LABEL_58;
        v28 = svtDeckArray->m_Items[v26];
        if ( !v28 )
          goto LABEL_58;
        this = (BattleData_o *)battle_ent->fields.battleInfo;
        if ( !this )
          goto LABEL_58;
        this = (BattleData_o *)BattleInfoData__getUserServantFromID(
                                 (BattleInfoData_o *)this,
                                 v28->fields.userSvtId,
                                 0LL);
        if ( !this )
          goto LABEL_58;
        quest_ent = this->fields.quest_ent;
        questphase_ent = this->fields.questphase_ent;
        if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
        }
        *(_QWORD *)&v44.fields.currentCryptoKey = quest_ent;
        *(_QWORD *)&v44.fields.fakeValue = questphase_ent;
        this = (BattleData_o *)CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v44, 0LL);
        if ( !v22 )
          goto LABEL_58;
        this = (BattleData_o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                                 v22,
                                 (int32_t)this,
                                 (const MethodInfo_24E40D0 *)Method_DataMasterBase_ServantMaster__ServantEntity__int__GetEntity__);
        if ( !this )
          goto LABEL_58;
        field_datalist = this->fields.field_datalist;
        if ( !field_datalist )
          goto LABEL_58;
        v32 = field_datalist->max_length;
        if ( (__int64)(v32 << 32) >= 1 )
          break;
LABEL_43:
        v21 = svtDeckArray->max_length;
        if ( (int)++v26 >= v21 )
          goto LABEL_46;
      }
      v33 = 0LL;
      m_Items = field_datalist->m_Items;
      while ( v33 < v32 )
      {
        v35 = *((_DWORD *)m_Items + v33);
        switch ( v35 )
        {
          case 3:
            ++v25;
            break;
          case 2:
            ++v24;
            break;
          case 1:
            ++v23;
            break;
        }
        if ( (__int64)++v33 >= (int)v32 )
          goto LABEL_43;
      }
LABEL_57:
      v39 = sub_B2C460(this);
      sub_B2C400(v39, 0LL);
    }
    v25 = 0;
    v24 = 0;
    v23 = 0;
LABEL_46:
    if ( v43 )
      v36 = 0;
    else
      v36 = -v23;
    if ( v42 )
      v37 = 0;
    else
      v37 = -v24;
    if ( v40 )
      v38 = 0;
    else
      v38 = -v25;
    return v38 + v41 + v37 + v36;
  }
  return result;
}


int32_t __fastcall BattleData__GetMasterCommandSpellCutinImageId(BattleData_o *this, const MethodInfo *method)
{
  BattleMasterImageEntity_o *BattleMasterImageEntity; // x0

  BattleMasterImageEntity = BattleData__GetBattleMasterImageEntity(this, method);
  if ( BattleMasterImageEntity )
    LODWORD(BattleMasterImageEntity) = BattleMasterImageEntity->fields.commandSpellCutinId;
  return (int)BattleMasterImageEntity;
}


int32_t __fastcall BattleData__GetMasterIconImageId(BattleData_o *this, const MethodInfo *method)
{
  BattleMasterImageEntity_o *BattleMasterImageEntity; // x0

  BattleMasterImageEntity = BattleData__GetBattleMasterImageEntity(this, method);
  if ( BattleMasterImageEntity )
    LODWORD(BattleMasterImageEntity) = BattleMasterImageEntity->fields.faceIconId;
  return (int)BattleMasterImageEntity;
}


int32_t __fastcall BattleData__GetMasterIconResultImageId(BattleData_o *this, const MethodInfo *method)
{
  BattleMasterImageEntity_o *BattleMasterImageEntity; // x0

  BattleMasterImageEntity = BattleData__GetBattleMasterImageEntity(this, method);
  if ( BattleMasterImageEntity )
    LODWORD(BattleMasterImageEntity) = BattleMasterImageEntity->fields.resultImageId;
  return (int)BattleMasterImageEntity;
}


int32_t __fastcall BattleData__GetMasterSkillCutinImageId(BattleData_o *this, const MethodInfo *method)
{
  BattleMasterImageEntity_o *BattleMasterImageEntity; // x0

  BattleMasterImageEntity = BattleData__GetBattleMasterImageEntity(this, method);
  if ( BattleMasterImageEntity )
    LODWORD(BattleMasterImageEntity) = BattleMasterImageEntity->fields.skillCutinId;
  return (int)BattleMasterImageEntity;
}


// local variable allocation has failed, the output may be wrong!
UnityEngine_Vector3_o __fastcall BattleData__GetMasterSkillCutinOffset(BattleData_o *this, const MethodInfo *method)
{
  BattleMasterImageEntity_o *BattleMasterImageEntity; // x0
  float skillCutinOffsetX; // s0
  float skillCutinOffsetY; // s1
  float v5; // s2
  UnityEngine_Vector3_o result; // 0:s0.4,4:s1.4,8:s2.4

  BattleMasterImageEntity = BattleData__GetBattleMasterImageEntity(this, method);
  if ( !BattleMasterImageEntity )
    goto LABEL_5;
  if ( !*(_QWORD *)&BattleMasterImageEntity->fields.skillCutinOffsetX )
  {
    BattleMasterImageEntity = 0LL;
LABEL_5:
    *(UnityEngine_Vector3_o *)&skillCutinOffsetX = UnityEngine_Vector3__get_zero((const MethodInfo *)BattleMasterImageEntity);
    goto LABEL_6;
  }
  skillCutinOffsetX = (float)BattleMasterImageEntity->fields.skillCutinOffsetX;
  skillCutinOffsetY = (float)BattleMasterImageEntity->fields.skillCutinOffsetY;
  v5 = 0.0;
LABEL_6:
  result.fields.z = v5;
  result.fields.y = skillCutinOffsetY;
  result.fields.x = skillCutinOffsetX;
  return result;
}


BattleBuffData_BuffData_o *__fastcall BattleData__GetMaximumTurnFixedBuff(BattleData_o *this, const MethodInfo *method)
{
  BattleServantData_o *FieldPlayerServantList; // x0
  __int64 v3; // x1
  int uniqueId; // w8
  BattleServantData_o *v5; // x19
  unsigned int v6; // w21
  BattleBuffData_BuffData_o *v7; // x20
  __int64 v8; // x8
  int64_t currentCryptoKey; // x9
  __int64 v10; // x9
  BattleBuffData_BuffData_o *v11; // x10
  __int64 v13; // x0

  FieldPlayerServantList = (BattleServantData_o *)BattleData__getFieldPlayerServantList(this, method);
  if ( !FieldPlayerServantList )
    goto LABEL_25;
  uniqueId = FieldPlayerServantList->fields.uniqueId;
  v5 = FieldPlayerServantList;
  if ( uniqueId >= 1 )
  {
    v6 = 0;
    v7 = 0LL;
    while ( 1 )
    {
      if ( v6 >= uniqueId )
      {
LABEL_26:
        v13 = sub_B2C460(FieldPlayerServantList);
        sub_B2C400(v13, 0LL);
      }
      FieldPlayerServantList = (BattleServantData_o *)*(&v5->fields.userSvtId.fields.currentCryptoKey + (int)v6);
      if ( !FieldPlayerServantList )
        goto LABEL_25;
      FieldPlayerServantList = (BattleServantData_o *)BattleServantData__getFixCommandCardBuff(
                                                        FieldPlayerServantList,
                                                        0LL);
      if ( !FieldPlayerServantList )
        goto LABEL_25;
      v8 = *(_QWORD *)&FieldPlayerServantList->fields.uniqueId;
      if ( v8 )
      {
        if ( v7 )
        {
          if ( !(_DWORD)v8 )
            goto LABEL_26;
          currentCryptoKey = FieldPlayerServantList->fields.userSvtId.fields.currentCryptoKey;
          if ( !currentCryptoKey )
            goto LABEL_25;
          if ( v7->fields.turn >= *(_DWORD *)(currentCryptoKey + 20) )
            goto LABEL_21;
        }
        else if ( !(_DWORD)v8 )
        {
          goto LABEL_26;
        }
        v7 = (BattleBuffData_BuffData_o *)FieldPlayerServantList->fields.userSvtId.fields.currentCryptoKey;
        if ( (int)v8 >= 2 )
        {
          v10 = 5LL;
          while ( v7 )
          {
            v11 = (BattleBuffData_BuffData_o *)*((_QWORD *)&FieldPlayerServantList->klass + v10);
            if ( !v11 )
              break;
            ++v10;
            if ( v7->fields.turn < v11->fields.turn )
              v7 = v11;
            if ( (int)v10 - 4 >= (int)v8 )
              goto LABEL_21;
          }
LABEL_25:
          sub_B2C434(FieldPlayerServantList, v3);
        }
      }
LABEL_21:
      uniqueId = v5->fields.uniqueId;
      if ( (int)++v6 >= uniqueId )
        return v7;
    }
  }
  return 0LL;
}


int32_t __fastcall BattleData__GetMovieAfterCrossFadeStartFrame(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetMovieAfterCrossFadeStartFrame(questphase_ent, 0LL);
}


float __fastcall BattleData__GetMovieAfterCrossFadeTime(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return (float)QuestPhaseEntity__GetMovieAfterCrossFadeTime(questphase_ent, 0LL) / 1000.0;
}


System_Int32_array *__fastcall BattleData__GetMultiEffectIds(BattleData_o *this, const MethodInfo *method)
{
  StageEntity_o *StageEntity; // x0
  __int64 v3; // x1

  StageEntity = BattleData__getStageEntity(this, method);
  if ( !StageEntity )
    sub_B2C434(0LL, v3);
  return StageEntity__GetMultiEffectIds(StageEntity, 0LL);
}


System_Int32_array *__fastcall BattleData__GetNotSvtActorIndividualityArray(
        BattleData_o *this,
        BattleActionData_o *mainAction,
        bool isSvtAction,
        const MethodInfo *method)
{
  struct BattleFieldEnvironmentData_o *FieldEnvData_k__BackingField; // x0

  if ( !mainAction || isSvtAction || mainAction->fields.state != 2 )
    return 0LL;
  FieldEnvData_k__BackingField = this->fields._FieldEnvData_k__BackingField;
  if ( !FieldEnvData_k__BackingField )
    sub_B2C434(0LL, mainAction);
  return (System_Int32_array *)((__int64 (__fastcall *)(struct BattleFieldEnvironmentData_o *, _QWORD, Il2CppMethodPointer))FieldEnvData_k__BackingField->klass->vtable._4_GetFieldIndividuality.method)(
                                 FieldEnvData_k__BackingField,
                                 0LL,
                                 FieldEnvData_k__BackingField->klass->vtable._5_AddBackground.methodPtr);
}


int32_t __fastcall BattleData__GetOverWriteMasterImageId(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetOverWriteMasterImageId(questphase_ent, 0LL);
}


int32_t __fastcall BattleData__GetOverwriteCommandSpellContinue(
        BattleData_o *this,
        int32_t def,
        const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( questphase_ent )
    return QuestPhaseEntity__GetOverwriteCommandSpellContinue(questphase_ent, def, 0LL);
  else
    return def;
}


int32_t __fastcall BattleData__GetOverwriteCommandSpellIcon(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( questphase_ent )
    LODWORD(questphase_ent) = QuestPhaseEntity__GetOverwriteCommandSpellIcon(
                                questphase_ent,
                                this->fields.battleGenderType,
                                0LL,
                                0LL);
  return (int)questphase_ent;
}


System_Int32_array *__fastcall BattleData__GetOverwriteResultBgmCondIds(
        BattleData_o *this,
        System_Int32_array *defVal,
        const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, defVal);
  return QuestPhaseEntity__GetOverwriteResultBgmCondIds(questphase_ent, defVal, 0LL);
}


System_Int32_array *__fastcall BattleData__GetOverwriteResultBgmIds(
        BattleData_o *this,
        System_Int32_array *defVal,
        const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, defVal);
  return QuestPhaseEntity__GetOverwriteResultBgmIds(questphase_ent, defVal, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleActorControl_o *__fastcall BattleData__GetPartsActor(BattleData_o *this, int32_t pos, const MethodInfo *method)
{
  BattleData_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x23
  __int64 v9; // x21
  unsigned __int64 v10; // x22
  struct System_Collections_Generic_List_BattleServantData__o *v11; // x23
  struct System_Collections_Generic_List_BattleServantData__o *v12; // x23
  struct System_Collections_Generic_List_BattleServantData__o *v13; // x23
  struct System_Collections_Generic_List_BattleServantData__o *v14; // x20
  __int64 v15; // x8
  UnityEngine_Object_o *ServantGameObject; // x19
  bool v17; // w8

  v4 = this;
  if ( (byte_4184381 & 1) == 0 )
  {
    sub_B2C35C(&Method_UnityEngine_GameObject_GetComponent_BattleActorControl___, *(_QWORD *)&pos);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v6);
    this = (BattleData_o *)sub_B2C35C(&UnityEngine_Object_TypeInfo, v7);
    byte_4184381 = 1;
  }
  if ( !v4->fields.isMultiTargetBattle )
    return 0LL;
  enemy_datalist = v4->fields.enemy_datalist;
  if ( !enemy_datalist )
    goto LABEL_45;
  v9 = 4LL;
  while ( 1 )
  {
    v10 = v9 - 4;
    if ( v9 - 4 >= enemy_datalist->fields._size )
      return 0LL;
    if ( v10 >= (unsigned int)enemy_datalist->fields._size )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    if ( *((_QWORD *)&enemy_datalist->fields._items->obj.klass + v9) )
    {
      if ( pos != 2 )
      {
        if ( pos == 1 )
        {
          v12 = v4->fields.enemy_datalist;
          if ( !v12 )
            goto LABEL_45;
          if ( v10 >= (unsigned int)v12->fields._size )
            System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
          this = (BattleData_o *)*((_QWORD *)&v12->fields._items->obj.klass + v9);
          if ( !this )
            goto LABEL_45;
          this = (BattleData_o *)BattleServantData__isMultiTargetCore((BattleServantData_o *)this, 0LL);
          if ( ((unsigned __int8)this & 1) != 0 )
            break;
        }
        else if ( !pos )
        {
          v11 = v4->fields.enemy_datalist;
          if ( !v11 )
            goto LABEL_45;
          if ( v10 >= (unsigned int)v11->fields._size )
            System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
          this = (BattleData_o *)*((_QWORD *)&v11->fields._items->obj.klass + v9);
          if ( !this )
            goto LABEL_45;
          this = (BattleData_o *)BattleServantData__isMultiTargetUp((BattleServantData_o *)this, 0LL);
          if ( ((unsigned __int8)this & 1) != 0 )
            break;
        }
        goto LABEL_30;
      }
      v13 = v4->fields.enemy_datalist;
      if ( !v13 )
        goto LABEL_45;
      if ( v10 >= (unsigned int)v13->fields._size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      this = (BattleData_o *)*((_QWORD *)&v13->fields._items->obj.klass + v9);
      if ( !this )
        goto LABEL_45;
      this = (BattleData_o *)BattleServantData__isMultiTargetUnder((BattleServantData_o *)this, 0LL);
      if ( ((unsigned __int8)this & 1) != 0 )
        break;
    }
LABEL_30:
    enemy_datalist = v4->fields.enemy_datalist;
    ++v9;
    if ( !enemy_datalist )
      goto LABEL_45;
  }
  v14 = v4->fields.enemy_datalist;
  if ( !v14 )
    goto LABEL_45;
  if ( v14->fields._size <= (unsigned int)(v9 - 4) )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  v15 = *((_QWORD *)&v14->fields._items->obj.klass + v9);
  if ( !v15 )
    return 0LL;
  this = (BattleData_o *)v4->fields.perf;
  if ( !this )
    goto LABEL_45;
  ServantGameObject = (UnityEngine_Object_o *)BattlePerformance__getServantGameObject(
                                                (BattlePerformance_o *)this,
                                                *(_DWORD *)(v15 + 24),
                                                0LL);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  v17 = UnityEngine_Object__op_Inequality(ServantGameObject, 0LL, 0LL);
  this = 0LL;
  if ( v17 )
  {
    if ( ServantGameObject )
      return (BattleActorControl_o *)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                       (UnityEngine_GameObject_o *)ServantGameObject,
                                       (const MethodInfo_1AA78DC *)Method_UnityEngine_GameObject_GetComponent_BattleActorControl___);
LABEL_45:
    sub_B2C434(this, *(_QWORD *)&pos);
  }
  return (BattleActorControl_o *)this;
}


int32_t __fastcall BattleData__GetPositionIndex(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  BattleServantData_o *ServantData; // x0
  __int64 v5; // x1
  int uniqueId; // w8
  struct BattleData_o *data; // x9
  struct System_Int32_array *e_entryid; // x9
  int max_length; // w10
  __int64 i; // x0
  __int64 v11; // x0

  ServantData = BattleData__getServantData(this, this->fields.globaltargetId, v2);
  if ( ServantData )
    uniqueId = ServantData->fields.uniqueId;
  else
    uniqueId = -1;
  data = this->fields.data;
  if ( !data || (e_entryid = data->fields.e_entryid) == 0LL )
    sub_B2C434(ServantData, v5);
  max_length = e_entryid->max_length;
  for ( i = 0LL; (int)i < max_length; i = (unsigned int)(i + 1) )
  {
    if ( (unsigned int)i >= max_length )
    {
      v11 = sub_B2C460(i);
      sub_B2C400(v11, 0LL);
    }
    if ( uniqueId == e_entryid->m_Items[(int)i + 1] )
      return i;
  }
  LODWORD(i) = -1;
  return i;
}


System_Int32_array *__fastcall BattleData__GetPrioredIndividuality(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__getPrioredIndividuality(questphase_ent, 0LL);
}


System_Int32_array *__fastcall BattleData__GetQuestRouteIdArray(BattleData_o *this, const MethodInfo *method)
{
  System_Collections_Generic_List_int__o *listQuestRouteId; // x0

  if ( (byte_41843AF & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, method);
    byte_41843AF = 1;
  }
  listQuestRouteId = this->fields.listQuestRouteId;
  if ( !listQuestRouteId )
    sub_B2C434(0LL, method);
  return System_Collections_Generic_List_int___ToArray(
           listQuestRouteId,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


QuestPhaseEntity_o *__fastcall BattleData__GetQuestphaseEnt(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.questphase_ent;
}


int32_t __fastcall BattleData__GetRaidType(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  System_Collections_Generic_IEnumerable_TSource__o *EnemyServantList; // x19
  BattleData___c_c *v8; // x8
  struct BattleData___c_StaticFields *static_fields; // x9
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__585_0; // x20
  Il2CppObject *v11; // x21
  struct BattleData___c_StaticFields *v12; // x0
  WarBoardData_SquareRangeSearch_o *v13; // x0

  if ( (byte_4184387 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_FirstOrDefault_BattleServantData____67414416, method);
    sub_B2C35C(&Method_System_Func_BattleServantData__bool___ctor__, v3);
    sub_B2C35C(&System_Func_BattleServantData__bool__TypeInfo, v4);
    sub_B2C35C(&Method_BattleData___c__GetRaidType_b__585_0__, v5);
    sub_B2C35C(&BattleData___c_TypeInfo, v6);
    byte_4184387 = 1;
  }
  EnemyServantList = (System_Collections_Generic_IEnumerable_TSource__o *)BattleData__getEnemyServantList(this, method);
  v8 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v8 = BattleData___c_TypeInfo;
  }
  static_fields = v8->static_fields;
  _9__585_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)static_fields->__9__585_0;
  if ( !_9__585_0 )
  {
    if ( (BYTE3(v8->vtable._0_Equals.methodPtr) & 4) != 0 && !v8->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v8);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v11 = (Il2CppObject *)static_fields->__9;
    _9__585_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B2C42C(System_Func_BattleServantData__bool__TypeInfo);
    System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
      _9__585_0,
      v11,
      Method_BattleData___c__GetRaidType_b__585_0__,
      (const MethodInfo_2711C04 *)Method_System_Func_BattleServantData__bool___ctor__);
    v12 = BattleData___c_TypeInfo->static_fields;
    v12->__9__585_0 = (struct System_Func_BattleServantData__bool__o *)_9__585_0;
    sub_B2C2F8(&v12->__9__585_0, _9__585_0);
  }
  v13 = System_Linq_Enumerable__FirstOrDefault_WarBoardData_SquareRangeSearch_(
          EnemyServantList,
          (System_Func_TSource__bool__o *)_9__585_0,
          (const MethodInfo_1A9113C *)Method_System_Linq_Enumerable_FirstOrDefault_BattleServantData____67414416);
  if ( v13 )
  {
    if ( BYTE1(v13[19].klass) )
      LODWORD(v13) = 1;
    else
      LODWORD(v13) = 2;
  }
  return (int)v13;
}


System_Int32_array *__fastcall BattleData__GetReelIconArray(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetReelIconIdArray(questphase_ent, 0LL);
}


System_Collections_Generic_List_RestockServantLogic__o *__fastcall BattleData__GetRestockServantLogicList(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  struct System_Collections_Generic_List_RestockServantLogic__o *restockServantLogicList; // x19
  BattleData___c_c *v8; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Predicate_peRenderTexture_ChangeLayerObject__o *_9__332_0; // x20
  Il2CppObject *v11; // x21
  struct BattleData___c_StaticFields *v12; // x0

  if ( (byte_4184300 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_RestockServantLogic__FindAll__, method);
    sub_B2C35C(&Method_System_Predicate_RestockServantLogic___ctor__, v3);
    sub_B2C35C(&System_Predicate_RestockServantLogic__TypeInfo, v4);
    sub_B2C35C(&Method_BattleData___c__GetRestockServantLogicList_b__332_0__, v5);
    sub_B2C35C(&BattleData___c_TypeInfo, v6);
    byte_4184300 = 1;
  }
  restockServantLogicList = this->fields.restockServantLogicList;
  v8 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v8 = BattleData___c_TypeInfo;
  }
  static_fields = v8->static_fields;
  _9__332_0 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)static_fields->__9__332_0;
  if ( !_9__332_0 )
  {
    if ( (BYTE3(v8->vtable._0_Equals.methodPtr) & 4) != 0 && !v8->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v8);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v11 = (Il2CppObject *)static_fields->__9;
    _9__332_0 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_RestockServantLogic__TypeInfo);
    System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
      _9__332_0,
      v11,
      Method_BattleData___c__GetRestockServantLogicList_b__332_0__,
      (const MethodInfo_2952BE4 *)Method_System_Predicate_RestockServantLogic___ctor__);
    v12 = BattleData___c_TypeInfo->static_fields;
    v12->__9__332_0 = (struct System_Predicate_RestockServantLogic__o *)_9__332_0;
    sub_B2C2F8(&v12->__9__332_0, _9__332_0);
  }
  if ( !restockServantLogicList )
    sub_B2C434(v8, method);
  return (System_Collections_Generic_List_RestockServantLogic__o *)System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo___FindAll(
                                                                     (System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo__o *)restockServantLogicList,
                                                                     (System_Predicate_T__o *)_9__332_0,
                                                                     (const MethodInfo_2EF4DE8 *)Method_System_Collections_Generic_List_RestockServantLogic__FindAll__);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleData__GetRestockableSubServantArray(
        BattleData_o *this,
        bool isEnemy,
        int32_t deckIndex,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  BattleData___c__DisplayClass451_0_o *v17; // x22
  __int64 v18; // x0
  __int64 v19; // x1
  __int64 v20; // x8
  System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo__o *v21; // x19
  System_Predicate_peRenderTexture_ChangeLayerObject__o *v22; // x20
  System_Collections_Generic_List_T__o *All; // x19
  BattleData___c_c *v24; // x8
  struct BattleData___c_StaticFields *static_fields; // x9
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__451_1; // x20
  Il2CppObject *v27; // x21
  struct BattleData___c_StaticFields *v28; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v29; // x0

  if ( (byte_418433B & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_OrderBy_BattleServantData__int___, isEnemy);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_BattleServantData___, v7);
    sub_B2C35C(&Method_System_Func_BattleServantData__int___ctor__, v8);
    sub_B2C35C(&System_Func_BattleServantData__int__TypeInfo, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__FindAll__, v10);
    sub_B2C35C(&Method_System_Predicate_BattleServantData___ctor__, v11);
    sub_B2C35C(&System_Predicate_BattleServantData__TypeInfo, v12);
    sub_B2C35C(&Method_BattleData___c__GetRestockableSubServantArray_b__451_1__, v13);
    sub_B2C35C(&Method_BattleData___c__DisplayClass451_0__GetRestockableSubServantArray_b__0__, v14);
    sub_B2C35C(&BattleData___c__DisplayClass451_0_TypeInfo, v15);
    sub_B2C35C(&BattleData___c_TypeInfo, v16);
    byte_418433B = 1;
  }
  v17 = (BattleData___c__DisplayClass451_0_o *)sub_B2C42C(BattleData___c__DisplayClass451_0_TypeInfo);
  BattleData___c__DisplayClass451_0___ctor(v17, 0LL);
  if ( !v17 )
    goto LABEL_16;
  v17->fields.deckIndex = deckIndex;
  v20 = 128LL;
  if ( isEnemy )
    v20 = 168LL;
  v21 = *(System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo__o **)((char *)&this->klass + v20);
  v22 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_BattleServantData__TypeInfo);
  System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
    v22,
    (Il2CppObject *)v17,
    Method_BattleData___c__DisplayClass451_0__GetRestockableSubServantArray_b__0__,
    (const MethodInfo_2952BE4 *)Method_System_Predicate_BattleServantData___ctor__);
  if ( !v21 )
LABEL_16:
    sub_B2C434(v18, v19);
  All = System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo___FindAll(
          v21,
          (System_Predicate_T__o *)v22,
          (const MethodInfo_2EF4DE8 *)Method_System_Collections_Generic_List_BattleServantData__FindAll__);
  v24 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v24 = BattleData___c_TypeInfo;
  }
  static_fields = v24->static_fields;
  _9__451_1 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)static_fields->__9__451_1;
  if ( !_9__451_1 )
  {
    if ( (BYTE3(v24->vtable._0_Equals.methodPtr) & 4) != 0 && !v24->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v24);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v27 = (Il2CppObject *)static_fields->__9;
    _9__451_1 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B2C42C(System_Func_BattleServantData__int__TypeInfo);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      _9__451_1,
      v27,
      Method_BattleData___c__GetRestockableSubServantArray_b__451_1__,
      (const MethodInfo_27127B0 *)Method_System_Func_BattleServantData__int___ctor__);
    v28 = BattleData___c_TypeInfo->static_fields;
    v28->__9__451_1 = (struct System_Func_BattleServantData__int__o *)_9__451_1;
    sub_B2C2F8(&v28->__9__451_1, _9__451_1);
  }
  v29 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__OrderBy_QuestPhaseDetailEntity_BoardInfo__int_(
                                                               (System_Collections_Generic_IEnumerable_TSource__o *)All,
                                                               (System_Func_TSource__TKey__o *)_9__451_1,
                                                               (const MethodInfo_1A93658 *)Method_System_Linq_Enumerable_OrderBy_BattleServantData__int___);
  return (BattleServantData_array *)System_Linq_Enumerable__ToArray_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
                                      v29,
                                      (const MethodInfo_1A9AFC8 *)Method_System_Linq_Enumerable_ToArray_BattleServantData___);
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__GetSavedServantCommonFlag(
        int32_t servantId,
        int32_t defaultFlag,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  BattleData_c *v7; // x0
  System_Collections_Generic_Dictionary_int__int__o *SavedServantCommonFlagDict; // x0
  __int64 v9; // x1
  System_Collections_Generic_Dictionary_int__int__o *v10; // x21

  if ( (byte_418439F & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, *(_QWORD *)&defaultFlag);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__get_Item__, v6);
    byte_418439F = 1;
  }
  v7 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  SavedServantCommonFlagDict = BattleData__GetSavedServantCommonFlagDict((const MethodInfo *)v7);
  if ( !SavedServantCommonFlagDict )
    sub_B2C434(0LL, v9);
  v10 = SavedServantCommonFlagDict;
  if ( System_Collections_Generic_Dictionary_int__int___ContainsKey(
         SavedServantCommonFlagDict,
         servantId,
         (const MethodInfo_2E247A4 *)Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__) )
  {
    return System_Collections_Generic_Dictionary_int__int___get_Item(
             v10,
             servantId,
             (const MethodInfo_2E24480 *)Method_System_Collections_Generic_Dictionary_int__int__get_Item__);
  }
  else
  {
    return defaultFlag;
  }
}


System_Collections_Generic_Dictionary_int__int__o *__fastcall BattleData__GetSavedServantCommonFlagDict(
        const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  System_Collections_Generic_Dictionary_int__int__o *v7; // x19
  System_String_o *String; // x20
  System_String_array *v9; // x0
  System_String_array *v10; // x1
  int max_length; // w8
  System_String_array *v12; // x20
  unsigned int v13; // w23
  System_String_o *v14; // x21
  System_String_array *v15; // x21
  __int64 v17; // x0
  int32_t result[2]; // [xsp+8h] [xbp-38h] BYREF

  if ( (byte_418439E & 1) == 0 )
  {
    sub_B2C35C(&char___TypeInfo, v1);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__Add__, v2);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int___ctor__, v3);
    sub_B2C35C(&System_Collections_Generic_Dictionary_int__int__TypeInfo, v4);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v5);
    sub_B2C35C(&StringLiteral_2532/*"BATTLE_SVT_COMMON_FLAG"*/, v6);
    byte_418439E = 1;
  }
  *(_QWORD *)result = 0LL;
  v7 = (System_Collections_Generic_Dictionary_int__int__o *)sub_B2C42C(System_Collections_Generic_Dictionary_int__int__TypeInfo);
  System_Collections_Generic_Dictionary_int__int____ctor(
    v7,
    (const MethodInfo_2E2399C *)Method_System_Collections_Generic_Dictionary_int__int___ctor__);
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  String = EncryptedPlayerPrefs__GetString((System_String_o *)StringLiteral_2532/*"BATTLE_SVT_COMMON_FLAG"*/, 0LL);
  v9 = (System_String_array *)sub_B2C374(char___TypeInfo, 1LL);
  if ( !v9 )
    goto LABEL_26;
  v10 = v9;
  if ( !v9->max_length )
    goto LABEL_25;
  LOWORD(v9->m_Items[0]) = 44;
  if ( !String || (v9 = System_String__Split(String, (System_Char_array *)v9, 0LL)) == 0LL )
LABEL_26:
    sub_B2C434(v9, v10);
  max_length = v9->max_length;
  v12 = v9;
  if ( max_length >= 1 )
  {
    v13 = 0;
    while ( v13 < max_length )
    {
      v14 = v12->m_Items[v13];
      v9 = (System_String_array *)sub_B2C374(char___TypeInfo, 1LL);
      if ( !v9 )
        goto LABEL_26;
      v10 = v9;
      if ( !v9->max_length )
        break;
      LOWORD(v9->m_Items[0]) = 58;
      if ( !v14 )
        goto LABEL_26;
      v9 = System_String__Split(v14, (System_Char_array *)v9, 0LL);
      if ( !v9 )
        goto LABEL_26;
      v15 = v9;
      if ( !v9->max_length )
        break;
      v9 = (System_String_array *)System_Int32__TryParse(v9->m_Items[0], &result[1], 0LL);
      if ( ((unsigned __int8)v9 & 1) != 0 )
      {
        if ( v15->max_length <= 1 )
          break;
        v9 = (System_String_array *)System_Int32__TryParse(v15->m_Items[1], result, 0LL);
        if ( ((unsigned __int8)v9 & 1) != 0 )
        {
          if ( !v7 )
            goto LABEL_26;
          System_Collections_Generic_Dictionary_int__int___Add(
            v7,
            result[1],
            result[0],
            (const MethodInfo_2E24540 *)Method_System_Collections_Generic_Dictionary_int__int__Add__);
        }
      }
      max_length = v12->max_length;
      if ( (int)++v13 >= max_length )
        return v7;
    }
LABEL_25:
    v17 = sub_B2C460(v9);
    sub_B2C400(v17, 0LL);
  }
  return v7;
}


System_Int32_array *__fastcall BattleData__GetShadowOffSvtIds(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetShadowOffSvtIds(questphase_ent, 0LL);
}


// local variable allocation has failed, the output may be wrong!
SubBgmPlayArgs_array *__fastcall BattleData__GetSubBgmPlayArgsArray(
        BattleData_o *this,
        int32_t bgId,
        int32_t bgType,
        const MethodInfo *method)
{
  __int64 v7; // x1
  BattleData_o *data; // x0
  StageEntity_o *v9; // x20
  SubBgmPlayArgs_array *SubBgmPlayArgsArray; // x19
  SubBgmPlayArgs_array *v11; // x0
  SubBgmPlayArgs_array *v12; // x21
  int32_t SubBgmsPriority; // w22
  BattleBgEntity_o *entity; // [xsp+8h] [xbp-28h] BYREF

  if ( (byte_41843AA & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_BattleBgMaster___, *(_QWORD *)&bgId);
    sub_B2C35C(&DataManager_TypeInfo, v7);
    byte_41843AA = 1;
  }
  entity = 0LL;
  data = this->fields.data;
  if ( !data )
    goto LABEL_20;
  data = (BattleData_o *)BattleData__getStageEntity(data, *(const MethodInfo **)&bgId);
  if ( !data )
    goto LABEL_20;
  v9 = (StageEntity_o *)data;
  SubBgmPlayArgsArray = StageEntity__GetSubBgmPlayArgsArray((StageEntity_o *)data, 0LL);
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  data = (BattleData_o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_BattleBgMaster___);
  if ( !data )
    goto LABEL_20;
  if ( !BattleBgMaster__TryGetEntity((BattleBgMaster_o *)data, &entity, bgId, bgType, 0LL) )
    return SubBgmPlayArgsArray;
  data = (BattleData_o *)entity;
  if ( !entity )
    goto LABEL_20;
  v11 = BattleBgEntity__GetSubBgmPlayArgsArray(entity, 0LL);
  v12 = v11;
  if ( v11 && SubBgmPlayArgsArray )
  {
    data = (BattleData_o *)entity;
    if ( entity )
    {
      SubBgmsPriority = BattleBgEntity__GetSubBgmsPriority(entity, 0LL);
      if ( SubBgmsPriority > StageEntity__GetSubBgmsPriority(v9, 0LL) )
        return v12;
      return SubBgmPlayArgsArray;
    }
LABEL_20:
    sub_B2C434(data, *(_QWORD *)&bgId);
  }
  if ( !SubBgmPlayArgsArray )
    return v11;
  return SubBgmPlayArgsArray;
}


int32_t __fastcall BattleData__GetSubDeckMinDeckIndex(BattleData_o *this, bool isEnemy, const MethodInfo *method)
{
  __int64 v3; // x8
  __int64 v4; // x8

  v3 = 288LL;
  if ( isEnemy )
    v3 = 296LL;
  v4 = *(__int64 *)((char *)&this->klass + v3);
  if ( !v4 )
    sub_B2C434(this, isEnemy);
  return *(_DWORD *)(v4 + 24);
}


System_Int32_array *__fastcall BattleData__GetSubFieldIndividualityServant(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  BattleData___c__DisplayClass388_0_o *v15; // x19
  System_Collections_Generic_List_int__o *v16; // x21
  System_Collections_Generic_List_int__o *retList; // x0
  __int64 v18; // x1
  const MethodInfo *v19; // x2
  System_Collections_Generic_IEnumerable_TSource__o *FieldServantList; // x20
  BattleData___c_c *v21; // x8
  struct BattleData___c_StaticFields *static_fields; // x9
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__388_0; // x21
  Il2CppObject *v24; // x22
  struct BattleData___c_StaticFields *v25; // x0
  System_Collections_Generic_IEnumerable_T__o *v26; // x20
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *v27; // x21

  if ( (byte_418431A & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Action_BattleServantData___ctor__, method);
    sub_B2C35C(&System_Action_BattleServantData__TypeInfo, v3);
    sub_B2C35C(&Method_BasicHelper_ForEach_BattleServantData___, v4);
    sub_B2C35C(&Method_System_Linq_Enumerable_Where_BattleServantData___, v5);
    sub_B2C35C(&Method_System_Func_BattleServantData__bool___ctor__, v6);
    sub_B2C35C(&System_Func_BattleServantData__bool__TypeInfo, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v9);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v10);
    sub_B2C35C(&Method_BattleData___c__GetSubFieldIndividualityServant_b__388_0__, v11);
    sub_B2C35C(&Method_BattleData___c__DisplayClass388_0__GetSubFieldIndividualityServant_b__1__, v12);
    sub_B2C35C(&BattleData___c__DisplayClass388_0_TypeInfo, v13);
    sub_B2C35C(&BattleData___c_TypeInfo, v14);
    byte_418431A = 1;
  }
  v15 = (BattleData___c__DisplayClass388_0_o *)sub_B2C42C(BattleData___c__DisplayClass388_0_TypeInfo);
  BattleData___c__DisplayClass388_0___ctor(v15, 0LL);
  v16 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v16,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  if ( !v15 )
    goto LABEL_14;
  v15->fields.retList = v16;
  sub_B2C2F8(&v15->fields, v16);
  FieldServantList = (System_Collections_Generic_IEnumerable_TSource__o *)BattleData__getFieldServantList(this, 0, v19);
  v21 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v21 = BattleData___c_TypeInfo;
  }
  static_fields = v21->static_fields;
  _9__388_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)static_fields->__9__388_0;
  if ( !_9__388_0 )
  {
    if ( (BYTE3(v21->vtable._0_Equals.methodPtr) & 4) != 0 && !v21->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v21);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v24 = (Il2CppObject *)static_fields->__9;
    _9__388_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B2C42C(System_Func_BattleServantData__bool__TypeInfo);
    System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
      _9__388_0,
      v24,
      Method_BattleData___c__GetSubFieldIndividualityServant_b__388_0__,
      (const MethodInfo_2711C04 *)Method_System_Func_BattleServantData__bool___ctor__);
    v25 = BattleData___c_TypeInfo->static_fields;
    v25->__9__388_0 = (struct System_Func_BattleServantData__bool__o *)_9__388_0;
    sub_B2C2F8(&v25->__9__388_0, _9__388_0);
  }
  v26 = (System_Collections_Generic_IEnumerable_T__o *)System_Linq_Enumerable__Where_WarBoardManager_WarBoardOnboardSkillTarget_(
                                                         FieldServantList,
                                                         (System_Func_TSource__bool__o *)_9__388_0,
                                                         (const MethodInfo_1A9F3E4 *)Method_System_Linq_Enumerable_Where_BattleServantData___);
  v27 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)sub_B2C42C(System_Action_BattleServantData__TypeInfo);
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData____ctor(
    v27,
    (Il2CppObject *)v15,
    Method_BattleData___c__DisplayClass388_0__GetSubFieldIndividualityServant_b__1__,
    (const MethodInfo_24BBAD8 *)Method_System_Action_BattleServantData___ctor__);
  BasicHelper__ForEach_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
    v26,
    (System_Action_T__o *)v27,
    (const MethodInfo_1727C50 *)Method_BasicHelper_ForEach_BattleServantData___);
  retList = v15->fields.retList;
  if ( !retList )
LABEL_14:
    sub_B2C434(retList, v18);
  return System_Collections_Generic_List_int___ToArray(
           retList,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleData__GetSubServantArray(
        BattleData_o *this,
        bool isEnemy,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x8
  BattleData___c_c *v15; // x0
  System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo__o *v16; // x19
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Predicate_peRenderTexture_ChangeLayerObject__o *_9__450_0; // x20
  Il2CppObject *v19; // x21
  struct BattleData___c_StaticFields *v20; // x0
  System_Collections_Generic_List_T__o *All; // x0
  BattleData___c_c *v22; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v23; // x19
  struct BattleData___c_StaticFields *v24; // x9
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__450_1; // x20
  Il2CppObject *v26; // x21
  struct BattleData___c_StaticFields *v27; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v28; // x0

  if ( (byte_418433A & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_OrderBy_BattleServantData__int___, isEnemy);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_BattleServantData___, v5);
    sub_B2C35C(&Method_System_Func_BattleServantData__int___ctor__, v6);
    sub_B2C35C(&System_Func_BattleServantData__int__TypeInfo, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__FindAll__, v8);
    sub_B2C35C(&Method_System_Predicate_BattleServantData___ctor__, v9);
    sub_B2C35C(&System_Predicate_BattleServantData__TypeInfo, v10);
    sub_B2C35C(&Method_BattleData___c__GetSubServantArray_b__450_0__, v11);
    sub_B2C35C(&Method_BattleData___c__GetSubServantArray_b__450_1__, v12);
    sub_B2C35C(&BattleData___c_TypeInfo, v13);
    byte_418433A = 1;
  }
  v14 = 128LL;
  v15 = BattleData___c_TypeInfo;
  if ( isEnemy )
    v14 = 168LL;
  v16 = *(System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo__o **)((char *)&this->klass + v14);
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v15 = BattleData___c_TypeInfo;
  }
  static_fields = v15->static_fields;
  _9__450_0 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)static_fields->__9__450_0;
  if ( !_9__450_0 )
  {
    if ( (BYTE3(v15->vtable._0_Equals.methodPtr) & 4) != 0 && !v15->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v15);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v19 = (Il2CppObject *)static_fields->__9;
    _9__450_0 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_BattleServantData__TypeInfo);
    System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
      _9__450_0,
      v19,
      Method_BattleData___c__GetSubServantArray_b__450_0__,
      (const MethodInfo_2952BE4 *)Method_System_Predicate_BattleServantData___ctor__);
    v20 = BattleData___c_TypeInfo->static_fields;
    v20->__9__450_0 = (struct System_Predicate_BattleServantData__o *)_9__450_0;
    sub_B2C2F8(&v20->__9__450_0, _9__450_0);
  }
  if ( !v16 )
    sub_B2C434(v15, isEnemy);
  All = System_Collections_Generic_List_MaterialBranchRouteManager_MaterialBranchInfo___FindAll(
          v16,
          (System_Predicate_T__o *)_9__450_0,
          (const MethodInfo_2EF4DE8 *)Method_System_Collections_Generic_List_BattleServantData__FindAll__);
  v22 = BattleData___c_TypeInfo;
  v23 = (System_Collections_Generic_IEnumerable_TSource__o *)All;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v22 = BattleData___c_TypeInfo;
  }
  v24 = v22->static_fields;
  _9__450_1 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)v24->__9__450_1;
  if ( !_9__450_1 )
  {
    if ( (BYTE3(v22->vtable._0_Equals.methodPtr) & 4) != 0 && !v22->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v22);
      v24 = BattleData___c_TypeInfo->static_fields;
    }
    v26 = (Il2CppObject *)v24->__9;
    _9__450_1 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B2C42C(System_Func_BattleServantData__int__TypeInfo);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      _9__450_1,
      v26,
      Method_BattleData___c__GetSubServantArray_b__450_1__,
      (const MethodInfo_27127B0 *)Method_System_Func_BattleServantData__int___ctor__);
    v27 = BattleData___c_TypeInfo->static_fields;
    v27->__9__450_1 = (struct System_Func_BattleServantData__int__o *)_9__450_1;
    sub_B2C2F8(&v27->__9__450_1, _9__450_1);
  }
  v28 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__OrderBy_QuestPhaseDetailEntity_BoardInfo__int_(
                                                               v23,
                                                               (System_Func_TSource__TKey__o *)_9__450_1,
                                                               (const MethodInfo_1A93658 *)Method_System_Linq_Enumerable_OrderBy_BattleServantData__int___);
  return (BattleServantData_array *)System_Linq_Enumerable__ToArray_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
                                      v28,
                                      (const MethodInfo_1A9AFC8 *)Method_System_Linq_Enumerable_ToArray_BattleServantData___);
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__GetSubServantUsableDeckIndex(BattleData_o *this, bool isEnemy, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  System_Collections_Generic_IEnumerable_TSource__o *SubServantArray; // x21
  BattleData___c_c *v10; // x8
  struct BattleData___c_StaticFields *static_fields; // x9
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__329_0; // x22
  Il2CppObject *v13; // x23
  struct BattleData___c_StaticFields *v14; // x0
  __int64 v15; // x0
  __int64 v16; // x1
  __int64 v17; // x8
  __int64 v18; // x8

  if ( (byte_41842FE & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_Max_BattleServantData___, isEnemy);
    sub_B2C35C(&Method_System_Func_BattleServantData__int___ctor__, v5);
    sub_B2C35C(&System_Func_BattleServantData__int__TypeInfo, v6);
    sub_B2C35C(&Method_BattleData___c__GetSubServantUsableDeckIndex_b__329_0__, v7);
    sub_B2C35C(&BattleData___c_TypeInfo, v8);
    byte_41842FE = 1;
  }
  SubServantArray = (System_Collections_Generic_IEnumerable_TSource__o *)BattleData__GetSubServantArray(
                                                                           this,
                                                                           isEnemy,
                                                                           method);
  v10 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v10 = BattleData___c_TypeInfo;
  }
  static_fields = v10->static_fields;
  _9__329_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)static_fields->__9__329_0;
  if ( !_9__329_0 )
  {
    if ( (BYTE3(v10->vtable._0_Equals.methodPtr) & 4) != 0 && !v10->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v10);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v13 = (Il2CppObject *)static_fields->__9;
    _9__329_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B2C42C(System_Func_BattleServantData__int__TypeInfo);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      _9__329_0,
      v13,
      Method_BattleData___c__GetSubServantUsableDeckIndex_b__329_0__,
      (const MethodInfo_27127B0 *)Method_System_Func_BattleServantData__int___ctor__);
    v14 = BattleData___c_TypeInfo->static_fields;
    v14->__9__329_0 = (struct System_Func_BattleServantData__int__o *)_9__329_0;
    sub_B2C2F8(&v14->__9__329_0, _9__329_0);
  }
  v15 = System_Linq_Enumerable__Max_BattleBuffData_BuffData_(
          SubServantArray,
          (System_Func_TSource__int__o *)_9__329_0,
          (const MethodInfo_1A92CB0 *)Method_System_Linq_Enumerable_Max_BattleServantData___);
  v17 = 288LL;
  if ( isEnemy )
    v17 = 296LL;
  v18 = *(__int64 *)((char *)&this->klass + v17);
  if ( !v18 )
    sub_B2C434(v15, v16);
  return UnityEngine_Mathf__Max_40694800(v15 + 1, *(_DWORD *)(v18 + 24), 0LL);
}


int32_t __fastcall BattleData__GetTargetId(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.globaltargetId;
}


System_Collections_Generic_HashSet_int__o *__fastcall BattleData__GetVoiceOffPlayerSvtIdHash(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  System_Collections_Generic_HashSet_int__o *result; // x0
  System_Collections_Generic_HashSet_int__o **p_voiceOffSvtIdHash; // x19
  System_Collections_Generic_HashSet_int__o *v8; // x21
  __int64 v9; // x1
  QuestPhaseEntity_o *questphase_ent; // x0
  struct System_Collections_Generic_HashSet_Slot_T__array *v11; // x8
  QuestPhaseEntity_o *v12; // x20
  unsigned __int64 v13; // x22
  int32_t v14; // w21
  __int64 v15; // x0

  if ( (byte_41843B0 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int__Add__, method);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int__Contains__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int___ctor___67287824, v4);
    sub_B2C35C(&System_Collections_Generic_HashSet_int__TypeInfo, v5);
    byte_41843B0 = 1;
  }
  result = this->fields.voiceOffSvtIdHash;
  if ( !result )
  {
    p_voiceOffSvtIdHash = &this->fields.voiceOffSvtIdHash;
    v8 = (System_Collections_Generic_HashSet_int__o *)sub_B2C42C(System_Collections_Generic_HashSet_int__TypeInfo);
    System_Collections_Generic_HashSet_int____ctor(
      v8,
      (const MethodInfo_2D85080 *)Method_System_Collections_Generic_HashSet_int___ctor___67287824);
    this->fields.voiceOffSvtIdHash = v8;
    sub_B2C2F8(&this->fields.voiceOffSvtIdHash, v8);
    questphase_ent = this->fields.questphase_ent;
    if ( !questphase_ent )
      goto LABEL_16;
    questphase_ent = (QuestPhaseEntity_o *)QuestPhaseEntity__GetVoiceOffPlayerSvtIdArray(questphase_ent, 0LL);
    if ( !questphase_ent )
      goto LABEL_16;
    v11 = *(struct System_Collections_Generic_HashSet_Slot_T__array **)&questphase_ent->fields.isNpcOnly;
    v12 = questphase_ent;
    if ( (int)v11 >= 1 )
    {
      v13 = 0LL;
      while ( 1 )
      {
        if ( v13 >= (unsigned int)v11 )
        {
          v15 = sub_B2C460(questphase_ent);
          sub_B2C400(v15, 0LL);
        }
        questphase_ent = (QuestPhaseEntity_o *)*p_voiceOffSvtIdHash;
        if ( !*p_voiceOffSvtIdHash )
          break;
        v14 = *(&v12->fields.battleBgType + v13);
        questphase_ent = (QuestPhaseEntity_o *)System_Collections_Generic_HashSet_int___Contains(
                                                 (System_Collections_Generic_HashSet_int__o *)questphase_ent,
                                                 v14,
                                                 (const MethodInfo_2D85704 *)Method_System_Collections_Generic_HashSet_int__Contains__);
        if ( ((unsigned __int8)questphase_ent & 1) == 0 )
        {
          questphase_ent = (QuestPhaseEntity_o *)*p_voiceOffSvtIdHash;
          if ( !*p_voiceOffSvtIdHash )
            break;
          questphase_ent = (QuestPhaseEntity_o *)System_Collections_Generic_HashSet_int___Add(
                                                   (System_Collections_Generic_HashSet_int__o *)questphase_ent,
                                                   v14,
                                                   (const MethodInfo_2D8625C *)Method_System_Collections_Generic_HashSet_int__Add__);
        }
        LODWORD(v11) = *(_DWORD *)&v12->fields.isNpcOnly;
        if ( (__int64)++v13 >= (int)v11 )
          return *p_voiceOffSvtIdHash;
      }
LABEL_16:
      sub_B2C434(questphase_ent, v9);
    }
    return *p_voiceOffSvtIdHash;
  }
  return result;
}


bool __fastcall BattleData__HasWaveRestartData(BattleData_o *this, const MethodInfo *method)
{
  __int64 v2; // x1

  if ( (byte_41843BE & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, method);
    sub_B2C35C(&StringLiteral_15433/*"WaveRestartData"*/, v2);
    byte_41843BE = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_15433/*"WaveRestartData"*/, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__InitCriticalPoint(BattleData_o *this, int32_t critical, const MethodInfo *method)
{
  int32_t criticalstars; // w21

  if ( (byte_418431B & 1) == 0 )
  {
    sub_B2C35C(&System_Math_TypeInfo, *(_QWORD *)&critical);
    byte_418431B = 1;
  }
  criticalstars = this->fields.criticalstars;
  if ( (BYTE3(System_Math_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !System_Math_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(System_Math_TypeInfo);
  this->fields.criticalstars = System_Math__Min_44967328(99, criticalstars + critical, 0LL);
}


void __fastcall BattleData__InitGender(BattleData_o *this, bool change, const MethodInfo *method)
{
  UserGameEntity_o *SelfUserGame; // x0
  __int64 v6; // x1
  int32_t genderType; // w8

  SelfUserGame = UserGameMaster__getSelfUserGame(0LL);
  if ( !SelfUserGame )
    goto LABEL_10;
  genderType = SelfUserGame->fields.genderType;
  if ( !change )
    goto LABEL_8;
  if ( genderType == 1 )
  {
    genderType = 2;
    goto LABEL_8;
  }
  SelfUserGame = UserGameMaster__getSelfUserGame(0LL);
  if ( !SelfUserGame )
LABEL_10:
    sub_B2C434(SelfUserGame, v6);
  if ( SelfUserGame->fields.genderType != 2 )
    return;
  genderType = 1;
LABEL_8:
  this->fields.battleGenderType = genderType;
}


void __fastcall BattleData__InitPlayerDataList(BattleData_o *this, DeckData_o *myDeck, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_commandAssistData__o *LotteryCommandAssistInfo; // x20
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v9; // x23
  struct System_Collections_Generic_List_BattleServantData__o **p_player_datalist; // x21
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *FollowerType; // x0
  __int64 v12; // x1
  struct BattleDeckServantData_array *svts; // x25
  int max_length; // w8
  int i; // w26
  BattleDeckServantData_o *v16; // x23
  int32_t id; // w28
  BattleServantData_o *v18; // x22
  struct BattleEntity_o *battle_ent; // x24
  il2cpp_array_size_t v20; // w24
  struct System_Int32_array *p_entryid; // x8
  __int64 v22; // x0

  if ( (byte_41843B4 & 1) == 0 )
  {
    sub_B2C35C(&BattleServantData_TypeInfo, myDeck);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v7);
    byte_41843B4 = 1;
  }
  LotteryCommandAssistInfo = BattleData__CreateLotteryCommandAssistInfo(this, myDeck, method);
  v9 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v9,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  p_player_datalist = &this->fields.player_datalist;
  this->fields.player_datalist = (struct System_Collections_Generic_List_BattleServantData__o *)v9;
  sub_B2C2F8(&this->fields.player_datalist, v9);
  if ( !myDeck || (svts = myDeck->fields.svts) == 0LL )
LABEL_19:
    sub_B2C434(FollowerType, v12);
  max_length = svts->max_length;
  if ( max_length >= 1 )
  {
    for ( i = 0; i < max_length; ++i )
    {
      if ( i >= (unsigned int)max_length )
      {
LABEL_20:
        v22 = sub_B2C460(FollowerType);
        sub_B2C400(v22, 0LL);
      }
      v16 = svts->m_Items[i];
      if ( !v16 )
        goto LABEL_19;
      id = v16->fields.id;
      v18 = (BattleServantData_o *)sub_B2C42C(BattleServantData_TypeInfo);
      BattleServantData___ctor(v18, 0LL);
      battle_ent = this->fields.battle_ent;
      if ( !battle_ent )
        goto LABEL_19;
      FollowerType = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)BattleDeckServantData__GetFollowerType(v16, battle_ent->fields.followerType, 0LL);
      if ( !v18 )
        goto LABEL_19;
      BattleServantData__setServantData(v18, v16, battle_ent, (int32_t)FollowerType, 0LL, LotteryCommandAssistInfo, 0LL);
      FollowerType = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this->fields.battleEvent;
      if ( !FollowerType )
        goto LABEL_19;
      v20 = id - 1;
      FollowerType = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)((__int64 (__fastcall *)(System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *, BattleServantData_o *, Il2CppMethodPointer))FollowerType->klass->vtable._11_Add.method)(FollowerType, v18, FollowerType->klass->vtable._12_unknown.methodPtr);
      if ( id - 1 <= 2 )
      {
        p_entryid = this->fields.p_entryid;
        if ( !p_entryid )
          goto LABEL_19;
        if ( v20 >= p_entryid->max_length )
          goto LABEL_20;
        p_entryid->m_Items[v20 + 1] = v16->fields.uniqueId;
        v18->fields.isEntry = 1;
        v18->fields.flgEntryFunction = 1;
      }
      FollowerType = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)*p_player_datalist;
      if ( !*p_player_datalist )
        goto LABEL_19;
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
        FollowerType,
        (EventMissionProgressRequest_Argument_ProgressData_o *)v18,
        (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
      max_length = svts->max_length;
    }
  }
}


void __fastcall BattleData__Initialize(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  __int64 v31; // x1
  __int64 v32; // x1
  __int64 v33; // x1
  __int64 v34; // x1
  __int64 v35; // x1
  __int64 v36; // x1
  __int64 v37; // x1
  __int64 v38; // x1
  __int64 v39; // x1
  __int64 v40; // x1
  __int64 v41; // x1
  __int64 v42; // x1
  __int64 v43; // x1
  __int64 v44; // x1
  __int64 v45; // x1
  __int64 v46; // x1
  UnityEngine_Object_o *fsm; // x20
  __int64 v48; // x1
  PlayMakerFSM_o *FsmGameObject; // x0
  struct BattlePerformance_o *perf; // x8
  HutongGames_PlayMaker_FsmGameObject_o *v51; // x20
  HutongGames_PlayMaker_FsmGameObject_o *v52; // x20
  HutongGames_PlayMaker_FsmGameObject_o *v53; // x20
  HutongGames_PlayMaker_FsmGameObject_o *v54; // x20
  struct BattlePerformance_o *v55; // x8
  HutongGames_PlayMaker_FsmGameObject_o *v56; // x20
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *v57; // x20
  System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData__o *v58; // x20
  StageEntity_c *v59; // x0
  int32_t DEFAULT_ENEMY_ACTION_COUNT; // w8
  struct System_Int32_array *v61; // x0
  QuestKnockdownInfo_o *v62; // x21
  struct BattleCommandData_array *v63; // x0
  struct BattleCommandData_array *v64; // x0
  struct BattleCommandData_array *v65; // x0
  ItemDroppedSkillShiftInfo_o *v66; // x25
  BattleAttackManager_o *v67; // x25
  BaseBattleEvent_o *v68; // x25
  BattleDefenceTargetData_o *v69; // x26
  UseSkillEachTurn_o *v70; // x28
  ChangeBattlePhaseNotify_o *v71; // x27
  System_Collections_Generic_Dictionary_int__int__o *v72; // x27
  DrawLotsDisplayMessage_o *v73; // x26
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v74; // x26
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v75; // x26
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v76; // x26
  struct System_Int32_array *v77; // x0
  struct System_Int32_array **p_p_entryid; // x25
  struct System_Int32_array *p_entryid; // x9
  unsigned __int64 v80; // x8
  unsigned __int64 max_length; // x11
  struct System_Int32_array *v82; // x0
  struct System_Int32_array **p_e_entryid; // x25
  struct System_Int32_array *e_entryid; // x9
  unsigned __int64 v85; // x8
  unsigned __int64 v86; // x11
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v87; // x25
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v88; // x24
  struct BattleCommandData_array *v89; // x0
  struct BattleCommandData_array *v90; // x0
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v91; // x21
  const MethodInfo *v92; // x1
  const MethodInfo *v93; // x1
  const MethodInfo *v94; // x1
  const MethodInfo *v95; // x1
  const MethodInfo *v96; // x1
  BattleFieldEnvironmentData_o *v97; // x21
  System_Collections_Generic_List_int__o *v98; // x20
  __int64 v99; // x0

  if ( (byte_41842EB & 1) == 0 )
  {
    sub_B2C35C(&BaseBattleEvent_TypeInfo, method);
    sub_B2C35C(&BattleAttackManager_TypeInfo, v3);
    sub_B2C35C(&BattleCommandData___TypeInfo, v4);
    sub_B2C35C(&BattleDefenceTargetData_TypeInfo, v5);
    sub_B2C35C(&BattleFieldEnvironmentData_TypeInfo, v6);
    sub_B2C35C(&ChangeBattlePhaseNotify_TypeInfo, v7);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__Clear__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object___ctor__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int___ctor__, v10);
    sub_B2C35C(&System_Collections_Generic_Dictionary_int__int__TypeInfo, v11);
    sub_B2C35C(&System_Collections_Generic_Dictionary_string__object__TypeInfo, v12);
    sub_B2C35C(&DrawLotsDisplayMessage_TypeInfo, v13);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_string___ctor__, v14);
    sub_B2C35C(&System_Collections_Generic_HashSet_string__TypeInfo, v15);
    sub_B2C35C(&int___TypeInfo, v16);
    sub_B2C35C(&ItemDroppedSkillShiftInfo_TypeInfo, v17);
    sub_B2C35C(&Method_System_Collections_Generic_List_RestockServantLogic__Clear__, v18);
    sub_B2C35C(&Method_System_Collections_Generic_List_string__Clear__, v19);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Clear__, v20);
    sub_B2C35C(&Method_System_Collections_Generic_List_Dictionary_string__object___Clear__, v21);
    sub_B2C35C(&Method_System_Collections_Generic_List_AiNpcBattleServantData__Clear__, v22);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleActionData_BuffData__Clear__, v23);
    sub_B2C35C(&Method_System_Collections_Generic_List_double__Clear__, v24);
    sub_B2C35C(&Method_System_Collections_Generic_List_DataVals__Clear__, v25);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleDropItem___ctor__, v26);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__, v27);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v28);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v29);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleData_CommandHistory___ctor__, v30);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleBoostItemInfoData___ctor__, v31);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v32);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v33);
    sub_B2C35C(&System_Collections_Generic_List_BattleData_CommandHistory__TypeInfo, v34);
    sub_B2C35C(&System_Collections_Generic_List_BattleSkillInfoData__TypeInfo, v35);
    sub_B2C35C(&System_Collections_Generic_List_BattleDropItem__TypeInfo, v36);
    sub_B2C35C(&System_Collections_Generic_List_BattleBoostItemInfoData__TypeInfo, v37);
    sub_B2C35C(&UnityEngine_Object_TypeInfo, v38);
    sub_B2C35C(&QuestKnockdownInfo_TypeInfo, v39);
    sub_B2C35C(&StageEntity_TypeInfo, v40);
    sub_B2C35C(&UseSkillEachTurn_TypeInfo, v41);
    sub_B2C35C(&StringLiteral_4167/*"CommandFSM"*/, v42);
    sub_B2C35C(&StringLiteral_11528/*"RootFSM"*/, v43);
    sub_B2C35C(&StringLiteral_14680/*"UIFSM"*/, v44);
    sub_B2C35C(&StringLiteral_8580/*"Logic"*/, v45);
    sub_B2C35C(&StringLiteral_10636/*"Performance"*/, v46);
    byte_41842EB = 1;
  }
  fsm = (UnityEngine_Object_o *)this->fields.fsm;
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  if ( UnityEngine_Object__op_Inequality(fsm, 0LL, 0LL) )
  {
    FsmGameObject = this->fields.fsm;
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)PlayMakerFSM__get_Fsm(FsmGameObject, 0LL);
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)HutongGames_PlayMaker_Fsm__GetFsmGameObject(
                                        (HutongGames_PlayMaker_Fsm_o *)FsmGameObject,
                                        (System_String_o *)StringLiteral_4167/*"CommandFSM"*/,
                                        0LL);
    perf = this->fields.perf;
    if ( !perf )
      goto LABEL_59;
    v51 = (HutongGames_PlayMaker_FsmGameObject_o *)FsmGameObject;
    FsmGameObject = (PlayMakerFSM_o *)perf->fields.commandPerf;
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)UnityEngine_Component__get_gameObject(
                                        (UnityEngine_Component_o *)FsmGameObject,
                                        0LL);
    if ( !v51 )
      goto LABEL_59;
    HutongGames_PlayMaker_FsmGameObject__set_Value(v51, (UnityEngine_GameObject_o *)FsmGameObject, 0LL);
    FsmGameObject = this->fields.fsm;
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)PlayMakerFSM__get_Fsm(FsmGameObject, 0LL);
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)HutongGames_PlayMaker_Fsm__GetFsmGameObject(
                                        (HutongGames_PlayMaker_Fsm_o *)FsmGameObject,
                                        (System_String_o *)StringLiteral_8580/*"Logic"*/,
                                        0LL);
    if ( !this->fields.logic )
      goto LABEL_59;
    v52 = (HutongGames_PlayMaker_FsmGameObject_o *)FsmGameObject;
    FsmGameObject = (PlayMakerFSM_o *)UnityEngine_Component__get_gameObject(
                                        (UnityEngine_Component_o *)this->fields.logic,
                                        0LL);
    if ( !v52 )
      goto LABEL_59;
    HutongGames_PlayMaker_FsmGameObject__set_Value(v52, (UnityEngine_GameObject_o *)FsmGameObject, 0LL);
    FsmGameObject = this->fields.fsm;
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)PlayMakerFSM__get_Fsm(FsmGameObject, 0LL);
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)HutongGames_PlayMaker_Fsm__GetFsmGameObject(
                                        (HutongGames_PlayMaker_Fsm_o *)FsmGameObject,
                                        (System_String_o *)StringLiteral_10636/*"Performance"*/,
                                        0LL);
    if ( !this->fields.perf )
      goto LABEL_59;
    v53 = (HutongGames_PlayMaker_FsmGameObject_o *)FsmGameObject;
    FsmGameObject = (PlayMakerFSM_o *)UnityEngine_Component__get_gameObject(
                                        (UnityEngine_Component_o *)this->fields.perf,
                                        0LL);
    if ( !v53 )
      goto LABEL_59;
    HutongGames_PlayMaker_FsmGameObject__set_Value(v53, (UnityEngine_GameObject_o *)FsmGameObject, 0LL);
    FsmGameObject = this->fields.fsm;
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)PlayMakerFSM__get_Fsm(FsmGameObject, 0LL);
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)HutongGames_PlayMaker_Fsm__GetFsmGameObject(
                                        (HutongGames_PlayMaker_Fsm_o *)FsmGameObject,
                                        (System_String_o *)StringLiteral_11528/*"RootFSM"*/,
                                        0LL);
    if ( !this->fields.rootfsm )
      goto LABEL_59;
    v54 = (HutongGames_PlayMaker_FsmGameObject_o *)FsmGameObject;
    FsmGameObject = (PlayMakerFSM_o *)UnityEngine_Component__get_gameObject(
                                        (UnityEngine_Component_o *)this->fields.rootfsm,
                                        0LL);
    if ( !v54 )
      goto LABEL_59;
    HutongGames_PlayMaker_FsmGameObject__set_Value(v54, (UnityEngine_GameObject_o *)FsmGameObject, 0LL);
    FsmGameObject = this->fields.fsm;
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)PlayMakerFSM__get_Fsm(FsmGameObject, 0LL);
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)HutongGames_PlayMaker_Fsm__GetFsmGameObject(
                                        (HutongGames_PlayMaker_Fsm_o *)FsmGameObject,
                                        (System_String_o *)StringLiteral_14680/*"UIFSM"*/,
                                        0LL);
    v55 = this->fields.perf;
    if ( !v55 )
      goto LABEL_59;
    v56 = (HutongGames_PlayMaker_FsmGameObject_o *)FsmGameObject;
    FsmGameObject = (PlayMakerFSM_o *)v55->fields.statusPerf;
    if ( !FsmGameObject )
      goto LABEL_59;
    FsmGameObject = (PlayMakerFSM_o *)UnityEngine_Component__get_gameObject(
                                        (UnityEngine_Component_o *)FsmGameObject,
                                        0LL);
    if ( !v56 )
      goto LABEL_59;
    HutongGames_PlayMaker_FsmGameObject__set_Value(v56, (UnityEngine_GameObject_o *)FsmGameObject, 0LL);
  }
  *(_QWORD *)&this->fields.wavecount = 0x100000000LL;
  *(_QWORD *)&this->fields.p_maxcommand = 0xFFFFFFFF00000003LL;
  FsmGameObject = (PlayMakerFSM_o *)this->fields.lockTargetIdList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_int___Clear(
    (System_Collections_Generic_List_int__o *)FsmGameObject,
    (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
  this->fields.prevCriticalstars = 0;
  this->fields.countEnemyAttack = 0;
  *(_OWORD *)&this->fields.criticalstars = 0u;
  *(_OWORD *)&this->fields.maxTurnDamageInBattle = 0u;
  v57 = (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)sub_B2C42C(System_Collections_Generic_Dictionary_string__object__TypeInfo);
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject____ctor(
    v57,
    (const MethodInfo_2DB1110 *)Method_System_Collections_Generic_Dictionary_string__object___ctor__);
  this->fields.voicePlayedInfo = (struct System_Collections_Generic_Dictionary_string__object__o *)v57;
  sub_B2C2F8(&this->fields.voicePlayedInfo, v57);
  v58 = (System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData__o *)sub_B2C42C(System_Collections_Generic_HashSet_string__TypeInfo);
  System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData____ctor(
    v58,
    (const MethodInfo_2D8BA5C *)Method_System_Collections_Generic_HashSet_string___ctor__);
  this->fields.voicePlayedOver64Info = (struct System_Collections_Generic_HashSet_string__o *)v58;
  sub_B2C2F8(&this->fields.voicePlayedOver64Info, v58);
  this->fields.initturn = 0;
  this->fields.totalTurnCount = 0;
  *(_QWORD *)&this->fields.limitTurnCount = 0LL;
  this->fields.turnEffectType = 0;
  this->fields.stateshowturn = 0;
  v59 = StageEntity_TypeInfo;
  if ( (BYTE3(StageEntity_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !StageEntity_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(StageEntity_TypeInfo);
    v59 = StageEntity_TypeInfo;
  }
  DEFAULT_ENEMY_ACTION_COUNT = v59->static_fields->DEFAULT_ENEMY_ACTION_COUNT;
  *(_WORD *)&this->fields.leaderDown = 0;
  this->fields.loseBattleFlg = 0;
  this->fields.enemyActCount = DEFAULT_ENEMY_ACTION_COUNT;
  *(_QWORD *)&this->fields.maxEnemyUniqueID = 0LL;
  *(_QWORD *)&this->fields.win_lose = 0x100000000LL;
  this->fields.typeTurn = 1;
  this->fields.enemyMasterCommandSpellUseCnt = 0;
  this->fields.battleGenderType = 0;
  this->fields.shuffleindex = 0;
  this->fields.canSelectCommandIndex = 0;
  this->fields._IsReleaseUnusedAssetsWhenEntryMember_k__BackingField = 0;
  this->fields._EnemyEntryCountOnThisTurn_k__BackingField = 0;
  this->fields._EnemyEntryMaxCountEachTurn_k__BackingField = 0;
  this->fields.maxTurnDamageInBattle = 0LL;
  this->fields.totalDamageInTurn = 0LL;
  this->fields.maxTurnDamageRecord = 0LL;
  this->fields.progresslistflg = 0;
  this->fields.endMasterSkillTurnBuffValue = 0;
  *(_WORD *)&this->fields.winBattleNotRelatedSurvivalStatus = 0;
  this->fields.justDeadTargetId = -1;
  this->fields.temporarySpell = -1;
  this->fields.masterSkillUseWaveTurn = -1LL;
  *(_WORD *)&this->fields.isWaitDrawCard = 0;
  this->fields._EnemyFieldPosCount_k__BackingField = 0;
  this->fields.currentTurn = 0;
  this->fields._EnemyCountStartValue_k__BackingField = 0;
  *(_QWORD *)&this->fields.playerNpCount = 0LL;
  this->fields.playerMasterSkillCount = 0;
  this->fields.isSetWaveRestartCriticalArray = 0;
  this->fields.enemyAppearValid = 0LL;
  sub_B2C2F8(&this->fields.enemyAppearValid, 0LL);
  this->fields._FieldEnvData_k__BackingField = 0LL;
  sub_B2C2F8(&this->fields._FieldEnvData_k__BackingField, 0LL);
  v61 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, 1LL);
  this->fields.waveClearNeedTurn = v61;
  sub_B2C2F8(&this->fields.waveClearNeedTurn, v61);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.aiNpcDataList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)FsmGameObject,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_AiNpcBattleServantData__Clear__);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.firstNpPlayList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)FsmGameObject,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_Dictionary_string__object___Clear__);
  v62 = (QuestKnockdownInfo_o *)sub_B2C42C(QuestKnockdownInfo_TypeInfo);
  QuestKnockdownInfo___ctor(v62, 0LL);
  this->fields.currenctKnockdown = v62;
  sub_B2C2F8(&this->fields.currenctKnockdown, v62);
  this->fields.waveKnockdownNums = 0LL;
  sub_B2C2F8(&this->fields.waveKnockdownNums, 0LL);
  this->fields.playerFieldStatus = 0LL;
  sub_B2C2F8(&this->fields.playerFieldStatus, 0LL);
  this->fields.enemyFieldStatus = 0LL;
  sub_B2C2F8(&this->fields.enemyFieldStatus, 0LL);
  this->fields.p_shcmlist = 0LL;
  sub_B2C2F8(&this->fields.p_shcmlist, 0LL);
  this->fields.draw_commandlist = 0LL;
  sub_B2C2F8(&this->fields.draw_commandlist, 0LL);
  this->fields.selectcommandlist = 0LL;
  sub_B2C2F8(&this->fields.selectcommandlist, 0LL);
  this->fields.combodata = 0LL;
  sub_B2C2F8(&this->fields.combodata, 0LL);
  this->fields.commandCodeInfos = 0LL;
  sub_B2C2F8(&this->fields.commandCodeInfos, 0LL);
  v63 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.fixedCommands = v63;
  sub_B2C2F8(&this->fields.fixedCommands, v63);
  v64 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.wkCommands = v64;
  sub_B2C2F8(&this->fields.wkCommands, v64);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.doNotSelectCommandSvtIdList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_int___Clear(
    (System_Collections_Generic_List_int__o *)FsmGameObject,
    (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
  v65 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.canSelectCommands = v65;
  sub_B2C2F8(&this->fields.canSelectCommands, v65);
  this->fields.comhistory = 0LL;
  sub_B2C2F8(&this->fields.comhistory, 0LL);
  this->fields.actionLogManager = 0LL;
  sub_B2C2F8(&this->fields.actionLogManager, 0LL);
  this->fields.droplist = 0LL;
  sub_B2C2F8(&this->fields.droplist, 0LL);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.performedValsList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)FsmGameObject,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_DataVals__Clear__);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.freshBuffDataList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)FsmGameObject,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_BattleActionData_BuffData__Clear__);
  this->fields.commandCriticalArray = 0LL;
  sub_B2C2F8(&this->fields.commandCriticalArray, 0LL);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.restockServantLogicList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)FsmGameObject,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_RestockServantLogic__Clear__);
  v66 = (ItemDroppedSkillShiftInfo_o *)sub_B2C42C(ItemDroppedSkillShiftInfo_TypeInfo);
  ItemDroppedSkillShiftInfo___ctor(v66, 0LL);
  this->fields.itemDroppedSkillShiftInfo = v66;
  sub_B2C2F8(&this->fields.itemDroppedSkillShiftInfo, v66);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.playedSpeedOneSkillIdList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_int___Clear(
    (System_Collections_Generic_List_int__o *)FsmGameObject,
    (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.playedSpeedOneFieldIdList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)FsmGameObject,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_string__Clear__);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.usedEventMasterSkillDict;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_Dictionary_int__int___Clear(
    (System_Collections_Generic_Dictionary_int__int__o *)FsmGameObject,
    (const MethodInfo_2E2470C *)Method_System_Collections_Generic_Dictionary_int__int__Clear__);
  this->fields.eventPointActivityDict = 0LL;
  sub_B2C2F8(&this->fields.eventPointActivityDict, 0LL);
  this->fields.beforeAction = 0LL;
  sub_B2C2F8(&this->fields.beforeAction, 0LL);
  v67 = (BattleAttackManager_o *)sub_B2C42C(BattleAttackManager_TypeInfo);
  BattleAttackManager___ctor(v67, 0LL);
  this->fields.battleAtkManager = v67;
  sub_B2C2F8(&this->fields.battleAtkManager, v67);
  v68 = (BaseBattleEvent_o *)sub_B2C42C(BaseBattleEvent_TypeInfo);
  BaseBattleEvent___ctor(v68, 0LL);
  this->fields.battleEvent = v68;
  sub_B2C2F8(&this->fields.battleEvent, v68);
  this->fields._EnemyAddOrderPosArray_k__BackingField = 0LL;
  sub_B2C2F8(&this->fields._EnemyAddOrderPosArray_k__BackingField, 0LL);
  this->fields.boostInfoList = 0LL;
  sub_B2C2F8(&this->fields.boostInfoList, 0LL);
  v69 = (BattleDefenceTargetData_o *)sub_B2C42C(BattleDefenceTargetData_TypeInfo);
  BattleDefenceTargetData___ctor(v69, 0LL);
  this->fields.defenceTargetData = v69;
  sub_B2C2F8(&this->fields.defenceTargetData, v69);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.commonEffectPathList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)FsmGameObject,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_string__Clear__);
  this->fields.chainCountDict = 0LL;
  sub_B2C2F8(&this->fields.chainCountDict, 0LL);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.chainTypeList;
  if ( !FsmGameObject )
    goto LABEL_59;
  System_Collections_Generic_List_double___Clear(
    (System_Collections_Generic_List_double__o *)FsmGameObject,
    (const MethodInfo_2F6143C *)Method_System_Collections_Generic_List_double__Clear__);
  this->fields.useSkillEachTurn = 0LL;
  sub_B2C2F8(&this->fields.useSkillEachTurn, 0LL);
  this->fields.calledEnemyUniqueIdHash = 0LL;
  sub_B2C2F8(&this->fields.calledEnemyUniqueIdHash, 0LL);
  this->fields.originalCallEnemyUniqueIdDict = 0LL;
  sub_B2C2F8(&this->fields.originalCallEnemyUniqueIdDict, 0LL);
  this->fields.voiceOffSvtIdHash = 0LL;
  sub_B2C2F8(&this->fields.voiceOffSvtIdHash, 0LL);
  this->fields.masterSkillUseWaveTurn = -1LL;
  v70 = (UseSkillEachTurn_o *)sub_B2C42C(UseSkillEachTurn_TypeInfo);
  UseSkillEachTurn___ctor(v70, 0LL);
  this->fields.useSkillEachTurn = v70;
  sub_B2C2F8(&this->fields.useSkillEachTurn, v70);
  v71 = (ChangeBattlePhaseNotify_o *)sub_B2C42C(ChangeBattlePhaseNotify_TypeInfo);
  ChangeBattlePhaseNotify___ctor(v71, 0LL);
  this->fields.changePhaseNotify = v71;
  sub_B2C2F8(&this->fields.changePhaseNotify, v71);
  v72 = (System_Collections_Generic_Dictionary_int__int__o *)sub_B2C42C(System_Collections_Generic_Dictionary_int__int__TypeInfo);
  System_Collections_Generic_Dictionary_int__int____ctor(
    v72,
    (const MethodInfo_2E2399C *)Method_System_Collections_Generic_Dictionary_int__int___ctor__);
  this->fields.chainCountDict = v72;
  sub_B2C2F8(&this->fields.chainCountDict, v72);
  v73 = (DrawLotsDisplayMessage_o *)sub_B2C42C(DrawLotsDisplayMessage_TypeInfo);
  DrawLotsDisplayMessage___ctor(v73, 0LL);
  this->fields._DrawLotsDispMsg_k__BackingField = v73;
  sub_B2C2F8(&this->fields._DrawLotsDispMsg_k__BackingField, v73);
  v74 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleSkillInfoData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v74,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__);
  this->fields.masterSkillInfo = (struct System_Collections_Generic_List_BattleSkillInfoData__o *)v74;
  sub_B2C2F8(&this->fields.masterSkillInfo, v74);
  v75 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleBoostItemInfoData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v75,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleBoostItemInfoData___ctor__);
  this->fields.boostSkillInfo = (struct System_Collections_Generic_List_BattleBoostItemInfoData__o *)v75;
  sub_B2C2F8(&this->fields.boostSkillInfo, v75);
  v76 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleSkillInfoData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v76,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__);
  this->fields.boostInfoList = (struct System_Collections_Generic_List_BattleSkillInfoData__o *)v76;
  sub_B2C2F8(&this->fields.boostInfoList, v76);
  v77 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, 3LL);
  p_p_entryid = &this->fields.p_entryid;
  this->fields.p_entryid = v77;
  sub_B2C2F8(&this->fields.p_entryid, v77);
  p_entryid = this->fields.p_entryid;
  if ( !p_entryid )
    goto LABEL_59;
  v80 = 0LL;
  while ( 1 )
  {
    max_length = p_entryid->max_length;
    if ( (__int64)v80 >= (int)max_length )
      break;
    if ( v80 >= max_length )
    {
LABEL_60:
      v99 = sub_B2C460(FsmGameObject);
      sub_B2C400(v99, 0LL);
    }
    p_entryid->m_Items[v80 + 1] = -1;
    p_entryid = *p_p_entryid;
    ++v80;
    if ( !*p_p_entryid )
      goto LABEL_59;
  }
  v82 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, 3LL);
  p_e_entryid = &this->fields.e_entryid;
  this->fields.e_entryid = v82;
  sub_B2C2F8(&this->fields.e_entryid, v82);
  e_entryid = this->fields.e_entryid;
  if ( !e_entryid )
    goto LABEL_59;
  v85 = 0LL;
  while ( 1 )
  {
    v86 = e_entryid->max_length;
    if ( (__int64)v85 >= (int)v86 )
      break;
    if ( v85 >= v86 )
      goto LABEL_60;
    e_entryid->m_Items[v85 + 1] = -1;
    e_entryid = *p_e_entryid;
    ++v85;
    if ( !*p_e_entryid )
      goto LABEL_59;
  }
  this->fields.win_lose = 0;
  v87 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleData_CommandHistory__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v87,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleData_CommandHistory___ctor__);
  this->fields.comhistory = (struct System_Collections_Generic_List_BattleData_CommandHistory__o *)v87;
  sub_B2C2F8(&this->fields.comhistory, v87);
  v88 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleDropItem__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v88,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleDropItem___ctor__);
  this->fields.droplist = (struct System_Collections_Generic_List_BattleDropItem__o *)v88;
  sub_B2C2F8(&this->fields.droplist, v88);
  v89 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.p_shcmlist = v89;
  sub_B2C2F8(&this->fields.p_shcmlist, v89);
  v90 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.draw_commandlist = v90;
  sub_B2C2F8(&this->fields.draw_commandlist, v90);
  v91 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v91,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  this->fields.enemy_datalist = (struct System_Collections_Generic_List_BattleServantData__o *)v91;
  sub_B2C2F8(&this->fields.enemy_datalist, v91);
  FsmGameObject = (PlayMakerFSM_o *)this->fields.playerServantNoblePhantasmUsageData;
  if ( !FsmGameObject )
LABEL_59:
    sub_B2C434(FsmGameObject, v48);
  PlayerServantNoblePhantasmUsageData__Clear((PlayerServantNoblePhantasmUsageData_o *)FsmGameObject, 0LL);
  BattleData__loadSkipSkillConf(this, v92);
  BattleData__loadHighSpeedMode(this, v93);
  BattleData__loadTdConstantVelocity(this, v94);
  BattleData__loadSkipDead(this, v95);
  BattleData__InitializeTemporaryCommandSpell(this, v96);
  this->fields._overwriteBgmData_k__BackingField = 0LL;
  sub_B2C2F8(&this->fields._overwriteBgmData_k__BackingField, 0LL);
  v97 = (BattleFieldEnvironmentData_o *)sub_B2C42C(BattleFieldEnvironmentData_TypeInfo);
  BattleFieldEnvironmentData___ctor(v97, this, 0LL);
  this->fields._FieldEnvData_k__BackingField = v97;
  sub_B2C2F8(&this->fields._FieldEnvData_k__BackingField, v97);
  v98 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v98,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  this->fields.listQuestRouteId = v98;
  sub_B2C2F8(&this->fields.listQuestRouteId, v98);
}


void __fastcall BattleData__InitializeForWarBoard(
        BattleData_o *this,
        BattleInfoData_o *battleInfo,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  System_Collections_Generic_List_int__o *lockTargetIdList; // x0
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *v24; // x21
  System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData__o *v25; // x21
  ChangeBattlePhaseNotify_o *v26; // x21
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v27; // x21
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v28; // x21
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v29; // x21
  struct System_Int32_array *v30; // x0
  struct System_Int32_array **p_p_entryid; // x21
  struct System_Int32_array *p_entryid; // x9
  unsigned __int64 v33; // x8
  unsigned __int64 max_length; // x11
  struct System_Int32_array *v35; // x0
  struct System_Int32_array **p_e_entryid; // x21
  struct System_Int32_array *e_entryid; // x9
  unsigned __int64 v38; // x8
  unsigned __int64 v39; // x11
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v40; // x21
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v41; // x21
  struct BattleCommandData_array *v42; // x0
  struct BattleCommandData_array *v43; // x0
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v44; // x21
  WarboardBattleFieldEnvironmentData_o *v45; // x20
  __int64 v46; // x0

  if ( (byte_41842EC & 1) == 0 )
  {
    sub_B2C35C(&BattleCommandData___TypeInfo, battleInfo);
    sub_B2C35C(&ChangeBattlePhaseNotify_TypeInfo, v5);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_Dictionary_string__object__TypeInfo, v7);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_string___ctor__, v8);
    sub_B2C35C(&System_Collections_Generic_HashSet_string__TypeInfo, v9);
    sub_B2C35C(&int___TypeInfo, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Clear__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleDropItem___ctor__, v12);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v14);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleData_CommandHistory___ctor__, v15);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleBoostItemInfoData___ctor__, v16);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v17);
    sub_B2C35C(&System_Collections_Generic_List_BattleData_CommandHistory__TypeInfo, v18);
    sub_B2C35C(&System_Collections_Generic_List_BattleSkillInfoData__TypeInfo, v19);
    sub_B2C35C(&System_Collections_Generic_List_BattleDropItem__TypeInfo, v20);
    sub_B2C35C(&System_Collections_Generic_List_BattleBoostItemInfoData__TypeInfo, v21);
    sub_B2C35C(&WarboardBattleFieldEnvironmentData_TypeInfo, v22);
    byte_41842EC = 1;
  }
  *(_QWORD *)&this->fields.wavecount = 0x100000000LL;
  *(_QWORD *)&this->fields.p_maxcommand = 0xFFFFFFFF00000003LL;
  lockTargetIdList = this->fields.lockTargetIdList;
  if ( !lockTargetIdList )
    goto LABEL_19;
  System_Collections_Generic_List_int___Clear(
    lockTargetIdList,
    (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
  this->fields.criticalstars = 0;
  this->fields.countEnemyAttack = 0;
  this->fields.maxTurnDamageInBattle = 0LL;
  this->fields.totalDamageInTurn = 0LL;
  v24 = (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)sub_B2C42C(System_Collections_Generic_Dictionary_string__object__TypeInfo);
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject____ctor(
    v24,
    (const MethodInfo_2DB1110 *)Method_System_Collections_Generic_Dictionary_string__object___ctor__);
  this->fields.voicePlayedInfo = (struct System_Collections_Generic_Dictionary_string__object__o *)v24;
  sub_B2C2F8(&this->fields.voicePlayedInfo, v24);
  v25 = (System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData__o *)sub_B2C42C(System_Collections_Generic_HashSet_string__TypeInfo);
  System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData____ctor(
    v25,
    (const MethodInfo_2D8BA5C *)Method_System_Collections_Generic_HashSet_string___ctor__);
  this->fields.voicePlayedOver64Info = (struct System_Collections_Generic_HashSet_string__o *)v25;
  sub_B2C2F8(&this->fields.voicePlayedOver64Info, v25);
  this->fields.initturn = 0;
  v26 = (ChangeBattlePhaseNotify_o *)sub_B2C42C(ChangeBattlePhaseNotify_TypeInfo);
  ChangeBattlePhaseNotify___ctor(v26, 0LL);
  this->fields.changePhaseNotify = v26;
  sub_B2C2F8(&this->fields.changePhaseNotify, v26);
  v27 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleSkillInfoData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v27,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__);
  this->fields.masterSkillInfo = (struct System_Collections_Generic_List_BattleSkillInfoData__o *)v27;
  sub_B2C2F8(&this->fields.masterSkillInfo, v27);
  v28 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleBoostItemInfoData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v28,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleBoostItemInfoData___ctor__);
  this->fields.boostSkillInfo = (struct System_Collections_Generic_List_BattleBoostItemInfoData__o *)v28;
  sub_B2C2F8(&this->fields.boostSkillInfo, v28);
  v29 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleSkillInfoData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v29,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__);
  this->fields.boostInfoList = (struct System_Collections_Generic_List_BattleSkillInfoData__o *)v29;
  sub_B2C2F8(&this->fields.boostInfoList, v29);
  v30 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, 3LL);
  p_p_entryid = &this->fields.p_entryid;
  this->fields.p_entryid = v30;
  sub_B2C2F8(&this->fields.p_entryid, v30);
  p_entryid = this->fields.p_entryid;
  if ( !p_entryid )
    goto LABEL_19;
  v33 = 0LL;
  while ( 1 )
  {
    max_length = p_entryid->max_length;
    if ( (__int64)v33 >= (int)max_length )
      break;
    if ( v33 >= max_length )
    {
LABEL_18:
      v46 = sub_B2C460(lockTargetIdList);
      sub_B2C400(v46, 0LL);
    }
    p_entryid->m_Items[v33 + 1] = -1;
    p_entryid = *p_p_entryid;
    ++v33;
    if ( !*p_p_entryid )
      goto LABEL_19;
  }
  v35 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, 3LL);
  p_e_entryid = &this->fields.e_entryid;
  this->fields.e_entryid = v35;
  sub_B2C2F8(&this->fields.e_entryid, v35);
  e_entryid = this->fields.e_entryid;
  if ( !e_entryid )
    goto LABEL_19;
  v38 = 0LL;
  while ( 1 )
  {
    v39 = e_entryid->max_length;
    if ( (__int64)v38 >= (int)v39 )
      break;
    if ( v38 >= v39 )
      goto LABEL_18;
    e_entryid->m_Items[v38 + 1] = -1;
    e_entryid = *p_e_entryid;
    ++v38;
    if ( !*p_e_entryid )
      goto LABEL_19;
  }
  this->fields.win_lose = 0;
  v40 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleData_CommandHistory__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v40,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleData_CommandHistory___ctor__);
  this->fields.comhistory = (struct System_Collections_Generic_List_BattleData_CommandHistory__o *)v40;
  sub_B2C2F8(&this->fields.comhistory, v40);
  v41 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleDropItem__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v41,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleDropItem___ctor__);
  this->fields.droplist = (struct System_Collections_Generic_List_BattleDropItem__o *)v41;
  sub_B2C2F8(&this->fields.droplist, v41);
  v42 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.p_shcmlist = v42;
  sub_B2C2F8(&this->fields.p_shcmlist, v42);
  v43 = (struct BattleCommandData_array *)sub_B2C374(BattleCommandData___TypeInfo, 0LL);
  this->fields.draw_commandlist = v43;
  sub_B2C2F8(&this->fields.draw_commandlist, v43);
  v44 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v44,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  this->fields.enemy_datalist = (struct System_Collections_Generic_List_BattleServantData__o *)v44;
  sub_B2C2F8(&this->fields.enemy_datalist, v44);
  lockTargetIdList = (System_Collections_Generic_List_int__o *)this->fields.playerServantNoblePhantasmUsageData;
  if ( !lockTargetIdList )
LABEL_19:
    sub_B2C434(lockTargetIdList, battleInfo);
  PlayerServantNoblePhantasmUsageData__Clear((PlayerServantNoblePhantasmUsageData_o *)lockTargetIdList, 0LL);
  this->fields.battle_info = battleInfo;
  sub_B2C2F8(&this->fields.battle_info, battleInfo);
  v45 = (WarboardBattleFieldEnvironmentData_o *)sub_B2C42C(WarboardBattleFieldEnvironmentData_TypeInfo);
  WarboardBattleFieldEnvironmentData___ctor(v45, this, 0LL);
  this->fields._FieldEnvData_k__BackingField = (struct BattleFieldEnvironmentData_o *)v45;
  sub_B2C2F8(&this->fields._FieldEnvData_k__BackingField, v45);
}


void __fastcall BattleData__InitializeTemporaryCommandSpell(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  struct BattleEntity_o **p_battle_ent; // x21
  DataMasterBase_TMaster__TEntity__PKType__o *Master_WarQuestSelectionMaster; // x0
  struct QuestPhaseEntity_o **p_questphase_ent; // x20
  __int64 v8; // x1
  Il2CppObject *SingleEntity; // x0
  int32_t TemporaryCommandSpell; // w21

  if ( (byte_41843A5 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_BattleMaster___, method);
    sub_B2C35C(&DataManager_TypeInfo, v3);
    sub_B2C35C(&Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__, v4);
    byte_41843A5 = 1;
  }
  p_battle_ent = &this->fields.battle_ent;
  if ( !this->fields.battle_ent
    || (p_questphase_ent = &this->fields.questphase_ent,
        (Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.questphase_ent) == 0LL) )
  {
    if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
    Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_BattleMaster___);
    if ( !Master_WarQuestSelectionMaster )
      goto LABEL_18;
    SingleEntity = DataMasterBase_object__object__long___GetSingleEntity(
                     Master_WarQuestSelectionMaster,
                     (const MethodInfo_24E43BC *)Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__);
    *p_battle_ent = (struct BattleEntity_o *)SingleEntity;
    sub_B2C2F8(&this->fields.battle_ent, SingleEntity);
    Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)*p_battle_ent;
    if ( !*p_battle_ent )
      goto LABEL_18;
    p_questphase_ent = &this->fields.questphase_ent;
    BattleEntity__GetQuestInvolvedEntitys(
      (BattleEntity_o *)Master_WarQuestSelectionMaster,
      &this->fields.quest_ent,
      &this->fields.questphase_ent,
      0LL);
    Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.questphase_ent;
    if ( !Master_WarQuestSelectionMaster )
      goto LABEL_18;
  }
  TemporaryCommandSpell = QuestPhaseEntity__GetTemporaryCommandSpell(
                            (QuestPhaseEntity_o *)Master_WarQuestSelectionMaster,
                            0LL);
  if ( TemporaryCommandSpell == -1 )
  {
    Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)UserGameMaster__getSelfUserGame(0LL);
    if ( !Master_WarQuestSelectionMaster )
      goto LABEL_18;
    TemporaryCommandSpell = UserGameEntity__getCommandSpell((UserGameEntity_o *)Master_WarQuestSelectionMaster, 0LL);
  }
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)*p_questphase_ent;
  if ( !*p_questphase_ent )
LABEL_18:
    sub_B2C434(Master_WarQuestSelectionMaster, v8);
  if ( QuestPhaseEntity__IsUseTemporaryCommandSpell((QuestPhaseEntity_o *)Master_WarQuestSelectionMaster, 0LL) )
    this->fields.temporarySpell = TemporaryCommandSpell;
}


void __fastcall BattleData__InitializeWaveRestart(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  bool v4; // w20
  const MethodInfo *v5; // x2
  BattleData_SaveData_o *WaveRestartData; // x0
  const MethodInfo *v7; // x4

  if ( (byte_41843BB & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, method);
    sub_B2C35C(&StringLiteral_8126/*"IsDuelMessagePack"*/, v3);
    byte_41843BB = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  v4 = EncryptedPlayerPrefs__GetInt_33168616((System_String_o *)StringLiteral_8126/*"IsDuelMessagePack"*/, 0, 0LL) != 0;
  WaveRestartData = BattleData__LoadWaveRestartData(this, v4, v5);
  BattleData__SetBattleDataFromSaveData(this, WaveRestartData, v4, 1, v7);
  this->fields.isWaveRestartInitialize = 1;
}


bool __fastcall BattleData__IsAiNpcID(BattleData_o *this, int32_t id, const MethodInfo *method)
{
  return BattleData__GetAiNpcServantData(this, id, method) != 0LL;
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__IsAliveLogic(BattleData_o *this, bool isEnemy, const MethodInfo *method)
{
  BattleData_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x8
  __int64 v7; // x20
  __int64 v8; // x8
  __int64 i; // x21
  BattleServantData_o *v10; // x0
  bool v11; // w19
  __int64 v12; // x9

  v4 = this;
  if ( (byte_4184347 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, isEnemy);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v5);
    byte_4184347 = 1;
  }
  v6 = 128LL;
  if ( isEnemy )
    v6 = 168LL;
  v7 = *(__int64 *)((char *)&v4->klass + v6);
  if ( !v7 )
    sub_B2C434(this, isEnemy);
  LODWORD(v8) = *(_DWORD *)(v7 + 24);
  if ( (int)v8 < 1 )
    return 0;
  for ( i = 4LL; ; ++i )
  {
    if ( i - 4 >= (unsigned __int64)(unsigned int)v8 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v10 = *(BattleServantData_o **)(*(_QWORD *)(v7 + 16) + 8 * i);
    if ( v10 )
    {
      if ( i - 4 >= (unsigned __int64)*(unsigned int *)(v7 + 24) )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v11 = 1;
      if ( BattleServantData__isAliveLogic(v10, 1, 0LL) )
        break;
    }
    v8 = *(int *)(v7 + 24);
    v12 = i - 3;
    if ( v12 >= v8 )
      return 0;
  }
  return v11;
}


bool __fastcall BattleData__IsAliveOtherRaidTypeBoss(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  System_Collections_Generic_IEnumerable_TSource__o *FieldEnemyServantList; // x19
  BattleData___c_c *v10; // x8
  struct BattleData___c_StaticFields *static_fields; // x9
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__584_0; // x20
  Il2CppObject *v13; // x21
  struct BattleData___c_StaticFields *v14; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v15; // x0

  if ( (byte_4184386 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_Count_BattleServantData___, method);
    sub_B2C35C(&Method_System_Linq_Enumerable_Where_BattleServantData___, v4);
    sub_B2C35C(&Method_System_Func_BattleServantData__bool___ctor__, v5);
    sub_B2C35C(&System_Func_BattleServantData__bool__TypeInfo, v6);
    sub_B2C35C(&Method_BattleData___c__IsAliveOtherRaidTypeBoss_b__584_0__, v7);
    sub_B2C35C(&BattleData___c_TypeInfo, v8);
    byte_4184386 = 1;
  }
  FieldEnemyServantList = (System_Collections_Generic_IEnumerable_TSource__o *)BattleData__getFieldEnemyServantList(
                                                                                 this,
                                                                                 0,
                                                                                 v2);
  v10 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v10 = BattleData___c_TypeInfo;
  }
  static_fields = v10->static_fields;
  _9__584_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)static_fields->__9__584_0;
  if ( !_9__584_0 )
  {
    if ( (BYTE3(v10->vtable._0_Equals.methodPtr) & 4) != 0 && !v10->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v10);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v13 = (Il2CppObject *)static_fields->__9;
    _9__584_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B2C42C(System_Func_BattleServantData__bool__TypeInfo);
    System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
      _9__584_0,
      v13,
      Method_BattleData___c__IsAliveOtherRaidTypeBoss_b__584_0__,
      (const MethodInfo_2711C04 *)Method_System_Func_BattleServantData__bool___ctor__);
    v14 = BattleData___c_TypeInfo->static_fields;
    v14->__9__584_0 = (struct System_Func_BattleServantData__bool__o *)_9__584_0;
    sub_B2C2F8(&v14->__9__584_0, _9__584_0);
  }
  v15 = System_Linq_Enumerable__Where_WarBoardManager_WarBoardOnboardSkillTarget_(
          FieldEnemyServantList,
          (System_Func_TSource__bool__o *)_9__584_0,
          (const MethodInfo_1A9F3E4 *)Method_System_Linq_Enumerable_Where_BattleServantData___);
  return System_Linq_Enumerable__Count_WarBoardSquareIndexData_SaveData_(
           v15,
           (const MethodInfo_1A8C590 *)Method_System_Linq_Enumerable_Count_BattleServantData___) > 0;
}


bool __fastcall BattleData__IsAliveTarget(BattleData_o *this, int32_t uniqueId, const MethodInfo *method)
{
  BattleServantData_o *ServantData; // x0

  ServantData = BattleData__getServantData(this, uniqueId, method);
  if ( ServantData )
    LOBYTE(ServantData) = BattleServantData__isAlive(ServantData, 0, 0LL);
  return (char)ServantData;
}


bool __fastcall BattleData__IsAllEnemyDeadEachBossType(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v3; // x1

  if ( BattleData__isSuperBossBattle(this, method) )
    return BattleData__isSuperBossDown(this, v3);
  else
    return !BattleData__checkAliveAllEnemy(this, v3);
}


bool __fastcall BattleData__IsBattleStartFadeIn(BattleData_o *this, const MethodInfo *method)
{
  StageEntity_o *StageEntity; // x0
  __int64 v3; // x1

  StageEntity = BattleData__getStageEntity(this, method);
  if ( !StageEntity )
    sub_B2C434(0LL, v3);
  return StageEntity__GetFadeType(StageEntity, 0LL) == 1;
}


bool __fastcall BattleData__IsBattleStartFadeOff(BattleData_o *this, const MethodInfo *method)
{
  StageEntity_o *StageEntity; // x0
  __int64 v3; // x1

  StageEntity = BattleData__getStageEntity(this, method);
  if ( !StageEntity )
    sub_B2C434(0LL, v3);
  return StageEntity__GetFadeType(StageEntity, 0LL) == 2;
}


bool __fastcall BattleData__IsCalcStar(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.isCalcCritical;
}


bool __fastcall BattleData__IsContinueWaveRestart(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( questphase_ent )
    LOBYTE(questphase_ent) = QuestPhaseEntity__IsContinueWaveRestart(questphase_ent, 0LL);
  return (char)questphase_ent;
}


bool __fastcall BattleData__IsDeadOkTurn(BattleData_o *this, int32_t uniqueId, const MethodInfo *method)
{
  BattleServantData_o *ServantData; // x0
  BattleServantData_o *v5; // x20
  bool result; // w0

  ServantData = BattleData__getServantData(this, uniqueId, method);
  result = !ServantData
        || (v5 = ServantData, !BattleServantData__isShiftableServant(ServantData, 0LL))
        || !v5->fields.isEnemy
        || this->fields.typeTurn != 2;
  return result;
}


bool __fastcall BattleData__IsDeckNoUserSvt(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x20
  __int64 v15; // x20
  DataManager_o *MasterData_WarQuestSelectionMaster; // x0
  struct QuestPhaseEntity_o *questphase_ent; // x8
  __int64 v18; // x20
  __int64 v19; // x20
  struct QuestPhaseEntity_o *v20; // x8
  RestrictionEntity_array *RestrictionList; // x0
  WellFired_USFGOPlayBgmEventConditional_CondBGM_array *v22; // x20
  BattleData___c_c *v23; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__310_0; // x21
  Il2CppObject *v26; // x22
  struct BattleData___c_StaticFields *v27; // x0
  _BOOL8 v29; // x0
  __int64 v30; // x1
  int v31; // w19
  System_Collections_Generic_List_Enumerator_T__o v32; // [xsp+8h] [xbp-48h] BYREF
  QuestRestrictionInfoEntity_o *entity; // [xsp+28h] [xbp-28h] BYREF

  if ( (byte_41842F8 & 1) == 0 )
  {
    sub_B2C35C(&Method_BasicHelper_Any_RestrictionEntity___, method);
    sub_B2C35C(&Method_DataManager_GetMasterData_QuestRestrictionInfoMaster___, v3);
    sub_B2C35C(&Method_DataManager_GetMasterData_QuestRestrictionMaster___, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__get_Current__, v7);
    sub_B2C35C(&Method_System_Func_RestrictionEntity__bool___ctor__, v8);
    sub_B2C35C(&System_Func_RestrictionEntity__bool__TypeInfo, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__, v10);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__getInstance__, v11);
    sub_B2C35C(&Method_BattleData___c__IsDeckNoUserSvt_b__310_0__, v12);
    sub_B2C35C(&BattleData___c_TypeInfo, v13);
    byte_41842F8 = 1;
  }
  entity = 0LL;
  memset(&v32, 0, sizeof(v32));
  v14 = *((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3);
  if ( (*(_BYTE *)(v14 + 306) & 1) == 0 )
    sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3));
  v15 = **(_QWORD **)(v14 + 192);
  if ( (*(_BYTE *)(v15 + 306) & 1) == 0 )
    sub_AC505C(v15);
  MasterData_WarQuestSelectionMaster = **(DataManager_o ***)(v15 + 184);
  if ( !MasterData_WarQuestSelectionMaster )
    goto LABEL_47;
  MasterData_WarQuestSelectionMaster = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                                          MasterData_WarQuestSelectionMaster,
                                                          (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_QuestRestrictionInfoMaster___);
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent || !MasterData_WarQuestSelectionMaster )
    goto LABEL_47;
  if ( QuestRestrictionInfoMaster__TryGetEntity(
         (QuestRestrictionInfoMaster_o *)MasterData_WarQuestSelectionMaster,
         &entity,
         questphase_ent->fields.questId,
         questphase_ent->fields.phase,
         0LL) )
  {
    MasterData_WarQuestSelectionMaster = (DataManager_o *)entity;
    if ( !entity )
      goto LABEL_47;
    if ( !QuestRestrictionInfoEntity__HasFlag(entity, 0x80000LL, 0LL) )
    {
      MasterData_WarQuestSelectionMaster = (DataManager_o *)entity;
      if ( !entity )
        goto LABEL_47;
      if ( QuestRestrictionInfoEntity__HasFlag(entity, 0x20000000LL, 0LL) )
        return 1;
      goto LABEL_20;
    }
    return 1;
  }
  MasterData_WarQuestSelectionMaster = (DataManager_o *)this->fields.quest_ent;
  if ( !MasterData_WarQuestSelectionMaster )
    goto LABEL_47;
  if ( QuestEntity__HasFlag((QuestEntity_o *)MasterData_WarQuestSelectionMaster, 0x80000LL, 0LL) )
    return 1;
  MasterData_WarQuestSelectionMaster = (DataManager_o *)this->fields.quest_ent;
  if ( !MasterData_WarQuestSelectionMaster )
    goto LABEL_47;
  if ( QuestEntity__HasFlag((QuestEntity_o *)MasterData_WarQuestSelectionMaster, 0x20000000LL, 0LL) )
    return 1;
LABEL_20:
  v18 = *((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3);
  if ( (*(_BYTE *)(v18 + 306) & 1) == 0 )
    sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3));
  v19 = **(_QWORD **)(v18 + 192);
  if ( (*(_BYTE *)(v19 + 306) & 1) == 0 )
    sub_AC505C(v19);
  MasterData_WarQuestSelectionMaster = **(DataManager_o ***)(v19 + 184);
  if ( !MasterData_WarQuestSelectionMaster )
    goto LABEL_47;
  MasterData_WarQuestSelectionMaster = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                                          MasterData_WarQuestSelectionMaster,
                                                          (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_QuestRestrictionMaster___);
  v20 = this->fields.questphase_ent;
  if ( !v20 || !MasterData_WarQuestSelectionMaster )
    goto LABEL_47;
  RestrictionList = QuestRestrictionMaster__getRestrictionList(
                      (QuestRestrictionMaster_o *)MasterData_WarQuestSelectionMaster,
                      v20->fields.questId,
                      v20->fields.phase,
                      0LL);
  if ( RestrictionList )
  {
    v22 = (WellFired_USFGOPlayBgmEventConditional_CondBGM_array *)RestrictionList;
    v23 = BattleData___c_TypeInfo;
    if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleData___c_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
      v23 = BattleData___c_TypeInfo;
    }
    static_fields = v23->static_fields;
    _9__310_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)static_fields->__9__310_0;
    if ( !_9__310_0 )
    {
      if ( (BYTE3(v23->vtable._0_Equals.methodPtr) & 4) != 0 && !v23->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v23);
        static_fields = BattleData___c_TypeInfo->static_fields;
      }
      v26 = (Il2CppObject *)static_fields->__9;
      _9__310_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B2C42C(System_Func_RestrictionEntity__bool__TypeInfo);
      System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
        _9__310_0,
        v26,
        Method_BattleData___c__IsDeckNoUserSvt_b__310_0__,
        (const MethodInfo_2711C04 *)Method_System_Func_RestrictionEntity__bool___ctor__);
      v27 = BattleData___c_TypeInfo->static_fields;
      v27->__9__310_0 = (struct System_Func_RestrictionEntity__bool__o *)_9__310_0;
      sub_B2C2F8(&v27->__9__310_0, _9__310_0);
    }
    if ( BasicHelper__Any_USFGOPlayBgmEventConditional_CondBGM_(
           v22,
           (System_Func_T__bool__o *)_9__310_0,
           (const MethodInfo_1726758 *)Method_BasicHelper_Any_RestrictionEntity___) )
    {
      return 1;
    }
  }
  MasterData_WarQuestSelectionMaster = (DataManager_o *)this->fields.player_datalist;
  if ( !MasterData_WarQuestSelectionMaster )
LABEL_47:
    sub_B2C434(MasterData_WarQuestSelectionMaster, method);
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v32,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)MasterData_WarQuestSelectionMaster,
    (const MethodInfo_2EF52DC *)Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__);
  while ( 1 )
  {
    v29 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v32,
            (const MethodInfo_20EA42C *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__);
    if ( !v29 )
      break;
    if ( !v32.fields.current )
      sub_B2C434(v29, v30);
    if ( !Follower__IsNpc(HIDWORD(v32.fields.current[19].klass), 0LL) )
    {
      v31 = 257;
      goto LABEL_46;
    }
  }
  v31 = 255;
LABEL_46:
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v32,
    (const MethodInfo_20EA428 *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__);
  return v31 != 257;
}


bool __fastcall BattleData__IsEndAllWaveBattle(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v3; // x1

  return !BattleData__existsNextBattle(this, method) && BattleData__IsEndWaveBattle(this, v3);
}


bool __fastcall BattleData__IsEndWaveBattle(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v3; // x1
  _BOOL8 v4; // x0
  __int64 v5; // x1
  int32_t limitTurnCount; // w8
  struct BattleAttackManager_o *battleAtkManager; // x8

  if ( this->fields.winBattleNotRelatedSurvivalStatus )
    return 1;
  if ( !BattleData__checkAlivePlayers(this, method) )
    return 1;
  v4 = BattleData__checkAliveEnemys(this, v3);
  if ( !v4 || this->fields.endbattleFlg )
    return 1;
  limitTurnCount = this->fields.limitTurnCount;
  if ( limitTurnCount < 1 || limitTurnCount > this->fields.turnCount )
    return 0;
  battleAtkManager = this->fields.battleAtkManager;
  if ( !battleAtkManager )
    sub_B2C434(v4, v5);
  return battleAtkManager->fields._IsTurnEnd_k__BackingField;
}


bool __fastcall BattleData__IsEnemyEntryOverLimit(BattleData_o *this, const MethodInfo *method)
{
  int32_t EnemyEntryMaxCountEachTurn_k__BackingField; // w8

  EnemyEntryMaxCountEachTurn_k__BackingField = this->fields._EnemyEntryMaxCountEachTurn_k__BackingField;
  return (EnemyEntryMaxCountEachTurn_k__BackingField & 0x80000000) == 0
      && EnemyEntryMaxCountEachTurn_k__BackingField <= this->fields._EnemyEntryCountOnThisTurn_k__BackingField;
}


bool __fastcall BattleData__IsEntry(BattleData_o *this, int32_t deckIndex, bool isEnemy, const MethodInfo *method)
{
  __int64 v4; // x8
  __int64 v5; // x8
  int32_t v6; // w9
  __int64 v8; // x0

  v4 = 288LL;
  if ( isEnemy )
    v4 = 296LL;
  if ( (deckIndex & 0x80000000) != 0 )
    return 1;
  v5 = *(__int64 *)((char *)&this->klass + v4);
  if ( !v5 )
    sub_B2C434(this, deckIndex);
  v6 = *(_DWORD *)(v5 + 24);
  if ( v6 <= deckIndex )
    return 1;
  if ( v6 <= (unsigned int)deckIndex )
  {
    v8 = sub_B2C460(this);
    sub_B2C400(v8, 0LL);
  }
  return *(_DWORD *)(v5 + 4LL * deckIndex + 32) != -1;
}


bool __fastcall BattleData__IsFixedCommandData(BattleData_o *this, const MethodInfo *method)
{
  struct BattleCommandData_array *fixedCommands; // x8
  BattleData_o *v3; // x19
  int rootfsm; // w8
  BattleData_o *v5; // x20
  unsigned int v6; // w21
  struct BattleCommandData_array *wkCommands; // x1
  __int64 v9; // x0

  fixedCommands = this->fields.fixedCommands;
  if ( !fixedCommands )
    goto LABEL_14;
  if ( !*(_QWORD *)&fixedCommands->max_length )
    return 0;
  v3 = this;
  this = (BattleData_o *)BattleData__getFieldPlayerServantList(this, method);
  if ( !this )
LABEL_14:
    sub_B2C434(this, method);
  rootfsm = (int)this->fields.rootfsm;
  v5 = this;
  if ( rootfsm < 1 )
  {
LABEL_11:
    wkCommands = v3->fields.wkCommands;
    v3->fields.fixedCommands = wkCommands;
    sub_B2C2F8(&v3->fields.fixedCommands, wkCommands);
    return 0;
  }
  v6 = 0;
  while ( 1 )
  {
    if ( v6 >= rootfsm )
    {
      v9 = sub_B2C460(this);
      sub_B2C400(v9, 0LL);
    }
    this = (BattleData_o *)*((_QWORD *)&v5->fields.fsm + (int)v6);
    if ( !this )
      goto LABEL_14;
    this = (BattleData_o *)BattleServantData__getFixCommandCardBuff((BattleServantData_o *)this, 0LL);
    if ( !this )
      goto LABEL_14;
    if ( this->fields.rootfsm )
      return 1;
    rootfsm = (int)v5->fields.rootfsm;
    if ( (int)++v6 >= rootfsm )
      goto LABEL_11;
  }
}


bool __fastcall BattleData__IsFriendChocolateQuest(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  DataManager_o *Instance; // x0
  __int64 v6; // x1
  struct BattleEntity_o *battle_ent; // x8
  WarEntity_o *entity; // [xsp+8h] [xbp-18h] BYREF

  if ( (byte_418430E & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_EventDetailMaster___, method);
    sub_B2C35C(&Method_DataMasterBase_EventDetailMaster__EventDetailEntity__int__TryGetEntity__, v3);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v4);
    byte_418430E = 1;
  }
  entity = 0LL;
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_11;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EventDetailMaster___);
  entity = 0LL;
  battle_ent = this->fields.battle_ent;
  if ( !battle_ent || !Instance )
    goto LABEL_11;
  if ( !DataMasterBase_WarMaster__WarEntity__int___TryGetEntity(
          (DataMasterBase_WarMaster__WarEntity__int__o *)Instance,
          &entity,
          battle_ent->fields.eventId,
          (const MethodInfo_24E412C *)Method_DataMasterBase_EventDetailMaster__EventDetailEntity__int__TryGetEntity__) )
    return 0;
  Instance = (DataManager_o *)entity;
  if ( !entity )
LABEL_11:
    sub_B2C434(Instance, v6);
  return EventDetailEntity__HasFlag((EventDetailEntity_o *)entity, 0x1000000000LL, 0LL);
}


bool __fastcall BattleData__IsHighSpeedOption(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.systemflg_acceleration > 1;
}


bool __fastcall BattleData__IsIgnoreBattleLoseDialog(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__IsIgnoreBattleLoseDialog(questphase_ent, 0LL);
}


bool __fastcall BattleData__IsKeepSubBgmAfterBattleResult(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__IsKeepSubBgmAfterBattleResult(questphase_ent, 0LL);
}


bool __fastcall BattleData__IsMasterSkillOverWritten(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.masterSkillIconId != 0;
}


bool __fastcall BattleData__IsMovieAfterCrossFade(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetMovieAfterCrossFadeTime(questphase_ent, 0LL) != 0;
}


bool __fastcall BattleData__IsNoSkipDeadFirst(
        BattleData_o *this,
        BattleServantData_o *svtData,
        const MethodInfo *method)
{
  __int64 v5; // x1
  int32_t NoSkipDeadFirstId; // w0
  const MethodInfo *v7; // x1
  int32_t v8; // w20
  System_Collections_Generic_List_int__o *noSkipDeadFirstIdList; // x0
  struct System_Collections_Generic_List_int__o *v10; // x0
  __int64 v11; // x1

  if ( (byte_41842F4 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, svtData);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, v5);
    byte_41842F4 = 1;
  }
  if ( !svtData )
    goto LABEL_8;
  NoSkipDeadFirstId = BattleServantData__GetNoSkipDeadFirstId(svtData, 0LL);
  if ( !NoSkipDeadFirstId )
    return NoSkipDeadFirstId;
  v8 = NoSkipDeadFirstId;
  noSkipDeadFirstIdList = this->fields.noSkipDeadFirstIdList;
  if ( !noSkipDeadFirstIdList )
  {
    v10 = BattleData__LoadNoSkipDeadFirstIdList(0LL, v7);
    this->fields.noSkipDeadFirstIdList = v10;
    sub_B2C2F8(&this->fields.noSkipDeadFirstIdList, v10);
    noSkipDeadFirstIdList = this->fields.noSkipDeadFirstIdList;
    if ( !noSkipDeadFirstIdList )
      goto LABEL_15;
  }
  if ( !System_Collections_Generic_List_int___Contains(
          noSkipDeadFirstIdList,
          v8,
          (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__) )
  {
    noSkipDeadFirstIdList = this->fields.noSkipDeadFirstIdUseThisTurn;
    if ( noSkipDeadFirstIdList )
    {
      if ( System_Collections_Generic_List_int___Contains(
             noSkipDeadFirstIdList,
             v8,
             (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__) )
      {
LABEL_13:
        LOBYTE(NoSkipDeadFirstId) = 1;
        return NoSkipDeadFirstId;
      }
      noSkipDeadFirstIdList = this->fields.noSkipDeadFirstIdUseThisTurn;
      if ( noSkipDeadFirstIdList )
      {
        System_Collections_Generic_List_int___Add(
          noSkipDeadFirstIdList,
          v8,
          (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
        goto LABEL_13;
      }
    }
LABEL_15:
    sub_B2C434(noSkipDeadFirstIdList, v11);
  }
LABEL_8:
  LOBYTE(NoSkipDeadFirstId) = 0;
  return NoSkipDeadFirstId;
}


bool __fastcall BattleData__IsNotAliveTarget(BattleData_o *this, int32_t uniqueId, const MethodInfo *method)
{
  return !BattleData__IsAliveTarget(this, uniqueId, method);
}


bool __fastcall BattleData__IsNotResetResultDispFlag(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__IsNotResetResultDispFlag(questphase_ent, 0LL);
}


bool __fastcall BattleData__IsNpDetailActive(
        BattleData_o *this,
        BattleServantData_o *bsvtData,
        bool defaultActive,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  WarQuestSelectionMaster_o *Master_WarQuestSelectionMaster; // x0
  __int64 v10; // x1
  struct QuestPhaseEntity_o *questphase_ent; // x8
  int32_t questId; // w22
  int32_t phase; // w23
  NpcServantFollowerMaster_o *v14; // x21
  __int64 v15; // x20
  __int64 v16; // x24
  NpcServantFollowerEntity_o *npcServantFollowerEntity; // [xsp+8h] [xbp-38h] BYREF
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v19; // 0:x0.16

  if ( (byte_41843B2 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_NpcServantFollowerMaster___, bsvtData);
    sub_B2C35C(&DataManager_TypeInfo, v7);
    sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, v8);
    byte_41843B2 = 1;
  }
  npcServantFollowerEntity = 0LL;
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_NpcServantFollowerMaster___);
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent || !bsvtData )
    goto LABEL_17;
  questId = questphase_ent->fields.questId;
  phase = questphase_ent->fields.phase;
  v14 = (NpcServantFollowerMaster_o *)Master_WarQuestSelectionMaster;
  if ( BattleServantData__IsNpc(bsvtData, 0LL) )
  {
    v16 = *(_QWORD *)&bsvtData->fields.svtId.fields.currentCryptoKey;
    v15 = *(_QWORD *)&bsvtData->fields.svtId.fields.fakeValue;
    if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
    }
    *(_QWORD *)&v19.fields.currentCryptoKey = v16;
    *(_QWORD *)&v19.fields.fakeValue = v15;
    Master_WarQuestSelectionMaster = (WarQuestSelectionMaster_o *)CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(
                                                                    v19,
                                                                    0LL);
    if ( !v14 )
      goto LABEL_17;
    Master_WarQuestSelectionMaster = (WarQuestSelectionMaster_o *)NpcServantFollowerMaster__TryGetEntityByQuestIdAndSvtId(
                                                                    v14,
                                                                    &npcServantFollowerEntity,
                                                                    questId,
                                                                    phase,
                                                                    (int32_t)Master_WarQuestSelectionMaster,
                                                                    0LL);
    if ( ((unsigned __int8)Master_WarQuestSelectionMaster & 1) != 0 )
    {
      if ( npcServantFollowerEntity )
      {
        defaultActive &= !NpcServantFollowerEntity__IsHideTreasureDeviceDetail(
                            npcServantFollowerEntity->fields.flag,
                            0LL);
        return defaultActive;
      }
LABEL_17:
      sub_B2C434(Master_WarQuestSelectionMaster, v10);
    }
  }
  return defaultActive;
}


bool __fastcall BattleData__IsOffWinVoice(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetWinVoiceOffFlg(questphase_ent, 0LL) == 1;
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__IsOpponentPTUniqueID(
        BattleData_o *this,
        int32_t aId,
        int32_t bId,
        const MethodInfo *method)
{
  bool v6; // w21
  const MethodInfo *v7; // x2

  v6 = BattleData__getEnemyServantData(this, aId, *(const MethodInfo **)&bId) != 0LL;
  return v6 ^ (BattleData__getEnemyServantData(this, bId, v7) != 0LL);
}


bool __fastcall BattleData__IsPlayLimitTurnEffect(BattleData_o *this, const MethodInfo *method)
{
  BattleAttackManager_o *battleAtkManager; // x0

  if ( this->fields.limitTurnCount < 1 )
    return 0;
  battleAtkManager = this->fields.battleAtkManager;
  if ( !battleAtkManager )
    sub_B2C434(0LL, method);
  return BattleAttackManager__get_IsTurnStart(battleAtkManager, 0LL);
}


bool __fastcall BattleData__IsResetCommandAssistInfoArrayOversight(
        BattleData_o *this,
        System_Collections_Generic_List_List_EventCommandAssistEntity___o *commandAssistInfoOversightList,
        System_Collections_Generic_List_commandAssistData__o *commandAssistDataList,
        BattleDeckServantData_array *svtDeckArray,
        const MethodInfo *method)
{
  BattleData_o *v8; // x20
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  struct System_Collections_Generic_List_EventCommandAssistEntity__array *items; // x8
  System_Collections_Generic_List_EventCommandAssistEntity__o *v20; // x9
  System_Collections_Generic_List_EventCommandAssistEntity__o *v21; // x9
  System_Collections_Generic_List_EventCommandAssistEntity__o *v22; // x8
  DataMasterBase_WarMaster__WarEntity__int__o *Master_WarQuestSelectionMaster; // x24
  signed int max_length; // w8
  EventCommandAssistMaster_o *v25; // x23
  unsigned int v26; // w19
  int v27; // w27
  int v28; // w28
  int v29; // w21
  struct BattleEntity_o *battle_ent; // x8
  BattleDeckServantData_o *v31; // x9
  struct QuestPhaseEntity_o *questphase_ent; // x25
  struct QuestEntity_o *quest_ent; // x26
  struct BattleFieldData_array *field_datalist; // x11
  unsigned __int64 v35; // x8
  unsigned __int64 v36; // x9
  BattleFieldData_o **m_Items; // x11
  int v38; // w12
  int v39; // w22
  int v40; // w24
  int v41; // w25
  struct BattleEntity_o *v42; // x8
  EventCommandAssistEntity_o *CurrentEntity; // x0
  int32_t assistCardId; // w8
  _BOOL8 v45; // x0
  __int64 v46; // x1
  System_Collections_Generic_List_EventCommandAssistEntity__o *v47; // x8
  int v48; // w25
  _BOOL4 v49; // w19
  int v50; // w23
  System_Collections_Generic_List_List_EventCommandAssistEntity___o *v51; // x26
  System_Collections_Generic_List_EventCommandAssistEntity__o *v52; // x8
  _BOOL4 v53; // w20
  int v54; // w22
  System_Collections_Generic_List_EventCommandAssistEntity__o *v55; // x8
  _BOOL4 v56; // w21
  _BOOL4 v57; // w24
  System_Collections_Generic_List_EventCommandAssistEntity__o *v58; // x8
  _BOOL4 v59; // w23
  System_Collections_Generic_List_EventCommandAssistEntity__o *v60; // x8
  _BOOL4 v61; // w8
  System_Collections_Generic_List_EventCommandAssistEntity__o *v62; // x8
  __int64 v64; // x0
  BattleData_o *v65; // [xsp+8h] [xbp-98h]
  System_Collections_Generic_List_List_EventCommandAssistEntity___o *v66; // [xsp+10h] [xbp-90h]
  System_Collections_Generic_List_Enumerator_T__o v67; // [xsp+18h] [xbp-88h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v68; // [xsp+30h] [xbp-70h] BYREF
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v69; // 0:x0.16

  v8 = this;
  if ( (byte_4184376 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_EventCommandAssistMaster___, commandAssistInfoOversightList);
    sub_B2C35C(&Method_DataManager_GetMaster_ServantMaster___, v9);
    sub_B2C35C(&DataManager_TypeInfo, v10);
    sub_B2C35C(&Method_DataMasterBase_ServantMaster__ServantEntity__int__GetEntity__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_commandAssistData__Dispose__, v12);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_commandAssistData__MoveNext__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_commandAssistData__get_Current__, v14);
    sub_B2C35C(&Method_System_Collections_Generic_List_commandAssistData__GetEnumerator__, v15);
    sub_B2C35C(&Method_System_Collections_Generic_List_EventCommandAssistEntity__get_Count__, v16);
    sub_B2C35C(&Method_System_Collections_Generic_List_List_EventCommandAssistEntity___get_Item__, v17);
    this = (BattleData_o *)sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, v18);
    byte_4184376 = 1;
  }
  memset(&v68, 0, sizeof(v68));
  if ( !commandAssistInfoOversightList )
    goto LABEL_97;
  if ( !commandAssistInfoOversightList->fields._size )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  items = commandAssistInfoOversightList->fields._items;
  v20 = items->m_Items[0];
  if ( !v20 )
    goto LABEL_97;
  if ( v20->fields._size )
    goto LABEL_16;
  if ( commandAssistInfoOversightList->fields._size <= 1u )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  v21 = items->m_Items[1];
  if ( !v21 )
    goto LABEL_97;
  if ( v21->fields._size )
    goto LABEL_16;
  if ( commandAssistInfoOversightList->fields._size <= 2u )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  v22 = items->m_Items[2];
  if ( !v22 )
    goto LABEL_97;
  if ( v22->fields._size )
  {
LABEL_16:
    v65 = (BattleData_o *)commandAssistDataList;
    if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
    Master_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_ServantMaster___);
    this = (BattleData_o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_EventCommandAssistMaster___);
    if ( !svtDeckArray )
      goto LABEL_97;
    max_length = svtDeckArray->max_length;
    v25 = (EventCommandAssistMaster_o *)this;
    v66 = commandAssistInfoOversightList;
    if ( max_length >= 1 )
    {
      v26 = 0;
      v27 = 0;
      v28 = 0;
      v29 = 0;
      while ( 1 )
      {
        if ( v26 >= max_length )
          goto LABEL_96;
        battle_ent = v8->fields.battle_ent;
        if ( !battle_ent )
          goto LABEL_97;
        v31 = svtDeckArray->m_Items[v26];
        if ( !v31 )
          goto LABEL_97;
        this = (BattleData_o *)battle_ent->fields.battleInfo;
        if ( !this )
          goto LABEL_97;
        this = (BattleData_o *)BattleInfoData__getUserServantFromID(
                                 (BattleInfoData_o *)this,
                                 v31->fields.userSvtId,
                                 0LL);
        if ( !this )
          goto LABEL_97;
        quest_ent = this->fields.quest_ent;
        questphase_ent = this->fields.questphase_ent;
        if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
        }
        *(_QWORD *)&v69.fields.currentCryptoKey = quest_ent;
        *(_QWORD *)&v69.fields.fakeValue = questphase_ent;
        this = (BattleData_o *)CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v69, 0LL);
        if ( !Master_WarQuestSelectionMaster )
          goto LABEL_97;
        this = (BattleData_o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                                 Master_WarQuestSelectionMaster,
                                 (int32_t)this,
                                 (const MethodInfo_24E40D0 *)Method_DataMasterBase_ServantMaster__ServantEntity__int__GetEntity__);
        if ( !this )
          goto LABEL_97;
        field_datalist = this->fields.field_datalist;
        if ( !field_datalist )
          goto LABEL_97;
        v35 = field_datalist->max_length;
        if ( (__int64)(v35 << 32) >= 1 )
          break;
LABEL_43:
        max_length = svtDeckArray->max_length;
        if ( (int)++v26 >= max_length )
          goto LABEL_46;
      }
      v36 = 0LL;
      m_Items = field_datalist->m_Items;
      while ( v36 < v35 )
      {
        v38 = *((_DWORD *)m_Items + v36);
        switch ( v38 )
        {
          case 3:
            ++v27;
            break;
          case 2:
            ++v28;
            break;
          case 1:
            ++v29;
            break;
        }
        if ( (__int64)++v36 >= (int)v35 )
          goto LABEL_43;
      }
LABEL_96:
      v64 = sub_B2C460(this);
      sub_B2C400(v64, 0LL);
    }
    v29 = 0;
    v28 = 0;
    v27 = 0;
LABEL_46:
    this = v65;
    if ( !v65 )
      goto LABEL_97;
    System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
      &v67,
      (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v65,
      (const MethodInfo_2EF52DC *)Method_System_Collections_Generic_List_commandAssistData__GetEnumerator__);
    v39 = 0;
    v68 = v67;
    v40 = 0;
    v41 = 0;
    while ( 1 )
    {
      v45 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
              &v68,
              (const MethodInfo_20EA42C *)Method_System_Collections_Generic_List_Enumerator_commandAssistData__MoveNext__);
      if ( !v45 )
        break;
      v42 = v8->fields.battle_ent;
      if ( !v42 )
        sub_B2C434(v45, v46);
      if ( !v68.fields.current )
        sub_B2C434(v45, v46);
      if ( !v25 )
        sub_B2C434(v45, v46);
      CurrentEntity = EventCommandAssistMaster__GetCurrentEntity(
                        v25,
                        v42->fields.eventId,
                        (int32_t)v68.fields.current[1].klass,
                        -1,
                        1,
                        0LL);
      if ( CurrentEntity )
      {
        assistCardId = CurrentEntity->fields.assistCardId;
        switch ( assistCardId )
        {
          case 3:
            ++v39;
            break;
          case 2:
            ++v40;
            break;
          case 1:
            ++v41;
            break;
        }
      }
    }
    System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
      &v68,
      (const MethodInfo_20EA428 *)Method_System_Collections_Generic_List_Enumerator_commandAssistData__Dispose__);
    if ( v29 - v41 < 1 )
    {
      v48 = 0;
      v49 = 1;
    }
    else
    {
      if ( !v66->fields._size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v47 = v66->fields._items->m_Items[0];
      if ( !v47 )
        goto LABEL_97;
      v48 = 1;
      v49 = v47->fields._size < 1;
    }
    v50 = v28 - v40;
    if ( v28 - v40 < 1 )
    {
      v51 = v66;
      v53 = 1;
    }
    else
    {
      v51 = v66;
      if ( v66->fields._size <= 1u )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v52 = v66->fields._items->m_Items[1];
      if ( !v52 )
        goto LABEL_97;
      v53 = v52->fields._size < 1;
    }
    v54 = v27 - v39;
    if ( v54 < 1 )
    {
      v56 = 1;
      if ( v48 )
      {
LABEL_76:
        v57 = 0;
LABEL_82:
        if ( v50 <= 0 )
        {
          if ( v51->fields._size <= 1u )
            System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
          v60 = v51->fields._items->m_Items[1];
          if ( !v60 )
            goto LABEL_97;
          v59 = v60->fields._size > 0;
        }
        else
        {
          v59 = 0;
        }
        if ( v54 > 0 )
        {
          v61 = 0;
          return (v57 || v49) && (v59 || v53) && (v61 || v56);
        }
        if ( v51->fields._size <= 2u )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        v62 = v51->fields._items->m_Items[2];
        if ( v62 )
        {
          v61 = v62->fields._size > 0;
          return (v57 || v49) && (v59 || v53) && (v61 || v56);
        }
LABEL_97:
        sub_B2C434(this, commandAssistInfoOversightList);
      }
    }
    else
    {
      if ( v51->fields._size <= 2u )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v55 = v51->fields._items->m_Items[2];
      if ( !v55 )
        goto LABEL_97;
      v56 = v55->fields._size < 1;
      if ( v48 )
        goto LABEL_76;
    }
    if ( !v51->fields._size )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v58 = v51->fields._items->m_Items[0];
    if ( !v58 )
      goto LABEL_97;
    v57 = v58->fields._size > 0;
    goto LABEL_82;
  }
  return 1;
}


bool __fastcall BattleData__IsRetryable(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.isRetryable;
}


bool __fastcall BattleData__IsRetryableQuestPhase(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  int64_t Value; // x0
  __int64 v8; // x1
  struct BattleData_o *data; // x8
  BattleBoostItem_array *BattleBoostItemList; // x0
  const MethodInfo *v12; // x1
  struct BattleData_o *v13; // x8
  struct QuestPhaseEntity_o *questphase_ent; // x8
  struct BattleData_o *v15; // x9
  struct QuestPhaseEntity_o *v16; // x8
  struct QuestEntity_o *quest_ent; // x9
  int v18; // w21
  int32_t phase; // w22
  int32_t afterClear; // w23
  UserQuestMaster_o *MasterData_WarQuestSelectionMaster; // x20
  struct BattleData_o *v22; // x8
  struct QuestPhaseEntity_o *v23; // x8
  bool v24; // w20
  struct BattleData_o *v25; // x8
  int64_t EndTime; // x19
  int64_t Time; // x0
  UserQuestEntity_o *entity; // [xsp+8h] [xbp-38h] BYREF

  if ( (byte_4184399 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_QuestPhaseMaster___, method);
    sub_B2C35C(&Method_DataManager_GetMasterData_UserQuestMaster___, v3);
    sub_B2C35C(&NetworkManager_TypeInfo, v4);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v5);
    sub_B2C35C(&StringLiteral_6360/*"FLAG_BATTLE_RETRY_UNAVAILABLE"*/, v6);
    byte_4184399 = 1;
  }
  entity = 0LL;
  Value = ConstantMaster__getValue((System_String_o *)StringLiteral_6360/*"FLAG_BATTLE_RETRY_UNAVAILABLE"*/, 0LL);
  if ( (int)Value > 0 )
    return 0;
  data = this->fields.data;
  if ( !data )
    goto LABEL_42;
  Value = (int64_t)data->fields.quest_ent;
  if ( !Value )
    goto LABEL_42;
  if ( !QuestEntity__HasFlag((QuestEntity_o *)Value, 0x4000000000LL, 0LL) )
  {
    Value = (int64_t)this->fields.battle_info;
    if ( Value )
    {
      BattleBoostItemList = BattleInfoData__getBattleBoostItemList(
                              (BattleInfoData_o *)Value,
                              this->fields.flg_resumebattle,
                              0LL);
      if ( BattleBoostItemList
        && *(_QWORD *)&BattleBoostItemList->max_length
        && BattleData__IsFriendChocolateQuest(this, v12) )
      {
        return 0;
      }
      Value = (int64_t)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
      if ( Value )
      {
        Value = (int64_t)DataManager__GetMasterData_WarQuestSelectionMaster_(
                           (DataManager_o *)Value,
                           (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_QuestPhaseMaster___);
        v13 = this->fields.data;
        if ( v13 )
        {
          questphase_ent = v13->fields.questphase_ent;
          if ( questphase_ent )
          {
            if ( Value )
            {
              Value = (int64_t)QuestPhaseMaster__getList(
                                 (QuestPhaseMaster_o *)Value,
                                 questphase_ent->fields.questId,
                                 0LL);
              if ( Value )
              {
                v15 = this->fields.data;
                if ( v15 )
                {
                  v16 = v15->fields.questphase_ent;
                  if ( v16 )
                  {
                    quest_ent = v15->fields.quest_ent;
                    if ( quest_ent )
                    {
                      v18 = *(_DWORD *)(Value + 24);
                      phase = v16->fields.phase;
                      afterClear = quest_ent->fields.afterClear;
                      entity = 0LL;
                      Value = (int64_t)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
                      if ( Value )
                      {
                        MasterData_WarQuestSelectionMaster = (UserQuestMaster_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                                                                    (DataManager_o *)Value,
                                                                                    (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_UserQuestMaster___);
                        if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
                          && !NetworkManager_TypeInfo->_2.cctor_finished )
                        {
                          j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
                        }
                        Value = NetworkManager__get_UserId(0LL);
                        v22 = this->fields.data;
                        if ( v22 )
                        {
                          v23 = v22->fields.questphase_ent;
                          if ( v23 )
                          {
                            if ( MasterData_WarQuestSelectionMaster )
                            {
                              if ( UserQuestMaster__TryGetEntity(
                                     MasterData_WarQuestSelectionMaster,
                                     &entity,
                                     Value,
                                     v23->fields.questId,
                                     0LL) )
                              {
                                Value = (int64_t)entity;
                                if ( !entity )
                                  goto LABEL_42;
                                v24 = UserQuestEntity__getClearNum(entity, 0LL) > 0;
                              }
                              else
                              {
                                v24 = 0;
                              }
                              if ( !entity )
                                return v24 && phase == v18 && afterClear != 1;
                              Value = UserQuestEntity__IsNotExpired(entity, 0LL);
                              if ( (Value & 1) != 0 )
                                return v24 && phase == v18 && afterClear != 1;
                              v25 = this->fields.data;
                              if ( v25 )
                              {
                                Value = (int64_t)v25->fields.quest_ent;
                                if ( Value )
                                {
                                  EndTime = QuestEntity__GetEndTime((QuestEntity_o *)Value, 0, 0LL);
                                  if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
                                    && !NetworkManager_TypeInfo->_2.cctor_finished )
                                  {
                                    j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
                                  }
                                  Time = NetworkManager__getTime(0LL);
                                  if ( EndTime >= 1 && EndTime - Time < 1 )
                                    return 0;
                                  return v24 && phase == v18 && afterClear != 1;
                                }
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
LABEL_42:
    sub_B2C434(Value, v8);
  }
  return 0;
}


bool __fastcall BattleData__IsShowMasterSkillCutIn(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.isShowMasterSkillCutIn;
}


bool __fastcall BattleData__IsSkipBattleFinish(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__IsSkipBattleFinish(questphase_ent, 0LL);
}


bool __fastcall BattleData__IsSkipWaveStartFadeInSe(BattleData_o *this, const MethodInfo *method)
{
  BattleEntity_o *battle_ent; // x0

  battle_ent = this->fields.battle_ent;
  if ( !battle_ent
    || (battle_ent = (BattleEntity_o *)BattleEntity__GetStageEntityAtWave(battle_ent, this->fields.wavecount, 0LL)) == 0LL )
  {
    sub_B2C434(battle_ent, method);
  }
  return StageEntity__IsSkipWaveStartFadeInSe((StageEntity_o *)battle_ent, 0LL);
}


bool __fastcall BattleData__IsStartBgmOff(BattleData_o *this, const MethodInfo *method)
{
  StageEntity_o *StageEntity; // x0
  __int64 v3; // x1

  StageEntity = BattleData__getStageEntity(this, method);
  if ( !StageEntity )
    sub_B2C434(0LL, v3);
  return StageEntity__GetStartBgmOffFlag(StageEntity, 0LL) == 1;
}


bool __fastcall BattleData__IsTutorialCriticalEnabled(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.tutorialId != 1 || this->fields.turnCount > 2;
}


bool __fastcall BattleData__IsUseTemporaryCommandSpell(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( questphase_ent )
    LOBYTE(questphase_ent) = QuestPhaseEntity__IsUseTemporaryCommandSpell(questphase_ent, 0LL);
  return (char)questphase_ent;
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__IsVoiceOffSvt(BattleData_o *this, int32_t svtId, const MethodInfo *method)
{
  __int64 v5; // x1
  System_Collections_Generic_HashSet_int__o *VoiceOffPlayerSvtIdHash; // x0
  __int64 v7; // x1

  if ( (byte_41843B1 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int__Contains__, *(_QWORD *)&svtId);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int__get_Count__, v5);
    byte_41843B1 = 1;
  }
  VoiceOffPlayerSvtIdHash = BattleData__GetVoiceOffPlayerSvtIdHash(this, *(const MethodInfo **)&svtId);
  if ( !VoiceOffPlayerSvtIdHash )
    goto LABEL_11;
  if ( VoiceOffPlayerSvtIdHash->fields._count < 1 )
    return 0;
  VoiceOffPlayerSvtIdHash = this->fields.voiceOffSvtIdHash;
  if ( !VoiceOffPlayerSvtIdHash )
    goto LABEL_11;
  if ( System_Collections_Generic_HashSet_int___Contains(
         VoiceOffPlayerSvtIdHash,
         0,
         (const MethodInfo_2D85704 *)Method_System_Collections_Generic_HashSet_int__Contains__) )
  {
    return 1;
  }
  VoiceOffPlayerSvtIdHash = this->fields.voiceOffSvtIdHash;
  if ( !VoiceOffPlayerSvtIdHash )
LABEL_11:
    sub_B2C434(VoiceOffPlayerSvtIdHash, v7);
  return System_Collections_Generic_HashSet_int___Contains(
           VoiceOffPlayerSvtIdHash,
           svtId,
           (const MethodInfo_2D85704 *)Method_System_Collections_Generic_HashSet_int__Contains__);
}


bool __fastcall BattleData__IsWarBoard(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  DataMasterBase_TMaster__TEntity__PKType__o *quest_ent; // x0
  struct QuestEntity_o **p_quest_ent; // x20
  struct BattleEntity_o **p_battle_ent; // x21
  __int64 v8; // x1
  Il2CppObject *SingleEntity; // x0
  QuestEntity_o *PhaseDetailedEntity; // x0

  if ( (byte_41842F2 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_BattleMaster___, method);
    sub_B2C35C(&DataManager_TypeInfo, v3);
    sub_B2C35C(&Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__, v4);
    byte_41842F2 = 1;
  }
  p_quest_ent = &this->fields.quest_ent;
  quest_ent = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.quest_ent;
  if ( !quest_ent )
  {
    p_battle_ent = &this->fields.battle_ent;
    quest_ent = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.battle_ent;
    if ( !quest_ent )
    {
      if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !DataManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
      }
      quest_ent = (DataMasterBase_TMaster__TEntity__PKType__o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_BattleMaster___);
      if ( !quest_ent )
        goto LABEL_13;
      SingleEntity = DataMasterBase_object__object__long___GetSingleEntity(
                       quest_ent,
                       (const MethodInfo_24E43BC *)Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__);
      *p_battle_ent = (struct BattleEntity_o *)SingleEntity;
      sub_B2C2F8(&this->fields.battle_ent, SingleEntity);
      quest_ent = (DataMasterBase_TMaster__TEntity__PKType__o *)*p_battle_ent;
      if ( !*p_battle_ent )
        goto LABEL_13;
    }
    BattleEntity__GetQuestInvolvedEntitys(
      (BattleEntity_o *)quest_ent,
      &this->fields.quest_ent,
      &this->fields.questphase_ent,
      0LL);
    quest_ent = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.quest_ent;
    if ( !quest_ent
      || (PhaseDetailedEntity = QuestEntity__GetPhaseDetailedEntity((QuestEntity_o *)quest_ent, 0LL),
          *p_quest_ent = PhaseDetailedEntity,
          sub_B2C2F8(&this->fields.quest_ent, PhaseDetailedEntity),
          (quest_ent = (DataMasterBase_TMaster__TEntity__PKType__o *)*p_quest_ent) == 0LL) )
    {
LABEL_13:
      sub_B2C434(quest_ent, v8);
    }
  }
  return QuestEntity__GetTypeFlag((QuestEntity_o *)quest_ent, 0LL) == 128;
}


bool __fastcall BattleData__IsWinBgmOff(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetWinBgmOffFlg(questphase_ent, 0LL) == 1;
}


void __fastcall BattleData__LoadAiNpcServant(
        BattleData_o *this,
        BattleServantData_SaveData_array *saveNpcSvts,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  QuestPhaseEntity_o *questphase_ent; // x0
  System_Collections_Generic_Dictionary_int__int____o *NpcAiInfo; // x21
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v16; // x22
  QuestPhaseEntity_o *v17; // x22
  unsigned __int64 v18; // x27
  BattleData___c__DisplayClass562_0_o *v19; // x24
  struct BattleDeckServantData_o *v20; // x1
  BattleDeckServantData_o **p_deckSvt; // x23
  System_Int32_array *Value_int__object; // x25
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *v23; // x26
  BattleServantData_SaveData_o *USFGOActorBattleActionEventConditional_OverwriteParamCondition; // x26
  AiNpcBattleServantData_o *v25; // x24
  __int64 v26; // x0

  if ( (byte_4184379 & 1) == 0 )
  {
    sub_B2C35C(&AiNpcBattleServantData_TypeInfo, saveNpcSvts);
    sub_B2C35C(&Method_BasicHelper_Find_BattleServantData_SaveData___, v5);
    sub_B2C35C(&Method_BasicHelper_GetValue_int__int_____, v6);
    sub_B2C35C(&Method_System_Func_BattleServantData_SaveData__bool___ctor__, v7);
    sub_B2C35C(&System_Func_BattleServantData_SaveData__bool__TypeInfo, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_AiNpcBattleServantData__Add__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_AiNpcBattleServantData___ctor__, v10);
    sub_B2C35C(&System_Collections_Generic_List_AiNpcBattleServantData__TypeInfo, v11);
    sub_B2C35C(&Method_BattleData___c__DisplayClass562_0__LoadAiNpcServant_b__0__, v12);
    sub_B2C35C(&BattleData___c__DisplayClass562_0_TypeInfo, v13);
    byte_4184379 = 1;
  }
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    goto LABEL_15;
  NpcAiInfo = QuestPhaseEntity__GetNpcAiInfo(questphase_ent, 0LL);
  v16 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_AiNpcBattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v16,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_AiNpcBattleServantData___ctor__);
  this->fields.aiNpcDataList = (struct System_Collections_Generic_List_AiNpcBattleServantData__o *)v16;
  sub_B2C2F8(&this->fields.aiNpcDataList, v16);
  questphase_ent = (QuestPhaseEntity_o *)this->fields.battle_info;
  if ( !questphase_ent )
    goto LABEL_15;
  questphase_ent = (QuestPhaseEntity_o *)BattleInfoData__get_AiNpcDeckSvts((BattleInfoData_o *)questphase_ent, 0LL);
  if ( !questphase_ent )
    goto LABEL_15;
  v17 = questphase_ent;
  if ( *(int *)&questphase_ent->fields.isNpcOnly >= 1 )
  {
    v18 = 0LL;
    while ( 1 )
    {
      v19 = (BattleData___c__DisplayClass562_0_o *)sub_B2C42C(BattleData___c__DisplayClass562_0_TypeInfo);
      BattleData___c__DisplayClass562_0___ctor(v19, 0LL);
      if ( v18 >= *(unsigned int *)&v17->fields.isNpcOnly )
      {
        v26 = sub_B2C460(questphase_ent);
        sub_B2C400(v26, 0LL);
      }
      if ( !v19 )
        break;
      v20 = (struct BattleDeckServantData_o *)*((_QWORD *)&v17->fields.battleBgType + v18);
      v19->fields.deckSvt = v20;
      p_deckSvt = &v19->fields.deckSvt;
      sub_B2C2F8(&v19->fields, v20);
      if ( !v19->fields.deckSvt )
        break;
      Value_int__object = (System_Int32_array *)BasicHelper__GetValue_int__object_(
                                                  (System_Collections_Generic_Dictionary_K__V__o *)NpcAiInfo,
                                                  v19->fields.deckSvt->fields.npcId,
                                                  0LL,
                                                  (const MethodInfo_172853C *)Method_BasicHelper_GetValue_int__int_____);
      v23 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B2C42C(System_Func_BattleServantData_SaveData__bool__TypeInfo);
      System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
        v23,
        (Il2CppObject *)v19,
        Method_BattleData___c__DisplayClass562_0__LoadAiNpcServant_b__0__,
        (const MethodInfo_2711C04 *)Method_System_Func_BattleServantData_SaveData__bool___ctor__);
      USFGOActorBattleActionEventConditional_OverwriteParamCondition = (BattleServantData_SaveData_o *)BasicHelper__Find_USFGOActorBattleActionEventConditional_OverwriteParamCondition_((WellFired_USFGOActorBattleActionEventConditional_OverwriteParamCondition_array *)saveNpcSvts, (System_Func_T__bool__o *)v23, (const MethodInfo_1726BF0 *)Method_BasicHelper_Find_BattleServantData_SaveData___);
      v25 = (AiNpcBattleServantData_o *)sub_B2C42C(AiNpcBattleServantData_TypeInfo);
      AiNpcBattleServantData___ctor(v25, 0LL);
      if ( !v25 )
        break;
      AiNpcBattleServantData__SetNpcServant(
        v25,
        this,
        *p_deckSvt,
        Value_int__object,
        USFGOActorBattleActionEventConditional_OverwriteParamCondition,
        0LL);
      v25->fields.index = v18;
      questphase_ent = (QuestPhaseEntity_o *)this->fields.aiNpcDataList;
      if ( !questphase_ent )
        break;
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
        (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)questphase_ent,
        (EventMissionProgressRequest_Argument_ProgressData_o *)v25,
        (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_AiNpcBattleServantData__Add__);
      if ( (__int64)++v18 >= *(int *)&v17->fields.isNpcOnly )
        return;
    }
LABEL_15:
    sub_B2C434(questphase_ent, saveNpcSvts);
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__LoadBattleEffectVoice(BattleData_o *this, int32_t waveCount, const MethodInfo *method)
{
  int LastWave; // w1
  void *battle_info; // x0
  struct BattleEntity_o *battle_ent; // x8
  int v8; // w8
  void *v9; // x19
  unsigned int v10; // w21
  __int64 v11; // x8
  int32_t v12; // w20
  __int64 v13; // x0

  if ( (byte_41843A7 & 1) == 0 )
  {
    sub_B2C35C(&ServantAssetLoadManager_TypeInfo, *(_QWORD *)&waveCount);
    byte_41843A7 = 1;
  }
  if ( waveCount <= 0 )
  {
    battle_info = this->fields.battle_info;
    if ( !battle_info )
      goto LABEL_21;
    LastWave = BattleInfoData__getLastWave((BattleInfoData_o *)battle_info, 0LL);
  }
  else
  {
    LastWave = waveCount - 1;
  }
  BattleData__UnLoadBattleEffectVoice(this, LastWave, method);
  battle_ent = this->fields.battle_ent;
  if ( !battle_ent
    || (battle_info = battle_ent->fields.battleInfo) == 0LL
    || (battle_info = BattleInfoData__GetStageCutinInfo((BattleInfoData_o *)battle_info, waveCount, 0LL)) == 0LL )
  {
LABEL_21:
    sub_B2C434(battle_info, *(_QWORD *)&waveCount);
  }
  v8 = *((_DWORD *)battle_info + 6);
  v9 = battle_info;
  if ( v8 >= 1 )
  {
    v10 = 0;
    while ( 1 )
    {
      if ( v10 >= v8 )
      {
        v13 = sub_B2C460(battle_info);
        sub_B2C400(v13, 0LL);
      }
      v11 = *((_QWORD *)v9 + (int)v10 + 4);
      if ( !v11 )
        break;
      v12 = *(_DWORD *)(v11 + 32);
      if ( v12 )
      {
        if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
        }
        ServantAssetLoadManager__preloadServantVoice(v12, 0, 0, 0LL);
      }
      v8 = *((_DWORD *)v9 + 6);
      if ( (int)++v10 >= v8 )
        return;
    }
    goto LABEL_21;
  }
}


void __fastcall BattleData__LoadBattleStartVoice(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  struct BattleData_o *data; // x8
  int32_t v4; // w19
  int32_t v5; // w20
  int32_t limit[2]; // [xsp+8h] [xbp-18h] BYREF

  v2 = this;
  if ( (byte_41843A6 & 1) == 0 )
  {
    this = (BattleData_o *)sub_B2C35C(&ServantAssetLoadManager_TypeInfo, method);
    byte_41843A6 = 1;
  }
  *(_QWORD *)limit = 0LL;
  data = v2->fields.data;
  if ( !data
    || (this = (BattleData_o *)v2->fields.battle_ent) == 0LL
    || (this = (BattleData_o *)BattleEntity__GetStageEntityAtWave((BattleEntity_o *)this, data->fields.wavecount, 0LL),
        limit[0] = -1,
        limit[1] = 0,
        !this) )
  {
    sub_B2C434(this, method);
  }
  if ( StageEntity__IsSpecifiedBattleStartVoice_27067732((StageEntity_o *)this, &limit[1], limit, 0LL) )
  {
    v5 = limit[0];
    v4 = limit[1];
    if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
    }
    ServantAssetLoadManager__preloadServantVoice(v4, v5, 0, 0LL);
  }
}


bool __fastcall BattleData__LoadNStagePlayer(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  BattleInfoData_o *battle_info; // x0
  const MethodInfo *v9; // x1
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *player_datalist; // x0
  __int64 v11; // x1
  BattleFieldEnvironmentData_o *FieldEnvData_k__BackingField; // x0
  Il2CppObject *current; // x21
  BattleBuffData_o *BuffData; // x0
  __int64 v15; // x1
  DeckData_o *WaveMyDeck; // x20
  System_Collections_Generic_IEnumerable_TSource__o *v17; // x0
  struct System_Int32_array *v18; // x0
  const MethodInfo *v19; // x2
  const MethodInfo *v20; // x1
  System_Collections_Generic_List_Enumerator_T__o v22; // [xsp+8h] [xbp-58h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v23; // [xsp+20h] [xbp-40h] BYREF

  if ( (byte_41843B5 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_Repeat_int___, method);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_int___, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__get_Current__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__, v7);
    byte_41843B5 = 1;
  }
  memset(&v23, 0, sizeof(v23));
  battle_info = this->fields.battle_info;
  if ( battle_info )
  {
    if ( BattleInfoData__IsWaveMyDecks(battle_info, 0LL) )
    {
      player_datalist = (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)this->fields.player_datalist;
      if ( !player_datalist )
        goto LABEL_22;
      System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
        &v22,
        player_datalist,
        (const MethodInfo_2EF52DC *)Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__);
      v23 = v22;
      while ( System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
                &v23,
                (const MethodInfo_20EA42C *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__) )
      {
        FieldEnvData_k__BackingField = this->fields._FieldEnvData_k__BackingField;
        if ( !FieldEnvData_k__BackingField )
          sub_B2C434(0LL, v11);
        current = v23.fields.current;
        BuffData = BattleFieldEnvironmentData__get_BuffData(FieldEnvData_k__BackingField, 0LL);
        if ( !current )
          sub_B2C434(BuffData, v15);
        if ( !BuffData )
          sub_B2C434(0LL, v15);
        BattleBuffData__SubBuffFromDeadActorId(BuffData, (int32_t)current[1].monitor, 0, 0LL);
      }
      System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
        &v23,
        (const MethodInfo_20EA428 *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__);
      player_datalist = (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)this->fields.battle_info;
      if ( !player_datalist )
        goto LABEL_22;
      WaveMyDeck = BattleInfoData__GetWaveMyDeck((BattleInfoData_o *)player_datalist, this->fields.wavecount, 0LL);
      v17 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__Repeat_int_(
                                                                   -1,
                                                                   3,
                                                                   (const MethodInfo_1A93C28 *)Method_System_Linq_Enumerable_Repeat_int___);
      v18 = System_Linq_Enumerable__ToArray_int_(
              v17,
              (const MethodInfo_1A9AE24 *)Method_System_Linq_Enumerable_ToArray_int___);
      this->fields.p_entryid = v18;
      sub_B2C2F8(&this->fields.p_entryid, v18);
      BattleData__InitPlayerDataList(this, WaveMyDeck, v19);
      if ( !this->fields.isWaveRestartInitialize )
      {
        BattleData__createCommandCard(this, v9);
        BattleData__shuffleCommand(this, v20);
      }
      player_datalist = (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)this->fields.logic;
      if ( !player_datalist )
LABEL_22:
        sub_B2C434(player_datalist, v9);
      BattleLogic__actPtPassiveSkill((BattleLogic_o *)player_datalist, 0, 0LL);
      LOBYTE(battle_info) = 1;
    }
    else
    {
      LOBYTE(battle_info) = 0;
    }
  }
  return (char)battle_info;
}


System_Collections_Generic_List_int__o *__fastcall BattleData__LoadNoSkipDeadFirstIdList(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  BattleData_c *v12; // x0
  System_String_o *NO_SKIP_DEAD_FIRST_ID_LIST_KEY; // x19
  System_String_o *String; // x19
  System_Collections_Generic_List_int__o *v15; // x19
  System_Char_array *v16; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v17; // x19
  BattleData___c_c *v18; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__274_0; // x20
  Il2CppObject *v21; // x21
  struct BattleData___c_StaticFields *v22; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v23; // x0
  __int64 v25; // x0

  if ( (byte_41842F5 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    sub_B2C35C(&char___TypeInfo, v2);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    sub_B2C35C(&Method_System_Linq_Enumerable_Select_string__int___, v4);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToList_int___, v5);
    sub_B2C35C(&Method_System_Func_string__int___ctor__, v6);
    sub_B2C35C(&System_Func_string__int__TypeInfo, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v8);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v9);
    sub_B2C35C(&Method_BattleData___c__LoadNoSkipDeadFirstIdList_b__274_0__, v10);
    sub_B2C35C(&BattleData___c_TypeInfo, v11);
    byte_41842F5 = 1;
  }
  v12 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v12 = BattleData_TypeInfo;
  }
  NO_SKIP_DEAD_FIRST_ID_LIST_KEY = v12->static_fields->NO_SKIP_DEAD_FIRST_ID_LIST_KEY;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  String = EncryptedPlayerPrefs__GetString(NO_SKIP_DEAD_FIRST_ID_LIST_KEY, 0LL);
  if ( System_String__IsNullOrEmpty(String, 0LL) )
  {
    v15 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
    System_Collections_Generic_List_int____ctor(
      v15,
      (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  }
  else
  {
    v16 = (System_Char_array *)sub_B2C374(char___TypeInfo, 1LL);
    if ( !v16 )
      sub_B2C434(0LL, 0LL);
    if ( !v16->max_length )
    {
      v25 = sub_B2C460(v16);
      sub_B2C400(v25, 0LL);
    }
    v16->m_Items[2] = 44;
    if ( !String )
      sub_B2C434(v16, v16);
    v17 = (System_Collections_Generic_IEnumerable_TSource__o *)System_String__Split(String, v16, 0LL);
    v18 = BattleData___c_TypeInfo;
    if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleData___c_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
      v18 = BattleData___c_TypeInfo;
    }
    static_fields = v18->static_fields;
    _9__274_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)static_fields->__9__274_0;
    if ( !_9__274_0 )
    {
      if ( (BYTE3(v18->vtable._0_Equals.methodPtr) & 4) != 0 && !v18->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v18);
        static_fields = BattleData___c_TypeInfo->static_fields;
      }
      v21 = (Il2CppObject *)static_fields->__9;
      _9__274_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B2C42C(System_Func_string__int__TypeInfo);
      System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
        _9__274_0,
        v21,
        Method_BattleData___c__LoadNoSkipDeadFirstIdList_b__274_0__,
        (const MethodInfo_27127B0 *)Method_System_Func_string__int___ctor__);
      v22 = BattleData___c_TypeInfo->static_fields;
      v22->__9__274_0 = (struct System_Func_string__int__o *)_9__274_0;
      sub_B2C2F8(&v22->__9__274_0, _9__274_0);
    }
    v23 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__Select_BattleLogicBuff_ReduceHpProcess_BuffInfo__int_(
                                                                 v17,
                                                                 (System_Func_TSource__TResult__o *)_9__274_0,
                                                                 (const MethodInfo_1A967E8 *)Method_System_Linq_Enumerable_Select_string__int___);
    return (System_Collections_Generic_List_int__o *)System_Linq_Enumerable__ToList_int_(
                                                       v23,
                                                       (const MethodInfo_1A9DCD4 *)Method_System_Linq_Enumerable_ToList_int___);
  }
  return v15;
}


// local variable allocation has failed, the output may be wrong!
BattleData_SaveData_o *__fastcall BattleData__LoadWaveRestartData(
        BattleData_o *this,
        bool isDuelDataMsgPack,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  System_String_o *String; // x19
  System_Byte_array *v13; // x19
  MiniMessagePack_MiniMessagePacker_o *v14; // x20
  UserPresentBoxWindow_resData_array *v15; // x0
  __int64 v16; // x1
  System_String_o *v18; // x19
  System_String_o *v19; // x0
  Il2CppObject *v20; // x19
  __int64 v21; // x0

  if ( (byte_41843BC & 1) == 0 )
  {
    sub_B2C35C(&CatAndMouseGame_TypeInfo, isDuelDataMsgPack);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v4);
    sub_B2C35C(&Method_JsonManager_DeserializeArray_BattleData_SaveData___, v5);
    sub_B2C35C(&JsonManager_TypeInfo, v6);
    sub_B2C35C(&Method_MiniMessagePack_MiniMessagePacker_UnpackClass_BattleData_SaveData___, v7);
    sub_B2C35C(&MiniMessagePack_MiniMessagePacker_TypeInfo, v8);
    sub_B2C35C(&StringLiteral_15433/*"WaveRestartData"*/, v9);
    sub_B2C35C(&StringLiteral_15634/*"["*/, v10);
    this = (BattleData_o *)sub_B2C35C(&StringLiteral_15870/*"]"*/, v11);
    byte_41843BC = 1;
  }
  if ( !BattleData__HasWaveRestartData(this, (const MethodInfo *)isDuelDataMsgPack) )
    return 0LL;
  if ( isDuelDataMsgPack )
  {
    if ( (WORD1(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 0x400) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    String = EncryptedPlayerPrefs__GetString((System_String_o *)StringLiteral_15433/*"WaveRestartData"*/, 0LL);
    if ( (BYTE3(CatAndMouseGame_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !CatAndMouseGame_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(CatAndMouseGame_TypeInfo);
    }
    v13 = CatAndMouseGame__MouseGame6ForMsgPack(String, 0LL);
    v14 = (MiniMessagePack_MiniMessagePacker_o *)sub_B2C42C(MiniMessagePack_MiniMessagePacker_TypeInfo);
    MiniMessagePack_MiniMessagePacker___ctor(v14, 0LL);
    if ( v14 )
      return (BattleData_SaveData_o *)MiniMessagePack_MiniMessagePacker__UnpackClass_WarBoardData_WarBoardLocalSaveData_(
                                        v14,
                                        v13,
                                        (const MethodInfo_1AB259C *)Method_MiniMessagePack_MiniMessagePacker_UnpackClass_BattleData_SaveData___);
LABEL_26:
    sub_B2C434(v15, v16);
  }
  if ( (WORD1(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 0x400) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  v18 = EncryptedPlayerPrefs__GetString((System_String_o *)StringLiteral_15433/*"WaveRestartData"*/, 0LL);
  if ( (BYTE3(CatAndMouseGame_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !CatAndMouseGame_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(CatAndMouseGame_TypeInfo);
  }
  v19 = CatAndMouseGame__MouseGame6(v18, 0LL);
  v20 = (Il2CppObject *)System_String__Concat_44307816(
                          (System_String_o *)StringLiteral_15634/*"["*/,
                          v19,
                          (System_String_o *)StringLiteral_15870/*"]"*/,
                          0LL);
  if ( (BYTE3(JsonManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !JsonManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(JsonManager_TypeInfo);
  v15 = JsonManager__DeserializeArray_UserPresentBoxWindow_resData_(
          v20,
          (const MethodInfo_1AACFE4 *)Method_JsonManager_DeserializeArray_BattleData_SaveData___);
  if ( !v15 )
    goto LABEL_26;
  if ( !v15->max_length )
  {
    v21 = sub_B2C460(v15);
    sub_B2C400(v21, 0LL);
  }
  return (BattleData_SaveData_o *)v15->m_Items[0];
}


void __fastcall BattleData__LossTemporaryCommandSpell(BattleData_o *this, int32_t val, const MethodInfo *method)
{
  this->fields.temporarySpell = (this->fields.temporarySpell - val) & ~((this->fields.temporarySpell - val) >> 31);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__PartsIntoTheBody(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  UnityEngine_Component_o *PartsActor; // x0
  __int64 v10; // x1
  UnityEngine_Component_o *v11; // x20
  struct BattlePerformance_o *perf; // x8
  UnityEngine_Transform_o *transform; // x21
  int v14; // s0
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x21
  __int64 v18; // x25
  int size; // w8
  unsigned int v20; // w23
  __int64 *v21; // x8
  struct System_Collections_Generic_List_BattleServantData__o *v22; // x21
  struct System_Collections_Generic_List_BattleServantData__o *v23; // x28
  System_String_o *v24; // x22
  __int64 v25; // x8
  UnityEngine_Object_o *ServantActor; // x21
  UnityEngine_Transform_o *v27; // x0
  const MethodInfo *v28; // x3
  UnityEngine_Object_o *TransformChild; // x22
  UnityEngine_Transform_o *v30; // x23
  UnityEngine_Transform_o *v31; // x22
  int v32; // s0
  UnityEngine_Object_o *Component_WebViewObject; // x19

  if ( (byte_4184382 & 1) == 0 )
  {
    sub_B2C35C(&Method_UnityEngine_Component_GetComponent_BillBoard___, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v5);
    sub_B2C35C(&UnityEngine_Object_TypeInfo, v6);
    sub_B2C35C(&StringLiteral_18319/*"en_Parts_Up01"*/, v7);
    sub_B2C35C(&StringLiteral_18318/*"en_Parts_Under01"*/, v8);
    byte_4184382 = 1;
  }
  if ( this->fields.isMultiTargetBattle )
  {
    PartsActor = (UnityEngine_Component_o *)BattleData__GetPartsActor(this, 1, v2);
    if ( !PartsActor )
      goto LABEL_49;
    v11 = PartsActor;
    PartsActor = (UnityEngine_Component_o *)UnityEngine_Component__get_transform(PartsActor, 0LL);
    perf = this->fields.perf;
    if ( !perf )
      goto LABEL_49;
    if ( !PartsActor )
      goto LABEL_49;
    UnityEngine_Transform__set_parent((UnityEngine_Transform_o *)PartsActor, perf->fields.root_field, 0LL);
    transform = UnityEngine_Component__get_transform(v11, 0LL);
    *(UnityEngine_Vector3_o *)&v14 = UnityEngine_Vector3__get_zero(0LL);
    if ( !transform )
      goto LABEL_49;
    UnityEngine_Transform__set_localPosition(transform, *(UnityEngine_Vector3_o *)&v14, 0LL);
    enemy_datalist = this->fields.enemy_datalist;
    if ( !enemy_datalist )
      goto LABEL_49;
    v18 = 4LL;
    while ( 1 )
    {
      size = enemy_datalist->fields._size;
      v20 = v18 - 4;
      if ( (int)v18 - 4 >= size )
        break;
      if ( size <= v20 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      PartsActor = (UnityEngine_Component_o *)*((_QWORD *)&enemy_datalist->fields._items->obj.klass + v18);
      if ( !PartsActor )
        goto LABEL_49;
      PartsActor = (UnityEngine_Component_o *)BattleServantData__isMultiTargetUp((BattleServantData_o *)PartsActor, 0LL);
      v21 = &StringLiteral_18319/*"en_Parts_Up01"*/;
      if ( ((unsigned __int8)PartsActor & 1) != 0 )
        goto LABEL_20;
      v22 = this->fields.enemy_datalist;
      if ( !v22 )
        goto LABEL_49;
      if ( v22->fields._size <= v20 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      PartsActor = (UnityEngine_Component_o *)*((_QWORD *)&v22->fields._items->obj.klass + v18);
      if ( !PartsActor )
        goto LABEL_49;
      PartsActor = (UnityEngine_Component_o *)BattleServantData__isMultiTargetUnder(
                                                (BattleServantData_o *)PartsActor,
                                                0LL);
      v21 = &StringLiteral_18318/*"en_Parts_Under01"*/;
      if ( ((unsigned __int8)PartsActor & 1) != 0 )
      {
LABEL_20:
        v23 = this->fields.enemy_datalist;
        if ( !v23 )
          goto LABEL_49;
        v24 = (System_String_o *)*v21;
        if ( v23->fields._size <= v20 )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        v25 = *((_QWORD *)&v23->fields._items->obj.klass + v18);
        if ( !v25 || !this->fields.perf )
          goto LABEL_49;
        ServantActor = (UnityEngine_Object_o *)BattlePerformance__getServantActor(
                                                 this->fields.perf,
                                                 *(_DWORD *)(v25 + 24),
                                                 0LL);
        if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
        }
        PartsActor = (UnityEngine_Component_o *)UnityEngine_Object__op_Equality(ServantActor, 0LL, 0LL);
        if ( ((unsigned __int8)PartsActor & 1) == 0 )
        {
          v27 = UnityEngine_Component__get_transform(v11, 0LL);
          TransformChild = (UnityEngine_Object_o *)BattleData__FindTransformChild(this, v27, v24, v28);
          if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
          }
          PartsActor = (UnityEngine_Component_o *)UnityEngine_Object__op_Inequality(TransformChild, 0LL, 0LL);
          if ( ((unsigned __int8)PartsActor & 1) != 0 )
          {
            if ( !ServantActor )
              goto LABEL_49;
            PartsActor = (UnityEngine_Component_o *)UnityEngine_Component__get_transform(
                                                      (UnityEngine_Component_o *)ServantActor,
                                                      0LL);
            if ( !TransformChild )
              goto LABEL_49;
            v30 = (UnityEngine_Transform_o *)PartsActor;
            PartsActor = (UnityEngine_Component_o *)UnityEngine_Component__get_transform(
                                                      (UnityEngine_Component_o *)TransformChild,
                                                      0LL);
            if ( !v30 )
              goto LABEL_49;
            UnityEngine_Transform__set_parent(v30, (UnityEngine_Transform_o *)PartsActor, 0LL);
            v31 = UnityEngine_Component__get_transform((UnityEngine_Component_o *)ServantActor, 0LL);
            *(UnityEngine_Vector3_o *)&v32 = UnityEngine_Vector3__get_zero(0LL);
            if ( !v31 )
              goto LABEL_49;
            UnityEngine_Transform__set_localPosition(v31, *(UnityEngine_Vector3_o *)&v32, 0LL);
            PartsActor = (UnityEngine_Component_o *)ServantActor[2].klass;
            if ( !PartsActor )
              goto LABEL_49;
            PartsActor = (UnityEngine_Component_o *)UnityEngine_Component__get_gameObject(PartsActor, 0LL);
            if ( !PartsActor )
              goto LABEL_49;
            UnityEngine_GameObject__SetActive((UnityEngine_GameObject_o *)PartsActor, 0, 0LL);
          }
        }
      }
      enemy_datalist = this->fields.enemy_datalist;
      ++v18;
      if ( !enemy_datalist )
        goto LABEL_49;
    }
    Component_WebViewObject = (UnityEngine_Object_o *)UnityEngine_Component__GetComponent_WebViewObject_(
                                                        v11,
                                                        (const MethodInfo_172DB90 *)Method_UnityEngine_Component_GetComponent_BillBoard___);
    if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
    }
    PartsActor = (UnityEngine_Component_o *)UnityEngine_Object__op_Inequality(Component_WebViewObject, 0LL, 0LL);
    if ( ((unsigned __int8)PartsActor & 1) != 0 )
    {
      if ( Component_WebViewObject )
      {
        UnityEngine_Behaviour__set_enabled((UnityEngine_Behaviour_o *)Component_WebViewObject, 1, 0LL);
        return;
      }
LABEL_49:
      sub_B2C434(PartsActor, v10);
    }
  }
}


System_Collections_IEnumerator_o *__fastcall BattleData__PartsIntoTheBodyDelay(
        BattleData_o *this,
        const MethodInfo *method)
{
  BattleData__PartsIntoTheBodyDelay_d__569_o *v3; // x20
  __int64 v4; // x0
  __int64 v5; // x1

  if ( (byte_418437F & 1) == 0 )
  {
    sub_B2C35C(&BattleData__PartsIntoTheBodyDelay_d__569_TypeInfo, method);
    byte_418437F = 1;
  }
  v3 = (BattleData__PartsIntoTheBodyDelay_d__569_o *)sub_B2C42C(BattleData__PartsIntoTheBodyDelay_d__569_TypeInfo);
  BattleData__PartsIntoTheBodyDelay_d__569___ctor(v3, 0, 0LL);
  if ( !v3 )
    sub_B2C434(v4, v5);
  v3->fields.__4__this = this;
  sub_B2C2F8(&v3->fields.__4__this, this);
  return (System_Collections_IEnumerator_o *)v3;
}


void __fastcall BattleData__RefreshAllSubServantDeckIndex(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  System_Action_bool__o *v6; // x20
  __int64 v7; // x0
  __int64 v8; // x1

  if ( (byte_41842FF & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Action_bool__Invoke__, method);
    sub_B2C35C(&Method_System_Action_bool___ctor__, v3);
    sub_B2C35C(&System_Action_bool__TypeInfo, v4);
    sub_B2C35C(&Method_BattleData__RefreshAllSubServantDeckIndex_b__330_0__, v5);
    byte_41842FF = 1;
  }
  v6 = (System_Action_bool__o *)sub_B2C42C(System_Action_bool__TypeInfo);
  System_Action_bool____ctor(
    v6,
    (Il2CppObject *)this,
    Method_BattleData__RefreshAllSubServantDeckIndex_b__330_0__,
    (const MethodInfo_24B7B90 *)Method_System_Action_bool___ctor__);
  if ( !v6 )
    sub_B2C434(v7, v8);
  System_Action_bool___Invoke(v6, 0, (const MethodInfo_24B7BA4 *)Method_System_Action_bool__Invoke__);
  System_Action_bool___Invoke(v6, 1, (const MethodInfo_24B7BA4 *)Method_System_Action_bool__Invoke__);
}


void __fastcall BattleData__RegisterItemDroppedSkillShiftInfo(
        BattleData_o *this,
        BattleServantData_o *svtData,
        const MethodInfo *method)
{
  ItemDroppedSkillShiftInfo_o *itemDroppedSkillShiftInfo; // x0

  itemDroppedSkillShiftInfo = this->fields.itemDroppedSkillShiftInfo;
  if ( !itemDroppedSkillShiftInfo )
    sub_B2C434(0LL, svtData);
  ItemDroppedSkillShiftInfo__Register(itemDroppedSkillShiftInfo, svtData, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__RemoveDoNotSelectCommandCardBuff(
        BattleData_o *this,
        int32_t buffId,
        BattleServantData_o *target,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  DataMasterBase_WarMaster__WarEntity__int__o *Master_WarQuestSelectionMaster; // x0
  __int64 v10; // x1
  const MethodInfo *v11; // x2
  WarEntity_o *entity; // [xsp+8h] [xbp-28h] BYREF

  if ( (byte_41843B8 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_BuffMaster___, *(_QWORD *)&buffId);
    sub_B2C35C(&DataManager_TypeInfo, v7);
    sub_B2C35C(&Method_DataMasterBase_BuffMaster__BuffEntity__int__TryGetEntity__, v8);
    byte_41843B8 = 1;
  }
  entity = 0LL;
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_BuffMaster___);
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_12;
  if ( !DataMasterBase_WarMaster__WarEntity__int___TryGetEntity(
          Master_WarQuestSelectionMaster,
          &entity,
          buffId,
          (const MethodInfo_24E412C *)Method_DataMasterBase_BuffMaster__BuffEntity__int__TryGetEntity__) )
    return;
  Master_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)entity;
  if ( !entity )
LABEL_12:
    sub_B2C434(Master_WarQuestSelectionMaster, v10);
  if ( BuffEntity__checkBuffType((BuffEntity_o *)entity, 140, 0LL) )
    BattleData__SubBuffFromPT_18448196(this, target, v11);
}


void __fastcall BattleData__RemoveEntry(BattleData_o *this, BattleServantData_o *servantData, const MethodInfo *method)
{
  const MethodInfo *v3; // x3
  _BOOL4 isEnemy; // w8
  __int64 v5; // x9
  __int64 v7; // x9
  int v8; // w10
  int32_t v9; // w1
  __int64 v10; // x0

  if ( servantData )
  {
    isEnemy = servantData->fields.isEnemy;
    v5 = 288LL;
    if ( servantData->fields.isEnemy )
      v5 = 296LL;
    v7 = *(__int64 *)((char *)&this->klass + v5);
    if ( !v7 )
      sub_B2C434(this, servantData);
    v8 = *(_DWORD *)(v7 + 24);
    if ( v8 >= 1 )
    {
      v9 = 0;
      while ( 1 )
      {
        if ( v9 >= (unsigned int)v8 )
        {
          v10 = sub_B2C460(this);
          sub_B2C400(v10, 0LL);
        }
        if ( *(_DWORD *)(v7 + 4LL * v9 + 32) == servantData->fields.uniqueId )
          break;
        if ( ++v9 >= v8 )
          return;
      }
      BattleData__FreeEntryByIndex(this, v9, isEnemy, v3);
      servantData->fields.isEntry = 0;
    }
  }
}


void __fastcall BattleData__RenewTurnDamageRecord(BattleData_o *this, const MethodInfo *method)
{
  QuestEntity_o *quest_ent; // x0
  int64_t totalDamageInTurn; // x8

  quest_ent = this->fields.quest_ent;
  if ( !quest_ent )
    sub_B2C434(0LL, method);
  if ( QuestEntity__HasFlag(quest_ent, 0x4000000LL, 0LL) )
  {
    totalDamageInTurn = this->fields.totalDamageInTurn;
    if ( totalDamageInTurn > this->fields.maxTurnDamageInBattle )
      this->fields.maxTurnDamageInBattle = totalDamageInTurn;
    this->fields.totalDamageInTurn = 0LL;
  }
}


void __fastcall BattleData__ResetAllCriticalInfo(BattleData_o *this, const MethodInfo *method)
{
  this->fields.prevCriticalstars = 0;
  *(_OWORD *)&this->fields.criticalstars = 0u;
}


void __fastcall BattleData__ResetEnemyEntryCount(BattleData_o *this, const MethodInfo *method)
{
  this->fields._EnemyEntryCountOnThisTurn_k__BackingField = 0;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__ResetFieldEnemyUseBuff(
        BattleData_o *this,
        int32_t targetType,
        bool isIntervalOnly,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  BattleData___c__DisplayClass731_0_o *v11; // x22
  __int64 v12; // x0
  __int64 v13; // x1
  const MethodInfo *v14; // x2
  System_Collections_Generic_IEnumerable_T__o *FieldEnemyServantList; // x19
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *v16; // x20

  if ( (byte_41843B6 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Action_BattleServantData___ctor__, *(_QWORD *)&targetType);
    sub_B2C35C(&System_Action_BattleServantData__TypeInfo, v7);
    sub_B2C35C(&Method_BasicHelper_ForEach_BattleServantData___, v8);
    sub_B2C35C(&Method_BattleData___c__DisplayClass731_0__ResetFieldEnemyUseBuff_b__0__, v9);
    sub_B2C35C(&BattleData___c__DisplayClass731_0_TypeInfo, v10);
    byte_41843B6 = 1;
  }
  v11 = (BattleData___c__DisplayClass731_0_o *)sub_B2C42C(BattleData___c__DisplayClass731_0_TypeInfo);
  BattleData___c__DisplayClass731_0___ctor(v11, 0LL);
  if ( !v11 )
    sub_B2C434(v12, v13);
  v11->fields.targetType = targetType;
  v11->fields.isIntervalOnly = isIntervalOnly;
  FieldEnemyServantList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getFieldEnemyServantList(
                                                                           this,
                                                                           0,
                                                                           v14);
  v16 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)sub_B2C42C(System_Action_BattleServantData__TypeInfo);
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData____ctor(
    v16,
    (Il2CppObject *)v11,
    Method_BattleData___c__DisplayClass731_0__ResetFieldEnemyUseBuff_b__0__,
    (const MethodInfo_24BBAD8 *)Method_System_Action_BattleServantData___ctor__);
  BasicHelper__ForEach_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
    FieldEnemyServantList,
    (System_Action_T__o *)v16,
    (const MethodInfo_1727C50 *)Method_BasicHelper_ForEach_BattleServantData___);
}


void __fastcall BattleData__ResetFreshBuffList(BattleData_o *this, const MethodInfo *method)
{
  struct System_Collections_Generic_List_BattleActionData_BuffData__o *freshBuffDataList; // x0

  if ( (byte_4184320 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleActionData_BuffData__Clear__, method);
    byte_4184320 = 1;
  }
  freshBuffDataList = this->fields.freshBuffDataList;
  if ( !freshBuffDataList )
    sub_B2C434(0LL, method);
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)freshBuffDataList,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_BattleActionData_BuffData__Clear__);
}


void __fastcall BattleData__ResetPerformedVals(BattleData_o *this, const MethodInfo *method)
{
  struct System_Collections_Generic_List_DataVals__o *performedValsList; // x0

  if ( (byte_418431D & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_DataVals__Clear__, method);
    byte_418431D = 1;
  }
  performedValsList = this->fields.performedValsList;
  if ( !performedValsList )
    sub_B2C434(0LL, method);
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)performedValsList,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_DataVals__Clear__);
}


void __fastcall BattleData__ResetWasAttackTargetId(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  struct System_Int32_array *p_entryid; // x20
  __int64 v4; // x8
  BattleData_o *v5; // x19
  unsigned __int64 v6; // x21
  struct System_Int32_array *e_entryid; // x20
  __int64 v8; // x8
  unsigned __int64 v9; // x21
  __int64 v10; // x0

  p_entryid = this->fields.p_entryid;
  if ( !p_entryid )
    goto LABEL_17;
  v4 = *(_QWORD *)&p_entryid->max_length;
  v5 = this;
  if ( (int)v4 >= 1 )
  {
    v6 = 0LL;
    while ( v6 < (unsigned int)v4 )
    {
      this = (BattleData_o *)BattleData__getPlayerServantData(v5, p_entryid->m_Items[v6 + 1], v2);
      if ( this )
        HIDWORD(this->fields.listQuestRouteId) = -1;
      LODWORD(v4) = p_entryid->max_length;
      if ( (__int64)++v6 >= (int)v4 )
        goto LABEL_8;
    }
LABEL_16:
    v10 = sub_B2C460(this);
    sub_B2C400(v10, 0LL);
  }
LABEL_8:
  e_entryid = v5->fields.e_entryid;
  if ( !e_entryid )
LABEL_17:
    sub_B2C434(this, method);
  v8 = *(_QWORD *)&e_entryid->max_length;
  if ( (int)v8 >= 1 )
  {
    v9 = 0LL;
    while ( v9 < (unsigned int)v8 )
    {
      this = (BattleData_o *)BattleData__getEnemyServantData(v5, e_entryid->m_Items[v9 + 1], v2);
      if ( this )
        HIDWORD(this->fields.listQuestRouteId) = -1;
      LODWORD(v8) = e_entryid->max_length;
      if ( (__int64)++v9 >= (int)v8 )
        return;
    }
    goto LABEL_16;
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__SaveBattleUseItemParameter(System_String_o *param, bool save, const MethodInfo *method)
{
  __int64 v5; // x1

  if ( (byte_418435A & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, save);
    sub_B2C35C(&StringLiteral_2536/*"BATTLE_USE_ITEM_SAVEKEY"*/, v5);
    byte_418435A = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetString((System_String_o *)StringLiteral_2536/*"BATTLE_USE_ITEM_SAVEKEY"*/, param, 0LL);
  if ( save )
    UnityEngine_PlayerPrefs__Save(0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__SaveContinueItemId(int32_t continueItemId, bool save, const MethodInfo *method)
{
  __int64 v5; // x1

  if ( (byte_4184358 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, save);
    sub_B2C35C(&StringLiteral_3384/*"CONTINUE_ITEM_SAVEKEY"*/, v5);
    byte_4184358 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_3384/*"CONTINUE_ITEM_SAVEKEY"*/, continueItemId, 0LL);
  if ( save )
    UnityEngine_PlayerPrefs__Save(0LL);
}


void __fastcall BattleData__SaveNoSkipDeadFirstIdList(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  struct System_Collections_Generic_List_int__o *noSkipDeadFirstIdUseThisTurn; // x0
  System_Collections_Generic_List_int__o **p_noSkipDeadFirstIdList; // x21
  struct System_Collections_Generic_List_int__o *NoSkipDeadFirstIdList; // x0
  __int64 v17; // x1
  int32_t current; // w20
  __int64 v19; // x1
  System_Text_StringBuilder_o *v20; // x20
  _BOOL8 v21; // x0
  __int64 v22; // x1
  int v23; // w21
  int32_t Length; // w0
  BattleData_c *v25; // x0
  System_String_o *NO_SKIP_DEAD_FIRST_ID_LIST_KEY; // x21
  System_String_o *v27; // x20
  System_Collections_Generic_List_Enumerator_int__o v28; // [xsp+8h] [xbp-88h] BYREF
  int v29[2]; // [xsp+20h] [xbp-70h]
  int v30; // [xsp+28h] [xbp-68h]
  System_Collections_Generic_List_Enumerator_int__o v31; // [xsp+30h] [xbp-60h] BYREF

  if ( (byte_41842F6 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_int__Dispose__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_int__MoveNext__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_int__get_Current__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Clear__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__GetEnumerator__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Count__, v11);
    sub_B2C35C(&System_Text_StringBuilder_TypeInfo, v12);
    sub_B2C35C(&StringLiteral_699/*","*/, v13);
    byte_41842F6 = 1;
  }
  memset(&v31, 0, sizeof(v31));
  v30 = 0;
  noSkipDeadFirstIdUseThisTurn = this->fields.noSkipDeadFirstIdUseThisTurn;
  if ( !noSkipDeadFirstIdUseThisTurn )
    goto LABEL_36;
  if ( !noSkipDeadFirstIdUseThisTurn->fields._size )
    return;
  p_noSkipDeadFirstIdList = &this->fields.noSkipDeadFirstIdList;
  if ( !this->fields.noSkipDeadFirstIdList )
  {
    NoSkipDeadFirstIdList = BattleData__LoadNoSkipDeadFirstIdList((BattleData_o *)noSkipDeadFirstIdUseThisTurn, method);
    this->fields.noSkipDeadFirstIdList = NoSkipDeadFirstIdList;
    sub_B2C2F8(&this->fields.noSkipDeadFirstIdList, NoSkipDeadFirstIdList);
    noSkipDeadFirstIdUseThisTurn = this->fields.noSkipDeadFirstIdUseThisTurn;
    if ( !noSkipDeadFirstIdUseThisTurn )
      goto LABEL_36;
  }
  System_Collections_Generic_List_int___GetEnumerator(
    (System_Collections_Generic_List_Enumerator_T__o *)&v28,
    noSkipDeadFirstIdUseThisTurn,
    (const MethodInfo_2F67E3C *)Method_System_Collections_Generic_List_int__GetEnumerator__);
  v31 = v28;
  while ( System_Collections_Generic_List_Enumerator_int___MoveNext(
            &v31,
            (const MethodInfo_20E7EC0 *)Method_System_Collections_Generic_List_Enumerator_int__MoveNext__) )
  {
    if ( !*p_noSkipDeadFirstIdList )
      sub_B2C434(0LL, v17);
    current = v31.fields.current;
    if ( !System_Collections_Generic_List_int___Contains(
            *p_noSkipDeadFirstIdList,
            v31.fields.current,
            (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__) )
    {
      if ( !*p_noSkipDeadFirstIdList )
        sub_B2C434(0LL, v19);
      System_Collections_Generic_List_int___Add(
        *p_noSkipDeadFirstIdList,
        current,
        (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
    }
  }
  v29[0] = 107;
  v30 = 1;
  System_Collections_Generic_List_Enumerator_int___Dispose(
    &v31,
    (const MethodInfo_20E7EBC *)Method_System_Collections_Generic_List_Enumerator_int__Dispose__);
  v30 = 0;
  v20 = (System_Text_StringBuilder_o *)sub_B2C42C(System_Text_StringBuilder_TypeInfo);
  System_Text_StringBuilder___ctor(v20, 0LL);
  noSkipDeadFirstIdUseThisTurn = *p_noSkipDeadFirstIdList;
  if ( !*p_noSkipDeadFirstIdList )
    goto LABEL_36;
  System_Collections_Generic_List_int___GetEnumerator(
    (System_Collections_Generic_List_Enumerator_T__o *)&v28,
    noSkipDeadFirstIdUseThisTurn,
    (const MethodInfo_2F67E3C *)Method_System_Collections_Generic_List_int__GetEnumerator__);
  v31 = v28;
  while ( 1 )
  {
    v21 = System_Collections_Generic_List_Enumerator_int___MoveNext(
            &v31,
            (const MethodInfo_20E7EC0 *)Method_System_Collections_Generic_List_Enumerator_int__MoveNext__);
    if ( !v21 )
      break;
    if ( !v20 )
      sub_B2C434(v21, v22);
    System_Text_StringBuilder__Append_42412040(v20, v31.fields.current, 0LL);
    System_Text_StringBuilder__Append_42408700(v20, (System_String_o *)StringLiteral_699/*","*/, 0LL);
  }
  v29[0] = 180;
  v23 = ++v30;
  System_Collections_Generic_List_Enumerator_int___Dispose(
    &v31,
    (const MethodInfo_20E7EBC *)Method_System_Collections_Generic_List_Enumerator_int__Dispose__);
  if ( v23 && v29[v23 - 1] == 180 )
    v30 = v23 - 1;
  if ( !v20 )
    goto LABEL_36;
  if ( System_Text_StringBuilder__get_Length(v20, 0LL) >= 1 )
  {
    Length = System_Text_StringBuilder__get_Length(v20, 0LL);
    System_Text_StringBuilder__Remove(v20, Length - 1, 1, 0LL);
  }
  v25 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v25 = BattleData_TypeInfo;
  }
  NO_SKIP_DEAD_FIRST_ID_LIST_KEY = v25->static_fields->NO_SKIP_DEAD_FIRST_ID_LIST_KEY;
  v27 = (System_String_o *)((__int64 (__fastcall *)(System_Text_StringBuilder_o *, Il2CppMethodPointer))v20->klass->vtable._3_ToString.method)(
                             v20,
                             v20->klass->vtable._4_System_Runtime_Serialization_ISerializable_GetObjectData.methodPtr);
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetString(NO_SKIP_DEAD_FIRST_ID_LIST_KEY, v27, 0LL);
  noSkipDeadFirstIdUseThisTurn = this->fields.noSkipDeadFirstIdUseThisTurn;
  if ( !noSkipDeadFirstIdUseThisTurn )
LABEL_36:
    sub_B2C434(noSkipDeadFirstIdUseThisTurn, method);
  System_Collections_Generic_List_int___Clear(
    noSkipDeadFirstIdUseThisTurn,
    (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__SaveServantCommonFlag(int32_t servantId, int32_t commonFlag, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  System_String_o *v19; // x19
  BattleData_c *v20; // x0
  System_Collections_Generic_Dictionary_int__int__o *SavedServantCommonFlagDict; // x0
  __int64 v22; // x1
  System_Collections_Generic_Dictionary_int__int__o *v23; // x22
  Il2CppObject *v24; // x21
  Il2CppObject *v25; // x0
  System_String_o *v26; // x19
  System_String_o *v27; // x0
  System_String_o *v28; // x1
  System_String_o *Empty; // x20
  int32_t key_high; // x26^4
  Il2CppObject *v31; // x21
  Il2CppObject *v32; // x2
  System_String_o *v33; // x1
  System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o v34; // [xsp+8h] [xbp-88h] BYREF
  System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o v35; // [xsp+30h] [xbp-60h] BYREF

  if ( (byte_418439D & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, *(_QWORD *)&commonFlag);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__Add__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__GetEnumerator__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__set_Item__, v8);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v9);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__int__Dispose__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__int__MoveNext__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__int__get_Current__, v12);
    sub_B2C35C(&int_TypeInfo, v13);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_int__int__get_Key__, v14);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_int__int__get_Value__, v15);
    sub_B2C35C(&string_TypeInfo, v16);
    sub_B2C35C(&StringLiteral_23629/*"{0}:{1},"*/, v17);
    sub_B2C35C(&StringLiteral_2532/*"BATTLE_SVT_COMMON_FLAG"*/, v18);
    byte_418439D = 1;
  }
  memset(&v35, 0, 32);
  v19 = (System_String_o *)StringLiteral_23629/*"{0}:{1},"*/;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_2532/*"BATTLE_SVT_COMMON_FLAG"*/, 0LL) )
  {
    v20 = BattleData_TypeInfo;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    SavedServantCommonFlagDict = BattleData__GetSavedServantCommonFlagDict((const MethodInfo *)v20);
    if ( !SavedServantCommonFlagDict )
      sub_B2C434(0LL, v22);
    v23 = SavedServantCommonFlagDict;
    if ( System_Collections_Generic_Dictionary_int__int___ContainsKey(
           SavedServantCommonFlagDict,
           servantId,
           (const MethodInfo_2E247A4 *)Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__) )
    {
      System_Collections_Generic_Dictionary_int__int___set_Item(
        v23,
        servantId,
        commonFlag,
        (const MethodInfo_2E24518 *)Method_System_Collections_Generic_Dictionary_int__int__set_Item__);
    }
    else
    {
      System_Collections_Generic_Dictionary_int__int___Add(
        v23,
        servantId,
        commonFlag,
        (const MethodInfo_2E24540 *)Method_System_Collections_Generic_Dictionary_int__int__Add__);
    }
    Empty = string_TypeInfo->static_fields->Empty;
    System_Collections_Generic_Dictionary_int__int___GetEnumerator(
      &v34,
      v23,
      (const MethodInfo_2E24AB4 *)Method_System_Collections_Generic_Dictionary_int__int__GetEnumerator__);
    *(_OWORD *)&v35.fields.dictionary = *(_OWORD *)&v34.fields.dictionary;
    v35.fields.current = v34.fields.current;
    while ( System_Collections_Generic_Dictionary_Enumerator_int__int___MoveNext(
              &v35,
              (const MethodInfo_256852C *)Method_System_Collections_Generic_Dictionary_Enumerator_int__int__MoveNext__) )
    {
      key_high = HIDWORD(v35.fields.current.fields.key);
      LODWORD(v34.fields.dictionary) = v35.fields.current.fields.key;
      v31 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v34);
      *(&v34.fields.getEnumeratorRetType + 1) = key_high;
      v32 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v34.fields.getEnumeratorRetType + 1);
      v33 = System_String__Format_44301068(v19, v31, v32, 0LL);
      Empty = System_String__Concat_44305532(Empty, v33, 0LL);
    }
    System_Collections_Generic_Dictionary_Enumerator_int__int___Dispose(
      &v35,
      (const MethodInfo_2568674 *)Method_System_Collections_Generic_Dictionary_Enumerator_int__int__Dispose__);
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    v27 = (System_String_o *)StringLiteral_2532/*"BATTLE_SVT_COMMON_FLAG"*/;
    v28 = Empty;
  }
  else
  {
    LODWORD(v34.fields.dictionary) = servantId;
    v24 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v34);
    *(&v34.fields.getEnumeratorRetType + 1) = commonFlag;
    v25 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v34.fields.getEnumeratorRetType + 1);
    v26 = System_String__Format_44301068(v19, v24, v25, 0LL);
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    v27 = (System_String_o *)StringLiteral_2532/*"BATTLE_SVT_COMMON_FLAG"*/;
    v28 = v26;
  }
  EncryptedPlayerPrefs__SetString(v27, v28, 0LL);
  UnityEngine_PlayerPrefs__Save(0LL);
}


void __fastcall BattleData__SaveTurnData(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  const MethodInfo *v13; // x1
  Il2CppObject *v14; // x20
  MiniMessagePack_MiniMessagePacker_o *v15; // x21
  BattleLogic_o *logic; // x0
  __int64 v17; // x1
  System_Byte_array *v18; // x20
  System_String_o *v19; // x20
  struct BattleEntity_o *battle_ent; // x8
  struct BattleEntity_o *v21; // x8
  const MethodInfo *v22; // x1
  System_Int32_array *waveClearNeedTurn; // x20
  const MethodInfo *v24; // x1

  if ( (byte_4184365 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    sub_B2C35C(&CatAndMouseGame_TypeInfo, v3);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v4);
    sub_B2C35C(&MiniMessagePack_MiniMessagePacker_TypeInfo, v5);
    sub_B2C35C(&StringLiteral_5064/*"DUEL"*/, v6);
    sub_B2C35C(&StringLiteral_10884/*"QUESTID"*/, v7);
    sub_B2C35C(&StringLiteral_11552/*"SAVEKEY_"*/, v8);
    sub_B2C35C(&StringLiteral_8126/*"IsDuelMessagePack"*/, v9);
    sub_B2C35C(&StringLiteral_959/*"0.6.17.1"*/, v10);
    sub_B2C35C(&StringLiteral_15183/*"Version"*/, v11);
    sub_B2C35C(&StringLiteral_2752/*"Battle"*/, v12);
    byte_4184365 = 1;
  }
  BattleData__DeleteDummyBuffDataAll(this, method);
  if ( this->fields.systemflg_autosave )
  {
    v14 = (Il2CppObject *)BattleData__SetSaveData(this, v13);
    v15 = (MiniMessagePack_MiniMessagePacker_o *)sub_B2C42C(MiniMessagePack_MiniMessagePacker_TypeInfo);
    MiniMessagePack_MiniMessagePacker___ctor(v15, 0LL);
    if ( !v15 )
      goto LABEL_25;
    v18 = MiniMessagePack_MiniMessagePacker__PackClass(v15, v14, 0LL);
    if ( (BYTE3(CatAndMouseGame_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !CatAndMouseGame_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(CatAndMouseGame_TypeInfo);
    }
    v19 = CatAndMouseGame__CatGame6_29449968(v18, 0LL);
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    EncryptedPlayerPrefs__SetString((System_String_o *)StringLiteral_5064/*"DUEL"*/, v19, 0LL);
    battle_ent = this->fields.battle_ent;
    if ( !battle_ent )
      goto LABEL_25;
    EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_10884/*"QUESTID"*/, battle_ent->fields.questId, 0LL);
    EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_8126/*"IsDuelMessagePack"*/, 1, 0LL);
    EncryptedPlayerPrefs__SetString((System_String_o *)StringLiteral_15183/*"Version"*/, (System_String_o *)StringLiteral_959/*"0.6.17.1"*/, 0LL);
    v21 = this->fields.battle_ent;
    if ( !v21 )
      goto LABEL_25;
    EncryptedPlayerPrefs__SetLong((System_String_o *)StringLiteral_11552/*"SAVEKEY_"*/, v21->fields.id, 0LL);
    if ( EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_2752/*"Battle"*/, 0LL) )
    {
      if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
      }
      EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_2752/*"Battle"*/, 0LL);
    }
    waveClearNeedTurn = this->fields.waveClearNeedTurn;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    BattleData__saveWaveClearTurn(waveClearNeedTurn, v22);
    BattleData__SaveNoSkipDeadFirstIdList(this, v24);
    logic = this->fields.logic;
    if ( !logic || (BattleLogic__SaveCutinFirstIdList(logic, 0LL), (logic = this->fields.logic) == 0LL) )
LABEL_25:
      sub_B2C434(logic, v17);
    BattleLogic__SaveEffectFirstIdList(logic, 0LL);
    UnityEngine_PlayerPrefs__Save(0LL);
  }
}


void __fastcall BattleData__SaveWaveRestartData(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  QuestPhaseEntity_o *questphase_ent; // x0
  MiniMessagePack_MiniMessagePacker_o *v7; // x20
  Il2CppObject **p_tempWaveRestartData; // x19
  System_Byte_array *v9; // x20
  System_String_o *v10; // x20

  if ( (byte_41843BA & 1) == 0 )
  {
    sub_B2C35C(&CatAndMouseGame_TypeInfo, method);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    sub_B2C35C(&MiniMessagePack_MiniMessagePacker_TypeInfo, v4);
    sub_B2C35C(&StringLiteral_15433/*"WaveRestartData"*/, v5);
    byte_41843BA = 1;
  }
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    goto LABEL_15;
  if ( !QuestPhaseEntity__IsContinueWaveRestart(questphase_ent, 0LL) || !this->fields.tempWaveRestartData )
    return;
  v7 = (MiniMessagePack_MiniMessagePacker_o *)sub_B2C42C(MiniMessagePack_MiniMessagePacker_TypeInfo);
  MiniMessagePack_MiniMessagePacker___ctor(v7, 0LL);
  if ( !v7 )
LABEL_15:
    sub_B2C434(questphase_ent, method);
  p_tempWaveRestartData = (Il2CppObject **)&this->fields.tempWaveRestartData;
  v9 = MiniMessagePack_MiniMessagePacker__PackClass(v7, *p_tempWaveRestartData, 0LL);
  if ( (BYTE3(CatAndMouseGame_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !CatAndMouseGame_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(CatAndMouseGame_TypeInfo);
  }
  v10 = CatAndMouseGame__CatGame6_29449968(v9, 0LL);
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetString((System_String_o *)StringLiteral_15433/*"WaveRestartData"*/, v10, 0LL);
  UnityEngine_PlayerPrefs__Save(0LL);
  *p_tempWaveRestartData = 0LL;
  sub_B2C2F8(p_tempWaveRestartData, 0LL);
}


void __fastcall BattleData__SetBattleDataFromSaveData(
        BattleData_o *this,
        BattleData_SaveData_o *savedata,
        bool isDuelDataMsgPack,
        bool isWaveRestart,
        const MethodInfo *method)
{
  BattleData_SaveData_o *v6; // x19
  BattleData_o *v7; // x20
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  __int64 v31; // x1
  __int64 v32; // x1
  __int64 v33; // x1
  __int64 v34; // x1
  __int64 v35; // x1
  __int64 v36; // x1
  __int64 v37; // x1
  __int64 v38; // x1
  __int64 v39; // x1
  __int64 v40; // x1
  __int64 v41; // x1
  __int64 v42; // x1
  __int64 v43; // x1
  __int64 v44; // x1
  __int64 v45; // x1
  __int64 v46; // x1
  __int64 v47; // x1
  __int64 v48; // x1
  __int64 v49; // x1
  __int64 v50; // x1
  __int64 v51; // x1
  __int64 v52; // x1
  __int64 v53; // x1
  __int64 v54; // x1
  __int64 v55; // x1
  __int64 v56; // x1
  __int64 v57; // x1
  __int64 v58; // x1
  __int64 v59; // x1
  __int64 v60; // x1
  __int64 v61; // x1
  __int64 v62; // x1
  __int64 v63; // x1
  __int64 v64; // x1
  __int64 v65; // x1
  __int64 v66; // x1
  __int64 v67; // x1
  __int64 v68; // x1
  __int64 v69; // x1
  __int64 v70; // x1
  __int64 v71; // x1
  __int64 v72; // x1
  __int64 v73; // x1
  __int64 v74; // x1
  __int64 v75; // x1
  __int64 v76; // x1
  __int64 v77; // x1
  __int64 v78; // x1
  __int64 v79; // x1
  __int64 v80; // x1
  struct System_Int32_array *commandCriticalArray; // x1
  struct System_Int32_array *p_entryid; // x1
  struct System_Int32_array *e_entryid; // x1
  struct System_Int32_array *usedTurnArray; // x1
  struct System_Int32_array *overwriteBgIndividuality; // x1
  long double v86; // q0
  System_Collections_Generic_Dictionary_string__object__o *chainCountIntKeyDict; // x24
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *v88; // x25
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *v89; // x26
  struct System_Collections_Generic_Dictionary_int__int__o *v90; // x0
  System_Collections_Generic_Dictionary_string__object__o *chainCountDict; // x24
  BattleData___c_c *v92; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Func_string__BattleData_CHAIN_COUNT_TYPE__o *_9__560_0; // x25
  Il2CppObject *v95; // x26
  struct BattleData___c_StaticFields *v96; // x0
  struct BattleData___c_StaticFields *v97; // x8
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__560_1; // x26
  Il2CppObject *v99; // x27
  struct BattleData___c_StaticFields *v100; // x0
  System_Collections_Generic_Dictionary_TKey__TValue__o *v101; // x0
  BattleData___c_c *v102; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v103; // x24
  struct BattleData___c_StaticFields *v104; // x9
  System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__o *_9__560_2; // x25
  Il2CppObject *v106; // x26
  struct BattleData___c_StaticFields *v107; // x0
  struct BattleData___c_StaticFields *v108; // x9
  System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__o *_9__560_3; // x26
  Il2CppObject *v110; // x27
  struct BattleData___c_StaticFields *v111; // x0
  OverwriteBattleBgmData_SaveData_o *v112; // x24
  OverwriteBattleBgmData_o *InstanceFromSaveData; // x0
  BattleDefenceTargetData_o *defenceTargetData; // x0
  int32_t LastWave; // w0
  __int64 v116; // x0
  const MethodInfo *v117; // x1
  struct System_Int32_array *waveKnockdownNums; // x1
  int32_t v119; // w0
  __int64 v120; // x0
  struct BattleCommandData_array *fixedCommands; // x1
  __int64 v122; // x0
  BattleData_c *v123; // x0
  int32_t ContinueCount; // w0
  int totalCriticalStars; // w8
  struct BattleCommandData_array *drawcard; // x1
  struct BattleCommandData_array *shufflecard; // x1
  struct System_Collections_Generic_Dictionary_string__object__o *voicePlayedList; // x1
  struct BattleEntity_o *battle_ent; // x8
  __int64 v130; // x23
  __int64 v131; // x23
  UnityEngine_Object_o *v132; // x23
  __int64 v133; // x23
  __int64 v134; // x23
  __int64 v135; // x8
  __int64 v136; // x23
  __int64 v137; // x23
  __int64 v138; // x8
  System_Collections_Generic_IEnumerable_T__o *history; // x24
  System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *v140; // x0
  struct System_Collections_Generic_List_BattleData_CommandHistory__o *v141; // x23
  System_Collections_Generic_IEnumerable_T__o *drop; // x24
  System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *v143; // x0
  struct System_Collections_Generic_List_BattleDropItem__o *v144; // x23
  __int64 v145; // x3
  struct System_Byte_array *logHeader_MP; // x23
  struct BattleActionLogManagerInterface_o *actionLogManager; // x24
  BattleActionLogManagerInterface_c *klass; // x8
  unsigned __int64 v149; // x10
  BattleActionLogManagerInterface_c **p_offset; // x11
  __int64 p_method; // x0
  System_String_o *logHeader; // x24
  struct BattleActionLogManagerInterface_o *v153; // x23
  __int64 v154; // x3
  BattleActionLogManagerInterface_c *v155; // x8
  BattleData_o *v156; // x24
  unsigned __int64 v157; // x10
  BattleActionLogManagerInterface_c **v158; // x11
  __int64 v159; // x0
  struct System_Byte_array *logData_MP; // x23
  struct BattleActionLogManagerInterface_o *v161; // x24
  BattleActionLogManagerInterface_c *v162; // x8
  unsigned __int64 v163; // x10
  BattleActionLogManagerInterface_c **v164; // x11
  __int64 v165; // x0
  System_String_o *logData; // x24
  struct BattleActionLogManagerInterface_o *v167; // x23
  __int64 v168; // x3
  BattleActionLogManagerInterface_c *v169; // x8
  BattleData_o *v170; // x24
  unsigned __int64 v171; // x10
  BattleActionLogManagerInterface_c **v172; // x11
  __int64 v173; // x0
  System_Collections_Generic_IEnumerable_T__o *questRouteIds; // x24
  System_Collections_Generic_List_int__o *v175; // x0
  struct System_Collections_Generic_List_int__o *v176; // x23
  BattleInfoData_o *battle_info; // x8
  DeckData_o *WaveMyDeck; // x23
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v179; // x24
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v180; // x0
  const MethodInfo *v181; // x2
  struct BattleDeckServantData_array *svts; // x28
  int max_length; // w8
  int i; // w21
  BattleDeckServantData_o *v185; // x23
  BattleData___c__DisplayClass560_0_o *v186; // x26
  int32_t v187; // w25
  BattleServantData_o *v188; // x24
  WellFired_USFGOPlayStandardCutInLimitCount_OverwriteCutIn_array *p_svlist_MP; // x25
  System_Predicate_peRenderTexture_ChangeLayerObject__o *v190; // x27
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *p_svlist; // x26
  System_Collections_Generic_Dictionary_Type__IStoreExtension__o *v192; // x26
  System_String_o *v193; // x8
  System_String_o *v194; // x0
  System_String_o *v195; // x25
  BattleEntity_o *v196; // x26
  BattleData_o *v197; // x25
  PlayerFieldStatus_o *v198; // x23
  EnemyFieldStatus_o *v199; // x23
  System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare__o *v200; // x23
  BattleData_o **p_tmpEnemyData_MP; // x22
  struct BattleServantData_SaveData_array *e_svlist_MP; // x21
  int v203; // w8
  unsigned int v204; // w23
  BattleServantData_SaveData_o *v205; // x2
  struct System_Collections_Generic_Dictionary_string__object__o *e_svlist; // x1
  struct BattleFieldData_SaveData_array *savefield_datalist; // x1
  struct System_String_array *firstNpPlayUserSvtIdList; // x8
  unsigned __int64 v209; // x22
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *v210; // x23
  struct System_String_array *v211; // x8
  struct System_Int32_array *firstNpPlaySeqIdList; // x8
  System_Xml_Schema_XmlSchemaObject_o *v213; // x0
  System_Xml_Schema_XmlSchemaObject_o *v214; // x0
  PlayerServantNoblePhantasmUsageData_SaveData_o *playerServantNoblePhantasmUsageDataSaveData; // x22
  struct System_Boolean_array *enemyAppearValids; // x1
  struct BattlePerformance_o *perf; // x8
  const MethodInfo *v218; // x1
  struct System_Collections_Generic_List_BattleSkillInfoData__o *masterSkillInfo; // x21
  int size; // w22
  unsigned int v221; // w23
  BattleSkillInfoData_o *v222; // x21
  struct System_Int32_array *master_infoId; // x8
  __int64 v224; // x24
  unsigned __int64 v225; // x9
  unsigned __int64 v226; // x25
  int v227; // w26
  struct System_Int32_array *master_skillTurn; // x8
  struct System_Int32_array *master_sealedTurn; // x8
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *usedEventMasterSkillDict; // x0
  BattleData_o *Count; // x0
  const MethodInfo *v232; // x2
  System_Collections_Generic_Dictionary_int__int__o *v233; // x0
  System_Collections_Generic_IEnumerable_T__o *voicePlayedOver64Info; // x21
  System_Collections_Generic_HashSet_BattleBuffData_BuffData__o *v235; // x22
  struct System_Collections_Generic_HashSet_string__o **p_voicePlayedOver64Info; // x0
  void *v237; // x1
  System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData__o *v238; // x21
  System_Collections_Generic_IEnumerable_T__o *calledEnemyUniqueIds; // x21
  System_Collections_Generic_HashSet_int__o *v240; // x22
  struct System_Collections_Generic_HashSet_int__o **p_calledEnemyUniqueIdHash; // x0
  System_Collections_Generic_HashSet_int__o *v242; // x1
  System_Collections_Generic_HashSet_int__o *v243; // x21
  const MethodInfo *v244; // x1
  const MethodInfo *v245; // x1
  __int64 v246; // x0
  BattleData_o *v247; // x0
  const MethodInfo *v248; // x1
  bool v249; // [xsp+0h] [xbp-60h]
  int32_t v251; // [xsp+8h] [xbp-58h] BYREF
  int32_t v252; // [xsp+Ch] [xbp-54h] BYREF

  v6 = savedata;
  v7 = this;
  if ( (byte_4184377 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Array_Find_BattleServantData_SaveData___, savedata);
    sub_B2C35C(&Method_BasicHelper_IndexValue_int____67381984, v8);
    sub_B2C35C(&BattleActionLogManagerInterface_TypeInfo, v9);
    sub_B2C35C(&BattleCommandData___TypeInfo, v10);
    sub_B2C35C(&BattleData_TypeInfo, v11);
    sub_B2C35C(&BattleServantData_TypeInfo, v12);
    sub_B2C35C(&Method_System_Convert_ToInt32___67396968, v13);
    sub_B2C35C(&Method_System_Convert_ToInt32___67396960, v14);
    sub_B2C35C(&System_Convert_TypeInfo, v15);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__Add__, v16);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__Add__, v17);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__, v18);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData___ctor__, v19);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object___ctor__, v20);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__get_Count__, v21);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__get_Item__, v22);
    sub_B2C35C(&System_Collections_Generic_Dictionary_string__object__TypeInfo, v23);
    sub_B2C35C(&System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__TypeInfo, v24);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v25);
    sub_B2C35C(&EnemyFieldStatus_TypeInfo, v26);
    sub_B2C35C(
      &Method_System_Linq_Enumerable_ToDictionary_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__int___,
      v27);
    sub_B2C35C(&Method_System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int___ctor__, v28);
    sub_B2C35C(&Method_System_Func_object__int___ctor__, v29);
    sub_B2C35C(&Method_System_Func_string__BattleData_CHAIN_COUNT_TYPE___ctor__, v30);
    sub_B2C35C(&Method_System_Func_string__int___ctor__, v31);
    sub_B2C35C(&System_Func_object__int__TypeInfo, v32);
    sub_B2C35C(&System_Func_string__int__TypeInfo, v33);
    sub_B2C35C(&System_Func_string__BattleData_CHAIN_COUNT_TYPE__TypeInfo, v34);
    sub_B2C35C(&System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__TypeInfo, v35);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int___ctor___67287832, v36);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int___ctor___67287824, v37);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_string___ctor__, v38);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_string___ctor___67288472, v39);
    sub_B2C35C(&System_Collections_Generic_HashSet_string__TypeInfo, v40);
    sub_B2C35C(&System_Collections_Generic_HashSet_int__TypeInfo, v41);
    sub_B2C35C(&int___TypeInfo, v42);
    sub_B2C35C(&int_TypeInfo, v43);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, v44);
    sub_B2C35C(&Method_System_Collections_Generic_List_Dictionary_string__object___Add__, v45);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleDropItem___ctor___67300592, v46);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleData_CommandHistory___ctor___67328344, v47);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleDropItem___ctor__, v48);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v49);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v50);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleData_CommandHistory___ctor__, v51);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor___67311384, v52);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__get_Count__, v53);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__get_Item__, v54);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v55);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v56);
    sub_B2C35C(&System_Collections_Generic_List_BattleData_CommandHistory__TypeInfo, v57);
    sub_B2C35C(&System_Collections_Generic_List_BattleDropItem__TypeInfo, v58);
    sub_B2C35C(&Method_MiniMessagePackerUtility_DecodeDict_BattleData_CHAIN_COUNT_TYPE__int___, v59);
    sub_B2C35C(&Method_MiniMessagePackerUtility_DecodeDict_int__int___, v60);
    sub_B2C35C(&UnityEngine_Object_TypeInfo, v61);
    sub_B2C35C(&PlayerFieldStatus_TypeInfo, v62);
    sub_B2C35C(&Method_System_Predicate_BattleServantData_SaveData___ctor__, v63);
    sub_B2C35C(&System_Predicate_BattleServantData_SaveData__TypeInfo, v64);
    sub_B2C35C(&OverwriteBattleBgmData_SaveData_TypeInfo, v65);
    sub_B2C35C(&PlayerServantNoblePhantasmUsageData_SaveData_TypeInfo, v66);
    sub_B2C35C(&ServantAssetLoadManager_TypeInfo, v67);
    sub_B2C35C(&Method_SingletonMonoBehaviour_BattleRandom__getInstance__, v68);
    sub_B2C35C(&string_TypeInfo, v69);
    sub_B2C35C(&Method_BattleData___c__SetBattleDataFromSaveData_b__560_0__, v70);
    sub_B2C35C(&Method_BattleData___c__SetBattleDataFromSaveData_b__560_1__, v71);
    sub_B2C35C(&Method_BattleData___c__SetBattleDataFromSaveData_b__560_2__, v72);
    sub_B2C35C(&Method_BattleData___c__SetBattleDataFromSaveData_b__560_3__, v73);
    sub_B2C35C(&Method_BattleData___c__DisplayClass560_0__SetBattleDataFromSaveData_b__4__, v74);
    sub_B2C35C(&BattleData___c__DisplayClass560_0_TypeInfo, v75);
    sub_B2C35C(&BattleData___c_TypeInfo, v76);
    sub_B2C35C(&StringLiteral_22468/*"svtId"*/, v77);
    sub_B2C35C(&StringLiteral_23066/*"userSvtId"*/, v78);
    sub_B2C35C(&StringLiteral_21394/*"p_svlist"*/, v79);
    this = (BattleData_o *)sub_B2C35C(&StringLiteral_21968/*"seqId"*/, v80);
    byte_4184377 = 1;
  }
  if ( !v6 )
    goto LABEL_215;
  v7->fields.initturn = v6->fields.initturn;
  v7->fields.wavecount = v6->fields.wavecount;
  v7->fields.turnCount = v6->fields.turnCount;
  v7->fields.totalTurnCount = v6->fields.totalTurnCount;
  v7->fields.globaltargetId = v6->fields.globaltargetId;
  v7->fields.criticalstars = v6->fields.criticalstars;
  v7->fields.totalCriticalStars = v6->fields.totalCriticalstars;
  v7->fields.addCriticalstars = v6->fields.addCriticalstars;
  v7->fields.subCriticalCount = v6->fields.subCriticalCount;
  v7->fields.prevCriticalstars = v6->fields.prevCriticalstars;
  commandCriticalArray = v6->fields.commandCriticalArray;
  v7->fields.commandCriticalArray = commandCriticalArray;
  sub_B2C2F8(&v7->fields.commandCriticalArray, commandCriticalArray);
  p_entryid = v6->fields.p_entryid;
  v7->fields.p_entryid = p_entryid;
  sub_B2C2F8(&v7->fields.p_entryid, p_entryid);
  e_entryid = v6->fields.e_entryid;
  v7->fields.e_entryid = e_entryid;
  sub_B2C2F8(&v7->fields.e_entryid, e_entryid);
  usedTurnArray = v6->fields.usedTurnArray;
  v7->fields.waveClearNeedTurn = usedTurnArray;
  sub_B2C2F8(&v7->fields.waveClearNeedTurn, usedTurnArray);
  v7->fields.loseBattleFlg = v6->fields.loseBattleFlg;
  overwriteBgIndividuality = v6->fields.overwriteBgIndividuality;
  v7->fields.overwriteBgIndividuality = overwriteBgIndividuality;
  *(__n128 *)&v86 = sub_B2C2F8(&v7->fields.overwriteBgIndividuality, overwriteBgIndividuality);
  this = (BattleData_o *)v7->fields.battleAtkManager;
  v7->fields.winBattleNotRelatedSurvivalStatus = v6->fields.winBattleNotRelatedSurvivalStatusFlg;
  if ( !this )
    goto LABEL_215;
  (*(void (__fastcall **)(BattleData_o *, BattleData_SaveData_o *, Il2CppClass *, long double))&this->klass[1]._1.this_arg.bits)(
    this,
    v6,
    this->klass[1]._1.element_class,
    v86);
  this = (BattleData_o *)v7->fields.battleEvent;
  if ( !this )
    goto LABEL_215;
  ((void (__fastcall *)(BattleData_o *, BattleData_SaveData_o *, void *))this->klass[1]._2.typeHierarchy)(
    this,
    v6,
    this->klass[1]._2.unity_user_data);
  chainCountIntKeyDict = v6->fields.chainCountIntKeyDict;
  if ( chainCountIntKeyDict )
  {
    v88 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B2C42C(System_Func_string__int__TypeInfo);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      v88,
      0LL,
      Method_System_Convert_ToInt32___67396968,
      (const MethodInfo_27127B0 *)Method_System_Func_string__int___ctor__);
    v89 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B2C42C(System_Func_object__int__TypeInfo);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      v89,
      0LL,
      Method_System_Convert_ToInt32___67396960,
      (const MethodInfo_27127B0 *)Method_System_Func_object__int___ctor__);
    v90 = (struct System_Collections_Generic_Dictionary_int__int__o *)MiniMessagePackerUtility__DecodeDict_int__int_(
                                                                        chainCountIntKeyDict,
                                                                        (System_Func_string__TKey__o *)v88,
                                                                        (System_Func_object__TValue__o *)v89,
                                                                        (const MethodInfo_1AB2774 *)Method_MiniMessagePackerUtility_DecodeDict_int__int___);
  }
  else
  {
    chainCountDict = v6->fields.chainCountDict;
    v92 = BattleData___c_TypeInfo;
    if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleData___c_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
      v92 = BattleData___c_TypeInfo;
    }
    static_fields = v92->static_fields;
    _9__560_0 = static_fields->__9__560_0;
    if ( !_9__560_0 )
    {
      if ( (BYTE3(v92->vtable._0_Equals.methodPtr) & 4) != 0 && !v92->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v92);
        static_fields = BattleData___c_TypeInfo->static_fields;
      }
      v95 = (Il2CppObject *)static_fields->__9;
      _9__560_0 = (System_Func_string__BattleData_CHAIN_COUNT_TYPE__o *)sub_B2C42C(System_Func_string__BattleData_CHAIN_COUNT_TYPE__TypeInfo);
      System_Func_string__BattleData_CHAIN_COUNT_TYPE____ctor(
        _9__560_0,
        v95,
        Method_BattleData___c__SetBattleDataFromSaveData_b__560_0__,
        (const MethodInfo_2712B90 *)Method_System_Func_string__BattleData_CHAIN_COUNT_TYPE___ctor__);
      v96 = BattleData___c_TypeInfo->static_fields;
      v96->__9__560_0 = _9__560_0;
      sub_B2C2F8(&v96->__9__560_0, _9__560_0);
      v92 = BattleData___c_TypeInfo;
    }
    if ( (BYTE3(v92->vtable._0_Equals.methodPtr) & 4) != 0 && !v92->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v92);
      v92 = BattleData___c_TypeInfo;
    }
    v97 = v92->static_fields;
    _9__560_1 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)v97->__9__560_1;
    if ( !_9__560_1 )
    {
      if ( (BYTE3(v92->vtable._0_Equals.methodPtr) & 4) != 0 && !v92->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v92);
        v97 = BattleData___c_TypeInfo->static_fields;
      }
      v99 = (Il2CppObject *)v97->__9;
      _9__560_1 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B2C42C(System_Func_object__int__TypeInfo);
      System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
        _9__560_1,
        v99,
        Method_BattleData___c__SetBattleDataFromSaveData_b__560_1__,
        (const MethodInfo_27127B0 *)Method_System_Func_object__int___ctor__);
      v100 = BattleData___c_TypeInfo->static_fields;
      v100->__9__560_1 = (struct System_Func_object__int__o *)_9__560_1;
      sub_B2C2F8(&v100->__9__560_1, _9__560_1);
    }
    v101 = MiniMessagePackerUtility__DecodeDict_BattleData_CHAIN_COUNT_TYPE__int_(
             chainCountDict,
             (System_Func_string__TKey__o *)_9__560_0,
             (System_Func_object__TValue__o *)_9__560_1,
             (const MethodInfo_1AB2B68 *)Method_MiniMessagePackerUtility_DecodeDict_BattleData_CHAIN_COUNT_TYPE__int___);
    v102 = BattleData___c_TypeInfo;
    v103 = (System_Collections_Generic_IEnumerable_TSource__o *)v101;
    if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleData___c_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
      v102 = BattleData___c_TypeInfo;
    }
    v104 = v102->static_fields;
    _9__560_2 = v104->__9__560_2;
    if ( !_9__560_2 )
    {
      if ( (BYTE3(v102->vtable._0_Equals.methodPtr) & 4) != 0 && !v102->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v102);
        v104 = BattleData___c_TypeInfo->static_fields;
      }
      v106 = (Il2CppObject *)v104->__9;
      _9__560_2 = (System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__o *)sub_B2C42C(System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__TypeInfo);
      System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int____ctor(
        _9__560_2,
        v106,
        Method_BattleData___c__SetBattleDataFromSaveData_b__560_2__,
        (const MethodInfo_2704C5C *)Method_System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int___ctor__);
      v107 = BattleData___c_TypeInfo->static_fields;
      v107->__9__560_2 = _9__560_2;
      sub_B2C2F8(&v107->__9__560_2, _9__560_2);
      v102 = BattleData___c_TypeInfo;
    }
    if ( (BYTE3(v102->vtable._0_Equals.methodPtr) & 4) != 0 && !v102->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v102);
      v102 = BattleData___c_TypeInfo;
    }
    v108 = v102->static_fields;
    _9__560_3 = v108->__9__560_3;
    if ( !_9__560_3 )
    {
      if ( (BYTE3(v102->vtable._0_Equals.methodPtr) & 4) != 0 && !v102->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v102);
        v108 = BattleData___c_TypeInfo->static_fields;
      }
      v110 = (Il2CppObject *)v108->__9;
      _9__560_3 = (System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__o *)sub_B2C42C(System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__TypeInfo);
      System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int____ctor(
        _9__560_3,
        v110,
        Method_BattleData___c__SetBattleDataFromSaveData_b__560_3__,
        (const MethodInfo_2704C5C *)Method_System_Func_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int___ctor__);
      v111 = BattleData___c_TypeInfo->static_fields;
      v111->__9__560_3 = _9__560_3;
      sub_B2C2F8(&v111->__9__560_3, _9__560_3);
    }
    v90 = (struct System_Collections_Generic_Dictionary_int__int__o *)System_Linq_Enumerable__ToDictionary_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__int_(
                                                                        v103,
                                                                        (System_Func_TSource__TKey__o *)_9__560_2,
                                                                        (System_Func_TSource__TElement__o *)_9__560_3,
                                                                        (const MethodInfo_1A9B30C *)Method_System_Linq_Enumerable_ToDictionary_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int___int__int___);
  }
  v7->fields.chainCountDict = v90;
  sub_B2C2F8(&v7->fields.chainCountDict, v90);
  v112 = 0LL;
  if ( !BasicHelper__IsNullOrEmpty((System_Collections_ICollection_o *)v6->fields.overrideBgmData, 0LL) )
  {
    v112 = (OverwriteBattleBgmData_SaveData_o *)sub_B2C42C(OverwriteBattleBgmData_SaveData_TypeInfo);
    OverwriteBattleBgmData_SaveData___ctor_20238064(v112, v6, 0LL);
  }
  InstanceFromSaveData = OverwriteBattleBgmData__CreateInstanceFromSaveData(v112, 0LL);
  v7->fields._overwriteBgmData_k__BackingField = InstanceFromSaveData;
  sub_B2C2F8(&v7->fields._overwriteBgmData_k__BackingField, InstanceFromSaveData);
  defenceTargetData = v7->fields.defenceTargetData;
  v7->fields.temporarySpell = v6->fields.temporarySpell;
  if ( defenceTargetData )
    BattleDefenceTargetData__SetSaveData(defenceTargetData, v6->fields.saveDefenceTargetData, 0LL);
  this = (BattleData_o *)v7->fields.useSkillEachTurn;
  v7->fields.masterSkillUseWaveTurn = v6->fields.masterSkillUseWaveTurn;
  if ( !this )
    goto LABEL_215;
  UseSkillEachTurn__SetSaveData((UseSkillEachTurn_o *)this, v6->fields.useSkillEachTurn, 0LL);
  if ( !v7->fields.waveClearNeedTurn )
  {
    this = (BattleData_o *)v7->fields.battle_info;
    if ( !this )
      goto LABEL_215;
    LastWave = BattleInfoData__getLastWave((BattleInfoData_o *)this, 0LL);
    v116 = sub_B2C374(int___TypeInfo, (unsigned int)(LastWave + 1));
    v7->fields.waveClearNeedTurn = (struct System_Int32_array *)v116;
    sub_B2C2F8(&v7->fields.waveClearNeedTurn, v116);
    BattleData__SetUsedTurn(v7, v117);
  }
  this = (BattleData_o *)v7->fields._DrawLotsDispMsg_k__BackingField;
  if ( !this )
    goto LABEL_215;
  DrawLotsDisplayMessage__SetSaveData((DrawLotsDisplayMessage_o *)this, v6->fields.displayedMsgs, 0LL);
  this = (BattleData_o *)v7->fields.itemDroppedSkillShiftInfo;
  if ( !this )
    goto LABEL_215;
  ItemDroppedSkillShiftInfo__SetSaveData((ItemDroppedSkillShiftInfo_o *)this, v6, 0LL);
  waveKnockdownNums = v6->fields.waveKnockdownNums;
  v7->fields.waveKnockdownNums = waveKnockdownNums;
  sub_B2C2F8(&v7->fields.waveKnockdownNums, waveKnockdownNums);
  if ( !v7->fields.waveKnockdownNums )
  {
    this = (BattleData_o *)v7->fields.battle_info;
    if ( !this )
      goto LABEL_215;
    v119 = BattleInfoData__getLastWave((BattleInfoData_o *)this, 0LL);
    v120 = sub_B2C374(int___TypeInfo, (unsigned int)(v119 + 1));
    v7->fields.waveKnockdownNums = (struct System_Int32_array *)v120;
    sub_B2C2F8(&v7->fields.waveKnockdownNums, v120);
  }
  fixedCommands = v6->fields.fixedCommands;
  v7->fields.fixedCommands = fixedCommands;
  sub_B2C2F8(&v7->fields.fixedCommands, fixedCommands);
  if ( !v7->fields.fixedCommands )
  {
    v122 = sub_B2C374(BattleCommandData___TypeInfo, 0LL);
    v7->fields.fixedCommands = (struct BattleCommandData_array *)v122;
    sub_B2C2F8(&v7->fields.fixedCommands, v122);
  }
  v123 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  ContinueCount = BattleData__loadContinueCount((const MethodInfo *)v123);
  totalCriticalStars = v7->fields.totalCriticalStars;
  v7->fields.continueCount = ContinueCount;
  if ( totalCriticalStars >= 1 )
    v7->fields.criticalstars = totalCriticalStars;
  v7->fields.shuffleindex = v6->fields.shuffleIndex;
  drawcard = v6->fields.drawcard;
  v7->fields.draw_commandlist = drawcard;
  sub_B2C2F8(&v7->fields.draw_commandlist, drawcard);
  shufflecard = v6->fields.shufflecard;
  v7->fields.p_shcmlist = shufflecard;
  sub_B2C2F8(&v7->fields.p_shcmlist, shufflecard);
  voicePlayedList = v6->fields.voicePlayedList;
  v7->fields.voicePlayedInfo = voicePlayedList;
  sub_B2C2F8(&v7->fields.voicePlayedInfo, voicePlayedList);
  battle_ent = v7->fields.battle_ent;
  if ( !battle_ent )
    goto LABEL_215;
  v7->fields.endbattleFlg = (battle_ent->fields.id ^ 0xFFFFFFFFFFED5CD0LL) == v6->fields.bstate;
  v7->fields.maxEnemyUniqueID = v6->fields.maxEnemyUniqueID;
  v7->fields.maxEnemyIndex = v6->fields.maxEnemyIndex;
  v7->fields.progresslistflg = v6->fields.progresslistflg;
  v130 = *((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3);
  if ( (*(_BYTE *)(v130 + 306) & 1) == 0 )
    sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3));
  v131 = **(_QWORD **)(v130 + 192);
  if ( (*(_BYTE *)(v131 + 306) & 1) == 0 )
    sub_AC505C(v131);
  v132 = **(UnityEngine_Object_o ***)(v131 + 184);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  this = (BattleData_o *)UnityEngine_Object__op_Inequality(v132, 0LL, 0LL);
  if ( ((unsigned __int8)this & 1) != 0 )
  {
    v133 = *((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3);
    if ( (*(_BYTE *)(v133 + 306) & 1) == 0 )
      this = (BattleData_o *)sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3));
    v134 = **(_QWORD **)(v133 + 192);
    if ( (*(_BYTE *)(v134 + 306) & 1) == 0 )
      this = (BattleData_o *)sub_AC505C(v134);
    v135 = **(_QWORD **)(v134 + 184);
    if ( !v135 )
      goto LABEL_215;
    *(_DWORD *)(v135 + 40) = v6->fields.randLogicCount;
    v136 = *((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3);
    if ( (*(_BYTE *)(v136 + 306) & 1) == 0 )
      this = (BattleData_o *)sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3));
    v137 = **(_QWORD **)(v136 + 192);
    if ( (*(_BYTE *)(v137 + 306) & 1) == 0 )
      this = (BattleData_o *)sub_AC505C(v137);
    v138 = **(_QWORD **)(v137 + 184);
    if ( !v138 )
      goto LABEL_215;
    *(_DWORD *)(v138 + 44) = v6->fields.randGutsCount;
  }
  history = (System_Collections_Generic_IEnumerable_T__o *)v6->fields.history;
  v140 = (System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *)sub_B2C42C(System_Collections_Generic_List_BattleData_CommandHistory__TypeInfo);
  v141 = (struct System_Collections_Generic_List_BattleData_CommandHistory__o *)v140;
  if ( history )
    System_Collections_Generic_List_WarBoardAIRoute_RouteData____ctor(
      v140,
      history,
      (const MethodInfo_2EF3994 *)Method_System_Collections_Generic_List_BattleData_CommandHistory___ctor___67328344);
  else
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
      (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)v140,
      (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleData_CommandHistory___ctor__);
  v7->fields.comhistory = v141;
  sub_B2C2F8(&v7->fields.comhistory, v141);
  drop = (System_Collections_Generic_IEnumerable_T__o *)v6->fields.drop;
  v143 = (System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *)sub_B2C42C(System_Collections_Generic_List_BattleDropItem__TypeInfo);
  v144 = (struct System_Collections_Generic_List_BattleDropItem__o *)v143;
  if ( drop )
    System_Collections_Generic_List_WarBoardAIRoute_RouteData____ctor(
      v143,
      drop,
      (const MethodInfo_2EF3994 *)Method_System_Collections_Generic_List_BattleDropItem___ctor___67300592);
  else
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
      (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)v143,
      (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleDropItem___ctor__);
  v7->fields.droplist = v144;
  sub_B2C2F8(&v7->fields.droplist, v144);
  if ( isDuelDataMsgPack )
  {
    logHeader_MP = v6->fields.logHeader_MP;
    if ( logHeader_MP )
    {
      actionLogManager = v7->fields.actionLogManager;
      if ( !actionLogManager )
        goto LABEL_215;
      klass = actionLogManager->klass;
      if ( *(_WORD *)&actionLogManager->klass->_2.bitflags1 )
      {
        v149 = 0LL;
        p_offset = (BattleActionLogManagerInterface_c **)&klass->_1.interfaceOffsets->offset;
        while ( *(p_offset - 1) != BattleActionLogManagerInterface_TypeInfo )
        {
          ++v149;
          p_offset += 2;
          if ( v149 >= *(unsigned __int16 *)&actionLogManager->klass->_2.bitflags1 )
            goto LABEL_94;
        }
        p_method = (__int64)&klass->vtable[*(_DWORD *)p_offset + 3].method;
      }
      else
      {
LABEL_94:
        p_method = sub_AC5258(v7->fields.actionLogManager, BattleActionLogManagerInterface_TypeInfo, 3LL, v145);
      }
      this = (BattleData_o *)(*(__int64 (__fastcall **)(struct BattleActionLogManagerInterface_o *, struct System_Byte_array *, _QWORD))p_method)(
                               actionLogManager,
                               logHeader_MP,
                               *(_QWORD *)(p_method + 8));
    }
    logData_MP = v6->fields.logData_MP;
    if ( logData_MP )
    {
      v161 = v7->fields.actionLogManager;
      if ( !v161 )
        goto LABEL_215;
      v162 = v161->klass;
      if ( *(_WORD *)&v161->klass->_2.bitflags1 )
      {
        v163 = 0LL;
        v164 = (BattleActionLogManagerInterface_c **)&v162->_1.interfaceOffsets->offset;
        while ( *(v164 - 1) != BattleActionLogManagerInterface_TypeInfo )
        {
          ++v163;
          v164 += 2;
          if ( v163 >= *(unsigned __int16 *)&v161->klass->_2.bitflags1 )
            goto LABEL_113;
        }
        v165 = (__int64)&v162->vtable[*(_DWORD *)v164 + 4].method;
      }
      else
      {
LABEL_113:
        v165 = sub_AC5258(v7->fields.actionLogManager, BattleActionLogManagerInterface_TypeInfo, 4LL, v145);
      }
      (*(void (__fastcall **)(struct BattleActionLogManagerInterface_o *, struct System_Byte_array *, _QWORD))v165)(
        v161,
        logData_MP,
        *(_QWORD *)(v165 + 8));
    }
  }
  else
  {
    logHeader = v6->fields.logHeader;
    if ( logHeader )
    {
      v153 = v7->fields.actionLogManager;
      if ( (BYTE3(System_Convert_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !System_Convert_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(System_Convert_TypeInfo);
      }
      this = (BattleData_o *)System_Convert__FromBase64String(logHeader, 0LL);
      if ( !v153 )
        goto LABEL_215;
      v155 = v153->klass;
      v156 = this;
      if ( *(_WORD *)&v153->klass->_2.bitflags1 )
      {
        v157 = 0LL;
        v158 = (BattleActionLogManagerInterface_c **)&v155->_1.interfaceOffsets->offset;
        while ( *(v158 - 1) != BattleActionLogManagerInterface_TypeInfo )
        {
          ++v157;
          v158 += 2;
          if ( v157 >= *(unsigned __int16 *)&v153->klass->_2.bitflags1 )
            goto LABEL_104;
        }
        v159 = (__int64)&v155->vtable[*(_DWORD *)v158 + 3].method;
      }
      else
      {
LABEL_104:
        v159 = sub_AC5258(v153, BattleActionLogManagerInterface_TypeInfo, 3LL, v154);
      }
      (*(void (__fastcall **)(struct BattleActionLogManagerInterface_o *, BattleData_o *, _QWORD))v159)(
        v153,
        v156,
        *(_QWORD *)(v159 + 8));
    }
    logData = v6->fields.logData;
    if ( logData )
    {
      v167 = v7->fields.actionLogManager;
      if ( (BYTE3(System_Convert_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !System_Convert_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(System_Convert_TypeInfo);
      }
      this = (BattleData_o *)System_Convert__FromBase64String(logData, 0LL);
      if ( !v167 )
        goto LABEL_215;
      v169 = v167->klass;
      v170 = this;
      if ( *(_WORD *)&v167->klass->_2.bitflags1 )
      {
        v171 = 0LL;
        v172 = (BattleActionLogManagerInterface_c **)&v169->_1.interfaceOffsets->offset;
        while ( *(v172 - 1) != BattleActionLogManagerInterface_TypeInfo )
        {
          ++v171;
          v172 += 2;
          if ( v171 >= *(unsigned __int16 *)&v167->klass->_2.bitflags1 )
            goto LABEL_125;
        }
        v173 = (__int64)&v169->vtable[*(_DWORD *)v172 + 4].method;
      }
      else
      {
LABEL_125:
        v173 = sub_AC5258(v167, BattleActionLogManagerInterface_TypeInfo, 4LL, v168);
      }
      (*(void (__fastcall **)(struct BattleActionLogManagerInterface_o *, BattleData_o *, _QWORD))v173)(
        v167,
        v170,
        *(_QWORD *)(v173 + 8));
    }
  }
  questRouteIds = (System_Collections_Generic_IEnumerable_T__o *)v6->fields.questRouteIds;
  v175 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  v176 = v175;
  if ( questRouteIds )
    System_Collections_Generic_List_int____ctor_49702036(
      v175,
      questRouteIds,
      (const MethodInfo_2F66494 *)Method_System_Collections_Generic_List_int___ctor___67311384);
  else
    System_Collections_Generic_List_int____ctor(
      v175,
      (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  v7->fields.listQuestRouteId = v176;
  sub_B2C2F8(&v7->fields.listQuestRouteId, v176);
  this = (BattleData_o *)v7->fields.battle_info;
  v7->fields.playerNpCount = v6->fields.playerNpCount;
  v7->fields.playerSkillCount = v6->fields.playerSkillCount;
  v7->fields.playerMasterSkillCount = v6->fields.playerMasterSkillCount;
  v7->fields.enemyMasterChangedFaceId = v6->fields.enemyMasterChangedFaceId;
  if ( !this )
    goto LABEL_215;
  this = (BattleData_o *)BattleInfoData__IsWaveMyDecks((BattleInfoData_o *)this, 0LL);
  battle_info = v7->fields.battle_info;
  v249 = isWaveRestart;
  if ( ((unsigned __int8)this & 1) != 0 )
  {
    if ( !battle_info )
      goto LABEL_215;
    WaveMyDeck = BattleInfoData__GetWaveMyDeck(battle_info, v7->fields.wavecount, 0LL);
  }
  else
  {
    if ( !battle_info )
      goto LABEL_215;
    WaveMyDeck = battle_info->fields.myDeck;
  }
  v179 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v179,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  v7->fields.player_datalist = (struct System_Collections_Generic_List_BattleServantData__o *)v179;
  sub_B2C2F8(&v7->fields.player_datalist, v179);
  v180 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v180,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  if ( !WaveMyDeck )
    goto LABEL_215;
  svts = WaveMyDeck->fields.svts;
  if ( !svts )
    goto LABEL_215;
  max_length = svts->max_length;
  if ( max_length >= 1 )
  {
    for ( i = 0; i < max_length; ++i )
    {
      if ( i >= (unsigned int)max_length )
        goto LABEL_229;
      v185 = svts->m_Items[i];
      v186 = (BattleData___c__DisplayClass560_0_o *)sub_B2C42C(BattleData___c__DisplayClass560_0_TypeInfo);
      BattleData___c__DisplayClass560_0___ctor(v186, 0LL);
      if ( !v185 || !v186 )
        goto LABEL_215;
      v186->fields.index = v185->fields.id - 1;
      v187 = (_DWORD)v186 + 16;
      v188 = (BattleServantData_o *)sub_B2C42C(BattleServantData_TypeInfo);
      BattleServantData___ctor(v188, 0LL);
      if ( isDuelDataMsgPack )
      {
        p_svlist_MP = (WellFired_USFGOPlayStandardCutInLimitCount_OverwriteCutIn_array *)v6->fields.p_svlist_MP;
        v190 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_BattleServantData_SaveData__TypeInfo);
        System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
          v190,
          (Il2CppObject *)v186,
          Method_BattleData___c__DisplayClass560_0__SetBattleDataFromSaveData_b__4__,
          (const MethodInfo_2952BE4 *)Method_System_Predicate_BattleServantData_SaveData___ctor__);
        this = (BattleData_o *)System_Array__Find_USFGOPlayStandardCutInLimitCount_OverwriteCutIn_(
                                 p_svlist_MP,
                                 (System_Predicate_T__o *)v190,
                                 (const MethodInfo_1FFC1B4 *)Method_System_Array_Find_BattleServantData_SaveData___);
      }
      else
      {
        p_svlist = (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)v6->fields.p_svlist;
        this = (BattleData_o *)System_Int32__ToString(v187, 0LL);
        if ( !p_svlist )
          goto LABEL_215;
        if ( System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___ContainsKey(
               p_svlist,
               (System_Xml_XmlQualifiedName_o *)this,
               (const MethodInfo_2DB1F34 *)Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__) )
        {
          v192 = (System_Collections_Generic_Dictionary_Type__IStoreExtension__o *)v6->fields.p_svlist;
          this = (BattleData_o *)System_Int32__ToString(v187, 0LL);
          if ( !v192 )
            goto LABEL_215;
          this = (BattleData_o *)System_Collections_Generic_Dictionary_Type__IStoreExtension___get_Item(
                                   v192,
                                   (System_Type_o *)this,
                                   (const MethodInfo_2DB1BFC *)Method_System_Collections_Generic_Dictionary_string__object__get_Item__);
          v193 = (System_String_o *)this;
          if ( this )
          {
            savedata = (BattleData_SaveData_o *)string_TypeInfo;
            if ( (System_String_c *)this->klass != string_TypeInfo )
            {
              v247 = (BattleData_o *)sub_B2C728(this);
              BattleData__SetSavedCommandCardBuffData(v247, v248);
              return;
            }
          }
        }
        else
        {
          v194 = System_Int32__ToString(v187, 0LL);
          v195 = System_String__Concat_44305532((System_String_o *)StringLiteral_21394/*"p_svlist"*/, v194, 0LL);
          if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
          }
          this = (BattleData_o *)EncryptedPlayerPrefs__GetString(v195, 0LL);
          v193 = (System_String_o *)this;
        }
        if ( !v188 )
          goto LABEL_215;
        this = (BattleData_o *)BattleServantData__GetSaveDataFromJson(v188, v193, 0LL);
      }
      v196 = v7->fields.battle_ent;
      v197 = this;
      if ( !v196 )
        goto LABEL_215;
      this = (BattleData_o *)BattleDeckServantData__GetFollowerType(v185, v196->fields.followerType, 0LL);
      if ( !v188 )
        goto LABEL_215;
      BattleServantData__setServantData_21251972(
        v188,
        v185,
        v196,
        (int32_t)this,
        (BattleServantData_SaveData_o *)v197,
        v7,
        0LL,
        0LL);
      this = (BattleData_o *)v7->fields.player_datalist;
      if ( !this )
        goto LABEL_215;
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
        (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this,
        (EventMissionProgressRequest_Argument_ProgressData_o *)v188,
        (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
      max_length = svts->max_length;
    }
  }
  BattleData__LoadAiNpcServant(v7, v6->fields.aiNpcSvts, v181);
  v198 = (PlayerFieldStatus_o *)sub_B2C42C(PlayerFieldStatus_TypeInfo);
  PlayerFieldStatus___ctor(v198, 0LL);
  v7->fields.playerFieldStatus = v198;
  sub_B2C2F8(&v7->fields.playerFieldStatus, v198);
  v199 = (EnemyFieldStatus_o *)sub_B2C42C(EnemyFieldStatus_TypeInfo);
  EnemyFieldStatus___ctor(v199, 0LL);
  v7->fields.enemyFieldStatus = v199;
  sub_B2C2F8(&v7->fields.enemyFieldStatus, v199);
  if ( isDuelDataMsgPack )
  {
    v200 = (System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare__o *)sub_B2C42C(System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__TypeInfo);
    System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare____ctor(
      v200,
      (const MethodInfo_2E63B98 *)Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData___ctor__);
    p_tmpEnemyData_MP = (BattleData_o **)&v7->fields.tmpEnemyData_MP;
    v7->fields.tmpEnemyData_MP = (struct System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__o *)v200;
    sub_B2C2F8(&v7->fields.tmpEnemyData_MP, v200);
    e_svlist_MP = v6->fields.e_svlist_MP;
    if ( !e_svlist_MP )
      goto LABEL_215;
    v203 = e_svlist_MP->max_length;
    if ( v203 >= 1 )
    {
      v204 = 0;
      while ( v204 < v203 )
      {
        v205 = e_svlist_MP->m_Items[v204];
        if ( !v205 )
          goto LABEL_215;
        this = *p_tmpEnemyData_MP;
        if ( !*p_tmpEnemyData_MP )
          goto LABEL_215;
        System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare___Add(
          (System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare__o *)this,
          v205->fields.index,
          (WarBoardEvalValueSquare_EvalValueSquare_o *)v205,
          (const MethodInfo_2E6474C *)Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__Add__);
        v203 = e_svlist_MP->max_length;
        if ( (int)++v204 >= v203 )
          goto LABEL_174;
      }
LABEL_229:
      v246 = sub_B2C460(this);
      sub_B2C400(v246, 0LL);
    }
  }
  else
  {
    e_svlist = v6->fields.e_svlist;
    v7->fields.tmpEnemyData = e_svlist;
    sub_B2C2F8(&v7->fields.tmpEnemyData, e_svlist);
  }
LABEL_174:
  savefield_datalist = v6->fields.savefield_datalist;
  v7->fields.tmpFieldDataSave = savefield_datalist;
  sub_B2C2F8(&v7->fields.tmpFieldDataSave, savefield_datalist);
  v7->fields.tmpEnemySpellCntSave = v6->fields.enemyMasterSpellUseCnt;
  v7->fields.tmpMaxTurnDamage = v6->fields.maxTurnDamage;
  firstNpPlayUserSvtIdList = v6->fields.firstNpPlayUserSvtIdList;
  if ( firstNpPlayUserSvtIdList )
  {
    v209 = 0LL;
    while ( (__int64)v209 < (int)firstNpPlayUserSvtIdList->max_length )
    {
      v210 = (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)sub_B2C42C(System_Collections_Generic_Dictionary_string__object__TypeInfo);
      System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject____ctor(
        v210,
        (const MethodInfo_2DB1110 *)Method_System_Collections_Generic_Dictionary_string__object___ctor__);
      v211 = v6->fields.firstNpPlayUserSvtIdList;
      if ( !v211 )
        goto LABEL_215;
      if ( v209 >= v211->max_length )
        goto LABEL_229;
      if ( v210 )
      {
        System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___Add(
          v210,
          (System_Xml_XmlQualifiedName_o *)StringLiteral_23066/*"userSvtId"*/,
          (System_Xml_Schema_XmlSchemaObject_o *)v211->m_Items[v209],
          (const MethodInfo_2DB1CC0 *)Method_System_Collections_Generic_Dictionary_string__object__Add__);
        firstNpPlaySeqIdList = v6->fields.firstNpPlaySeqIdList;
        if ( firstNpPlaySeqIdList )
        {
          if ( v209 >= firstNpPlaySeqIdList->max_length )
            goto LABEL_229;
          v252 = firstNpPlaySeqIdList->m_Items[v209 + 1];
          v213 = (System_Xml_Schema_XmlSchemaObject_o *)j_il2cpp_value_box_0(int_TypeInfo, &v252);
          System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___Add(
            v210,
            (System_Xml_XmlQualifiedName_o *)StringLiteral_21968/*"seqId"*/,
            v213,
            (const MethodInfo_2DB1CC0 *)Method_System_Collections_Generic_Dictionary_string__object__Add__);
          v251 = BasicHelper__IndexValue_int_(
                   v6->fields.firstNpPlaySvtIdList,
                   v209,
                   0,
                   (const MethodInfo_172891C *)Method_BasicHelper_IndexValue_int____67381984);
          v214 = (System_Xml_Schema_XmlSchemaObject_o *)j_il2cpp_value_box_0(int_TypeInfo, &v251);
          System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___Add(
            v210,
            (System_Xml_XmlQualifiedName_o *)StringLiteral_22468/*"svtId"*/,
            v214,
            (const MethodInfo_2DB1CC0 *)Method_System_Collections_Generic_Dictionary_string__object__Add__);
          this = (BattleData_o *)v7->fields.tmpFirstNpPlayList;
          if ( this )
          {
            System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
              (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this,
              (EventMissionProgressRequest_Argument_ProgressData_o *)v210,
              (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_Dictionary_string__object___Add__);
            firstNpPlayUserSvtIdList = v6->fields.firstNpPlayUserSvtIdList;
            ++v209;
            if ( firstNpPlayUserSvtIdList )
              continue;
          }
        }
      }
      goto LABEL_215;
    }
  }
  playerServantNoblePhantasmUsageDataSaveData = v6->fields.playerServantNoblePhantasmUsageDataSaveData;
  if ( !playerServantNoblePhantasmUsageDataSaveData )
  {
    playerServantNoblePhantasmUsageDataSaveData = (PlayerServantNoblePhantasmUsageData_SaveData_o *)sub_B2C42C(PlayerServantNoblePhantasmUsageData_SaveData_TypeInfo);
    PlayerServantNoblePhantasmUsageData_SaveData___ctor(playerServantNoblePhantasmUsageDataSaveData, 0LL);
  }
  v7->fields.tempBattleServantNoblePhantasmUsageDataSaveData = playerServantNoblePhantasmUsageDataSaveData;
  sub_B2C2F8(&v7->fields.tempBattleServantNoblePhantasmUsageDataSaveData, playerServantNoblePhantasmUsageDataSaveData);
  enemyAppearValids = v6->fields.enemyAppearValids;
  v7->fields.tmpEnemyAppearValids = enemyAppearValids;
  sub_B2C2F8(&v7->fields.tmpEnemyAppearValids, enemyAppearValids);
  this = (BattleData_o *)BattleData_SaveData__GetEnemyEntryMaxCountEachTurn(v6, 0LL);
  perf = v7->fields.perf;
  v7->fields.tmpEnemyEntryMaxCountEachTurn = (struct System_Nullable_int__o)this;
  if ( !perf )
    goto LABEL_215;
  this = (BattleData_o *)perf->fields.bgPerf;
  if ( !this )
    goto LABEL_215;
  BattlePerformanceBg__setSaveData((BattlePerformanceBg_o *)this, v6->fields.savebgData, 0LL);
  if ( !v249 )
  {
    BattleData__loadMasterSkill(v7, (const MethodInfo *)savedata);
    if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
    }
    ServantAssetLoadManager__preloadCommandSpellAnyVoice(0LL);
    BattleData__loadBoostSkill(v7, v218);
  }
  masterSkillInfo = v7->fields.masterSkillInfo;
  if ( !masterSkillInfo )
LABEL_215:
    sub_B2C434(this, savedata);
  size = masterSkillInfo->fields._size;
  if ( size >= 1 )
  {
    v221 = 0;
    while ( 1 )
    {
      if ( masterSkillInfo->fields._size <= v221 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v222 = masterSkillInfo->fields._items->m_Items[v221];
      if ( !v222 )
        goto LABEL_215;
      if ( !v222->fields.isPassive )
      {
        master_infoId = v6->fields.master_infoId;
        if ( !master_infoId )
          goto LABEL_215;
        v224 = 8LL;
        while ( 1 )
        {
          v225 = master_infoId->max_length;
          v226 = v224 - 8;
          if ( v224 - 8 >= (int)v225 )
            break;
          if ( v226 >= v225 )
            goto LABEL_229;
          v227 = *((_DWORD *)&master_infoId->obj.klass + v224);
          this = (BattleData_o *)BattleSkillInfoData__getInfoId(v222, 0LL);
          if ( v227 == (_DWORD)this )
          {
            master_skillTurn = v6->fields.master_skillTurn;
            if ( !master_skillTurn )
              goto LABEL_215;
            if ( v226 >= master_skillTurn->max_length )
              goto LABEL_229;
            v222->fields.chargeTurn = *((_DWORD *)&master_skillTurn->obj.klass + v224);
            master_sealedTurn = v6->fields.master_sealedTurn;
            if ( master_sealedTurn )
            {
              if ( v226 >= master_sealedTurn->max_length )
                goto LABEL_229;
              v222->fields.sealedTurn = *((_DWORD *)&master_sealedTurn->obj.klass + v224);
            }
          }
          master_infoId = v6->fields.master_infoId;
          ++v224;
          if ( !master_infoId )
            goto LABEL_215;
        }
      }
      if ( (int)++v221 >= size )
        break;
      masterSkillInfo = v7->fields.masterSkillInfo;
      if ( !masterSkillInfo )
        goto LABEL_215;
    }
  }
  usedEventMasterSkillDict = (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)v6->fields.usedEventMasterSkillDict;
  if ( usedEventMasterSkillDict )
  {
    Count = (BattleData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___get_Count(
                              usedEventMasterSkillDict,
                              (const MethodInfo_2DB18BC *)Method_System_Collections_Generic_Dictionary_string__object__get_Count__);
    if ( (_DWORD)Count )
    {
      v233 = BattleData__convertUsedEventMasterSkillDictFormatGamePlaying(
               Count,
               v6->fields.usedEventMasterSkillDict,
               v232);
      v7->fields.usedEventMasterSkillDict = v233;
      sub_B2C2F8(&v7->fields.usedEventMasterSkillDict, v233);
    }
  }
  voicePlayedOver64Info = (System_Collections_Generic_IEnumerable_T__o *)v6->fields.voicePlayedOver64Info;
  if ( voicePlayedOver64Info && voicePlayedOver64Info[1].monitor )
  {
    v235 = (System_Collections_Generic_HashSet_BattleBuffData_BuffData__o *)sub_B2C42C(System_Collections_Generic_HashSet_string__TypeInfo);
    System_Collections_Generic_HashSet_BattleBuffData_BuffData____ctor(
      v235,
      voicePlayedOver64Info,
      (const MethodInfo_2D8BB2C *)Method_System_Collections_Generic_HashSet_string___ctor___67288472);
    p_voicePlayedOver64Info = &v7->fields.voicePlayedOver64Info;
    v7->fields.voicePlayedOver64Info = (struct System_Collections_Generic_HashSet_string__o *)v235;
    v237 = v235;
  }
  else
  {
    v238 = (System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData__o *)sub_B2C42C(System_Collections_Generic_HashSet_string__TypeInfo);
    System_Collections_Generic_HashSet_WarBoardAIRoute_RouteData____ctor(
      v238,
      (const MethodInfo_2D8BA5C *)Method_System_Collections_Generic_HashSet_string___ctor__);
    p_voicePlayedOver64Info = &v7->fields.voicePlayedOver64Info;
    v237 = v238;
    v7->fields.voicePlayedOver64Info = (struct System_Collections_Generic_HashSet_string__o *)v238;
  }
  sub_B2C2F8(p_voicePlayedOver64Info, v237);
  calledEnemyUniqueIds = (System_Collections_Generic_IEnumerable_T__o *)v6->fields.calledEnemyUniqueIds;
  if ( calledEnemyUniqueIds && calledEnemyUniqueIds[1].monitor )
  {
    v240 = (System_Collections_Generic_HashSet_int__o *)sub_B2C42C(System_Collections_Generic_HashSet_int__TypeInfo);
    System_Collections_Generic_HashSet_int____ctor_47731024(
      v240,
      calledEnemyUniqueIds,
      (const MethodInfo_2D85150 *)Method_System_Collections_Generic_HashSet_int___ctor___67287832);
    p_calledEnemyUniqueIdHash = &v7->fields.calledEnemyUniqueIdHash;
    v7->fields.calledEnemyUniqueIdHash = v240;
    v242 = v240;
  }
  else
  {
    v243 = (System_Collections_Generic_HashSet_int__o *)sub_B2C42C(System_Collections_Generic_HashSet_int__TypeInfo);
    System_Collections_Generic_HashSet_int____ctor(
      v243,
      (const MethodInfo_2D85080 *)Method_System_Collections_Generic_HashSet_int___ctor___67287824);
    p_calledEnemyUniqueIdHash = &v7->fields.calledEnemyUniqueIdHash;
    v242 = v243;
    v7->fields.calledEnemyUniqueIdHash = v243;
  }
  sub_B2C2F8(p_calledEnemyUniqueIdHash, v242);
  BattleData__SetSavedCommandCardBuffData(v7, v244);
  BattleData__createCommandCard(v7, v245);
  this = (BattleData_o *)v7->fields._FieldEnvData_k__BackingField;
  if ( !this )
    goto LABEL_215;
  BattleFieldEnvironmentData__SetSaveData((BattleFieldEnvironmentData_o *)this, v6->fields.fieldEnvData, 0LL);
}


void __fastcall BattleData__SetBattleEntity(BattleData_o *this, BattleEntity_o *battleEntity, const MethodInfo *method)
{
  this->fields.battle_ent = battleEntity;
  sub_B2C2F8(&this->fields.battle_ent, battleEntity);
}


void __fastcall BattleData__SetBoostInfo(BattleData_o *this, SkillMaster_o *skillMaster, const MethodInfo *method)
{
  DataMasterBase_WarMaster__WarEntity__int__o *MasterData_WarQuestSelectionMaster; // x20
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x20
  __int64 v10; // x20
  DataManager_o *battle_info; // x0
  System_Int32_array *BoostSkillArray; // x0
  __int64 v13; // x8
  System_Int32_array *v14; // x21
  unsigned __int64 v15; // x24
  unsigned int v16; // w23
  __int64 v17; // x22
  __int64 v18; // x8
  SkillEntity_o *Entity; // x0
  __int64 v20; // x0

  MasterData_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)skillMaster;
  if ( (byte_418430D & 1) == 0 )
  {
    sub_B2C35C(&BattleSkillInfoData_TypeInfo, skillMaster);
    sub_B2C35C(&Method_DataManager_GetMasterData_SkillMaster___, v5);
    sub_B2C35C(&Method_DataMasterBase_SkillMaster__SkillEntity__int__GetEntity__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__Add__, v7);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__getInstance__, v8);
    byte_418430D = 1;
  }
  if ( !MasterData_WarQuestSelectionMaster )
  {
    v9 = *((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3);
    if ( (*(_BYTE *)(v9 + 306) & 1) == 0 )
      sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3));
    v10 = **(_QWORD **)(v9 + 192);
    if ( (*(_BYTE *)(v10 + 306) & 1) == 0 )
      sub_AC505C(v10);
    battle_info = **(DataManager_o ***)(v10 + 184);
    if ( !battle_info )
      goto LABEL_23;
    MasterData_WarQuestSelectionMaster = (DataMasterBase_WarMaster__WarEntity__int__o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                                                                          battle_info,
                                                                                          (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_SkillMaster___);
  }
  battle_info = (DataManager_o *)this->fields.battle_info;
  if ( !battle_info )
    goto LABEL_23;
  BoostSkillArray = BattleInfoData__getBoostSkillArray((BattleInfoData_o *)battle_info, 0LL);
  if ( BoostSkillArray )
  {
    v13 = *(_QWORD *)&BoostSkillArray->max_length;
    v14 = BoostSkillArray;
    if ( v13 )
    {
      if ( (int)v13 >= 1 )
      {
        v15 = 0LL;
        while ( 1 )
        {
          if ( v15 >= (unsigned int)v13 )
          {
            v20 = sub_B2C460(BoostSkillArray);
            sub_B2C400(v20, 0LL);
          }
          v16 = v14->m_Items[v15 + 1];
          v17 = sub_B2C42C(BattleSkillInfoData_TypeInfo);
          BattleSkillInfoData___ctor((BattleSkillInfoData_o *)v17, 0LL);
          if ( !v17 )
            break;
          v18 = *(_QWORD *)v17;
          *(_BYTE *)(v17 + 52) = 0;
          *(_DWORD *)(v17 + 20) = v15;
          *(_DWORD *)(v17 + 24) = -1;
          *(_DWORD *)(v17 + 16) = 21;
          battle_info = (DataManager_o *)(*(__int64 (__fastcall **)(__int64, _QWORD, _QWORD))(v18 + 376))(
                                           v17,
                                           v16,
                                           *(_QWORD *)(v18 + 384));
          *(_DWORD *)(v17 + 48) = 0;
          *(_QWORD *)(v17 + 36) = 1LL;
          *(_DWORD *)(v17 + 64) = -1;
          if ( !MasterData_WarQuestSelectionMaster )
            break;
          Entity = (SkillEntity_o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                                      MasterData_WarQuestSelectionMaster,
                                      v16,
                                      (const MethodInfo_24E40D0 *)Method_DataMasterBase_SkillMaster__SkillEntity__int__GetEntity__);
          if ( Entity )
          {
            *(_BYTE *)(v17 + 52) = 1;
            *(_BYTE *)(v17 + 28) = SkillEntity__isPassive(Entity, 0LL);
          }
          battle_info = (DataManager_o *)this->fields.boostInfoList;
          if ( !battle_info )
            break;
          System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
            (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)battle_info,
            (EventMissionProgressRequest_Argument_ProgressData_o *)v17,
            (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleSkillInfoData__Add__);
          LODWORD(v13) = v14->max_length;
          if ( (__int64)++v15 >= (int)v13 )
            return;
        }
LABEL_23:
        sub_B2C434(battle_info, skillMaster);
      }
    }
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__SetEnemyCountStartValue(BattleData_o *this, int32_t waveCount, const MethodInfo *method)
{
  BattleEntity_o *battle_ent; // x0
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x8

  if ( (byte_418437C & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, *(_QWORD *)&waveCount);
    byte_418437C = 1;
  }
  battle_ent = this->fields.battle_ent;
  if ( !battle_ent
    || (battle_ent = (BattleEntity_o *)BattleEntity__GetStageEntityAtWave(battle_ent, waveCount, 0LL)) == 0LL
    || (battle_ent = (BattleEntity_o *)StageEntity__GetEnemyCountStartValue((StageEntity_o *)battle_ent, 0LL),
        (enemy_datalist = this->fields.enemy_datalist) == 0LL) )
  {
    sub_B2C434(battle_ent, *(_QWORD *)&waveCount);
  }
  this->fields._EnemyCountStartValue_k__BackingField = ((_DWORD)battle_ent - enemy_datalist->fields._size) & ~(((int)battle_ent - enemy_datalist->fields._size) >> 31);
}


bool __fastcall BattleData__SetEntry(
        BattleData_o *this,
        BattleServantData_o *servantData,
        int32_t deckIndex,
        const MethodInfo *method)
{
  _BOOL8 IsEntry; // x0
  __int64 v8; // x1
  bool result; // w0
  __int64 v10; // x8
  __int64 v11; // x8
  __int64 v12; // x0

  if ( !servantData )
    return 0;
  if ( servantData->fields.isEntry )
    return 0;
  IsEntry = BattleData__IsEntry(this, deckIndex, servantData->fields.isEnemy, method);
  if ( IsEntry )
    return 0;
  v10 = 288LL;
  if ( servantData->fields.isEnemy )
    v10 = 296LL;
  v11 = *(__int64 *)((char *)&this->klass + v10);
  if ( !v11 )
    sub_B2C434(IsEntry, v8);
  if ( *(_DWORD *)(v11 + 24) <= (unsigned int)deckIndex )
  {
    v12 = sub_B2C460(IsEntry);
    sub_B2C400(v12, 0LL);
  }
  result = 1;
  *(_DWORD *)(v11 + 4LL * deckIndex + 32) = servantData->fields.uniqueId;
  servantData->fields.isEntry = 1;
  servantData->fields.deckIndex = deckIndex;
  return result;
}


void __fastcall BattleData__SetFixCommandData(
        BattleData_o *this,
        BattleCommandData_array *commands,
        const MethodInfo *method)
{
  this->fields.fixedCommands = commands;
  sub_B2C2F8(&this->fields.fixedCommands, commands);
}


void __fastcall BattleData__SetLastUsedPlayerSkillInfo(
        BattleData_o *this,
        BattleSkillInfoData_o *skillInfo,
        const MethodInfo *method)
{
  BattleSkillInfoData_o *v5; // x22
  struct BattleSkillInfoData_o **p_lastUsedPlayerSkillInfo_k__BackingField; // x20
  BattleSkillInfoData_o *v7; // x0
  __int64 v8; // x1
  long double v9; // q0
  struct BattleSkillInfoData_o *lastUsedPlayerSkillInfo_k__BackingField; // x21

  if ( (byte_41843B3 & 1) == 0 )
  {
    sub_B2C35C(&BattleSkillInfoData_TypeInfo, skillInfo);
    byte_41843B3 = 1;
  }
  v5 = (BattleSkillInfoData_o *)sub_B2C42C(BattleSkillInfoData_TypeInfo);
  BattleSkillInfoData___ctor(v5, 0LL);
  p_lastUsedPlayerSkillInfo_k__BackingField = &this->fields._lastUsedPlayerSkillInfo_k__BackingField;
  this->fields._lastUsedPlayerSkillInfo_k__BackingField = v5;
  *(__n128 *)&v9 = sub_B2C2F8(&this->fields._lastUsedPlayerSkillInfo_k__BackingField, v5);
  if ( !skillInfo
    || (lastUsedPlayerSkillInfo_k__BackingField = this->fields._lastUsedPlayerSkillInfo_k__BackingField,
        v7 = (BattleSkillInfoData_o *)((__int64 (__fastcall *)(BattleSkillInfoData_o *, Il2CppMethodPointer, long double))skillInfo->klass->vtable._5_get_skillId.method)(
                                        skillInfo,
                                        skillInfo->klass->vtable._6_get_IndividualityArray.methodPtr,
                                        v9),
        !lastUsedPlayerSkillInfo_k__BackingField)
    || (v7 = (BattleSkillInfoData_o *)((__int64 (__fastcall *)(struct BattleSkillInfoData_o *, _QWORD, Il2CppMethodPointer))lastUsedPlayerSkillInfo_k__BackingField->klass->vtable._4_set_skillId.method)(
                                        lastUsedPlayerSkillInfo_k__BackingField,
                                        (unsigned int)v7,
                                        lastUsedPlayerSkillInfo_k__BackingField->klass->vtable._5_get_skillId.methodPtr),
        !*p_lastUsedPlayerSkillInfo_k__BackingField)
    || ((*p_lastUsedPlayerSkillInfo_k__BackingField)->fields.skilllv = skillInfo->fields.skilllv,
        (v7 = *p_lastUsedPlayerSkillInfo_k__BackingField) == 0LL) )
  {
    sub_B2C434(v7, v8);
  }
  BattleSkillInfoData__UpdateSelectAddIndex(v7, skillInfo->fields._SelectAddIndex_k__BackingField, 0LL);
}


void __fastcall BattleData__SetOriginalCallEnemyUniqueId(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  System_Collections_Generic_Dictionary_int__int__o *v6; // x21
  struct System_Collections_Generic_Dictionary_int__int__o **p_originalCallEnemyUniqueIdDict; // x19
  System_Collections_Generic_Dictionary_int__int__o *v8; // x0
  __int64 v9; // x1
  struct BattleInfoData_o *battle_info; // x8
  struct DeckData_array *callDeck; // x20
  __int64 v12; // x8
  unsigned __int64 i; // x21
  DeckData_o *v14; // x9
  struct BattleDeckServantData_array *svts; // x24
  __int64 v16; // x8
  unsigned __int64 v17; // x25
  BattleDeckServantData_o *v18; // x27
  __int64 v19; // x0

  if ( (byte_41843AD & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__Add__, method);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int___ctor__, v4);
    sub_B2C35C(&System_Collections_Generic_Dictionary_int__int__TypeInfo, v5);
    byte_41843AD = 1;
  }
  v6 = (System_Collections_Generic_Dictionary_int__int__o *)sub_B2C42C(System_Collections_Generic_Dictionary_int__int__TypeInfo);
  System_Collections_Generic_Dictionary_int__int____ctor(
    v6,
    (const MethodInfo_2E2399C *)Method_System_Collections_Generic_Dictionary_int__int___ctor__);
  p_originalCallEnemyUniqueIdDict = &this->fields.originalCallEnemyUniqueIdDict;
  this->fields.originalCallEnemyUniqueIdDict = v6;
  sub_B2C2F8(&this->fields.originalCallEnemyUniqueIdDict, v6);
  battle_info = this->fields.battle_info;
  if ( battle_info )
  {
    callDeck = battle_info->fields.callDeck;
    if ( callDeck )
    {
      v12 = *(_QWORD *)&callDeck->max_length;
      if ( (int)v12 >= 1 )
      {
        for ( i = 0LL; (__int64)i < (int)v12; ++i )
        {
          if ( i >= (unsigned int)v12 )
            goto LABEL_22;
          v14 = callDeck->m_Items[i];
          if ( v14 )
          {
            svts = v14->fields.svts;
            if ( !svts )
LABEL_23:
              sub_B2C434(v8, v9);
            v16 = *(_QWORD *)&svts->max_length;
            if ( (int)v16 >= 1 )
            {
              v17 = 0LL;
              while ( v17 < (unsigned int)v16 )
              {
                v18 = svts->m_Items[v17];
                if ( v18 )
                {
                  v8 = *p_originalCallEnemyUniqueIdDict;
                  if ( !*p_originalCallEnemyUniqueIdDict )
                    goto LABEL_23;
                  v8 = (System_Collections_Generic_Dictionary_int__int__o *)System_Collections_Generic_Dictionary_int__int___ContainsKey(
                                                                              v8,
                                                                              v18->fields.npcId,
                                                                              (const MethodInfo_2E247A4 *)Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__);
                  if ( ((unsigned __int8)v8 & 1) == 0 )
                  {
                    v8 = *p_originalCallEnemyUniqueIdDict;
                    if ( !*p_originalCallEnemyUniqueIdDict )
                      goto LABEL_23;
                    System_Collections_Generic_Dictionary_int__int___Add(
                      v8,
                      v18->fields.npcId,
                      v18->fields.uniqueId,
                      (const MethodInfo_2E24540 *)Method_System_Collections_Generic_Dictionary_int__int__Add__);
                  }
                }
                LODWORD(v16) = svts->max_length;
                if ( (__int64)++v17 >= (int)v16 )
                  goto LABEL_19;
              }
LABEL_22:
              v19 = sub_B2C460(v8);
              sub_B2C400(v19, 0LL);
            }
LABEL_19:
            LODWORD(v12) = callDeck->max_length;
          }
        }
      }
    }
  }
}


void __fastcall BattleData__SetOverrideBgmData(
        BattleData_o *this,
        BattleFieldEnvironmentData_BGMData_o *bgmData,
        const MethodInfo *method)
{
  struct OverwriteBattleBgmData_o *BgmData_k__BackingField; // x1
  __int64 v5; // x1
  BattleLogic_o *logic; // x0

  if ( bgmData )
  {
    BgmData_k__BackingField = bgmData->fields._BgmData_k__BackingField;
    this->fields._overwriteBgmData_k__BackingField = BgmData_k__BackingField;
    sub_B2C2F8(&this->fields._overwriteBgmData_k__BackingField, BgmData_k__BackingField);
    logic = this->fields.logic;
    if ( !logic )
      sub_B2C434(0LL, v5);
    BattleLogic__loadBgmName(logic, 0LL, 0LL);
  }
}


void __fastcall BattleData__SetProcesssFlgOnBattleResume(BattleData_o *this, const MethodInfo *method)
{
  this->fields.progresslistflg |= 0x800u;
}


BattleData_SaveData_o *__fastcall BattleData__SetSaveData(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  __int64 v31; // x1
  __int64 v32; // x1
  __int64 v33; // x1
  __int64 v34; // x1
  __int64 v35; // x1
  BattleData_SaveData_o *v36; // x27
  __int64 comhistory; // x0
  __int64 v38; // x1
  struct System_Int32_array *commandCriticalArray; // x1
  struct System_Int32_array *p_entryid; // x1
  struct System_Int32_array *e_entryid; // x1
  struct System_Boolean_array *enemyAppearValid; // x1
  WarBoardUiData_SaveData_array *v43; // x0
  struct BattleCommandData_array *draw_commandlist; // x1
  struct BattleCommandData_array *p_shcmlist; // x1
  struct System_Collections_Generic_Dictionary_string__object__o *voicePlayedInfo; // x1
  struct BattleEntity_o *battle_ent; // x8
  unsigned __int64 v48; // x8
  struct System_Int32_array *waveClearNeedTurn; // x1
  struct BattleCommandData_array *fixedCommands; // x1
  struct System_Int32_array *waveKnockdownNums; // x1
  struct System_Int32_array *overwriteBgIndividuality; // x1
  System_Collections_Generic_Dictionary_string__object__o *v53; // x0
  __int64 v54; // x3
  struct BattleActionLogManagerInterface_o *actionLogManager; // x21
  BattleActionLogManagerInterface_c *klass; // x8
  unsigned __int64 v57; // x10
  BattleActionLogManagerInterface_c **p_offset; // x11
  __int64 p_method; // x0
  __int64 v60; // x0
  __int64 v61; // x3
  struct BattleActionLogManagerInterface_o *v62; // x21
  BattleActionLogManagerInterface_c *v63; // x8
  unsigned __int64 v64; // x10
  BattleActionLogManagerInterface_c **v65; // x11
  __int64 v66; // x0
  __int64 v67; // x0
  OverwriteBattleBgmData_SaveData_o *v68; // x0
  const MethodInfo *v69; // x1
  struct System_Int32_array *intParamArray; // x1
  OverwriteBattleBgmData_SaveData_o *v71; // x21
  struct System_String_array *strParamArray; // x1
  System_Collections_Generic_Dictionary_string__object__o *v73; // x0
  struct BattleFieldData_array *field_datalist; // x8
  __int64 v75; // x0
  struct BattleFieldData_array *v76; // x8
  il2cpp_array_size_t v77; // w20
  __int64 v78; // x23
  il2cpp_array_size_t max_length; // w9
  struct BattleFieldData_SaveData_array *savefield_datalist; // x24
  __int64 v81; // x22
  struct BattlePerformance_o *perf; // x8
  BattlePerformanceBg_SaveData_o *SaveData; // x0
  __int64 v84; // x21
  __int64 v85; // x21
  UnityEngine_Object_o *v86; // x21
  __int64 v87; // x21
  __int64 v88; // x21
  __int64 v89; // x8
  __int64 v90; // x21
  __int64 v91; // x21
  __int64 v92; // x8
  struct System_Collections_Generic_List_BattleSkillInfoData__o *masterSkillInfo; // x8
  int size; // w21
  __int64 v95; // x0
  __int64 v96; // x0
  __int64 v97; // x0
  __int64 v98; // x20
  struct System_Collections_Generic_List_BattleSkillInfoData__o *v99; // x26
  struct System_Int32_array *master_infoId; // x25
  struct System_Collections_Generic_List_BattleSkillInfoData__o *v101; // x26
  struct System_Int32_array *master_skillTurn; // x25
  BattleSkillInfoData_o *v103; // x8
  struct System_Collections_Generic_List_BattleSkillInfoData__o *v104; // x26
  struct System_Int32_array *master_sealedTurn; // x25
  BattleSkillInfoData_o *v106; // x8
  char *v107; // x9
  WarBoardUiData_SaveData_array *v108; // x0
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x8
  int v110; // w21
  __int64 v111; // x0
  struct BattleServantData_SaveData_array **p_p_svlist_MP; // x22
  long double v113; // q0
  unsigned int v114; // w26
  __int64 v115; // x27
  struct System_Collections_Generic_List_BattleServantData__o *v116; // x20
  __int64 v117; // x23
  struct BattleServantData_SaveData_array *v118; // x20
  __int64 v119; // x24
  System_String_o *v120; // x0
  System_String_o *v121; // x23
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x8
  int v123; // w21
  __int64 v124; // x0
  long double v125; // q0
  unsigned int v126; // w20
  __int64 v127; // x24
  struct System_Collections_Generic_List_BattleServantData__o *v128; // x23
  struct BattleServantData_SaveData_array *e_svlist_MP; // x25
  __int64 v130; // x23
  System_String_o *v131; // x0
  System_String_o *v132; // x23
  struct System_Collections_Generic_List_AiNpcBattleServantData__o *aiNpcDataList; // x21
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData__o *v134; // x22
  System_Collections_Generic_IEnumerable_TSource__o *v135; // x0
  DrawLotsDisplayMessage_DisplayedInGroup_SaveData_array *v136; // x0
  struct System_Collections_Generic_List_Dictionary_string__object___o *firstNpPlayList; // x8
  __int64 v138; // x0
  struct System_Collections_Generic_List_Dictionary_string__object___o *v139; // x8
  __int64 v140; // x0
  struct System_Collections_Generic_List_Dictionary_string__object___o *v141; // x8
  __int64 v142; // x0
  struct System_Collections_Generic_List_Dictionary_string__object___o *v143; // x24
  __int64 v144; // x26
  __int64 v145; // x27
  int v146; // w8
  unsigned int v147; // w21
  struct System_Collections_Generic_Dictionary_string__object__array *items; // x8
  System_Collections_Generic_Dictionary_Type__IStoreExtension__o *v149; // x24
  struct System_String_array *firstNpPlayUserSvtIdList; // x22
  __int64 v151; // x25
  struct System_Int32_array *firstNpPlaySeqIdList; // x22
  struct System_Int32_array *firstNpPlaySvtIdList; // x22
  PlayerServantNoblePhantasmUsageData_SaveData_o *v154; // x0
  BattleDefenceTargetData_o *defenceTargetData; // x0
  BattleDefenceTargetData_SaveData_o *v156; // x1
  UseSkillEachTurn_SaveData_o *v157; // x0
  DrawLotsDisplayMessage_DisplayedInGroup_SaveData_array *v158; // x0
  System_Int32_array *UniqueIdArray; // x0
  System_Int64_array *NpcSvtIdArray; // x0
  struct System_Collections_Generic_HashSet_string__o *voicePlayedOver64Info; // x0
  DrawLotsDisplayMessage_DisplayedInGroup_SaveData_array *v162; // x1
  BattleFieldEnvironmentData_SaveData_o *v163; // x0
  const MethodInfo *v164; // x1
  System_Int32_array *QuestRouteIdArray; // x0
  long double v166; // q0
  struct System_Collections_Generic_HashSet_int__o *calledEnemyUniqueIdHash; // x0
  System_Int32_array *v168; // x1
  __int64 v170; // x0
  __int64 v171; // x0
  BattleData_o *v172; // x0
  const MethodInfo *v173; // x1
  BattleData_SaveData_o *v174; // [xsp+0h] [xbp-70h]
  int v175; // [xsp+1Ch] [xbp-54h] BYREF

  if ( (byte_4184364 & 1) == 0 )
  {
    sub_B2C35C(&BattleActionLogManagerInterface_TypeInfo, method);
    sub_B2C35C(&Method_BattleData__SetSaveData_b__525_0__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__get_Item__, v4);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v5);
    sub_B2C35C(&Method_System_Linq_Enumerable_Select_AiNpcBattleServantData__BattleServantData_SaveData___, v6);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_int___, v7);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_BattleServantData_SaveData___, v8);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_string___, v9);
    sub_B2C35C(&Method_System_Func_AiNpcBattleServantData__BattleServantData_SaveData___ctor__, v10);
    sub_B2C35C(&System_Func_AiNpcBattleServantData__BattleServantData_SaveData__TypeInfo, v11);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int__get_Count__, v12);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_string__get_Count__, v13);
    sub_B2C35C(&int___TypeInfo, v14);
    sub_B2C35C(&int_TypeInfo, v15);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleDropItem__ToArray__, v16);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleData_CommandHistory__ToArray__, v17);
    sub_B2C35C(&Method_System_Collections_Generic_List_Dictionary_string__object___get_Count__, v18);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__get_Count__, v19);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v20);
    sub_B2C35C(&Method_System_Collections_Generic_List_Dictionary_string__object___get_Item__, v21);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v22);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__get_Item__, v23);
    sub_B2C35C(&Method_MiniMessagePackerUtility_EncodeDict_int__int___, v24);
    sub_B2C35C(&UnityEngine_Object_TypeInfo, v25);
    sub_B2C35C(&BattleServantData_SaveData___TypeInfo, v26);
    sub_B2C35C(&BattleFieldData_SaveData___TypeInfo, v27);
    sub_B2C35C(&BattleData_SaveData_TypeInfo, v28);
    sub_B2C35C(&Method_SingletonMonoBehaviour_BattleRandom__getInstance__, v29);
    sub_B2C35C(&string___TypeInfo, v30);
    sub_B2C35C(&StringLiteral_22468/*"svtId"*/, v31);
    sub_B2C35C(&StringLiteral_23066/*"userSvtId"*/, v32);
    sub_B2C35C(&StringLiteral_21394/*"p_svlist"*/, v33);
    sub_B2C35C(&StringLiteral_21968/*"seqId"*/, v34);
    sub_B2C35C(&StringLiteral_18082/*"e_svlist"*/, v35);
    byte_4184364 = 1;
  }
  v175 = 0;
  v36 = (BattleData_SaveData_o *)sub_B2C42C(BattleData_SaveData_TypeInfo);
  BattleData_SaveData___ctor(v36, 0LL);
  if ( !v36 )
    goto LABEL_165;
  v36->fields.initturn = this->fields.initturn;
  v36->fields.wavecount = this->fields.wavecount;
  v36->fields.turnCount = this->fields.turnCount;
  v36->fields.totalTurnCount = this->fields.totalTurnCount;
  v36->fields.globaltargetId = this->fields.globaltargetId;
  v36->fields.criticalstars = this->fields.criticalstars;
  v36->fields.totalCriticalstars = this->fields.totalCriticalStars;
  v36->fields.addCriticalstars = this->fields.addCriticalstars;
  v36->fields.subCriticalCount = this->fields.subCriticalCount;
  v36->fields.prevCriticalstars = this->fields.prevCriticalstars;
  commandCriticalArray = this->fields.commandCriticalArray;
  v36->fields.commandCriticalArray = commandCriticalArray;
  sub_B2C2F8(&v36->fields.commandCriticalArray, commandCriticalArray);
  p_entryid = this->fields.p_entryid;
  v36->fields.p_entryid = p_entryid;
  sub_B2C2F8(&v36->fields.p_entryid, p_entryid);
  e_entryid = this->fields.e_entryid;
  v36->fields.e_entryid = e_entryid;
  sub_B2C2F8(&v36->fields.e_entryid, e_entryid);
  enemyAppearValid = this->fields.enemyAppearValid;
  v36->fields.enemyAppearValids = enemyAppearValid;
  sub_B2C2F8(&v36->fields.enemyAppearValids, enemyAppearValid);
  comhistory = (__int64)this->fields.comhistory;
  if ( !comhistory )
    goto LABEL_165;
  v43 = System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
          (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)comhistory,
          (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleData_CommandHistory__ToArray__);
  v36->fields.history = (struct BattleData_CommandHistory_array *)v43;
  sub_B2C2F8(&v36->fields.history, v43);
  v36->fields.shuffleIndex = this->fields.shuffleindex;
  draw_commandlist = this->fields.draw_commandlist;
  v36->fields.drawcard = draw_commandlist;
  sub_B2C2F8(&v36->fields.drawcard, draw_commandlist);
  p_shcmlist = this->fields.p_shcmlist;
  v36->fields.shufflecard = p_shcmlist;
  sub_B2C2F8(&v36->fields.shufflecard, p_shcmlist);
  voicePlayedInfo = this->fields.voicePlayedInfo;
  v36->fields.voicePlayedList = voicePlayedInfo;
  sub_B2C2F8(&v36->fields.voicePlayedList, voicePlayedInfo);
  if ( this->fields.endbattleFlg )
  {
    battle_ent = this->fields.battle_ent;
    if ( !battle_ent )
      goto LABEL_165;
    v48 = battle_ent->fields.id ^ 0xFFFFFFFFFFED5CD0LL;
  }
  else
  {
    v48 = 0LL;
  }
  v36->fields.bstate = v48;
  waveClearNeedTurn = this->fields.waveClearNeedTurn;
  v36->fields.usedTurnArray = waveClearNeedTurn;
  sub_B2C2F8(&v36->fields.usedTurnArray, waveClearNeedTurn);
  fixedCommands = this->fields.fixedCommands;
  v36->fields.fixedCommands = fixedCommands;
  sub_B2C2F8(&v36->fields.fixedCommands, fixedCommands);
  waveKnockdownNums = this->fields.waveKnockdownNums;
  v36->fields.waveKnockdownNums = waveKnockdownNums;
  sub_B2C2F8(&v36->fields.waveKnockdownNums, waveKnockdownNums);
  v36->fields.loseBattleFlg = this->fields.loseBattleFlg;
  overwriteBgIndividuality = this->fields.overwriteBgIndividuality;
  v36->fields.overwriteBgIndividuality = overwriteBgIndividuality;
  sub_B2C2F8(&v36->fields.overwriteBgIndividuality, overwriteBgIndividuality);
  v53 = MiniMessagePackerUtility__EncodeDict_int__int_(
          (System_Collections_Generic_Dictionary_TKey__TValue__o *)this->fields.chainCountDict,
          (const MethodInfo_1AB3350 *)Method_MiniMessagePackerUtility_EncodeDict_int__int___);
  v36->fields.chainCountIntKeyDict = v53;
  sub_B2C2F8(&v36->fields.chainCountIntKeyDict, v53);
  actionLogManager = this->fields.actionLogManager;
  if ( !actionLogManager )
    goto LABEL_165;
  klass = actionLogManager->klass;
  if ( *(_WORD *)&actionLogManager->klass->_2.bitflags1 )
  {
    v57 = 0LL;
    p_offset = (BattleActionLogManagerInterface_c **)&klass->_1.interfaceOffsets->offset;
    while ( *(p_offset - 1) != BattleActionLogManagerInterface_TypeInfo )
    {
      ++v57;
      p_offset += 2;
      if ( v57 >= *(unsigned __int16 *)&actionLogManager->klass->_2.bitflags1 )
        goto LABEL_14;
    }
    p_method = (__int64)&klass->vtable[*(_DWORD *)p_offset + 1].method;
  }
  else
  {
LABEL_14:
    p_method = sub_AC5258(this->fields.actionLogManager, BattleActionLogManagerInterface_TypeInfo, 1LL, v54);
  }
  v60 = (*(__int64 (__fastcall **)(struct BattleActionLogManagerInterface_o *, _QWORD))p_method)(
          actionLogManager,
          *(_QWORD *)(p_method + 8));
  v36->fields.logHeader_MP = (struct System_Byte_array *)v60;
  sub_B2C2F8(&v36->fields.logHeader_MP, v60);
  v62 = this->fields.actionLogManager;
  if ( !v62 )
    goto LABEL_165;
  v63 = v62->klass;
  if ( *(_WORD *)&v62->klass->_2.bitflags1 )
  {
    v64 = 0LL;
    v65 = (BattleActionLogManagerInterface_c **)&v63->_1.interfaceOffsets->offset;
    while ( *(v65 - 1) != BattleActionLogManagerInterface_TypeInfo )
    {
      ++v64;
      v65 += 2;
      if ( v64 >= *(unsigned __int16 *)&v62->klass->_2.bitflags1 )
        goto LABEL_21;
    }
    v66 = (__int64)&v63->vtable[*(_DWORD *)v65 + 2].method;
  }
  else
  {
LABEL_21:
    v66 = sub_AC5258(this->fields.actionLogManager, BattleActionLogManagerInterface_TypeInfo, 2LL, v61);
  }
  v67 = (*(__int64 (__fastcall **)(struct BattleActionLogManagerInterface_o *, _QWORD))v66)(v62, *(_QWORD *)(v66 + 8));
  v36->fields.logData_MP = (struct System_Byte_array *)v67;
  sub_B2C2F8(&v36->fields.logData_MP, v67);
  v36->fields.maxEnemyUniqueID = this->fields.maxEnemyUniqueID;
  v36->fields.maxEnemyIndex = this->fields.maxEnemyIndex;
  v36->fields.progresslistflg = this->fields.progresslistflg;
  v68 = OverwriteBattleBgmData__ConvertToSaveData(this->fields._overwriteBgmData_k__BackingField, 0LL);
  if ( v68 )
  {
    intParamArray = v68->fields.intParamArray;
    v71 = v68;
    v36->fields.overrideBgmData = intParamArray;
    sub_B2C2F8(&v36->fields.overrideBgmData, intParamArray);
    strParamArray = v71->fields.strParamArray;
    v36->fields.overrideStrBgmData = strParamArray;
    sub_B2C2F8(&v36->fields.overrideStrBgmData, strParamArray);
  }
  v73 = BattleData__convertUsedEventMasterSkillDictFormatSave(this, v69);
  v36->fields.usedEventMasterSkillDict = v73;
  sub_B2C2F8(&v36->fields.usedEventMasterSkillDict, v73);
  field_datalist = this->fields.field_datalist;
  if ( !field_datalist )
    goto LABEL_165;
  v75 = sub_B2C374(BattleFieldData_SaveData___TypeInfo, field_datalist->max_length);
  v36->fields.savefield_datalist = (struct BattleFieldData_SaveData_array *)v75;
  sub_B2C2F8(&v36->fields.savefield_datalist, v75);
  v76 = this->fields.field_datalist;
  if ( !v76 )
    goto LABEL_165;
  v77 = 0;
  v78 = 32LL;
  while ( 1 )
  {
    max_length = v76->max_length;
    if ( (int)v77 >= (int)max_length )
      break;
    if ( v77 >= max_length )
      goto LABEL_166;
    comhistory = *(__int64 *)((char *)&v76->obj.klass + v78);
    if ( comhistory )
    {
      savefield_datalist = v36->fields.savefield_datalist;
      comhistory = (__int64)BattleFieldData__getSaveData((BattleFieldData_o *)comhistory, 0LL);
      if ( savefield_datalist )
      {
        v81 = comhistory;
        if ( comhistory )
        {
          comhistory = sub_B2C41C(comhistory, savefield_datalist->obj.klass->_1.element_class);
          if ( !comhistory )
          {
LABEL_167:
            v171 = sub_B2C454();
            sub_B2C400(v171, 0LL);
          }
        }
        if ( v77 >= savefield_datalist->max_length )
        {
LABEL_166:
          v170 = sub_B2C460(comhistory);
          sub_B2C400(v170, 0LL);
        }
        *(Il2CppClass **)((char *)&savefield_datalist->obj.klass + v78) = (Il2CppClass *)v81;
        sub_B2C2F8((char *)savefield_datalist + v78, v81);
        v76 = this->fields.field_datalist;
        ++v77;
        v78 += 8LL;
        if ( v76 )
          continue;
      }
    }
    goto LABEL_165;
  }
  perf = this->fields.perf;
  if ( !perf || (comhistory = (__int64)perf->fields.bgPerf) == 0 )
LABEL_165:
    sub_B2C434(comhistory, v38);
  SaveData = BattlePerformanceBg__getSaveData((BattlePerformanceBg_o *)comhistory, 0LL);
  v36->fields.savebgData = SaveData;
  sub_B2C2F8(&v36->fields.savebgData, SaveData);
  v84 = *((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3);
  if ( (*(_BYTE *)(v84 + 306) & 1) == 0 )
    sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3));
  v85 = **(_QWORD **)(v84 + 192);
  if ( (*(_BYTE *)(v85 + 306) & 1) == 0 )
    sub_AC505C(v85);
  v86 = **(UnityEngine_Object_o ***)(v85 + 184);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  comhistory = UnityEngine_Object__op_Inequality(v86, 0LL, 0LL);
  if ( (comhistory & 1) != 0 )
  {
    v87 = *((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3);
    if ( (*(_BYTE *)(v87 + 306) & 1) == 0 )
      comhistory = sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3));
    v88 = **(_QWORD **)(v87 + 192);
    if ( (*(_BYTE *)(v88 + 306) & 1) == 0 )
      comhistory = sub_AC505C(v88);
    v89 = **(_QWORD **)(v88 + 184);
    if ( !v89 )
      goto LABEL_165;
    v36->fields.randLogicCount = *(_DWORD *)(v89 + 40);
    v90 = *((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3);
    if ( (*(_BYTE *)(v90 + 306) & 1) == 0 )
      comhistory = sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_BattleRandom__getInstance__ + 3));
    v91 = **(_QWORD **)(v90 + 192);
    if ( (*(_BYTE *)(v91 + 306) & 1) == 0 )
      comhistory = sub_AC505C(v91);
    v92 = **(_QWORD **)(v91 + 184);
    if ( !v92 )
      goto LABEL_165;
    v36->fields.randGutsCount = *(_DWORD *)(v92 + 44);
  }
  masterSkillInfo = this->fields.masterSkillInfo;
  if ( !masterSkillInfo )
    goto LABEL_165;
  size = masterSkillInfo->fields._size;
  v95 = sub_B2C374(int___TypeInfo, (unsigned int)size);
  v36->fields.master_infoId = (struct System_Int32_array *)v95;
  sub_B2C2F8(&v36->fields.master_infoId, v95);
  v96 = sub_B2C374(int___TypeInfo, (unsigned int)size);
  v36->fields.master_skillTurn = (struct System_Int32_array *)v96;
  sub_B2C2F8(&v36->fields.master_skillTurn, v96);
  v97 = sub_B2C374(int___TypeInfo, (unsigned int)size);
  v36->fields.master_sealedTurn = (struct System_Int32_array *)v97;
  sub_B2C2F8(&v36->fields.master_sealedTurn, v97);
  if ( size >= 1 )
  {
    v98 = 0LL;
    do
    {
      v99 = this->fields.masterSkillInfo;
      if ( !v99 )
        goto LABEL_165;
      master_infoId = v36->fields.master_infoId;
      if ( v99->fields._size <= (unsigned int)v98 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      comhistory = (__int64)v99->fields._items->m_Items[v98];
      if ( !comhistory )
        goto LABEL_165;
      comhistory = BattleSkillInfoData__getInfoId((BattleSkillInfoData_o *)comhistory, 0LL);
      if ( !master_infoId )
        goto LABEL_165;
      if ( (unsigned int)v98 >= master_infoId->max_length )
        goto LABEL_166;
      master_infoId->m_Items[v98 + 1] = comhistory;
      v101 = this->fields.masterSkillInfo;
      if ( !v101 )
        goto LABEL_165;
      master_skillTurn = v36->fields.master_skillTurn;
      if ( v101->fields._size <= (unsigned int)v98 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v103 = v101->fields._items->m_Items[v98];
      if ( !v103 || !master_skillTurn )
        goto LABEL_165;
      if ( (unsigned int)v98 >= master_skillTurn->max_length )
        goto LABEL_166;
      master_skillTurn->m_Items[v98 + 1] = v103->fields.chargeTurn;
      v104 = this->fields.masterSkillInfo;
      if ( !v104 )
        goto LABEL_165;
      master_sealedTurn = v36->fields.master_sealedTurn;
      if ( v104->fields._size <= (unsigned int)v98 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v106 = v104->fields._items->m_Items[v98];
      if ( !v106 || !master_sealedTurn )
        goto LABEL_165;
      if ( (unsigned int)v98 >= master_sealedTurn->max_length )
        goto LABEL_166;
      v107 = (char *)master_sealedTurn + 4 * v98++;
      *((_DWORD *)v107 + 8) = v106->fields.sealedTurn;
    }
    while ( (int)v98 < size );
  }
  comhistory = (__int64)this->fields.droplist;
  if ( !comhistory )
    goto LABEL_165;
  v108 = System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
           (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)comhistory,
           (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleDropItem__ToArray__);
  v36->fields.drop = (struct BattleDropItem_array *)v108;
  sub_B2C2F8(&v36->fields.drop, v108);
  player_datalist = this->fields.player_datalist;
  if ( !player_datalist )
    goto LABEL_165;
  v110 = player_datalist->fields._size;
  v111 = sub_B2C374(BattleServantData_SaveData___TypeInfo, (unsigned int)v110);
  v36->fields.p_svlist_MP = (struct BattleServantData_SaveData_array *)v111;
  p_p_svlist_MP = &v36->fields.p_svlist_MP;
  v174 = v36;
  *(__n128 *)&v113 = sub_B2C2F8(&v36->fields.p_svlist_MP, v111);
  if ( v110 >= 1 )
  {
    v114 = 0;
    v115 = 32LL;
    do
    {
      v116 = this->fields.player_datalist;
      if ( !v116 )
        goto LABEL_165;
      if ( v116->fields._size <= v114 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v117 = *(__int64 *)((char *)&v116->fields._items->obj.klass + v115);
      if ( !v117 )
        goto LABEL_165;
      v118 = *p_p_svlist_MP;
      comhistory = (*(__int64 (__fastcall **)(__int64, BattleData_o *, _QWORD, long double))(*(_QWORD *)v117 + 568LL))(
                     v117,
                     this,
                     *(_QWORD *)(*(_QWORD *)v117 + 576LL),
                     v113);
      if ( !v118 )
        goto LABEL_165;
      v119 = comhistory;
      if ( comhistory )
      {
        comhistory = sub_B2C41C(comhistory, v118->obj.klass->_1.element_class);
        if ( !comhistory )
          goto LABEL_167;
      }
      if ( v114 >= v118->max_length )
        goto LABEL_166;
      *(Il2CppClass **)((char *)&v118->obj.klass + v115) = (Il2CppClass *)v119;
      sub_B2C2F8((char *)v118 + v115, v119);
      v120 = System_Int32__ToString((int)v117 + 16, 0LL);
      v121 = System_String__Concat_44305532((System_String_o *)StringLiteral_21394/*"p_svlist"*/, v120, 0LL);
      if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
      }
      comhistory = EncryptedPlayerPrefs__HasKey(v121, 0LL);
      if ( (comhistory & 1) != 0 )
      {
        if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
        }
        EncryptedPlayerPrefs__DeleteKey(v121, 0LL);
      }
      ++v114;
      v115 += 8LL;
    }
    while ( (int)v114 < v110 );
  }
  enemy_datalist = this->fields.enemy_datalist;
  if ( !enemy_datalist )
    goto LABEL_165;
  v123 = enemy_datalist->fields._size;
  v124 = sub_B2C374(BattleServantData_SaveData___TypeInfo, (unsigned int)v123);
  v174->fields.e_svlist_MP = (struct BattleServantData_SaveData_array *)v124;
  *(__n128 *)&v125 = sub_B2C2F8(&v174->fields.e_svlist_MP, v124);
  if ( v123 >= 1 )
  {
    v126 = 0;
    v127 = 32LL;
    do
    {
      v128 = this->fields.enemy_datalist;
      if ( !v128 )
        goto LABEL_165;
      if ( v128->fields._size <= v126 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      comhistory = *(__int64 *)((char *)&v128->fields._items->obj.klass + v127);
      if ( !comhistory )
        goto LABEL_165;
      v175 = *(_DWORD *)(comhistory + 16);
      e_svlist_MP = v174->fields.e_svlist_MP;
      comhistory = (*(__int64 (__fastcall **)(__int64, BattleData_o *, _QWORD, long double))(*(_QWORD *)comhistory
                                                                                           + 568LL))(
                     comhistory,
                     this,
                     *(_QWORD *)(*(_QWORD *)comhistory + 576LL),
                     v125);
      if ( !e_svlist_MP )
        goto LABEL_165;
      v130 = comhistory;
      if ( comhistory )
      {
        comhistory = sub_B2C41C(comhistory, e_svlist_MP->obj.klass->_1.element_class);
        if ( !comhistory )
          goto LABEL_167;
      }
      if ( v126 >= e_svlist_MP->max_length )
        goto LABEL_166;
      *(Il2CppClass **)((char *)&e_svlist_MP->obj.klass + v127) = (Il2CppClass *)v130;
      sub_B2C2F8((char *)e_svlist_MP + v127, v130);
      v131 = System_Int32__ToString((int32_t)&v175, 0LL);
      v132 = System_String__Concat_44305532((System_String_o *)StringLiteral_18082/*"e_svlist"*/, v131, 0LL);
      if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
      }
      comhistory = EncryptedPlayerPrefs__HasKey(v132, 0LL);
      if ( (comhistory & 1) != 0 )
      {
        if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
        }
        EncryptedPlayerPrefs__DeleteKey(v132, 0LL);
      }
      ++v126;
      v127 += 8LL;
    }
    while ( (int)v126 < v123 );
  }
  v174->fields.enemyMasterSpellUseCnt = this->fields.enemyMasterCommandSpellUseCnt;
  v174->fields.maxTurnDamage = this->fields.maxTurnDamageInBattle;
  aiNpcDataList = this->fields.aiNpcDataList;
  v134 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData__o *)sub_B2C42C(System_Func_AiNpcBattleServantData__BattleServantData_SaveData__TypeInfo);
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData____ctor(
    v134,
    (Il2CppObject *)this,
    Method_BattleData__SetSaveData_b__525_0__,
    (const MethodInfo_2713350 *)Method_System_Func_AiNpcBattleServantData__BattleServantData_SaveData___ctor__);
  v135 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__Select_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData_(
                                                                (System_Collections_Generic_IEnumerable_TSource__o *)aiNpcDataList,
                                                                (System_Func_TSource__TResult__o *)v134,
                                                                (const MethodInfo_1A96D40 *)Method_System_Linq_Enumerable_Select_AiNpcBattleServantData__BattleServantData_SaveData___);
  v136 = System_Linq_Enumerable__ToArray_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
           v135,
           (const MethodInfo_1A9AFC8 *)Method_System_Linq_Enumerable_ToArray_BattleServantData_SaveData___);
  v174->fields.aiNpcSvts = (struct BattleServantData_SaveData_array *)v136;
  sub_B2C2F8(&v174->fields.aiNpcSvts, v136);
  firstNpPlayList = this->fields.firstNpPlayList;
  if ( !firstNpPlayList )
    goto LABEL_165;
  v138 = sub_B2C374(string___TypeInfo, (unsigned int)firstNpPlayList->fields._size);
  v174->fields.firstNpPlayUserSvtIdList = (struct System_String_array *)v138;
  sub_B2C2F8(&v174->fields.firstNpPlayUserSvtIdList, v138);
  v139 = this->fields.firstNpPlayList;
  if ( !v139 )
    goto LABEL_165;
  v140 = sub_B2C374(int___TypeInfo, (unsigned int)v139->fields._size);
  v174->fields.firstNpPlaySeqIdList = (struct System_Int32_array *)v140;
  sub_B2C2F8(&v174->fields.firstNpPlaySeqIdList, v140);
  v141 = this->fields.firstNpPlayList;
  if ( !v141 )
    goto LABEL_165;
  v142 = sub_B2C374(int___TypeInfo, (unsigned int)v141->fields._size);
  v174->fields.firstNpPlaySvtIdList = (struct System_Int32_array *)v142;
  sub_B2C2F8(&v174->fields.firstNpPlaySvtIdList, v142);
  v143 = this->fields.firstNpPlayList;
  if ( !v143 )
    goto LABEL_165;
  v144 = 8LL;
  v145 = 32LL;
  while ( 1 )
  {
    v146 = v143->fields._size;
    v147 = v144 - 8;
    if ( (int)v144 - 8 >= v146 )
      break;
    if ( v146 <= v147 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    items = v143->fields._items;
    v149 = *(System_Collections_Generic_Dictionary_Type__IStoreExtension__o **)((char *)&items->obj.klass + v145);
    if ( !v149 )
      goto LABEL_165;
    firstNpPlayUserSvtIdList = v174->fields.firstNpPlayUserSvtIdList;
    comhistory = (__int64)System_Collections_Generic_Dictionary_Type__IStoreExtension___get_Item(
                            *(System_Collections_Generic_Dictionary_Type__IStoreExtension__o **)((char *)&items->obj.klass
                                                                                               + v145),
                            (System_Type_o *)StringLiteral_23066/*"userSvtId"*/,
                            (const MethodInfo_2DB1BFC *)Method_System_Collections_Generic_Dictionary_string__object__get_Item__);
    if ( !comhistory )
      goto LABEL_165;
    comhistory = (*(__int64 (__fastcall **)(__int64, _QWORD))(*(_QWORD *)comhistory + 360LL))(
                   comhistory,
                   *(_QWORD *)(*(_QWORD *)comhistory + 368LL));
    if ( !firstNpPlayUserSvtIdList )
      goto LABEL_165;
    v151 = comhistory;
    if ( comhistory )
    {
      comhistory = sub_B2C41C(comhistory, firstNpPlayUserSvtIdList->obj.klass->_1.element_class);
      if ( !comhistory )
        goto LABEL_167;
    }
    if ( v147 >= firstNpPlayUserSvtIdList->max_length )
      goto LABEL_166;
    *(Il2CppClass **)((char *)&firstNpPlayUserSvtIdList->obj.klass + v145) = (Il2CppClass *)v151;
    sub_B2C2F8((char *)firstNpPlayUserSvtIdList + v145, v151);
    firstNpPlaySeqIdList = v174->fields.firstNpPlaySeqIdList;
    comhistory = (__int64)System_Collections_Generic_Dictionary_Type__IStoreExtension___get_Item(
                            v149,
                            (System_Type_o *)StringLiteral_21968/*"seqId"*/,
                            (const MethodInfo_2DB1BFC *)Method_System_Collections_Generic_Dictionary_string__object__get_Item__);
    if ( !firstNpPlaySeqIdList || !comhistory )
      goto LABEL_165;
    if ( *(Il2CppClass **)(*(_QWORD *)comhistory + 64LL) != int_TypeInfo->_1.element_class )
      goto LABEL_168;
    comhistory = j_il2cpp_object_unbox_0(comhistory);
    if ( v147 >= firstNpPlaySeqIdList->max_length )
      goto LABEL_166;
    *((_DWORD *)&firstNpPlaySeqIdList->obj.klass + v144) = *(_DWORD *)comhistory;
    firstNpPlaySvtIdList = v174->fields.firstNpPlaySvtIdList;
    comhistory = (__int64)System_Collections_Generic_Dictionary_Type__IStoreExtension___get_Item(
                            v149,
                            (System_Type_o *)StringLiteral_22468/*"svtId"*/,
                            (const MethodInfo_2DB1BFC *)Method_System_Collections_Generic_Dictionary_string__object__get_Item__);
    if ( !firstNpPlaySvtIdList || !comhistory )
      goto LABEL_165;
    if ( *(Il2CppClass **)(*(_QWORD *)comhistory + 64LL) != int_TypeInfo->_1.element_class )
    {
LABEL_168:
      v172 = (BattleData_o *)sub_B2C728(comhistory);
      return (BattleData_SaveData_o *)BattleData__GetItemDroppedSkillShiftUniqueIdArray(v172, v173);
    }
    comhistory = j_il2cpp_object_unbox_0(comhistory);
    if ( v147 >= firstNpPlaySvtIdList->max_length )
      goto LABEL_166;
    v145 += 8LL;
    *((_DWORD *)&firstNpPlaySvtIdList->obj.klass + v144) = *(_DWORD *)comhistory;
    v143 = this->fields.firstNpPlayList;
    ++v144;
    if ( !v143 )
      goto LABEL_165;
  }
  comhistory = (__int64)this->fields.playerServantNoblePhantasmUsageData;
  if ( !comhistory )
    goto LABEL_165;
  v154 = PlayerServantNoblePhantasmUsageData__GetSaveData((PlayerServantNoblePhantasmUsageData_o *)comhistory, 0LL);
  v174->fields.playerServantNoblePhantasmUsageDataSaveData = v154;
  sub_B2C2F8(&v174->fields.playerServantNoblePhantasmUsageDataSaveData, v154);
  v174->fields.winBattleNotRelatedSurvivalStatusFlg = this->fields.winBattleNotRelatedSurvivalStatus;
  v174->fields.temporarySpell = this->fields.temporarySpell;
  defenceTargetData = this->fields.defenceTargetData;
  v156 = defenceTargetData ? BattleDefenceTargetData__GetSaveData(defenceTargetData, 0LL) : 0LL;
  v174->fields.saveDefenceTargetData = v156;
  sub_B2C2F8(&v174->fields.saveDefenceTargetData, v156);
  v174->fields.masterSkillUseWaveTurn = this->fields.masterSkillUseWaveTurn;
  comhistory = (__int64)this->fields.useSkillEachTurn;
  if ( !comhistory )
    goto LABEL_165;
  v157 = UseSkillEachTurn__GetSaveData((UseSkillEachTurn_o *)comhistory, 0LL);
  v174->fields.useSkillEachTurn = v157;
  sub_B2C2F8(&v174->fields.useSkillEachTurn, v157);
  comhistory = (__int64)this->fields._DrawLotsDispMsg_k__BackingField;
  if ( !comhistory )
    goto LABEL_165;
  v158 = DrawLotsDisplayMessage__GetSaveData((DrawLotsDisplayMessage_o *)comhistory, 0LL);
  v174->fields.displayedMsgs = v158;
  sub_B2C2F8(&v174->fields.displayedMsgs, v158);
  comhistory = (__int64)this->fields.itemDroppedSkillShiftInfo;
  if ( !comhistory )
    goto LABEL_165;
  UniqueIdArray = ItemDroppedSkillShiftInfo__GetUniqueIdArray((ItemDroppedSkillShiftInfo_o *)comhistory, 0LL);
  v174->fields.skillShiftUniqueIds = UniqueIdArray;
  sub_B2C2F8(&v174->fields.skillShiftUniqueIds, UniqueIdArray);
  comhistory = (__int64)this->fields.itemDroppedSkillShiftInfo;
  if ( !comhistory )
    goto LABEL_165;
  NpcSvtIdArray = ItemDroppedSkillShiftInfo__GetNpcSvtIdArray((ItemDroppedSkillShiftInfo_o *)comhistory, 0LL);
  v174->fields.skillShiftNpcSvtIds = NpcSvtIdArray;
  sub_B2C2F8(&v174->fields.skillShiftNpcSvtIds, NpcSvtIdArray);
  voicePlayedOver64Info = this->fields.voicePlayedOver64Info;
  if ( voicePlayedOver64Info && voicePlayedOver64Info->fields._count >= 1 )
    v162 = System_Linq_Enumerable__ToArray_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
             (System_Collections_Generic_IEnumerable_TSource__o *)voicePlayedOver64Info,
             (const MethodInfo_1A9AFC8 *)Method_System_Linq_Enumerable_ToArray_string___);
  else
    v162 = 0LL;
  v174->fields.voicePlayedOver64Info = (struct System_String_array *)v162;
  sub_B2C2F8(&v174->fields.voicePlayedOver64Info, v162);
  comhistory = (__int64)this->fields._FieldEnvData_k__BackingField;
  if ( !comhistory )
    goto LABEL_165;
  v163 = BattleFieldEnvironmentData__GetSaveData((BattleFieldEnvironmentData_o *)comhistory, 0LL);
  v174->fields.fieldEnvData = v163;
  sub_B2C2F8(&v174->fields.fieldEnvData, v163);
  QuestRouteIdArray = BattleData__GetQuestRouteIdArray(this, v164);
  v174->fields.questRouteIds = QuestRouteIdArray;
  *(__n128 *)&v166 = sub_B2C2F8(&v174->fields.questRouteIds, QuestRouteIdArray);
  v174->fields.playerNpCount = this->fields.playerNpCount;
  v174->fields.playerSkillCount = this->fields.playerSkillCount;
  v174->fields.playerMasterSkillCount = this->fields.playerMasterSkillCount;
  v174->fields.enemyEntryMaxCountEachTurn = this->fields._EnemyEntryMaxCountEachTurn_k__BackingField;
  v174->fields.enemyMasterChangedFaceId = this->fields.enemyMasterChangedFaceId;
  comhistory = (__int64)this->fields.battleAtkManager;
  if ( !comhistory )
    goto LABEL_165;
  (*(void (__fastcall **)(__int64, BattleData_SaveData_o *, _QWORD, long double))(*(_QWORD *)comhistory + 440LL))(
    comhistory,
    v174,
    *(_QWORD *)(*(_QWORD *)comhistory + 448LL),
    v166);
  comhistory = (__int64)this->fields.battleEvent;
  if ( !comhistory )
    goto LABEL_165;
  (*(void (__fastcall **)(__int64, BattleData_SaveData_o *, _QWORD))(*(_QWORD *)comhistory + 584LL))(
    comhistory,
    v174,
    *(_QWORD *)(*(_QWORD *)comhistory + 592LL));
  calledEnemyUniqueIdHash = this->fields.calledEnemyUniqueIdHash;
  if ( calledEnemyUniqueIdHash && calledEnemyUniqueIdHash->fields._count >= 1 )
    v168 = System_Linq_Enumerable__ToArray_int_(
             (System_Collections_Generic_IEnumerable_TSource__o *)calledEnemyUniqueIdHash,
             (const MethodInfo_1A9AE24 *)Method_System_Linq_Enumerable_ToArray_int___);
  else
    v168 = 0LL;
  v174->fields.calledEnemyUniqueIds = v168;
  sub_B2C2F8(&v174->fields.calledEnemyUniqueIds, v168);
  return v174;
}


void __fastcall BattleData__SetSavedCommandCardBuffData(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  struct BattleCommandData_array *draw_commandlist; // x8
  BattleData_o *v4; // x19
  __int64 v5; // x9
  unsigned int v6; // w21
  BattleCommandData_o *v7; // x20
  struct BaseBattleEvent_o *battleEvent; // x1
  struct BattleCommandData_array *p_shcmlist; // x8
  __int64 v10; // x9
  unsigned int v11; // w21
  BattleCommandData_o *v12; // x20
  struct BaseBattleEvent_o *v13; // x1
  struct BattleCommandData_array *fixedCommands; // x8
  __int64 v15; // x9
  unsigned int v16; // w21
  BattleCommandData_o *v17; // x20
  struct BaseBattleEvent_o *v18; // x1
  __int64 v19; // x0

  draw_commandlist = this->fields.draw_commandlist;
  v4 = this;
  if ( draw_commandlist )
  {
    v5 = *(_QWORD *)&draw_commandlist->max_length;
    if ( v5 )
    {
      if ( (int)v5 >= 1 )
      {
        v6 = 0;
        while ( v6 < (unsigned int)v5 )
        {
          v7 = draw_commandlist->m_Items[v6];
          if ( !v7
            || (this = (BattleData_o *)BattleData__getServantData(v4, v7->fields.uniqueId, v2)) == 0LL
            || (battleEvent = this->fields.battleEvent,
                v7->fields.battleBuffData = (struct BattleBuffData_o *)battleEvent,
                sub_B2C2F8(&v7->fields.battleBuffData, battleEvent),
                (draw_commandlist = v4->fields.draw_commandlist) == 0LL) )
          {
LABEL_29:
            sub_B2C434(this, method);
          }
          LODWORD(v5) = draw_commandlist->max_length;
          if ( (int)++v6 >= (int)v5 )
            goto LABEL_10;
        }
LABEL_30:
        v19 = sub_B2C460(this);
        sub_B2C400(v19, 0LL);
      }
    }
  }
LABEL_10:
  p_shcmlist = v4->fields.p_shcmlist;
  if ( p_shcmlist )
  {
    v10 = *(_QWORD *)&p_shcmlist->max_length;
    if ( v10 )
    {
      if ( (int)v10 >= 1 )
      {
        v11 = 0;
        while ( v11 < (unsigned int)v10 )
        {
          v12 = p_shcmlist->m_Items[v11];
          if ( !v12 )
            goto LABEL_29;
          this = (BattleData_o *)BattleData__getServantData(v4, v12->fields.uniqueId, v2);
          if ( !this )
            goto LABEL_29;
          v13 = this->fields.battleEvent;
          v12->fields.battleBuffData = (struct BattleBuffData_o *)v13;
          sub_B2C2F8(&v12->fields.battleBuffData, v13);
          p_shcmlist = v4->fields.p_shcmlist;
          if ( !p_shcmlist )
            goto LABEL_29;
          LODWORD(v10) = p_shcmlist->max_length;
          if ( (int)++v11 >= (int)v10 )
            goto LABEL_19;
        }
        goto LABEL_30;
      }
    }
  }
LABEL_19:
  fixedCommands = v4->fields.fixedCommands;
  if ( fixedCommands )
  {
    v15 = *(_QWORD *)&fixedCommands->max_length;
    if ( v15 )
    {
      if ( (int)v15 >= 1 )
      {
        v16 = 0;
        while ( v16 < (unsigned int)v15 )
        {
          v17 = fixedCommands->m_Items[v16];
          if ( !v17 )
            goto LABEL_29;
          this = (BattleData_o *)BattleData__getServantData(v4, v17->fields.uniqueId, v2);
          if ( !this )
            goto LABEL_29;
          v18 = this->fields.battleEvent;
          v17->fields.battleBuffData = (struct BattleBuffData_o *)v18;
          sub_B2C2F8(&v17->fields.battleBuffData, v18);
          fixedCommands = v4->fields.fixedCommands;
          if ( !fixedCommands )
            goto LABEL_29;
          LODWORD(v15) = fixedCommands->max_length;
          if ( (int)++v16 >= (int)v15 )
            return;
        }
        goto LABEL_30;
      }
    }
  }
}


void __fastcall BattleData__SetTemporaryWaveReStartData(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0
  const MethodInfo *v4; // x1
  struct BattleData_SaveData_o *v5; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    goto LABEL_6;
  if ( QuestPhaseEntity__IsContinueWaveRestart(questphase_ent, 0LL) )
  {
    v5 = BattleData__SetSaveData(this, v4);
    this->fields.tempWaveRestartData = v5;
    sub_B2C2F8(&this->fields.tempWaveRestartData, v5);
    questphase_ent = (QuestPhaseEntity_o *)this->fields.tempWaveRestartData;
    if ( questphase_ent )
    {
      *(_QWORD *)&questphase_ent->fields.giftId = 0LL;
      sub_B2C2F8(&questphase_ent->fields.giftId, 0LL);
      this->fields.isWaveRestartInitialize = 0;
      this->fields.isSetWaveRestartCriticalArray = 0;
      return;
    }
LABEL_6:
    sub_B2C434(questphase_ent, method);
  }
  this->fields.tempWaveRestartData = 0LL;
  sub_B2C2F8(&this->fields.tempWaveRestartData, 0LL);
}


void __fastcall BattleData__SetUsedTurn(BattleData_o *this, const MethodInfo *method)
{
  struct System_Int32_array *waveClearNeedTurn; // x8
  __int64 wavecount; // x9
  __int64 v4; // x0

  waveClearNeedTurn = this->fields.waveClearNeedTurn;
  if ( !waveClearNeedTurn )
    sub_B2C434(this, method);
  wavecount = this->fields.wavecount;
  if ( (unsigned int)wavecount >= waveClearNeedTurn->max_length )
  {
    v4 = sub_B2C460(this);
    sub_B2C400(v4, 0LL);
  }
  waveClearNeedTurn->m_Items[wavecount + 1] = this->fields.turnCount;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__SetWasAttackTargetId(
        BattleData_o *this,
        int32_t actorId,
        int32_t targetId,
        const MethodInfo *method)
{
  BattleData_o *data; // x0
  BattleServantData_o *ServantData; // x0

  data = this->fields.data;
  if ( !data )
    sub_B2C434(0LL, actorId);
  ServantData = BattleData__getServantData(data, targetId, *(const MethodInfo **)&targetId);
  if ( ServantData )
    ServantData->fields.wasAttackTargetId = actorId;
}


void __fastcall BattleData__SetWasAttackTargetIdList(
        BattleData_o *this,
        int32_t actorId,
        System_Int32_array *targetIdlist,
        const MethodInfo *method)
{
  __int64 v4; // x8
  unsigned __int64 v8; // x22
  __int64 v9; // x0

  if ( !targetIdlist )
    sub_B2C434(this, actorId);
  v4 = *(_QWORD *)&targetIdlist->max_length;
  if ( (int)v4 >= 1 )
  {
    v8 = 0LL;
    do
    {
      if ( v8 >= (unsigned int)v4 )
      {
        v9 = sub_B2C460(this);
        sub_B2C400(v9, 0LL);
      }
      BattleData__SetWasAttackTargetId(this, actorId, targetIdlist->m_Items[v8 + 1], method);
      LODWORD(v4) = targetIdlist->max_length;
      ++v8;
    }
    while ( (__int64)v8 < (int)v4 );
  }
}


void __fastcall BattleData__SetWaveRestartDataCriticalArray(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  QuestPhaseEntity_o *questphase_ent; // x0
  struct BattleData_SaveData_o *tempWaveRestartData; // x8
  bool v6; // w1
  const MethodInfo *v7; // x2
  struct BattleData_SaveData_o *WaveRestartData; // x0
  struct System_Int32_array *commandCriticalArray; // x1
  const MethodInfo *v10; // x1

  if ( (byte_41843BD & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, method);
    sub_B2C35C(&StringLiteral_8126/*"IsDuelMessagePack"*/, v3);
    byte_41843BD = 1;
  }
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    goto LABEL_16;
  if ( QuestPhaseEntity__IsContinueWaveRestart(questphase_ent, 0LL) && !this->fields.isSetWaveRestartCriticalArray )
  {
    tempWaveRestartData = this->fields.tempWaveRestartData;
    if ( tempWaveRestartData )
      goto LABEL_11;
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    v6 = EncryptedPlayerPrefs__GetInt_33168616((System_String_o *)StringLiteral_8126/*"IsDuelMessagePack"*/, 0, 0LL) != 0;
    WaveRestartData = BattleData__LoadWaveRestartData(this, v6, v7);
    this->fields.tempWaveRestartData = WaveRestartData;
    sub_B2C2F8(&this->fields.tempWaveRestartData, WaveRestartData);
    tempWaveRestartData = this->fields.tempWaveRestartData;
    if ( tempWaveRestartData )
    {
LABEL_11:
      if ( BasicHelper__IsNullOrEmpty(
             (System_Collections_ICollection_o *)tempWaveRestartData->fields.commandCriticalArray,
             0LL) )
      {
        questphase_ent = (QuestPhaseEntity_o *)this->fields.tempWaveRestartData;
        if ( questphase_ent )
        {
          commandCriticalArray = this->fields.commandCriticalArray;
          *(_QWORD *)&questphase_ent->fields.giftId = commandCriticalArray;
          sub_B2C2F8(&questphase_ent->fields.giftId, commandCriticalArray);
          this->fields.isSetWaveRestartCriticalArray = 1;
          BattleData__SaveWaveRestartData(this, v10);
          return;
        }
LABEL_16:
        sub_B2C434(questphase_ent, method);
      }
    }
    this->fields.isSetWaveRestartCriticalArray = 1;
  }
}


void __fastcall BattleData__SubBuff(
        BattleData_o *this,
        System_String_o *key,
        BattleServantData_o *targetSvt,
        const MethodInfo *method)
{
  System_String_o *Value; // x21
  const MethodInfo *v7; // x1
  BattleData_o *data; // x0
  const MethodInfo *v9; // x3
  System_Int32_array *v10; // x2

  Value = ConstantStrMaster__getValue(key, 0LL);
  if ( !System_String__IsNullOrEmpty(Value, 0LL) )
  {
    if ( targetSvt )
    {
      data = (BattleData_o *)BasicHelper__Convert2IntArray(Value, 0x2Cu, 0LL);
    }
    else
    {
      data = this->fields.data;
      if ( !data )
        goto LABEL_8;
      targetSvt = BattleData__getTopFieldPlayerServant(data, v7);
      data = (BattleData_o *)BasicHelper__Convert2IntArray(Value, 0x2Cu, 0LL);
      if ( !targetSvt )
        goto LABEL_8;
    }
    v10 = (System_Int32_array *)data;
    data = this->fields.data;
    if ( data )
    {
      BattleData__SubBuffFromPT(data, targetSvt->fields.uniqueId, v10, v9);
      return;
    }
LABEL_8:
    sub_B2C434(data, v7);
  }
}


void __fastcall BattleData__SubBuffExitSvt(
        BattleData_o *this,
        BattleServantData_o *targetSvt,
        const MethodInfo *method)
{
  const MethodInfo *v3; // x3

  if ( (byte_4184317 & 1) == 0 )
  {
    sub_B2C35C(&StringLiteral_12564/*"SVT_EXIT_PT_BUFF_INDIVI"*/, targetSvt);
    byte_4184317 = 1;
  }
  BattleData__SubBuffTarget(this, (System_String_o *)StringLiteral_12564/*"SVT_EXIT_PT_BUFF_INDIVI"*/, targetSvt, v3);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__SubBuffFromPT(
        BattleData_o *this,
        int32_t uniqueId,
        System_Int32_array *indivi,
        const MethodInfo *method)
{
  void *data; // x0
  int v6; // w8
  void *v7; // x20
  unsigned int v8; // w21
  __int64 v9; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_10;
  data = BattleData__getPTList((BattleData_o *)data, uniqueId, (const MethodInfo *)indivi);
  if ( !data )
    goto LABEL_10;
  v6 = *((_DWORD *)data + 6);
  v7 = data;
  if ( v6 >= 1 )
  {
    v8 = 0;
    while ( 1 )
    {
      if ( v8 >= v6 )
      {
        v9 = sub_B2C460(data);
        sub_B2C400(v9, 0LL);
      }
      data = (void *)*((_QWORD *)v7 + (int)v8 + 4);
      if ( !data )
        break;
      data = BattleServantData__subBuffFromIndividualites((BattleServantData_o *)data, indivi, 0, 0, 0, 0, 0LL);
      v6 = *((_DWORD *)v7 + 6);
      if ( (int)++v8 >= v6 )
        return;
    }
LABEL_10:
    sub_B2C434(data, *(_QWORD *)&uniqueId);
  }
}


void __fastcall BattleData__SubBuffFromPT_18448196(
        BattleData_o *this,
        BattleServantData_o *targetSvt,
        const MethodInfo *method)
{
  const MethodInfo *v3; // x3

  if ( (byte_4184316 & 1) == 0 )
  {
    sub_B2C35C(&StringLiteral_12409/*"SUB_PT_BUFF_INDIVI"*/, targetSvt);
    byte_4184316 = 1;
  }
  BattleData__SubBuff(this, (System_String_o *)StringLiteral_12409/*"SUB_PT_BUFF_INDIVI"*/, targetSvt, v3);
}


void __fastcall BattleData__SubBuffTarget(
        BattleData_o *this,
        System_String_o *key,
        BattleServantData_o *targetSvt,
        const MethodInfo *method)
{
  System_String_o *Value; // x19
  const MethodInfo *v8; // x1
  System_Int32_array *v9; // x19
  BattleServantData_o *PlayerServantList; // x0
  __int64 v11; // x1
  BattleServantData_o *v12; // x20
  int uniqueId; // w8
  unsigned int v14; // w21
  __int64 v15; // x0
  __int64 v16; // x0

  if ( (byte_4184318 & 1) == 0 )
  {
    sub_B2C35C(&BattleServantData___TypeInfo, key);
    byte_4184318 = 1;
  }
  Value = ConstantStrMaster__getValue(key, 0LL);
  if ( System_String__IsNullOrEmpty(Value, 0LL) )
    return;
  v9 = BasicHelper__Convert2IntArray(Value, 0x2Cu, 0LL);
  if ( !targetSvt )
  {
    PlayerServantList = (BattleServantData_o *)BattleData__getPlayerServantList(this, v8);
    v12 = PlayerServantList;
    if ( PlayerServantList )
      goto LABEL_10;
LABEL_16:
    sub_B2C434(PlayerServantList, v11);
  }
  PlayerServantList = (BattleServantData_o *)sub_B2C374(BattleServantData___TypeInfo, 1LL);
  if ( !PlayerServantList )
    goto LABEL_16;
  v12 = PlayerServantList;
  PlayerServantList = (BattleServantData_o *)sub_B2C41C(targetSvt, PlayerServantList->klass->_1.element_class);
  if ( !PlayerServantList )
  {
    v16 = sub_B2C454();
    sub_B2C400(v16, 0LL);
  }
  if ( !v12->fields.uniqueId )
    goto LABEL_17;
  v12->fields.userSvtId.fields.currentCryptoKey = (int64_t)targetSvt;
  sub_B2C2F8(&v12->fields.userSvtId, targetSvt);
LABEL_10:
  uniqueId = v12->fields.uniqueId;
  if ( uniqueId >= 1 )
  {
    v14 = 0;
    while ( v14 < uniqueId )
    {
      PlayerServantList = (BattleServantData_o *)*(&v12->fields.userSvtId.fields.currentCryptoKey + (int)v14);
      if ( !PlayerServantList )
        goto LABEL_16;
      PlayerServantList = (BattleServantData_o *)BattleServantData__subBuffFromIndividualites(
                                                   PlayerServantList,
                                                   v9,
                                                   0,
                                                   0,
                                                   0,
                                                   0,
                                                   0LL);
      uniqueId = v12->fields.uniqueId;
      if ( (int)++v14 >= uniqueId )
        return;
    }
LABEL_17:
    v15 = sub_B2C460(PlayerServantList);
    sub_B2C400(v15, 0LL);
  }
}


void __fastcall BattleData__SuccessContinue(BattleData_o *this, const MethodInfo *method)
{
  int32_t v3; // w19

  if ( (byte_41842F9 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    byte_41842F9 = 1;
  }
  v3 = this->fields.continueCount + 1;
  this->fields.continueCount = v3;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  BattleData__saveContinueCount(v3, method);
}


bool __fastcall BattleData__TryGetRaidEntity(
        BattleData_o *this,
        EventRaidEntity_o **raidEnt,
        int32_t raidId,
        const MethodInfo *method)
{
  __int64 v7; // x1
  DataManager_o *Instance; // x0
  __int64 v9; // x1
  struct BattleEntity_o *battle_ent; // x8

  if ( (byte_4184388 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_EventRaidMaster___, raidEnt);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v7);
    byte_4184388 = 1;
  }
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance
    || (Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                      Instance,
                                      (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EventRaidMaster___),
        (battle_ent = this->fields.battle_ent) == 0LL)
    || !Instance )
  {
    sub_B2C434(Instance, v9);
  }
  return EventRaidMaster__TryGetEntity((EventRaidMaster_o *)Instance, raidEnt, battle_ent->fields.eventId, raidId, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__UnLoadBattleEffectVoice(BattleData_o *this, int32_t waveCount, const MethodInfo *method)
{
  BattleData_o *v4; // x20
  struct BattleEntity_o *battle_ent; // x8
  int rootfsm; // w8
  BattleData_o *v7; // x19
  unsigned int v8; // w21
  __int64 v9; // x8
  int32_t v10; // w20
  __int64 v11; // x0

  v4 = this;
  if ( (byte_41843A8 & 1) == 0 )
  {
    this = (BattleData_o *)sub_B2C35C(&ServantAssetLoadManager_TypeInfo, *(_QWORD *)&waveCount);
    byte_41843A8 = 1;
  }
  battle_ent = v4->fields.battle_ent;
  if ( !battle_ent )
    goto LABEL_17;
  this = (BattleData_o *)battle_ent->fields.battleInfo;
  if ( !this )
    goto LABEL_17;
  this = (BattleData_o *)BattleInfoData__GetStageCutinInfo((BattleInfoData_o *)this, waveCount, 0LL);
  if ( !this )
    goto LABEL_17;
  rootfsm = (int)this->fields.rootfsm;
  v7 = this;
  if ( rootfsm >= 1 )
  {
    v8 = 0;
    while ( 1 )
    {
      if ( v8 >= rootfsm )
      {
        v11 = sub_B2C460(this);
        sub_B2C400(v11, 0LL);
      }
      v9 = *((_QWORD *)&v7->fields.fsm + (int)v8);
      if ( !v9 )
        break;
      v10 = *(_DWORD *)(v9 + 32);
      if ( v10 )
      {
        if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
        }
        ServantAssetLoadManager__unloadServantVoice(v10, 0, 0, 0LL);
      }
      rootfsm = (int)v7->fields.rootfsm;
      if ( (int)++v8 >= rootfsm )
        return;
    }
LABEL_17:
    sub_B2C434(this, *(_QWORD *)&waveCount);
  }
}


void __fastcall BattleData__UpdateCommandData(
        BattleData_o *this,
        BattleCommandData_array *commandArray,
        BattleServantData_o *svtData,
        const MethodInfo *method)
{
  __int64 IsNullOrEmpty; // x0
  __int64 v7; // x1
  signed int max_length; // w8
  unsigned int v9; // w23
  BattleCommandData_o *v10; // x25
  __int64 v11; // x21
  __int64 v12; // x22
  __int64 v13; // x0
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v14; // 0:x0.16

  if ( (byte_41842F1 & 1) == 0 )
  {
    sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, commandArray);
    byte_41842F1 = 1;
  }
  IsNullOrEmpty = BasicHelper__IsNullOrEmpty((System_Collections_ICollection_o *)commandArray, 0LL);
  if ( svtData && (IsNullOrEmpty & 1) == 0 )
  {
    if ( !commandArray )
      goto LABEL_18;
    max_length = commandArray->max_length;
    if ( max_length >= 1 )
    {
      v9 = 0;
      while ( 1 )
      {
        if ( v9 >= max_length )
        {
          v13 = sub_B2C460(IsNullOrEmpty);
          sub_B2C400(v13, 0LL);
        }
        v10 = commandArray->m_Items[v9];
        if ( !v10 )
          break;
        if ( v10->fields.uniqueId == svtData->fields.uniqueId )
        {
          v12 = *(_QWORD *)&svtData->fields.svtId.fields.currentCryptoKey;
          v11 = *(_QWORD *)&svtData->fields.svtId.fields.fakeValue;
          if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
          }
          *(_QWORD *)&v14.fields.currentCryptoKey = v12;
          *(_QWORD *)&v14.fields.fakeValue = v11;
          v10->fields.svtId = CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v14, 0LL);
          v10->fields.imageSvtId = BattleServantData__GetCommandImageSvtId(svtData, 0LL);
          v10->fields.svtlimit = BattleServantData__getCommandDispLimitCount(svtData, 0LL);
          v10->fields._loadsvtLimit = BattleServantData__getDispLimitCount(svtData, 1, 0LL);
          IsNullOrEmpty = BattleServantData__getAttri(svtData, 0LL);
          v10->fields.attri = IsNullOrEmpty;
        }
        max_length = commandArray->max_length;
        if ( (int)++v9 >= max_length )
          return;
      }
LABEL_18:
      sub_B2C434(IsNullOrEmpty, v7);
    }
  }
}


void __fastcall BattleData__UpdateContinueItemInfo(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  DataManager_o *Instance; // x0
  __int64 v11; // x1
  System_Collections_Generic_List_ItemEntity__o *EntityListByType; // x21
  UserItemMaster_o *v13; // x20
  Il2CppObject *current; // x23
  int64_t UserId; // x0
  __int64 v16; // x1
  _BOOL8 v17; // x0
  __int64 v18; // x1
  UserItemEntity_o *v19; // x8
  System_Collections_Generic_List_Enumerator_T__o v20; // [xsp+8h] [xbp-68h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v21; // [xsp+20h] [xbp-50h] BYREF
  UserItemEntity_o *entity; // [xsp+48h] [xbp-28h] BYREF

  if ( (byte_41843A0 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_ItemMaster___, method);
    sub_B2C35C(&Method_DataManager_GetMasterData_UserItemMaster___, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_ItemEntity__Dispose__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_ItemEntity__MoveNext__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_ItemEntity__get_Current__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_ItemEntity__GetEnumerator__, v7);
    sub_B2C35C(&NetworkManager_TypeInfo, v8);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v9);
    byte_41843A0 = 1;
  }
  entity = 0LL;
  memset(&v21, 0, sizeof(v21));
  HIDWORD(this->fields.continueItemDeadLine) = 0;
  *(_OWORD *)&this->fields.continueUseItemId = 0u;
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance
    || (Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                      Instance,
                                      (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_ItemMaster___)) == 0LL
    || (EntityListByType = ItemMaster__GetEntityListByType((ItemMaster_o *)Instance, 27, 0LL),
        (Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__)) == 0LL)
    || (Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                      Instance,
                                      (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_UserItemMaster___),
        !EntityListByType) )
  {
    sub_B2C434(Instance, v11);
  }
  v13 = (UserItemMaster_o *)Instance;
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v20,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)EntityListByType,
    (const MethodInfo_2EF52DC *)Method_System_Collections_Generic_List_ItemEntity__GetEnumerator__);
  v21 = v20;
  while ( System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v21,
            (const MethodInfo_20EA42C *)Method_System_Collections_Generic_List_Enumerator_ItemEntity__MoveNext__) )
  {
    current = v21.fields.current;
    if ( v21.fields.current )
    {
      this->fields.continueItemDeadLine = (int64_t)v21.fields.current[6].klass;
      this->fields.continueItemImageId = (int32_t)current[2].monitor;
      if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !NetworkManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
      }
      UserId = NetworkManager__get_UserId(0LL);
      if ( !v13 )
        sub_B2C434(UserId, v16);
      v17 = UserItemMaster__TryGetEntity(v13, &entity, UserId, (int32_t)current[1].klass, 0LL);
      if ( v17 )
      {
        v19 = entity;
        if ( !entity )
          sub_B2C434(v17, v18);
        if ( entity->fields.num >= 1 )
        {
          this->fields.continueUseItemId = entity->fields.itemId;
          this->fields.continueItemNum = v19->fields.num;
          break;
        }
      }
    }
  }
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v21,
    (const MethodInfo_20EA428 *)Method_System_Collections_Generic_List_Enumerator_ItemEntity__Dispose__);
}


void __fastcall BattleData__UpdateTargetPosEnemyAppearValid(
        BattleData_o *this,
        System_Int32_array *positions,
        bool isValid,
        const MethodInfo *method)
{
  signed int max_length; // w11
  __int64 v5; // x8
  struct System_Boolean_array *enemyAppearValid; // x11
  int v7; // w12
  __int64 v8; // x0

  if ( positions )
  {
    max_length = positions->max_length;
    if ( max_length >= 1 )
    {
      v5 = 0LL;
      do
      {
        if ( (unsigned int)v5 >= max_length )
          goto LABEL_9;
        enemyAppearValid = this->fields.enemyAppearValid;
        if ( !enemyAppearValid )
          sub_B2C434(this, positions);
        v7 = positions->m_Items[v5 + 1] - 1;
        if ( v7 >= enemyAppearValid->max_length )
        {
LABEL_9:
          v8 = sub_B2C460(this);
          sub_B2C400(v8, 0LL);
        }
        enemyAppearValid->m_Items[v7 + 4] = isValid;
        max_length = positions->max_length;
        ++v5;
      }
      while ( (int)v5 < max_length );
    }
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData___RefreshAllSubServantDeckIndex_b__330_0(
        BattleData_o *this,
        bool isEnemy,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData___c__DisplayClass330_0_o *v9; // x21
  const MethodInfo *v10; // x2
  BattleServantData_array *SubServantArray; // x0
  __int64 v12; // x1
  __int64 v13; // x8
  __int64 v14; // x8
  System_Collections_Generic_IEnumerable_T__o *v15; // x19
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *v16; // x20

  if ( (byte_41843C2 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Action_BattleServantData___ctor__, isEnemy);
    sub_B2C35C(&System_Action_BattleServantData__TypeInfo, v5);
    sub_B2C35C(&Method_BasicHelper_ForEach_BattleServantData___, v6);
    sub_B2C35C(&Method_BattleData___c__DisplayClass330_0__RefreshAllSubServantDeckIndex_b__1__, v7);
    sub_B2C35C(&BattleData___c__DisplayClass330_0_TypeInfo, v8);
    byte_41843C2 = 1;
  }
  v9 = (BattleData___c__DisplayClass330_0_o *)sub_B2C42C(BattleData___c__DisplayClass330_0_TypeInfo);
  BattleData___c__DisplayClass330_0___ctor(v9, 0LL);
  SubServantArray = BattleData__GetSubServantArray(this, isEnemy, v10);
  v13 = 288LL;
  if ( isEnemy )
    v13 = 296LL;
  v14 = *(__int64 *)((char *)&this->klass + v13);
  if ( !v14 || !v9 )
    sub_B2C434(SubServantArray, v12);
  v15 = (System_Collections_Generic_IEnumerable_T__o *)SubServantArray;
  v9->fields.deckIndex = *(_QWORD *)(v14 + 24);
  v16 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)sub_B2C42C(System_Action_BattleServantData__TypeInfo);
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData____ctor(
    v16,
    (Il2CppObject *)v9,
    Method_BattleData___c__DisplayClass330_0__RefreshAllSubServantDeckIndex_b__1__,
    (const MethodInfo_24BBAD8 *)Method_System_Action_BattleServantData___ctor__);
  BasicHelper__ForEach_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
    v15,
    (System_Action_T__o *)v16,
    (const MethodInfo_1727C50 *)Method_BasicHelper_ForEach_BattleServantData___);
}


BattleServantData_SaveData_o *__fastcall BattleData___SetSaveData_b__525_0(
        BattleData_o *this,
        AiNpcBattleServantData_o *svt,
        const MethodInfo *method)
{
  if ( !svt )
    sub_B2C434(this, 0LL);
  return (BattleServantData_SaveData_o *)((__int64 (__fastcall *)(AiNpcBattleServantData_o *, BattleData_o *, Il2CppMethodPointer))svt->klass->vtable._16_getSaveData.method)(
                                           svt,
                                           this,
                                           svt->klass->vtable._17_setSaveData.methodPtr);
}


void __fastcall BattleData__addCriticalPoint(
        BattleData_o *this,
        int32_t count,
        bool multipleGainStar,
        const MethodInfo *method)
{
  int v4; // w8
  int32_t totalCriticalStars; // w10
  int32_t criticalstars; // w9
  int32_t v7; // w9
  int32_t v8; // w8

  v4 = count;
  if ( multipleGainStar )
    v4 = this->fields.addCriticalstars + count;
  totalCriticalStars = this->fields.totalCriticalStars;
  criticalstars = this->fields.criticalstars;
  this->fields.addCriticalstars = v4;
  this->fields.prevCriticalstars = criticalstars;
  v7 = criticalstars + count;
  if ( totalCriticalStars + v4 - 50 <= 49 )
    v8 = v7;
  else
    v8 = 49;
  if ( v8 >= 99 )
    v8 = 99;
  this->fields.criticalstars = v8;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__addDamage(
        BattleData_o *this,
        int32_t targetId,
        int32_t damage,
        bool noAccumulation,
        const MethodInfo *method)
{
  BattleServantData_o *ServantData; // x0
  __int64 v9; // x1
  BattleServantData_o *v10; // x22
  const MethodInfo *v11; // x2

  ServantData = BattleData__getServantData(this, targetId, *(const MethodInfo **)&damage);
  if ( !ServantData )
    sub_B2C434(0LL, v9);
  v10 = ServantData;
  BattleServantData__addDamage(ServantData, damage, noAccumulation, 0LL);
  if ( v10->fields.isEnemy )
    BattleData__AddTotalTurnDamage(this, damage, v11);
}


void __fastcall BattleData__addDropItems(BattleData_o *this, DropInfo_o *item, const MethodInfo *method)
{
  __int64 v5; // x1
  BattleDropItem_o *v6; // x21
  struct System_Collections_Generic_List_BattleDropItem__o *droplist; // x0
  __int64 v8; // x1

  if ( (byte_4184310 & 1) == 0 )
  {
    sub_B2C35C(&BattleDropItem_TypeInfo, item);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleDropItem__Add__, v5);
    byte_4184310 = 1;
  }
  v6 = (BattleDropItem_o *)sub_B2C42C(BattleDropItem_TypeInfo);
  BattleDropItem___ctor(v6, 0LL);
  if ( !v6 || (BattleDropItem__setData(v6, item, 0LL), (droplist = this->fields.droplist) == 0LL) )
    sub_B2C434(droplist, v8);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)droplist,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v6,
    (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleDropItem__Add__);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__addHeal(
        BattleData_o *this,
        int32_t targetId,
        int32_t heal,
        bool isForce,
        const MethodInfo *method)
{
  BattleServantData_o *ServantData; // x0
  __int64 v8; // x1

  ServantData = BattleData__getServantData(this, targetId, *(const MethodInfo **)&heal);
  if ( !ServantData )
    sub_B2C434(0LL, v8);
  BattleServantData__healHp(ServantData, heal, isForce, 0LL);
}


void __fastcall BattleData__addLoadedCommonEffectPath(
        BattleData_o *this,
        System_String_array *pathArray,
        const MethodInfo *method)
{
  struct System_Collections_Generic_List_string__o *commonEffectPathList; // x0

  if ( (byte_41842DB & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_string__AddRange__, pathArray);
    byte_41842DB = 1;
  }
  commonEffectPathList = this->fields.commonEffectPathList;
  if ( !commonEffectPathList )
    sub_B2C434(0LL, pathArray);
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)commonEffectPathList,
    (System_Collections_Generic_IEnumerable_T__o *)pathArray,
    (const MethodInfo_2EF46B0 *)Method_System_Collections_Generic_List_string__AddRange__);
}


void __fastcall BattleData__addLogCommand(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  struct BattleCommandData_array *selectcommandlist; // x8
  __int64 v5; // x21
  il2cpp_array_size_t v6; // w24
  BattleData_CommandHistory_o *v7; // x20
  struct BattleCommandData_array *v8; // x8
  __int64 v9; // x8
  struct BattleCommandData_array *v10; // x8
  __int64 v11; // x0

  v2 = this;
  if ( (byte_4184367 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_CommandHistory_TypeInfo, method);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleData_CommandHistory__Add__, v3);
    byte_4184367 = 1;
  }
  selectcommandlist = v2->fields.selectcommandlist;
  if ( !selectcommandlist )
LABEL_15:
    sub_B2C434(this, method);
  v5 = 4LL;
  while ( 1 )
  {
    v6 = v5 - 4;
    if ( (int)v5 - 4 >= (signed int)selectcommandlist->max_length )
      break;
    v7 = (BattleData_CommandHistory_o *)sub_B2C42C(BattleData_CommandHistory_TypeInfo);
    BattleData_CommandHistory___ctor(v7, 0LL);
    v8 = v2->fields.selectcommandlist;
    if ( !v8 )
      goto LABEL_15;
    if ( v6 >= v8->max_length )
    {
LABEL_17:
      v11 = sub_B2C460(this);
      sub_B2C400(v11, 0LL);
    }
    v9 = *((_QWORD *)&v8->obj.klass + v5);
    if ( v9 )
    {
      if ( v7 )
      {
        v7->fields.uid = *(_DWORD *)(v9 + 40);
        v10 = v2->fields.selectcommandlist;
        if ( v10 )
        {
          if ( v6 >= v10->max_length )
            goto LABEL_17;
          this = (BattleData_o *)*((_QWORD *)&v10->obj.klass + v5);
          if ( this )
          {
            v7->fields.ty = BattleCommandData__get_type((BattleCommandData_o *)this, method);
            this = (BattleData_o *)v2->fields.comhistory;
            if ( this )
            {
              System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
                (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this,
                (EventMissionProgressRequest_Argument_ProgressData_o *)v7,
                (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleData_CommandHistory__Add__);
              selectcommandlist = v2->fields.selectcommandlist;
              ++v5;
              if ( selectcommandlist )
                continue;
            }
          }
        }
      }
    }
    goto LABEL_15;
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__addMasterSkillInfo(
        BattleData_o *this,
        int32_t type,
        int32_t index,
        int32_t skillId,
        int32_t skillLv,
        int32_t condId,
        bool isAdd,
        const MethodInfo *method)
{
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  _DWORD *SkillData; // x0
  __int64 v20; // x1
  __int64 v21; // x9
  _DWORD *v22; // x20
  __int64 v23; // x22
  __int64 v24; // x22
  SkillEntity_o *Entity; // x0
  bool isPassive; // w0

  if ( (byte_418430B & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_SkillMaster___, *(_QWORD *)&type);
    sub_B2C35C(&Method_DataMasterBase_SkillMaster__SkillEntity__int__GetEntity__, v15);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__Add__, v16);
    sub_B2C35C(&ServantAssetLoadManager_TypeInfo, v17);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__getInstance__, v18);
    byte_418430B = 1;
  }
  SkillData = BattleSkillInfoData__MakeSkillData(type, 0LL);
  if ( !SkillData )
    goto LABEL_18;
  v21 = *(_QWORD *)SkillData;
  SkillData[4] = type;
  SkillData[5] = index;
  SkillData[6] = -1;
  v22 = SkillData;
  (*(void (__fastcall **)(_DWORD *, _QWORD, _QWORD))(v21 + 376))(
    SkillData,
    (unsigned int)skillId,
    *(_QWORD *)(v21 + 384));
  v22[9] = skillLv;
  v22[24] = condId;
  *((_BYTE *)v22 + 84) = isAdd;
  v23 = *((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3);
  if ( (*(_BYTE *)(v23 + 306) & 1) == 0 )
    sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3));
  v24 = **(_QWORD **)(v23 + 192);
  if ( (*(_BYTE *)(v24 + 306) & 1) == 0 )
    sub_AC505C(v24);
  SkillData = **(_DWORD ***)(v24 + 184);
  if ( !SkillData )
    goto LABEL_18;
  SkillData = DataManager__GetMasterData_WarQuestSelectionMaster_(
                (DataManager_o *)SkillData,
                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_SkillMaster___);
  if ( !SkillData )
    goto LABEL_18;
  Entity = (SkillEntity_o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                              (DataMasterBase_WarMaster__WarEntity__int__o *)SkillData,
                              skillId,
                              (const MethodInfo_24E40D0 *)Method_DataMasterBase_SkillMaster__SkillEntity__int__GetEntity__);
  if ( Entity )
  {
    *((_BYTE *)v22 + 52) = 1;
    isPassive = SkillEntity__isPassive(Entity, 0LL);
    v22[10] = 0;
    *((_BYTE *)v22 + 28) = isPassive;
    v22[12] = 0;
  }
  else
  {
    *((_BYTE *)v22 + 52) = 0;
  }
  SkillData = this->fields.masterSkillInfo;
  if ( !SkillData )
LABEL_18:
    sub_B2C434(SkillData, v20);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)SkillData,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v22,
    (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleSkillInfoData__Add__);
  if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
  }
  ServantAssetLoadManager__preloadSkillAnyVoice((BattleSkillInfoData_o *)v22, 0, 0LL);
}


void __fastcall BattleData__addTotalCriticalStars(BattleData_o *this, int32_t count, const MethodInfo *method)
{
  int32_t v3; // w8

  v3 = this->fields.totalCriticalStars + count;
  if ( v3 >= 99 )
    v3 = 99;
  this->fields.totalCriticalStars = v3;
}


void __fastcall BattleData__changeTutorialBattleSpeed(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  int32_t systemflg_acceleration; // w19
  BattleData_c *v5; // x0
  System_String_o *speedKey; // x20

  if ( (byte_418436E & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    byte_418436E = 1;
  }
  if ( this->fields.tutorialId == 2 )
  {
    systemflg_acceleration = 2;
    this->fields.systemflg_acceleration = 2;
    v5 = BattleData_TypeInfo;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 )
    {
      if ( BattleData_TypeInfo->_2.cctor_finished )
      {
        systemflg_acceleration = 2;
      }
      else
      {
        j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
        v5 = BattleData_TypeInfo;
        systemflg_acceleration = this->fields.systemflg_acceleration;
      }
    }
    speedKey = v5->static_fields->speedKey;
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    EncryptedPlayerPrefs__SetInt(speedKey, systemflg_acceleration, 0LL);
  }
}


bool __fastcall BattleData__checkAliveAllEnemy(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x23
  __int64 size; // x21
  char v6; // w20
  __int64 v7; // x22
  struct System_Collections_Generic_List_BattleServantData__o *v8; // x23

  v2 = this;
  if ( (byte_4184346 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, method);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v3);
    byte_4184346 = 1;
  }
  enemy_datalist = v2->fields.enemy_datalist;
  if ( !enemy_datalist )
    goto LABEL_16;
  size = enemy_datalist->fields._size;
  if ( (int)size >= 1 )
  {
    v6 = 0;
    v7 = 4LL;
    do
    {
      if ( v7 - 4 >= (unsigned __int64)(unsigned int)enemy_datalist->fields._size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      if ( *((_QWORD *)&enemy_datalist->fields._items->obj.klass + v7) )
      {
        v8 = v2->fields.enemy_datalist;
        if ( !v8 )
          break;
        if ( v7 - 4 >= (unsigned __int64)(unsigned int)v8->fields._size )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        this = (BattleData_o *)*((_QWORD *)&v8->fields._items->obj.klass + v7);
        if ( !this )
          break;
        this = (BattleData_o *)BattleServantData__isAlive((BattleServantData_o *)this, 0, 0LL);
        v6 |= (unsigned __int8)this;
      }
      if ( v7 - 3 >= size )
        return v6 & 1;
      enemy_datalist = v2->fields.enemy_datalist;
      ++v7;
    }
    while ( enemy_datalist );
LABEL_16:
    sub_B2C434(this, method);
  }
  v6 = 0;
  return v6 & 1;
}


bool __fastcall BattleData__checkAliveEnemys(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x23
  __int64 size; // x21
  char v6; // w20
  __int64 v7; // x22
  struct System_Collections_Generic_List_BattleServantData__o *v8; // x23

  v2 = this;
  if ( (byte_4184345 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, method);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v3);
    byte_4184345 = 1;
  }
  enemy_datalist = v2->fields.enemy_datalist;
  if ( !enemy_datalist )
    goto LABEL_16;
  size = enemy_datalist->fields._size;
  if ( (int)size >= 1 )
  {
    v6 = 0;
    v7 = 4LL;
    do
    {
      if ( v7 - 4 >= (unsigned __int64)(unsigned int)enemy_datalist->fields._size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      if ( *((_QWORD *)&enemy_datalist->fields._items->obj.klass + v7) )
      {
        v8 = v2->fields.enemy_datalist;
        if ( !v8 )
          break;
        if ( v7 - 4 >= (unsigned __int64)(unsigned int)v8->fields._size )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        this = (BattleData_o *)*((_QWORD *)&v8->fields._items->obj.klass + v7);
        if ( !this )
          break;
        this = (BattleData_o *)BattleServantData__isAlive((BattleServantData_o *)this, 0, 0LL);
        v6 |= (unsigned __int8)this;
      }
      if ( v7 - 3 >= size )
        goto LABEL_18;
      enemy_datalist = v2->fields.enemy_datalist;
      ++v7;
    }
    while ( enemy_datalist );
LABEL_16:
    sub_B2C434(this, method);
  }
  v6 = 0;
LABEL_18:
  if ( v2->fields.leaderDown )
    return 0;
  else
    return v6 & !v2->fields.endbattleFlg;
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__checkAliveOther(BattleData_o *this, int32_t uniqueId, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v6; // x2
  BattleServantData_o *EnemyServantData; // x0
  const MethodInfo *v8; // x1

  data = this->fields.data;
  if ( !data )
    goto LABEL_9;
  if ( uniqueId == -1 || BattleData__getPlayerServantData(data, uniqueId, method) )
  {
    LOBYTE(EnemyServantData) = BattleData__checkAliveEnemys(this, *(const MethodInfo **)&uniqueId);
    return (char)EnemyServantData;
  }
  data = this->fields.data;
  if ( !data )
LABEL_9:
    sub_B2C434(data, *(_QWORD *)&uniqueId);
  EnemyServantData = BattleData__getEnemyServantData(data, uniqueId, v6);
  if ( EnemyServantData )
    LOBYTE(EnemyServantData) = BattleData__checkAlivePlayers(this, v8);
  return (char)EnemyServantData;
}


bool __fastcall BattleData__checkAlivePlayers(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x23
  int size; // w20
  int v6; // w22
  char v7; // w21

  v2 = this;
  if ( (byte_4184343 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, method);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v3);
    byte_4184343 = 1;
  }
  player_datalist = v2->fields.player_datalist;
  if ( !player_datalist )
    goto LABEL_11;
  size = player_datalist->fields._size;
  if ( size >= 1 )
  {
    v6 = 0;
    v7 = 0;
    do
    {
      if ( player_datalist->fields._size <= (unsigned int)v6 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      this = (BattleData_o *)player_datalist->fields._items->m_Items[v6];
      if ( !this )
        break;
      this = (BattleData_o *)BattleServantData__isAlive((BattleServantData_o *)this, 0, 0LL);
      ++v6;
      v7 |= (unsigned __int8)this;
      if ( v6 >= size )
        return v7 & 1;
      player_datalist = v2->fields.player_datalist;
    }
    while ( player_datalist );
LABEL_11:
    sub_B2C434(this, method);
  }
  v7 = 0;
  return v7 & 1;
}


bool __fastcall BattleData__checkAndGetOverrideBgm(
        BattleData_o *this,
        System_String_o **bgmName,
        const MethodInfo *method)
{
  struct OverwriteBattleBgmData_o *overwriteBgmData_k__BackingField; // x8
  _BOOL8 IsNullOrEmpty; // x0
  __int64 v7; // x1
  struct OverwriteBattleBgmData_o *v9; // x8
  System_String_o *BgmName_k__BackingField; // x1
  struct OverwriteBattleBgmData_o *v11; // x8

  if ( (byte_41842E5 & 1) == 0 )
  {
    sub_B2C35C(&StringLiteral_1/*""*/, bgmName);
    byte_41842E5 = 1;
  }
  *bgmName = (System_String_o *)StringLiteral_1/*""*/;
  sub_B2C2F8(bgmName, StringLiteral_1/*""*/);
  overwriteBgmData_k__BackingField = this->fields._overwriteBgmData_k__BackingField;
  if ( !overwriteBgmData_k__BackingField )
    return 0;
  IsNullOrEmpty = System_String__IsNullOrEmpty(overwriteBgmData_k__BackingField->fields._BgmName_k__BackingField, 0LL);
  if ( IsNullOrEmpty )
    return 0;
  v9 = this->fields._overwriteBgmData_k__BackingField;
  if ( !v9
    || (BgmName_k__BackingField = v9->fields._BgmName_k__BackingField,
        *bgmName = BgmName_k__BackingField,
        sub_B2C2F8(bgmName, BgmName_k__BackingField),
        (v11 = this->fields._overwriteBgmData_k__BackingField) == 0LL) )
  {
    sub_B2C434(IsNullOrEmpty, v7);
  }
  return v11->fields._WaveCount_k__BackingField == this->fields.wavecount;
}


bool __fastcall BattleData__checkBattleContinuationEnemys(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2

  return !this->fields.leaderDown && !this->fields.endbattleFlg && BattleData__IsAliveLogic(this, 1, v2);
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__checkDefeatPoint(BattleData_o *this, bool isEnemy, const MethodInfo *method)
{
  BattleData_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x8
  __int64 v7; // x19
  int v8; // w8
  unsigned int v9; // w20

  v4 = this;
  if ( (byte_4184348 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, isEnemy);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v5);
    byte_4184348 = 1;
  }
  v6 = 128LL;
  if ( isEnemy )
    v6 = 168LL;
  v7 = *(__int64 *)((char *)&v4->klass + v6);
  if ( !v7 )
LABEL_15:
    sub_B2C434(this, isEnemy);
  v8 = *(_DWORD *)(v7 + 24);
  if ( v8 < 1 )
    return 0;
  v9 = 0;
  while ( 1 )
  {
    if ( v8 <= v9 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    this = *(BattleData_o **)(*(_QWORD *)(v7 + 16) + 8LL * (int)v9 + 32);
    if ( !this )
      goto LABEL_15;
    if ( BattleServantData__getDefeatPoint((BattleServantData_o *)this, 0LL) >= 1 )
      return 1;
    v8 = *(_DWORD *)(v7 + 24);
    if ( (int)++v9 >= v8 )
      return 0;
  }
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__checkEnablePlaySpeedOneFromFieldIdList(
        BattleData_o *this,
        int32_t id,
        int32_t idx,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_String_o *v8; // x20
  System_String_o *v9; // x0
  System_String_o *v10; // x0
  __int64 v11; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *playedSpeedOneFieldIdList; // x21
  EventMissionProgressRequest_Argument_ProgressData_o *v13; // x20
  __int64 v14; // x22
  int size; // w8
  int32_t v17; // [xsp+8h] [xbp-28h] BYREF
  int32_t v18; // [xsp+Ch] [xbp-24h] BYREF

  v17 = idx;
  v18 = id;
  if ( (byte_41842E4 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_string__Add__, *(_QWORD *)&id);
    sub_B2C35C(&Method_System_Collections_Generic_List_string__get_Count__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_string__get_Item__, v6);
    sub_B2C35C(&StringLiteral_1225/*":"*/, v7);
    byte_41842E4 = 1;
  }
  v8 = System_Int32__ToString((int32_t)&v18, 0LL);
  v9 = System_Int32__ToString((int32_t)&v17, 0LL);
  v10 = System_String__Concat_44307816(v8, (System_String_o *)StringLiteral_1225/*":"*/, v9, 0LL);
  playedSpeedOneFieldIdList = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this->fields.playedSpeedOneFieldIdList;
  if ( !playedSpeedOneFieldIdList )
LABEL_11:
    sub_B2C434(v10, v11);
  v13 = (EventMissionProgressRequest_Argument_ProgressData_o *)v10;
  v14 = 0LL;
  while ( 1 )
  {
    size = playedSpeedOneFieldIdList->fields._size;
    if ( (int)v14 >= size )
    {
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
        playedSpeedOneFieldIdList,
        v13,
        (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_string__Add__);
      return 1;
    }
    if ( size <= (unsigned int)v14 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v10 = (System_String_o *)playedSpeedOneFieldIdList->fields._items->m_Items[v14];
    if ( !v10 )
      goto LABEL_11;
    v10 = (System_String_o *)System_String__Equals_44292872(v10, (System_String_o *)v13, 0LL);
    if ( ((unsigned __int8)v10 & 1) != 0 )
      return 0;
    playedSpeedOneFieldIdList = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this->fields.playedSpeedOneFieldIdList;
    ++v14;
    if ( !playedSpeedOneFieldIdList )
      goto LABEL_11;
  }
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__checkEnablePlaySpeedOneFromSkillIdList(
        BattleData_o *this,
        int32_t id,
        const MethodInfo *method)
{
  BattleData_o *v4; // x20
  __int64 v5; // x1
  __int64 v6; // x1
  System_Collections_Generic_List_int__o *playedSpeedOneSkillIdList; // x21
  __int64 v8; // x22
  int size; // w8

  v4 = this;
  if ( (byte_41842E3 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, *(_QWORD *)&id);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Count__, v5);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Item__, v6);
    byte_41842E3 = 1;
  }
  playedSpeedOneSkillIdList = v4->fields.playedSpeedOneSkillIdList;
  if ( !playedSpeedOneSkillIdList )
LABEL_10:
    sub_B2C434(this, *(_QWORD *)&id);
  v8 = 0LL;
  while ( 1 )
  {
    size = playedSpeedOneSkillIdList->fields._size;
    if ( (int)v8 >= size )
    {
      System_Collections_Generic_List_int___Add(
        playedSpeedOneSkillIdList,
        id,
        (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
      return 1;
    }
    if ( size <= (unsigned int)v8 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    if ( playedSpeedOneSkillIdList->fields._items->m_Items[v8 + 1] == id )
      return 0;
    playedSpeedOneSkillIdList = v4->fields.playedSpeedOneSkillIdList;
    ++v8;
    if ( !playedSpeedOneSkillIdList )
      goto LABEL_10;
  }
}


bool __fastcall BattleData__checkLimitTurn(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.limitTurnCount > 0;
}


bool __fastcall BattleData__checkProgressflg(BattleData_o *this, int32_t instate, const MethodInfo *method)
{
  char v3; // vf

  return !(((this->fields.progresslistflg & instate) < 0) ^ v3 | ((this->fields.progresslistflg & instate) == 0));
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__checkServantVoicePlayed(
        BattleData_o *this,
        int32_t svtId,
        int32_t condValue,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  Il2CppObject *v12; // x21
  Il2CppObject *v13; // x0
  BattleBuffData_BuffData_o *voicePlayedInfo; // x0
  __int64 v15; // x1
  System_Type_o *v17; // x21
  bool result; // w0
  BattleData_o *v19; // x0
  const MethodInfo *v20; // x1
  int32_t v21; // [xsp+4h] [xbp-2Ch] BYREF
  int32_t v22; // [xsp+8h] [xbp-28h] BYREF
  int32_t v23; // [xsp+Ch] [xbp-24h] BYREF

  v23 = svtId;
  if ( (byte_41842EA & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__, *(_QWORD *)&svtId);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__get_Item__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_string__Contains__, v8);
    sub_B2C35C(&int_TypeInfo, v9);
    sub_B2C35C(&long_TypeInfo, v10);
    sub_B2C35C(&StringLiteral_23587/*"{0},{1}"*/, v11);
    byte_41842EA = 1;
  }
  if ( condValue > 63 )
  {
    v22 = svtId;
    v12 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v22);
    v21 = condValue;
    v13 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v21);
    voicePlayedInfo = (BattleBuffData_BuffData_o *)System_String__Format_44301068(
                                                     (System_String_o *)StringLiteral_23587/*"{0},{1}"*/,
                                                     v12,
                                                     v13,
                                                     0LL);
    if ( this->fields.voicePlayedOver64Info )
      return System_Collections_Generic_HashSet_BattleBuffData_BuffData___Contains(
               (System_Collections_Generic_HashSet_BattleBuffData_BuffData__o *)this->fields.voicePlayedOver64Info,
               voicePlayedInfo,
               (const MethodInfo_2D8C0E0 *)Method_System_Collections_Generic_HashSet_string__Contains__);
LABEL_14:
    sub_B2C434(voicePlayedInfo, v15);
  }
  voicePlayedInfo = (BattleBuffData_BuffData_o *)System_Int32__ToString((int32_t)&v23, 0LL);
  if ( !this->fields.voicePlayedInfo )
    goto LABEL_14;
  v17 = (System_Type_o *)voicePlayedInfo;
  if ( !System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___ContainsKey(
          (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)this->fields.voicePlayedInfo,
          (System_Xml_XmlQualifiedName_o *)voicePlayedInfo,
          (const MethodInfo_2DB1F34 *)Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__) )
    return 0;
  voicePlayedInfo = (BattleBuffData_BuffData_o *)this->fields.voicePlayedInfo;
  if ( !voicePlayedInfo )
    goto LABEL_14;
  voicePlayedInfo = (BattleBuffData_BuffData_o *)System_Collections_Generic_Dictionary_Type__IStoreExtension___get_Item(
                                                   (System_Collections_Generic_Dictionary_Type__IStoreExtension__o *)voicePlayedInfo,
                                                   v17,
                                                   (const MethodInfo_2DB1BFC *)Method_System_Collections_Generic_Dictionary_string__object__get_Item__);
  if ( !voicePlayedInfo )
    goto LABEL_14;
  if ( voicePlayedInfo->klass->_1.element_class == long_TypeInfo->_1.element_class )
    return (*(_QWORD *)j_il2cpp_object_unbox_0(voicePlayedInfo) & (1LL << condValue)) != 0;
  v19 = (BattleData_o *)sub_B2C728(voicePlayedInfo);
  BattleData__Initialize(v19, v20);
  return result;
}


bool __fastcall BattleData__checkTurnData(BattleData_o *this, const MethodInfo *method)
{
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  DataMasterBase_TMaster__TEntity__PKType__o *Instance; // x0
  __int64 v12; // x1
  int32_t Int; // w19

  if ( (byte_418436A & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMaster_BattleMaster___, method);
    sub_B2C35C(&DataManager_TypeInfo, v2);
    sub_B2C35C(&Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__, v3);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v4);
    sub_B2C35C(&Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__, v5);
    sub_B2C35C(&StringLiteral_10884/*"QUESTID"*/, v6);
    sub_B2C35C(&StringLiteral_11552/*"SAVEKEY_"*/, v7);
    sub_B2C35C(&StringLiteral_7618/*"Initial"*/, v8);
    sub_B2C35C(&StringLiteral_959/*"0.6.17.1"*/, v9);
    sub_B2C35C(&StringLiteral_15183/*"Version"*/, v10);
    byte_418436A = 1;
  }
  Instance = (DataMasterBase_TMaster__TEntity__PKType__o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
  if ( !Instance )
    goto LABEL_38;
  if ( !BYTE4(Instance->fields._lookup) )
  {
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    if ( !EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_11552/*"SAVEKEY_"*/, 0LL) )
      goto LABEL_33;
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    Instance = (DataMasterBase_TMaster__TEntity__PKType__o *)EncryptedPlayerPrefs__GetString(
                                                               (System_String_o *)StringLiteral_15183/*"Version"*/,
                                                               0LL);
    if ( !StringLiteral_959/*"0.6.17.1"*/ )
      goto LABEL_38;
    if ( System_String__Equals_44292872((System_String_o *)StringLiteral_959/*"0.6.17.1"*/, (System_String_o *)Instance, 0LL) )
    {
      if ( (WORD1(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 0x400) != 0
        && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
      }
      if ( EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_10884/*"QUESTID"*/, 0LL) )
      {
        if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
        }
        Int = EncryptedPlayerPrefs__GetInt((System_String_o *)StringLiteral_10884/*"QUESTID"*/, 0LL);
        if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !DataManager_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
        }
        Instance = (DataMasterBase_TMaster__TEntity__PKType__o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_BattleMaster___);
        if ( Instance )
        {
          Instance = (DataMasterBase_TMaster__TEntity__PKType__o *)DataMasterBase_object__object__long___GetSingleEntity(
                                                                     Instance,
                                                                     (const MethodInfo_24E43BC *)Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__);
          if ( Instance )
          {
            if ( HIDWORD(Instance->fields.list) == Int )
              return 1;
            goto LABEL_33;
          }
        }
LABEL_38:
        sub_B2C434(Instance, v12);
      }
LABEL_33:
      if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
      }
      EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_11552/*"SAVEKEY_"*/, 0LL);
      UnityEngine_PlayerPrefs__Save(0LL);
      return 0;
    }
    if ( (WORD1(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 0x400) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    Instance = (DataMasterBase_TMaster__TEntity__PKType__o *)EncryptedPlayerPrefs__GetString(
                                                               (System_String_o *)StringLiteral_15183/*"Version"*/,
                                                               0LL);
    if ( !StringLiteral_7618/*"Initial"*/ )
      goto LABEL_38;
    if ( !System_String__Equals_44292872((System_String_o *)StringLiteral_7618/*"Initial"*/, (System_String_o *)Instance, 0LL) )
      goto LABEL_33;
  }
  return 0;
}


void __fastcall BattleData__checkTutorialData(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  struct BattleEntity_o *battle_ent; // x20
  int32_t questId; // w21
  int v9; // w8
  int32_t v10; // w21
  int32_t v11; // w21
  int32_t v12; // w21
  int32_t questPhase; // w20

  v2 = this;
  if ( (byte_418436D & 1) == 0 )
  {
    sub_B2C35C(&StringLiteral_13532/*"TUTORIAL_QUEST_ID4_PHASE"*/, method);
    sub_B2C35C(&StringLiteral_13528/*"TUTORIAL_QUEST_ID1"*/, v3);
    sub_B2C35C(&StringLiteral_13529/*"TUTORIAL_QUEST_ID2"*/, v4);
    sub_B2C35C(&StringLiteral_13530/*"TUTORIAL_QUEST_ID3"*/, v5);
    this = (BattleData_o *)sub_B2C35C(&StringLiteral_13531/*"TUTORIAL_QUEST_ID4"*/, v6);
    byte_418436D = 1;
  }
  battle_ent = v2->fields.battle_ent;
  v2->fields.tutorialId = -1;
  if ( !battle_ent )
    sub_B2C434(this, method);
  questId = battle_ent->fields.questId;
  if ( questId == ConstantMaster__getValue((System_String_o *)StringLiteral_13528/*"TUTORIAL_QUEST_ID1"*/, 0LL) )
  {
    v9 = 1;
LABEL_10:
    v2->fields.tutorialId = v9;
    return;
  }
  v10 = battle_ent->fields.questId;
  if ( v10 == ConstantMaster__getValue((System_String_o *)StringLiteral_13529/*"TUTORIAL_QUEST_ID2"*/, 0LL) )
  {
    v9 = 2;
    goto LABEL_10;
  }
  v11 = battle_ent->fields.questId;
  if ( v11 == ConstantMaster__getValue((System_String_o *)StringLiteral_13530/*"TUTORIAL_QUEST_ID3"*/, 0LL) )
  {
    v9 = 3;
    goto LABEL_10;
  }
  v12 = battle_ent->fields.questId;
  if ( v12 == ConstantMaster__getValue((System_String_o *)StringLiteral_13531/*"TUTORIAL_QUEST_ID4"*/, 0LL) )
  {
    questPhase = battle_ent->fields.questPhase;
    if ( questPhase == ConstantMaster__getValue((System_String_o *)StringLiteral_13532/*"TUTORIAL_QUEST_ID4_PHASE"*/, 0LL) )
    {
      v9 = 4;
      goto LABEL_10;
    }
  }
}


void __fastcall BattleData__clearLastActionActor(BattleData_o *this, const MethodInfo *method)
{
  this->fields.lastactorId = 0;
}


void __fastcall BattleData__commonQuestLoad(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  DataMasterBase_TMaster__TEntity__PKType__o *Master_WarQuestSelectionMaster; // x0
  __int64 v10; // x1
  Il2CppObject *SingleEntity; // x0
  struct BattleEntity_o **p_battle_ent; // x20
  BattleActionLogManager_o *v13; // x21
  struct BattleInfoData_o *battleInfo; // x1
  struct BattleEntity_o *battle_ent; // x8
  struct CommandCodeInfo_array *userCommandCode; // x1
  struct QuestEntity_o *PhaseDetailedEntity; // x0
  int32_t questSelect; // w21
  const MethodInfo *v19; // x1
  int32_t LastWave; // w0
  struct System_Int32_array *v21; // x0
  int32_t v22; // w0
  struct System_Int32_array *v23; // x0
  bool HasFlag; // w0
  const MethodInfo *v25; // x2
  const MethodInfo *v26; // x1
  struct BaseBattleEvent_o *BattleEvent; // x0
  long double v28; // q0
  struct BattleInfoData_o *battle_info; // x20
  const MethodInfo *v30; // x1
  struct BattleData_o *data; // x8
  struct BattleData_o *v32; // x8
  struct BattleData_o *v33; // x8

  if ( (byte_418436F & 1) == 0 )
  {
    sub_B2C35C(&BattleActionLogManagerNOP_TypeInfo, method);
    sub_B2C35C(&BattleActionLogManager_TypeInfo, v3);
    sub_B2C35C(&Method_DataManager_GetMaster_BattleMaster___, v4);
    sub_B2C35C(&DataManager_TypeInfo, v5);
    sub_B2C35C(&Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__, v6);
    sub_B2C35C(&int___TypeInfo, v7);
    sub_B2C35C(&ScriptManager_TypeInfo, v8);
    byte_418436F = 1;
  }
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_BattleMaster___);
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_32;
  SingleEntity = DataMasterBase_object__object__long___GetSingleEntity(
                   Master_WarQuestSelectionMaster,
                   (const MethodInfo_24E43BC *)Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__);
  this->fields.battle_ent = (struct BattleEntity_o *)SingleEntity;
  p_battle_ent = &this->fields.battle_ent;
  sub_B2C2F8(&this->fields.battle_ent, SingleEntity);
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.battle_ent;
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_32;
  if ( BattleEntity__isVerifyActionLog((BattleEntity_o *)Master_WarQuestSelectionMaster, 0LL) )
  {
    v13 = (BattleActionLogManager_o *)sub_B2C42C(BattleActionLogManager_TypeInfo);
    BattleActionLogManager___ctor(v13, 0LL);
  }
  else
  {
    v13 = (BattleActionLogManager_o *)sub_B2C42C(BattleActionLogManagerNOP_TypeInfo);
    BattleActionLogManagerNOP___ctor((BattleActionLogManagerNOP_o *)v13, 0LL);
  }
  this->fields.actionLogManager = (struct BattleActionLogManagerInterface_o *)v13;
  sub_B2C2F8(&this->fields.actionLogManager, v13);
  if ( !*p_battle_ent )
    goto LABEL_32;
  battleInfo = (*p_battle_ent)->fields.battleInfo;
  this->fields.battle_info = battleInfo;
  sub_B2C2F8(&this->fields.battle_info, battleInfo);
  battle_ent = this->fields.battle_ent;
  if ( !battle_ent )
    goto LABEL_32;
  userCommandCode = battle_ent->fields.userCommandCode;
  this->fields.commandCodeInfos = userCommandCode;
  sub_B2C2F8(&this->fields.commandCodeInfos, userCommandCode);
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.battle_ent;
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_32;
  BattleEntity__GetQuestInvolvedEntitys(
    (BattleEntity_o *)Master_WarQuestSelectionMaster,
    &this->fields.quest_ent,
    &this->fields.questphase_ent,
    0LL);
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.quest_ent;
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_32;
  PhaseDetailedEntity = QuestEntity__GetPhaseDetailedEntity((QuestEntity_o *)Master_WarQuestSelectionMaster, 0LL);
  this->fields.quest_ent = PhaseDetailedEntity;
  sub_B2C2F8(&this->fields.quest_ent, PhaseDetailedEntity);
  if ( !*p_battle_ent )
    goto LABEL_32;
  questSelect = (*p_battle_ent)->fields.questSelect;
  if ( (BYTE3(ScriptManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !ScriptManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(ScriptManager_TypeInfo);
  }
  ScriptManager__SetSelectBranchIndex(questSelect, 0LL);
  if ( !*p_battle_ent )
    goto LABEL_32;
  BattleRandom__setSeed((*p_battle_ent)->fields.seed, 0LL);
  BattleData__checkTutorialData(this, v19);
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.battle_info;
  this->fields.wavecount = 0;
  *(_QWORD *)&this->fields.turnCount = 0LL;
  this->fields.criticalstars = 0;
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_32;
  LastWave = BattleInfoData__getLastWave((BattleInfoData_o *)Master_WarQuestSelectionMaster, 0LL);
  v21 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, (unsigned int)(LastWave + 1));
  this->fields.waveClearNeedTurn = v21;
  sub_B2C2F8(&this->fields.waveClearNeedTurn, v21);
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.battle_info;
  *(_WORD *)&this->fields.leaderDown = 0;
  this->fields.loseBattleFlg = 0;
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_32;
  v22 = BattleInfoData__getLastWave((BattleInfoData_o *)Master_WarQuestSelectionMaster, 0LL);
  v23 = (struct System_Int32_array *)sub_B2C374(int___TypeInfo, (unsigned int)(v22 + 1));
  this->fields.waveKnockdownNums = v23;
  sub_B2C2F8(&this->fields.waveKnockdownNums, v23);
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.quest_ent;
  this->fields.winBattleNotRelatedSurvivalStatus = 0;
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_32;
  HasFlag = QuestEntity__HasFlag((QuestEntity_o *)Master_WarQuestSelectionMaster, 0x1000000000000LL, 0LL);
  BattleData__InitGender(this, HasFlag, v25);
  this->fields.isRetryable = 0;
  if ( BattleData__IsRetryableQuestPhase(this, v26) )
    this->fields.isRetryable = 1;
  BattleEvent = BaseBattleEvent__MakeBattleEvent(this, 0LL);
  this->fields.battleEvent = BattleEvent;
  *(__n128 *)&v28 = sub_B2C2F8(&this->fields.battleEvent, BattleEvent);
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields.battleEvent;
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_32;
  battle_info = this->fields.battle_info;
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)((__int64 (__fastcall *)(DataMasterBase_TMaster__TEntity__PKType__o *, Il2CppMethodPointer, long double))Master_WarQuestSelectionMaster->klass->vtable._6_preProcess.method)(
                                                                                   Master_WarQuestSelectionMaster,
                                                                                   Master_WarQuestSelectionMaster->klass->vtable._7_Clear.methodPtr,
                                                                                   v28);
  if ( !battle_info )
    goto LABEL_32;
  battle_info->fields.servantEvent = (struct BaseBattleServantEvent_o *)Master_WarQuestSelectionMaster;
  sub_B2C2F8(&battle_info->fields.servantEvent, Master_WarQuestSelectionMaster);
  BattleData__SetOriginalCallEnemyUniqueId(this, v30);
  Master_WarQuestSelectionMaster = (DataMasterBase_TMaster__TEntity__PKType__o *)this->fields._FieldEnvData_k__BackingField;
  if ( !Master_WarQuestSelectionMaster
    || (BattleFieldEnvironmentData__InitBG((BattleFieldEnvironmentData_o *)Master_WarQuestSelectionMaster, 0LL),
        data = this->fields.data,
        this->fields.playerNpCount = 0,
        !data)
    || (data->fields.playerSkillCount = 0, (v32 = this->fields.data) == 0LL)
    || (v32->fields.playerMasterSkillCount = 0, (v33 = this->fields.data) == 0LL) )
  {
LABEL_32:
    sub_B2C434(Master_WarQuestSelectionMaster, v10);
  }
  v33->fields.enemyMasterChangedFaceId = 0;
}


System_Collections_Generic_Dictionary_int__int__o *__fastcall BattleData__convertUsedEventMasterSkillDictFormatGamePlaying(
        BattleData_o *this,
        System_Collections_Generic_Dictionary_string__object__o *dict,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  System_Collections_Generic_Dictionary_int__int__o *v13; // x19
  __int64 v14; // x0
  __int64 v15; // x1
  struct System_Collections_Generic_KeyValuePair_TKey__TValue__o current; // kr00_16
  int32_t v17; // w20
  __int64 v18; // x0
  __int64 v19; // x1
  int32_t result; // [xsp+4h] [xbp-5Ch] BYREF
  System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o v22; // [xsp+8h] [xbp-58h] BYREF

  if ( (byte_41842DF & 1) == 0 )
  {
    sub_B2C35C(&System_Convert_TypeInfo, dict);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__Add__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__GetEnumerator__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_Dictionary_int__int__TypeInfo, v7);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_string__object__Dispose__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_string__object__MoveNext__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_string__object__get_Current__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_string__object__get_Key__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_string__object__get_Value__, v12);
    byte_41842DF = 1;
  }
  memset(&v22, 0, sizeof(v22));
  result = 0;
  v13 = (System_Collections_Generic_Dictionary_int__int__o *)sub_B2C42C(System_Collections_Generic_Dictionary_int__int__TypeInfo);
  System_Collections_Generic_Dictionary_int__int____ctor(
    v13,
    (const MethodInfo_2E2399C *)Method_System_Collections_Generic_Dictionary_int__int___ctor__);
  if ( !dict )
    sub_B2C434(v14, v15);
  System_Collections_Generic_Dictionary_XmlQualifiedName__SchemaElementDecl___GetEnumerator(
    &v22,
    (System_Collections_Generic_Dictionary_XmlQualifiedName__SchemaElementDecl__o *)dict,
    (const MethodInfo_2DB229C *)Method_System_Collections_Generic_Dictionary_string__object__GetEnumerator__);
  while ( System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl___MoveNext(
            (System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl__o *)&v22,
            (const MethodInfo_278B9EC *)Method_System_Collections_Generic_Dictionary_Enumerator_string__object__MoveNext__) )
  {
    current = v22.fields.current;
    result = 0;
    System_Int32__TryParse((System_String_o *)v22.fields.current.fields.key, &result, 0LL);
    v17 = result;
    if ( (BYTE3(System_Convert_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !System_Convert_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(System_Convert_TypeInfo);
    }
    v18 = System_Convert__ToInt32(current.fields.value, 0LL);
    if ( !v13 )
      sub_B2C434(v18, v19);
    System_Collections_Generic_Dictionary_int__int___Add(
      v13,
      v17,
      v18,
      (const MethodInfo_2E24540 *)Method_System_Collections_Generic_Dictionary_int__int__Add__);
  }
  System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl___Dispose(
    (System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl__o *)&v22,
    (const MethodInfo_278BB54 *)Method_System_Collections_Generic_Dictionary_Enumerator_string__object__Dispose__);
  return v13;
}


System_Collections_Generic_Dictionary_string__object__o *__fastcall BattleData__convertUsedEventMasterSkillDictFormatSave(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *v12; // x19
  System_Collections_Generic_Dictionary_int__int__o *usedEventMasterSkillDict; // x0
  int key_high; // x24^4
  System_String_o *v15; // x20
  System_Xml_Schema_XmlSchemaObject_o *v16; // x0
  __int64 v17; // x1
  System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o v19; // [xsp+8h] [xbp-78h] BYREF
  System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o v20; // [xsp+30h] [xbp-50h] BYREF

  if ( (byte_41842DE & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__Add__, method);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__GetEnumerator__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object___ctor__, v4);
    sub_B2C35C(&System_Collections_Generic_Dictionary_string__object__TypeInfo, v5);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__int__Dispose__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__int__MoveNext__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__int__get_Current__, v8);
    sub_B2C35C(&int_TypeInfo, v9);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_int__int__get_Key__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_int__int__get_Value__, v11);
    byte_41842DE = 1;
  }
  memset(&v20, 0, 32);
  *(&v19.fields.getEnumeratorRetType + 1) = 0;
  v12 = (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)sub_B2C42C(System_Collections_Generic_Dictionary_string__object__TypeInfo);
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject____ctor(
    v12,
    (const MethodInfo_2DB1110 *)Method_System_Collections_Generic_Dictionary_string__object___ctor__);
  usedEventMasterSkillDict = this->fields.usedEventMasterSkillDict;
  if ( usedEventMasterSkillDict )
  {
    System_Collections_Generic_Dictionary_int__int___GetEnumerator(
      &v19,
      usedEventMasterSkillDict,
      (const MethodInfo_2E24AB4 *)Method_System_Collections_Generic_Dictionary_int__int__GetEnumerator__);
    *(_OWORD *)&v20.fields.dictionary = *(_OWORD *)&v19.fields.dictionary;
    v20.fields.current = v19.fields.current;
    while ( System_Collections_Generic_Dictionary_Enumerator_int__int___MoveNext(
              &v20,
              (const MethodInfo_256852C *)Method_System_Collections_Generic_Dictionary_Enumerator_int__int__MoveNext__) )
    {
      key_high = HIDWORD(v20.fields.current.fields.key);
      *(&v19.fields.getEnumeratorRetType + 1) = (int32_t)v20.fields.current.fields.key;
      v15 = System_Int32__ToString((int32_t)(&v19.fields.getEnumeratorRetType + 1), 0LL);
      LODWORD(v19.fields.dictionary) = key_high;
      v16 = (System_Xml_Schema_XmlSchemaObject_o *)j_il2cpp_value_box_0(int_TypeInfo, &v19);
      if ( !v12 )
        sub_B2C434(v16, v17);
      System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___Add(
        v12,
        (System_Xml_XmlQualifiedName_o *)v15,
        v16,
        (const MethodInfo_2DB1CC0 *)Method_System_Collections_Generic_Dictionary_string__object__Add__);
    }
    System_Collections_Generic_Dictionary_Enumerator_int__int___Dispose(
      &v20,
      (const MethodInfo_2568674 *)Method_System_Collections_Generic_Dictionary_Enumerator_int__int__Dispose__);
  }
  return (System_Collections_Generic_Dictionary_string__object__o *)v12;
}


void __fastcall BattleData__createCommandCard(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v8; // x20
  void *PlayerServantData; // x0
  __int64 v10; // x1
  const MethodInfo *v11; // x2
  struct System_Int32_array *p_entryid; // x8
  unsigned __int64 v13; // x19
  unsigned __int64 max_length; // x9
  BattleServantData_o *v15; // x21
  _DWORD *v16; // x22
  unsigned __int64 v17; // x23
  BattleCommandData_o *v18; // x24
  const MethodInfo *v19; // x1
  __int64 v20; // x25
  __int64 v21; // x26
  struct BattleBuffData_o *buffData; // x1
  const MethodInfo *v23; // x3
  struct System_Int64_array *userCommandCodeIds; // x8
  __int64 v25; // x9
  struct System_Int64_array *v26; // x8
  struct System_Int32_array *commandAssistIds; // x8
  struct BattleInfoData_o *battle_info; // x8
  int v29; // w22
  __int64 v30; // x21
  const MethodInfo *v31; // x1
  struct BattleCommandData_array *v32; // x0
  struct BattleCommandData_array **p_p_cmlist; // x23
  __int64 v34; // x8
  __int64 v35; // x0
  BattleData_o *v36; // [xsp+8h] [xbp-58h]
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v37; // 0:x0.16

  if ( (byte_41842EE & 1) == 0 )
  {
    sub_B2C35C(&BattleCommandData_TypeInfo, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleCommandData__Add__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleCommandData__ToArray__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleCommandData___ctor__, v5);
    sub_B2C35C(&System_Collections_Generic_List_BattleCommandData__TypeInfo, v6);
    sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, v7);
    byte_41842EE = 1;
  }
  v8 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleCommandData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v8,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleCommandData___ctor__);
  p_entryid = this->fields.p_entryid;
  if ( !p_entryid )
    goto LABEL_41;
  v13 = 0LL;
  v36 = this;
  while ( 1 )
  {
    max_length = p_entryid->max_length;
    if ( (__int64)v13 >= (int)max_length )
      break;
    if ( v13 >= max_length )
      goto LABEL_42;
    v10 = (unsigned int)p_entryid->m_Items[v13 + 1];
    if ( (int)v10 >= 1 )
    {
      PlayerServantData = BattleData__getPlayerServantData(this, v10, v11);
      if ( !PlayerServantData )
        goto LABEL_41;
      v15 = (BattleServantData_o *)PlayerServantData;
      PlayerServantData = BattleServantData__getCommandList((BattleServantData_o *)PlayerServantData, 0LL);
      if ( !PlayerServantData )
        goto LABEL_41;
      v16 = PlayerServantData;
      if ( *((int *)PlayerServantData + 6) >= 1 )
      {
        v17 = 0LL;
        while ( 1 )
        {
          v18 = (BattleCommandData_o *)sub_B2C42C(BattleCommandData_TypeInfo);
          BattleCommandData___ctor(v18, v19);
          if ( v17 >= (unsigned int)v16[6] )
            break;
          if ( !v18 )
            goto LABEL_41;
          v18->fields._type = v16[v17 + 8];
          v21 = *(_QWORD *)&v15->fields.svtId.fields.currentCryptoKey;
          v20 = *(_QWORD *)&v15->fields.svtId.fields.fakeValue;
          if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
          }
          *(_QWORD *)&v37.fields.currentCryptoKey = v21;
          *(_QWORD *)&v37.fields.fakeValue = v20;
          v18->fields.svtId = CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v37, 0LL);
          v18->fields.imageSvtId = BattleServantData__GetCommandImageSvtId(v15, 0LL);
          v18->fields.svtlimit = BattleServantData__getCommandDispLimitCount(v15, 0LL);
          v18->fields._loadsvtLimit = BattleServantData__getCommandDispLimitCount(v15, 0LL);
          v18->fields.uniqueId = v15->fields.uniqueId;
          v18->fields.attri = BattleServantData__getAttri(v15, 0LL);
          v18->fields.flgEventJoin = v15->fields.flgEventJoin;
          v18->fields.follower = v15->fields.followerType;
          buffData = v15->fields.buffData;
          v18->fields.battleBuffData = buffData;
          sub_B2C2F8(&v18->fields.battleBuffData, buffData);
          v18->fields.servantCardIdsIndex = v17;
          userCommandCodeIds = v15->fields.userCommandCodeIds;
          if ( userCommandCodeIds )
          {
            v25 = *(_QWORD *)&userCommandCodeIds->max_length;
            if ( v25 )
            {
              if ( v17 >= (unsigned int)v25 )
                break;
              v18->fields.userCommandCodeId = userCommandCodeIds->m_Items[v17];
              v26 = v15->fields.userCommandCodeIds;
              if ( !v26 )
                goto LABEL_41;
              if ( v17 >= v26->max_length )
                break;
              PlayerServantData = BattleServantData__GetCommandCodeInfo(v15, v26->m_Items[v17], 0LL);
              if ( PlayerServantData )
                v18->fields.commandCodeId = *((_DWORD *)PlayerServantData + 7);
            }
          }
          commandAssistIds = v15->fields.commandAssistIds;
          if ( !commandAssistIds )
            goto LABEL_41;
          if ( v17 >= commandAssistIds->max_length )
            break;
          v18->fields.commandAssistId = commandAssistIds->m_Items[v17 + 1];
          BattleCommandData__SetCommandCardParam(v18, v15->fields.commandCardParam, v17, v23);
          if ( !v8 )
            goto LABEL_41;
          System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
            v8,
            (EventMissionProgressRequest_Argument_ProgressData_o *)v18,
            (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleCommandData__Add__);
          if ( (__int64)++v17 >= (int)v16[6] )
            goto LABEL_28;
        }
LABEL_42:
        v35 = sub_B2C460(PlayerServantData);
        sub_B2C400(v35, 0LL);
      }
LABEL_28:
      this = v36;
      p_entryid = v36->fields.p_entryid;
    }
    ++v13;
    if ( !p_entryid )
      goto LABEL_41;
  }
  battle_info = this->fields.battle_info;
  if ( !battle_info )
    goto LABEL_41;
  v29 = -1;
  while ( ++v29 < battle_info->fields.blankCardCnt )
  {
    v30 = sub_B2C42C(BattleCommandData_TypeInfo);
    BattleCommandData___ctor((BattleCommandData_o *)v30, v31);
    if ( v30 )
    {
      *(_QWORD *)(v30 + 16) = -4294967291LL;
      *(_DWORD *)(v30 + 40) = -1;
      if ( v8 )
      {
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v8,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v30,
          (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleCommandData__Add__);
        battle_info = this->fields.battle_info;
        if ( battle_info )
          continue;
      }
    }
    goto LABEL_41;
  }
  if ( !v8
    || (v32 = (struct BattleCommandData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                                  (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v8,
                                                  (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleCommandData__ToArray__),
        this->fields.p_cmlist = v32,
        p_p_cmlist = &this->fields.p_cmlist,
        sub_B2C2F8(p_p_cmlist, v32),
        (v34 = (__int64)*(p_p_cmlist - 14)) == 0) )
  {
LABEL_41:
    sub_B2C434(PlayerServantData, v10);
  }
  *(_BYTE *)(v34 + 768) = 1;
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_o *__fastcall BattleData__createSummonEnemyServantData(
        BattleData_o *this,
        int32_t uniqueId,
        int32_t index,
        int32_t npcId,
        BattleServantData_SaveData_o *saveData,
        BattleData_o *battleData,
        const MethodInfo *method)
{
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  BattleInfoData_o *battle_info; // x0
  System_Collections_Generic_HashSet_int__o *calledEnemyUniqueIdHash; // x26
  BattleDeckServantData_o *v18; // x24
  BattleServantData_o *v19; // x22

  if ( (byte_418438E & 1) == 0 )
  {
    sub_B2C35C(&BattleServantData_TypeInfo, *(_QWORD *)&uniqueId);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__get_Item__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int__Add__, v14);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, v15);
    byte_418438E = 1;
  }
  battle_info = this->fields.battle_info;
  if ( !battle_info )
    goto LABEL_10;
  battle_info = (BattleInfoData_o *)BattleInfoData__getSummonServantData(battle_info, npcId, 0LL);
  if ( !this->fields.originalCallEnemyUniqueIdDict )
    goto LABEL_10;
  calledEnemyUniqueIdHash = this->fields.calledEnemyUniqueIdHash;
  v18 = (BattleDeckServantData_o *)battle_info;
  battle_info = (BattleInfoData_o *)System_Collections_Generic_Dictionary_int__int___get_Item(
                                      this->fields.originalCallEnemyUniqueIdDict,
                                      npcId,
                                      (const MethodInfo_2E24480 *)Method_System_Collections_Generic_Dictionary_int__int__get_Item__);
  if ( !calledEnemyUniqueIdHash )
    goto LABEL_10;
  battle_info = (BattleInfoData_o *)System_Collections_Generic_HashSet_int___Add(
                                      calledEnemyUniqueIdHash,
                                      (int32_t)battle_info,
                                      (const MethodInfo_2D8625C *)Method_System_Collections_Generic_HashSet_int__Add__);
  if ( !v18 )
    goto LABEL_10;
  v18->fields.uniqueId = uniqueId;
  v18->fields.id = index;
  v19 = (BattleServantData_o *)sub_B2C42C(BattleServantData_TypeInfo);
  BattleServantData___ctor(v19, 0LL);
  if ( !v19
    || (BattleServantData__setEnemy(v19, 0LL),
        BattleServantData__SetSummonNpc(v19, v18, 0LL),
        BattleServantData__setServantData_21251972(v19, v18, this->fields.battle_ent, 0, saveData, battleData, 0LL, 0LL),
        BattleServantData__setInitBattle(v19, 0LL),
        (battle_info = (BattleInfoData_o *)this->fields.enemy_datalist) == 0LL) )
  {
LABEL_10:
    sub_B2C434(battle_info, *(_QWORD *)&uniqueId);
  }
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)battle_info,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v19,
    (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
  return v19;
}


bool __fastcall BattleData__deleteSaveData(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1

  if ( (byte_418436B & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_15433/*"WaveRestartData"*/, v2);
    sub_B2C35C(&StringLiteral_3362/*"CONTINUECOUNT"*/, v3);
    sub_B2C35C(&StringLiteral_3363/*"CONTINUE_BATTLE_SAVEKEY"*/, v4);
    sub_B2C35C(&StringLiteral_11552/*"SAVEKEY_"*/, v5);
    sub_B2C35C(&StringLiteral_3384/*"CONTINUE_ITEM_SAVEKEY"*/, v6);
    sub_B2C35C(&StringLiteral_3253/*"COMMAND_SPELL_BATTLE_SAVEKEY"*/, v7);
    sub_B2C35C(&StringLiteral_10886/*"QUESTUSEDTURNSAVEKEY"*/, v8);
    sub_B2C35C(&StringLiteral_2532/*"BATTLE_SVT_COMMON_FLAG"*/, v9);
    byte_418436B = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_3363/*"CONTINUE_BATTLE_SAVEKEY"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_3253/*"COMMAND_SPELL_BATTLE_SAVEKEY"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_3384/*"CONTINUE_ITEM_SAVEKEY"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_11552/*"SAVEKEY_"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_10886/*"QUESTUSEDTURNSAVEKEY"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_3362/*"CONTINUECOUNT"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_2532/*"BATTLE_SVT_COMMON_FLAG"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_15433/*"WaveRestartData"*/, 0LL);
  UnityEngine_PlayerPrefs__Save(0LL);
  return 1;
}


bool __fastcall BattleData__disableSystemFadeStartBattle(BattleData_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data
    || (this = (BattleData_o *)this->fields.battle_ent) == 0LL
    || (this = (BattleData_o *)BattleEntity__GetStageEntityAtWave((BattleEntity_o *)this, data->fields.wavecount, 0LL)) == 0LL )
  {
    sub_B2C434(this, method);
  }
  return StageEntity__disableSystemFadeStartBattle((StageEntity_o *)this, 0LL);
}


void __fastcall BattleData__exchangeCommandCard(
        BattleData_o *this,
        BattleCommandData_o *command,
        BattleServantData_o *inSvtData,
        int32_t commandType,
        const MethodInfo *method)
{
  __int64 servantCardIdsIndex; // x21
  __int64 v9; // x22
  __int64 v10; // x23
  struct BattleBuffData_o *buffData; // x1
  const MethodInfo *v12; // x3
  struct System_Int64_array *userCommandCodeIds; // x8
  int max_length; // w9
  int64_t v15; // x1
  struct System_Int32_array *commandAssistIds; // x8
  __int64 v17; // x0
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v18; // 0:x0.16

  if ( (byte_41842F0 & 1) == 0 )
  {
    this = (BattleData_o *)sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, command);
    byte_41842F0 = 1;
  }
  if ( !command )
    goto LABEL_16;
  servantCardIdsIndex = command->fields.servantCardIdsIndex;
  command->fields._type = commandType;
  if ( !inSvtData )
    goto LABEL_16;
  v10 = *(_QWORD *)&inSvtData->fields.svtId.fields.currentCryptoKey;
  v9 = *(_QWORD *)&inSvtData->fields.svtId.fields.fakeValue;
  if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
  }
  *(_QWORD *)&v18.fields.currentCryptoKey = v10;
  *(_QWORD *)&v18.fields.fakeValue = v9;
  command->fields.svtId = CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v18, 0LL);
  command->fields.imageSvtId = BattleServantData__GetCommandImageSvtId(inSvtData, 0LL);
  command->fields.svtlimit = BattleServantData__getCommandDispLimitCount(inSvtData, 0LL);
  command->fields._loadsvtLimit = BattleServantData__getDispLimitCount(inSvtData, 1, 0LL);
  command->fields.uniqueId = inSvtData->fields.uniqueId;
  command->fields.attri = BattleServantData__getAttri(inSvtData, 0LL);
  command->fields.flgEventJoin = inSvtData->fields.flgEventJoin;
  command->fields.follower = inSvtData->fields.followerType;
  buffData = inSvtData->fields.buffData;
  command->fields.battleBuffData = buffData;
  sub_B2C2F8(&command->fields.battleBuffData, buffData);
  command->fields.userCommandCodeId = -1LL;
  command->fields.commandCodeId = -1;
  userCommandCodeIds = inSvtData->fields.userCommandCodeIds;
  if ( userCommandCodeIds )
  {
    max_length = userCommandCodeIds->max_length;
    if ( (int)servantCardIdsIndex < max_length )
    {
      if ( (unsigned int)servantCardIdsIndex >= max_length )
        goto LABEL_17;
      v15 = userCommandCodeIds->m_Items[servantCardIdsIndex];
      command->fields.userCommandCodeId = v15;
      this = (BattleData_o *)BattleServantData__GetCommandCodeInfo(inSvtData, v15, 0LL);
      if ( this )
        command->fields.commandCodeId = HIDWORD(this->fields.rootfsm);
    }
  }
  commandAssistIds = inSvtData->fields.commandAssistIds;
  if ( !commandAssistIds )
LABEL_16:
    sub_B2C434(this, command);
  if ( (unsigned int)servantCardIdsIndex >= commandAssistIds->max_length )
  {
LABEL_17:
    v17 = sub_B2C460(this);
    sub_B2C400(v17, 0LL);
  }
  command->fields.commandAssistId = commandAssistIds->m_Items[servantCardIdsIndex + 1];
  BattleCommandData__SetCommandCardParam(command, inSvtData->fields.commandCardParam, servantCardIdsIndex, v12);
}


bool __fastcall BattleData__existsNextBattle(BattleData_o *this, const MethodInfo *method)
{
  BattleInfoData_o *battle_info; // x0

  battle_info = this->fields.battle_info;
  if ( !battle_info )
    sub_B2C434(0LL, method);
  return BattleInfoData__isNextBattle(battle_info, this->fields.wavecount, 0LL) && !this->fields.isTurnElapsedEndBattle;
}


System_String_o *__fastcall BattleData__getActionList(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  System_Text_StringBuilder_o *v26; // x19
  __int64 v27; // x0
  __int64 v28; // x1
  System_Collections_Generic_IEnumerable_TSource__o *v29; // x0
  BattleData_o *v30; // x0
  const MethodInfo *v31; // x2
  System_String_o *CommandHistory; // x0
  const MethodInfo *v33; // x1
  System_Collections_Generic_IEnumerable_TSource__o *EnemyServantList; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v35; // x20
  BattleData___c_c *v36; // x8
  struct BattleData___c_StaticFields *static_fields; // x9
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData__o *_9__530_0; // x21
  Il2CppObject *v39; // x22
  struct BattleData___c_StaticFields *v40; // x0
  System_Collections_Generic_IEnumerable_TResult__o *v41; // x0
  BattleData___c_c *v42; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v43; // x20
  struct BattleData___c_StaticFields *v44; // x9
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData__o *_9__530_1; // x21
  Il2CppObject *v46; // x22
  struct BattleData___c_StaticFields *v47; // x0
  System_Collections_Generic_IEnumerable_TResult__o *v48; // x0
  BattleData___c_c *v49; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v50; // x20
  struct BattleData___c_StaticFields *v51; // x9
  System_Func_LastUsedDeckNumberManager_LastUsedInfo__LastUsedDeckNumberManager_LastUsedInfo__LastUsedDeckNumberManager_LastUsedInfo__o *_9__530_2; // x21
  Il2CppObject *v53; // x22
  struct BattleData___c_StaticFields *v54; // x0
  System_String_o *UsedDeckNumberManager_LastUsedInfo; // x0

  if ( (byte_4184369 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_Aggregate_string___, method);
    sub_B2C35C(&Method_System_Linq_Enumerable_Select_BattleServantData__BattleServantData_ConnectData___, v3);
    sub_B2C35C(&Method_System_Linq_Enumerable_Select_BattleServantData_ConnectData__string___, v4);
    sub_B2C35C(&Method_System_Linq_Enumerable_Take_BattleServantData___, v5);
    sub_B2C35C(&Method_System_Linq_Enumerable_Take_BattleData_CommandHistory___, v6);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToList_BattleData_CommandHistory___, v7);
    sub_B2C35C(&Method_System_Func_BattleServantData_ConnectData__string___ctor__, v8);
    sub_B2C35C(&Method_System_Func_BattleServantData__BattleServantData_ConnectData___ctor__, v9);
    sub_B2C35C(&System_Func_BattleServantData__BattleServantData_ConnectData__TypeInfo, v10);
    sub_B2C35C(&System_Func_BattleServantData_ConnectData__string__TypeInfo, v11);
    sub_B2C35C(&Method_System_Func_string__string__string___ctor__, v12);
    sub_B2C35C(&System_Func_string__string__string__TypeInfo, v13);
    sub_B2C35C(&System_Text_StringBuilder_TypeInfo, v14);
    sub_B2C35C(&Method_BattleData___c__getActionList_b__530_0__, v15);
    sub_B2C35C(&Method_BattleData___c__getActionList_b__530_1__, v16);
    sub_B2C35C(&Method_BattleData___c__getActionList_b__530_2__, v17);
    sub_B2C35C(&BattleData___c_TypeInfo, v18);
    sub_B2C35C(&StringLiteral_307/*"\"logs\":"*/, v19);
    sub_B2C35C(&StringLiteral_305/*"\"dt\":"*/, v20);
    sub_B2C35C(&StringLiteral_701/*", "*/, v21);
    sub_B2C35C(&StringLiteral_306/*"\"hd\":"*/, v22);
    sub_B2C35C(&StringLiteral_23472/*"{ "*/, v23);
    sub_B2C35C(&StringLiteral_276/*" }"*/, v24);
    sub_B2C35C(&StringLiteral_304/*"\"data\":"*/, v25);
    byte_4184369 = 1;
  }
  v26 = (System_Text_StringBuilder_o *)sub_B2C42C(System_Text_StringBuilder_TypeInfo);
  System_Text_StringBuilder___ctor(v26, 0LL);
  if ( !v26 )
    sub_B2C434(v27, v28);
  System_Text_StringBuilder__Append_42408700(v26, (System_String_o *)StringLiteral_23472/*"{ "*/, 0LL);
  System_Text_StringBuilder__Append_42408700(v26, (System_String_o *)StringLiteral_307/*"\"logs\":"*/, 0LL);
  System_Text_StringBuilder__Append_42411944(v26, 0x22u, 0LL);
  v29 = System_Linq_Enumerable__Take_BattleData_CommandHistory_(
          (System_Collections_Generic_IEnumerable_TSource__o *)this->fields.comhistory,
          45,
          (const MethodInfo_1A9A644 *)Method_System_Linq_Enumerable_Take_BattleData_CommandHistory___);
  v30 = (BattleData_o *)System_Linq_Enumerable__ToList_WarBoardManager_WarBoardOnboardSkillTarget_(
                          v29,
                          (const MethodInfo_1A9DE9C *)Method_System_Linq_Enumerable_ToList_BattleData_CommandHistory___);
  CommandHistory = BattleData__getCommandHistory(
                     v30,
                     (System_Collections_Generic_List_BattleData_CommandHistory__o *)v30,
                     v31);
  System_Text_StringBuilder__Append_42408700(v26, CommandHistory, 0LL);
  System_Text_StringBuilder__Append_42411944(v26, 0x22u, 0LL);
  System_Text_StringBuilder__Append_42408700(v26, (System_String_o *)StringLiteral_701/*", "*/, 0LL);
  System_Text_StringBuilder__Append_42408700(v26, (System_String_o *)StringLiteral_305/*"\"dt\":"*/, 0LL);
  System_Text_StringBuilder__Append_42411944(v26, 0x22u, 0LL);
  EnemyServantList = (System_Collections_Generic_IEnumerable_TSource__o *)BattleData__getEnemyServantList(this, v33);
  v35 = System_Linq_Enumerable__Take_BattleData_CommandHistory_(
          EnemyServantList,
          20,
          (const MethodInfo_1A9A644 *)Method_System_Linq_Enumerable_Take_BattleServantData___);
  v36 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v36 = BattleData___c_TypeInfo;
  }
  static_fields = v36->static_fields;
  _9__530_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData__o *)static_fields->__9__530_0;
  if ( !_9__530_0 )
  {
    if ( (BYTE3(v36->vtable._0_Equals.methodPtr) & 4) != 0 && !v36->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v36);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v39 = (Il2CppObject *)static_fields->__9;
    _9__530_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData__o *)sub_B2C42C(System_Func_BattleServantData__BattleServantData_ConnectData__TypeInfo);
    System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData____ctor(
      _9__530_0,
      v39,
      Method_BattleData___c__getActionList_b__530_0__,
      (const MethodInfo_2713350 *)Method_System_Func_BattleServantData__BattleServantData_ConnectData___ctor__);
    v40 = BattleData___c_TypeInfo->static_fields;
    v40->__9__530_0 = (struct System_Func_BattleServantData__BattleServantData_ConnectData__o *)_9__530_0;
    sub_B2C2F8(&v40->__9__530_0, _9__530_0);
  }
  v41 = System_Linq_Enumerable__Select_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData_(
          v35,
          (System_Func_TSource__TResult__o *)_9__530_0,
          (const MethodInfo_1A96D40 *)Method_System_Linq_Enumerable_Select_BattleServantData__BattleServantData_ConnectData___);
  v42 = BattleData___c_TypeInfo;
  v43 = (System_Collections_Generic_IEnumerable_TSource__o *)v41;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v42 = BattleData___c_TypeInfo;
  }
  v44 = v42->static_fields;
  _9__530_1 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData__o *)v44->__9__530_1;
  if ( !_9__530_1 )
  {
    if ( (BYTE3(v42->vtable._0_Equals.methodPtr) & 4) != 0 && !v42->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v42);
      v44 = BattleData___c_TypeInfo->static_fields;
    }
    v46 = (Il2CppObject *)v44->__9;
    _9__530_1 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData__o *)sub_B2C42C(System_Func_BattleServantData_ConnectData__string__TypeInfo);
    System_Func_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData____ctor(
      _9__530_1,
      v46,
      Method_BattleData___c__getActionList_b__530_1__,
      (const MethodInfo_2713350 *)Method_System_Func_BattleServantData_ConnectData__string___ctor__);
    v47 = BattleData___c_TypeInfo->static_fields;
    v47->__9__530_1 = (struct System_Func_BattleServantData_ConnectData__string__o *)_9__530_1;
    sub_B2C2F8(&v47->__9__530_1, _9__530_1);
  }
  v48 = System_Linq_Enumerable__Select_WarBoardManager_WarBoardOnboardSkillTarget__WarBoardPieceData_(
          v43,
          (System_Func_TSource__TResult__o *)_9__530_1,
          (const MethodInfo_1A96D40 *)Method_System_Linq_Enumerable_Select_BattleServantData_ConnectData__string___);
  v49 = BattleData___c_TypeInfo;
  v50 = (System_Collections_Generic_IEnumerable_TSource__o *)v48;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v49 = BattleData___c_TypeInfo;
  }
  v51 = v49->static_fields;
  _9__530_2 = (System_Func_LastUsedDeckNumberManager_LastUsedInfo__LastUsedDeckNumberManager_LastUsedInfo__LastUsedDeckNumberManager_LastUsedInfo__o *)v51->__9__530_2;
  if ( !_9__530_2 )
  {
    if ( (BYTE3(v49->vtable._0_Equals.methodPtr) & 4) != 0 && !v49->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v49);
      v51 = BattleData___c_TypeInfo->static_fields;
    }
    v53 = (Il2CppObject *)v51->__9;
    _9__530_2 = (System_Func_LastUsedDeckNumberManager_LastUsedInfo__LastUsedDeckNumberManager_LastUsedInfo__LastUsedDeckNumberManager_LastUsedInfo__o *)sub_B2C42C(System_Func_string__string__string__TypeInfo);
    System_Func_LastUsedDeckNumberManager_LastUsedInfo__LastUsedDeckNumberManager_LastUsedInfo__LastUsedDeckNumberManager_LastUsedInfo____ctor(
      _9__530_2,
      v53,
      Method_BattleData___c__getActionList_b__530_2__,
      (const MethodInfo_271CD04 *)Method_System_Func_string__string__string___ctor__);
    v54 = BattleData___c_TypeInfo->static_fields;
    v54->__9__530_2 = (struct System_Func_string__string__string__o *)_9__530_2;
    sub_B2C2F8(&v54->__9__530_2, _9__530_2);
  }
  UsedDeckNumberManager_LastUsedInfo = (System_String_o *)System_Linq_Enumerable__Aggregate_LastUsedDeckNumberManager_LastUsedInfo_(
                                                            v50,
                                                            (System_Func_TSource__TSource__TSource__o *)_9__530_2,
                                                            (const MethodInfo_1736A88 *)Method_System_Linq_Enumerable_Aggregate_string___);
  System_Text_StringBuilder__Append_42408700(v26, UsedDeckNumberManager_LastUsedInfo, 0LL);
  System_Text_StringBuilder__Append_42411944(v26, 0x22u, 0LL);
  System_Text_StringBuilder__Append_42408700(v26, (System_String_o *)StringLiteral_701/*", "*/, 0LL);
  System_Text_StringBuilder__Append_42408700(v26, (System_String_o *)StringLiteral_306/*"\"hd\":"*/, 0LL);
  System_Text_StringBuilder__Append_42411944(v26, 0x22u, 0LL);
  System_Text_StringBuilder__Append_42411944(v26, 0x22u, 0LL);
  System_Text_StringBuilder__Append_42408700(v26, (System_String_o *)StringLiteral_701/*", "*/, 0LL);
  System_Text_StringBuilder__Append_42408700(v26, (System_String_o *)StringLiteral_304/*"\"data\":"*/, 0LL);
  System_Text_StringBuilder__Append_42411944(v26, 0x22u, 0LL);
  System_Text_StringBuilder__Append_42411944(v26, 0x22u, 0LL);
  System_Text_StringBuilder__Append_42408700(v26, (System_String_o *)StringLiteral_276/*" }"*/, 0LL);
  return (System_String_o *)((__int64 (__fastcall *)(System_Text_StringBuilder_o *, Il2CppMethodPointer))v26->klass->vtable._3_ToString.method)(
                              v26,
                              v26->klass->vtable._4_System_Runtime_Serialization_ISerializable_GetObjectData.methodPtr);
}


int32_t __fastcall BattleData__getAddCriticalCount(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.addCriticalstars;
}


// local variable allocation has failed, the output may be wrong!
System_Double_array *__fastcall BattleData__getAiParam(
        BattleData_o *this,
        BattleData_o *bData,
        int32_t param,
        int32_t turn,
        int32_t actCnt,
        System_Int64_array *checkParams,
        AiBaseEntity_o *aiBaseEntity,
        const MethodInfo *method)
{
  BattleData_o *v11; // x19
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  System_Double_array *v25; // x20
  double v26; // d0
  int32_t playerMasterSkillCount; // w8
  int32_t playerSkillCount; // w9
  __int64 v29; // x22
  struct System_Collections_Generic_List_double__o *chainTypeList; // x8
  System_Double_array *v31; // x19
  int num; // w8
  struct EnemyMstBattleEntity_o *enemyMasterInfo; // x8
  int v34; // w21
  UserItemMaster_o *MasterData_WarQuestSelectionMaster; // x20
  UserItemEntity_o *Entity; // x0
  UserItemEntity_o *v37; // x21
  UserGameEntity_o *SelfUserGame; // x21
  const MethodInfo *v39; // x2
  __int64 v40; // x0
  BattleData_o *masterSkillUseWaveTurn; // x21
  const MethodInfo *v42; // x1
  __int64 v43; // x8
  struct BaseBattleEvent_o *battleEvent; // x8
  bool v45; // zf
  double v46; // d1
  __int64 v47; // x8
  int32_t v48; // w20
  double Item; // d8
  struct BaseBattleEvent_o *v51; // x0
  __int64 v52; // x20
  System_Collections_Generic_List_double__o *v53; // x19
  signed __int64 v54; // x8
  unsigned __int64 v55; // x21
  __int64 v56; // x0

  v11 = this;
  if ( (byte_4184394 & 1) == 0 )
  {
    sub_B2C35C(&ConditionsInformation_TypeInfo, bData);
    sub_B2C35C(&Method_DataManager_GetMasterData_UserItemMaster___, v12);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__get_Item__, v14);
    sub_B2C35C(&double___TypeInfo, v15);
    sub_B2C35C(&Method_System_Collections_Generic_List_double__Add__, v16);
    sub_B2C35C(&Method_System_Collections_Generic_List_double__ToArray__, v17);
    sub_B2C35C(&Method_System_Collections_Generic_List_double___ctor__, v18);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Count__, v19);
    sub_B2C35C(&Method_System_Collections_Generic_List_double__get_Count__, v20);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Item__, v21);
    sub_B2C35C(&System_Collections_Generic_List_double__TypeInfo, v22);
    sub_B2C35C(&NetworkManager_TypeInfo, v23);
    this = (BattleData_o *)sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v24);
    byte_4184394 = 1;
  }
  switch ( param )
  {
    case 1:
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !this )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !LODWORD(this->fields.rootfsm) )
        goto LABEL_99;
      v26 = (double)turn;
      goto LABEL_78;
    case 21:
      this = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
      if ( !this )
        goto LABEL_98;
      MasterData_WarQuestSelectionMaster = (UserItemMaster_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                                                 (DataManager_o *)this,
                                                                 (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_UserItemMaster___);
      if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !NetworkManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
      }
      this = (BattleData_o *)NetworkManager__get_UserId(0LL);
      if ( !checkParams )
        goto LABEL_98;
      if ( !checkParams->max_length )
        goto LABEL_99;
      if ( !MasterData_WarQuestSelectionMaster )
        goto LABEL_98;
      Entity = UserItemMaster__GetEntity(
                 MasterData_WarQuestSelectionMaster,
                 (int64_t)this,
                 checkParams->m_Items[0],
                 0LL);
      if ( !Entity )
        return v11->fields.wkZeroParam;
      v37 = Entity;
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !this )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !LODWORD(this->fields.rootfsm) )
        goto LABEL_99;
      num = v37->fields.num;
LABEL_58:
      v26 = (double)num;
      goto LABEL_78;
    case 24:
      enemyMasterInfo = v11->fields.enemyMasterInfo;
      if ( !enemyMasterInfo )
        return v11->fields.wkZeroParam;
      v34 = enemyMasterInfo->fields.maxCommandSpell - v11->fields.enemyMasterCommandSpellUseCnt;
      if ( v34 < 1 )
        return v11->fields.wkZeroParam;
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !this )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !LODWORD(this->fields.rootfsm) )
        goto LABEL_99;
      v26 = (double)v34;
      goto LABEL_78;
    case 25:
      v25 = (System_Double_array *)sub_B2C374(double___TypeInfo, 1LL);
      this = (BattleData_o *)BattleData__get_IsInTactical(v11, v42);
      v43 = 528LL;
      if ( ((unsigned __int8)this & 1) != 0 )
        v43 = 532LL;
      if ( !v25 )
        goto LABEL_98;
      if ( !v25->max_length )
        goto LABEL_99;
      num = *(_DWORD *)((char *)&v11->klass + v43);
      goto LABEL_58;
    case 29:
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      battleEvent = v11->fields.battleEvent;
      if ( !battleEvent )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      this = (BattleData_o *)((__int64 (__fastcall *)(struct BaseBattleEvent_o *, Il2CppMethodPointer))battleEvent->klass->vtable._4_get_IsPrecedingPlayer.method)(
                               v11->fields.battleEvent,
                               battleEvent->klass->vtable._5_Init.methodPtr);
      v45 = ((unsigned __int8)this & 1) == 0;
      v26 = 1.0;
      v46 = 0.0;
      goto LABEL_74;
    case 30:
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !this )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !LODWORD(this->fields.rootfsm) )
        goto LABEL_99;
      num = v11->fields.limitTurnCount + 1 - v11->fields.turnCount;
      goto LABEL_58;
    case 31:
      SelfUserGame = UserGameMaster__getSelfUserGame(0LL);
      v25 = (System_Double_array *)sub_B2C374(double___TypeInfo, 1LL);
      this = (BattleData_o *)BattleData__CheckCurrentTemporaryCommandSpell(v11, SelfUserGame, v39);
      if ( !v25 )
        goto LABEL_98;
      if ( !v25->max_length )
        goto LABEL_99;
      v26 = (double)(int)this;
      goto LABEL_78;
    case 32:
      v40 = sub_B2C374(double___TypeInfo, 1LL);
      masterSkillUseWaveTurn = (BattleData_o *)v11->fields.masterSkillUseWaveTurn;
      v25 = (System_Double_array *)v40;
      this = (BattleData_o *)ServantWaveTurnEventOwner__CalcWaveTurnVal(
                               v11->fields.wavecount,
                               v11->fields.turnCount,
                               0LL);
      v26 = 0.0;
      if ( this == masterSkillUseWaveTurn )
        v26 = 1.0;
      if ( !v25 )
        goto LABEL_98;
      goto LABEL_77;
    case 33:
      if ( !checkParams )
        goto LABEL_98;
      v47 = *(_QWORD *)&checkParams->max_length;
      if ( !v47 )
        return v11->fields.wkZeroParam;
      if ( !(_DWORD)v47 )
        goto LABEL_99;
      this = (BattleData_o *)v11->fields.chainCountDict;
      if ( !this )
        goto LABEL_98;
      v48 = checkParams->m_Items[0];
      Item = 0.0;
      if ( !System_Collections_Generic_Dictionary_int__int___ContainsKey(
              (System_Collections_Generic_Dictionary_int__int__o *)this,
              v48,
              (const MethodInfo_2E247A4 *)Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__) )
        goto LABEL_68;
      this = (BattleData_o *)v11->fields.chainCountDict;
      if ( !this )
        goto LABEL_98;
      Item = (double)System_Collections_Generic_Dictionary_int__int___get_Item(
                       (System_Collections_Generic_Dictionary_int__int__o *)this,
                       v48,
                       (const MethodInfo_2E24480 *)Method_System_Collections_Generic_Dictionary_int__int__get_Item__);
LABEL_68:
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !this )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !LODWORD(this->fields.rootfsm) )
        goto LABEL_99;
      *(double *)&this->fields.fsm = Item;
      return v25;
    case 34:
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !v11->fields.useSkillEachTurn )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      this = (BattleData_o *)UseSkillEachTurn__IsUseThisTurn(v11->fields.useSkillEachTurn, v11, checkParams, 0LL);
      goto LABEL_73;
    case 35:
      if ( !checkParams )
        goto LABEL_98;
      v29 = *(_QWORD *)&checkParams->max_length;
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      chainTypeList = v11->fields.chainTypeList;
      if ( !chainTypeList )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !v29 )
      {
        v26 = 0.0;
        if ( chainTypeList->fields._size > 0 )
          v26 = 1.0;
        if ( this )
          goto LABEL_77;
LABEL_98:
        sub_B2C434(this, bData);
      }
      v31 = System_Collections_Generic_List_double___ToArray(
              v11->fields.chainTypeList,
              (const MethodInfo_2F63154 *)Method_System_Collections_Generic_List_double__ToArray__);
      if ( (BYTE3(ConditionsInformation_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !ConditionsInformation_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(ConditionsInformation_TypeInfo);
      }
      this = (BattleData_o *)ConditionsInformation__isExist(v31, checkParams, 0LL);
LABEL_73:
      v45 = ((unsigned __int8)this & 1) == 0;
      v26 = 0.0;
      v46 = 1.0;
LABEL_74:
      if ( !v45 )
        v26 = v46;
      if ( !v25 )
        goto LABEL_98;
LABEL_77:
      if ( !v25->max_length )
      {
LABEL_99:
        v56 = sub_B2C460(this);
        sub_B2C400(v56, 0LL);
      }
LABEL_78:
      v25->m_Items[0] = v26;
      return v25;
    case 36:
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !this )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !LODWORD(this->fields.rootfsm) )
        goto LABEL_99;
      num = v11->fields.playerNpCount;
      goto LABEL_58;
    case 37:
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !this )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !LODWORD(this->fields.rootfsm) )
        goto LABEL_99;
      num = v11->fields.playerSkillCount;
      goto LABEL_58;
    case 38:
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !this )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !LODWORD(this->fields.rootfsm) )
        goto LABEL_99;
      playerMasterSkillCount = v11->fields.playerMasterSkillCount;
      playerSkillCount = v11->fields.playerSkillCount;
      goto LABEL_52;
    case 39:
      this = (BattleData_o *)sub_B2C374(double___TypeInfo, 1LL);
      if ( !this )
        goto LABEL_98;
      v25 = (System_Double_array *)this;
      if ( !LODWORD(this->fields.rootfsm) )
        goto LABEL_99;
      playerMasterSkillCount = v11->fields.turnCount;
      playerSkillCount = v11->fields.totalTurnCount;
LABEL_52:
      num = playerSkillCount + playerMasterSkillCount;
      goto LABEL_58;
    case 40:
      v51 = v11->fields.battleEvent;
      if ( v51 )
        v52 = ((__int64 (__fastcall *)(struct BaseBattleEvent_o *, Il2CppMethodPointer, _QWORD, _QWORD, _QWORD, System_Int64_array *, AiBaseEntity_o *, const MethodInfo *))v51->klass->vtable._36_GetWarBoardSquareIndividualityList.method)(
                v51,
                v51->klass->vtable._37_GetForceDeadSvtIdArray.methodPtr,
                *(_QWORD *)&param,
                *(_QWORD *)&turn,
                *(_QWORD *)&actCnt,
                checkParams,
                aiBaseEntity,
                method);
      else
        v52 = 0LL;
      if ( BasicHelper__IsNullOrEmpty((System_Collections_ICollection_o *)v52, 0LL) )
        return v11->fields.wkZeroParam;
      v53 = (System_Collections_Generic_List_double__o *)sub_B2C42C(System_Collections_Generic_List_double__TypeInfo);
      System_Collections_Generic_List_double____ctor(
        v53,
        (const MethodInfo_2F602C8 *)Method_System_Collections_Generic_List_double___ctor__);
      if ( !v52 )
        goto LABEL_98;
      LODWORD(v54) = *(_DWORD *)(v52 + 24);
      if ( (int)v54 < 1 )
        goto LABEL_96;
      v55 = 0LL;
      do
      {
        if ( v55 >= (unsigned int)v54 )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        if ( !v53 )
          goto LABEL_98;
        System_Collections_Generic_List_double___Add(
          v53,
          (double)*(int *)(*(_QWORD *)(v52 + 16) + 4 * v55 + 32),
          (const MethodInfo_2F61020 *)Method_System_Collections_Generic_List_double__Add__);
        v54 = *(int *)(v52 + 24);
        ++v55;
      }
      while ( (__int64)v55 < v54 );
LABEL_96:
      if ( !v53 )
        goto LABEL_98;
      return System_Collections_Generic_List_double___ToArray(
               v53,
               (const MethodInfo_2F63154 *)Method_System_Collections_Generic_List_double__ToArray__);
    default:
      return v11->fields.wkZeroParam;
  }
}


System_Int32_array *__fastcall BattleData__getAliveEnemys(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x3
  BattleInfoData_o *battle_info; // x19
  int32_t wavecount; // w20
  System_Int32_array *EnemyServantIDList; // x0
  __int64 v6; // x1

  battle_info = this->fields.battle_info;
  wavecount = this->fields.wavecount;
  EnemyServantIDList = BattleData__getEnemyServantIDList(this, 1, 0, v2);
  if ( !battle_info )
    sub_B2C434(EnemyServantIDList, v6);
  return BattleInfoData__getAliveEnemys(battle_info, wavecount, EnemyServantIDList, 0LL);
}


// local variable allocation has failed, the output may be wrong!
System_Int32_array *__fastcall BattleData__getAliveFieldEnemyServantIDList(
        BattleData_o *this,
        bool isTargetOnly,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Int32_array *FieldEnemyServantIDList; // x20
  System_Collections_Generic_List_int__o *v10; // x21
  BattleServantData_o *ServantData; // x0
  __int64 v12; // x1
  const MethodInfo *v13; // x2
  __int64 v14; // x8
  unsigned __int64 v15; // x23
  int32_t v16; // w22
  __int64 v17; // x0

  if ( (byte_4184332 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, isTargetOnly);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v7);
    byte_4184332 = 1;
  }
  if ( this->fields.isMultiTargetBattle && isTargetOnly )
    return BattleData__getTargetEnemyIdList(this, 1, method);
  FieldEnemyServantIDList = BattleData__getFieldEnemyServantIDList(this, isTargetOnly, method);
  v10 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v10,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  if ( !FieldEnemyServantIDList )
    goto LABEL_18;
  v14 = *(_QWORD *)&FieldEnemyServantIDList->max_length;
  if ( (int)v14 >= 1 )
  {
    v15 = 0LL;
    do
    {
      if ( v15 >= (unsigned int)v14 )
      {
        v17 = sub_B2C460(ServantData);
        sub_B2C400(v17, 0LL);
      }
      v16 = FieldEnemyServantIDList->m_Items[v15 + 1];
      ServantData = BattleData__getServantData(this, v16, v13);
      if ( ServantData )
      {
        ServantData = (BattleServantData_o *)BattleServantData__isDead(ServantData, 0LL);
        if ( ((unsigned __int8)ServantData & 1) == 0 )
        {
          if ( !v10 )
            goto LABEL_18;
          System_Collections_Generic_List_int___Add(
            v10,
            v16,
            (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
        }
      }
      LODWORD(v14) = FieldEnemyServantIDList->max_length;
      ++v15;
    }
    while ( (__int64)v15 < (int)v14 );
  }
  if ( !v10 )
LABEL_18:
    sub_B2C434(ServantData, v12);
  return System_Collections_Generic_List_int___ToArray(
           v10,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


System_Int32_array *__fastcall BattleData__getAliveFieldPlayerServantIDList(
        BattleData_o *this,
        System_Int32_array *addIds,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Int32_array *FieldPlayerServantIDList; // x20
  System_Collections_Generic_List_int__o *v9; // x21
  BattleServantData_o *ServantData; // x0
  __int64 v11; // x1
  const MethodInfo *v12; // x2
  __int64 v13; // x8
  unsigned __int64 v14; // x23
  int32_t v15; // w22
  __int64 v17; // x0

  if ( (byte_418433D & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, addIds);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v7);
    byte_418433D = 1;
  }
  FieldPlayerServantIDList = BattleData__getFieldPlayerServantIDList(this, addIds, method);
  v9 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v9,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  if ( !FieldPlayerServantIDList )
    goto LABEL_15;
  v13 = *(_QWORD *)&FieldPlayerServantIDList->max_length;
  if ( (int)v13 >= 1 )
  {
    v14 = 0LL;
    do
    {
      if ( v14 >= (unsigned int)v13 )
      {
        v17 = sub_B2C460(ServantData);
        sub_B2C400(v17, 0LL);
      }
      v15 = FieldPlayerServantIDList->m_Items[v14 + 1];
      ServantData = BattleData__getServantData(this, v15, v12);
      if ( ServantData )
      {
        ServantData = (BattleServantData_o *)BattleServantData__isDead(ServantData, 0LL);
        if ( ((unsigned __int8)ServantData & 1) == 0 )
        {
          if ( !v9 )
            goto LABEL_15;
          System_Collections_Generic_List_int___Add(
            v9,
            v15,
            (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
        }
      }
      LODWORD(v13) = FieldPlayerServantIDList->max_length;
      ++v14;
    }
    while ( (__int64)v14 < (int)v13 );
  }
  if ( !v9 )
LABEL_15:
    sub_B2C434(ServantData, v11);
  return System_Collections_Generic_List_int___ToArray(
           v9,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
System_Int32_array *__fastcall BattleData__getAliveFieldSvtIdArray(
        BattleData_o *this,
        int32_t actorUniqueId,
        bool isPartySide,
        System_Int32_array *tvals,
        bool isIncludeIgnoreIndiv,
        const MethodInfo *method)
{
  const MethodInfo *v10; // x2
  System_Int32_array *result; // x0
  const MethodInfo *v12; // x4

  if ( (((BattleData__getEnemyServantData(this, actorUniqueId, (const MethodInfo *)isPartySide) != 0LL) ^ !isPartySide) & 1) != 0 )
    result = BattleData__getAliveFieldEnemyServantIDList(this, !isPartySide, v10);
  else
    result = BattleData__getAliveFieldPlayerServantIDList(this, 0LL, v10);
  if ( tvals )
    return BattleData__CheckIndivSvtIdList(this, result, tvals, isIncludeIgnoreIndiv, v12);
  return result;
}


BattleServantData_o *__fastcall BattleData__getAliveServantDataFromIndex(
        BattleData_o *this,
        int32_t index,
        bool isEnemy,
        const MethodInfo *method)
{
  BattleServantData_o *result; // x0
  BattleServantData_o *v5; // x19

  result = BattleData__getServantDataFromIndex(this, index, isEnemy, method);
  if ( result )
  {
    v5 = result;
    if ( BattleServantData__isAlive(result, 0, 0LL) )
      return v5;
    else
      return 0LL;
  }
  return result;
}


BattleEntity_o *__fastcall BattleData__getBattleEntity(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.battle_ent;
}


BattleFieldData_o *__fastcall BattleData__getBattleFieldData(
        BattleData_o *this,
        int32_t index,
        const MethodInfo *method)
{
  struct BattleFieldData_array *field_datalist; // x8
  __int64 v5; // x0

  field_datalist = this->fields.field_datalist;
  if ( !field_datalist )
    sub_B2C434(this, index);
  if ( field_datalist->max_length <= index )
  {
    v5 = sub_B2C460(this);
    sub_B2C400(v5, 0LL);
  }
  return field_datalist->m_Items[index];
}


System_String_o *__fastcall BattleData__getBattleFinishMovie(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetBattleFinishMovie(questphase_ent, 0LL);
}


BattleInfoData_o *__fastcall BattleData__getBattleInfo(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.battle_info;
}


// local variable allocation has failed, the output may be wrong!
BgmEntity_o *__fastcall BattleData__getBgmMasterFromCostume(
        BattleData_o *this,
        int32_t uniqueID,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BgmEntity_o *result; // x0
  BgmEntity_o *v10; // x19
  DataManager_o *Instance; // x0
  __int64 v12; // x1
  WarQuestSelectionMaster_o *MasterData_WarQuestSelectionMaster; // x0
  struct System_Collections_Generic_Dictionary_string__object__o *script; // x21
  __int64 v15; // x22
  ServantCostumeMaster_o *v16; // x20
  int32_t v17; // w0
  struct System_String_o *name; // x8
  int32_t v19; // w19
  bool v20; // w8
  bool v21; // w8
  BgmEntity_o *v22; // [xsp+0h] [xbp-40h] BYREF
  int32_t param; // [xsp+Ch] [xbp-34h] BYREF
  ServantCostumeEntity_o *entity; // [xsp+18h] [xbp-28h] BYREF
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v25; // 0:x0.16
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v26; // 0:x0.16

  if ( (byte_41843A4 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_BgmMaster___, *(_QWORD *)&uniqueID);
    sub_B2C35C(&Method_DataManager_GetMasterData_ServantCostumeMaster___, v5);
    sub_B2C35C(&Method_DataMasterBase_BgmMaster__BgmEntity__int__TryGetEntity__, v6);
    sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, v7);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v8);
    byte_41843A4 = 1;
  }
  entity = 0LL;
  param = 0;
  v22 = 0LL;
  result = (BgmEntity_o *)BattleData__getPlayerServantData(this, uniqueID, method);
  if ( result )
  {
    v10 = result;
    Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
    if ( !Instance )
      goto LABEL_18;
    MasterData_WarQuestSelectionMaster = DataManager__GetMasterData_WarQuestSelectionMaster_(
                                           Instance,
                                           (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_ServantCostumeMaster___);
    v15 = *(_QWORD *)&v10->fields.shopId;
    script = v10->fields.script;
    v16 = (ServantCostumeMaster_o *)MasterData_WarQuestSelectionMaster;
    if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
    }
    *(_QWORD *)&v25.fields.currentCryptoKey = v15;
    *(_QWORD *)&v25.fields.fakeValue = script;
    v17 = CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v25, 0LL);
    name = v10[1].fields.name;
    *(_QWORD *)&v26.fields.fakeValue = *(_QWORD *)&v10[1].fields.priority;
    v19 = v17;
    *(_QWORD *)&v26.fields.currentCryptoKey = name;
    Instance = (DataManager_o *)CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v26, 0LL);
    if ( !v16 )
      goto LABEL_18;
    v20 = ServantCostumeMaster__TryGetEntity(v16, &entity, v19, (int32_t)Instance, 0LL);
    result = 0LL;
    if ( !v20 )
      return result;
    Instance = (DataManager_o *)entity;
    if ( !entity )
      goto LABEL_18;
    v21 = ServantCostumeEntity__checkBgmId(entity, &param, 0LL);
    result = 0LL;
    if ( !v21 )
      return result;
    Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
    if ( !Instance
      || (Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                        Instance,
                                        (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_BgmMaster___)) == 0LL )
    {
LABEL_18:
      sub_B2C434(Instance, v12);
    }
    if ( DataMasterBase_WarMaster__WarEntity__int___TryGetEntity(
           (DataMasterBase_WarMaster__WarEntity__int__o *)Instance,
           (WarEntity_o **)&v22,
           param,
           (const MethodInfo_24E412C *)Method_DataMasterBase_BgmMaster__BgmEntity__int__TryGetEntity__) )
    {
      return v22;
    }
    else
    {
      return 0LL;
    }
  }
  return result;
}


// local variable allocation has failed, the output may be wrong!
BattleSkillInfoData_o *__fastcall BattleData__getBoostSkillInfo(
        BattleData_o *this,
        int32_t index,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData___c__DisplayClass353_0_o *v9; // x21
  __int64 v10; // x0
  __int64 v11; // x1
  struct System_Collections_Generic_List_BattleBoostItemInfoData__o *boostSkillInfo; // x19
  System_Predicate_peRenderTexture_ChangeLayerObject__o *v13; // x20

  if ( (byte_418430F & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleBoostItemInfoData__Find__, *(_QWORD *)&index);
    sub_B2C35C(&Method_System_Predicate_BattleBoostItemInfoData___ctor__, v5);
    sub_B2C35C(&System_Predicate_BattleBoostItemInfoData__TypeInfo, v6);
    sub_B2C35C(&Method_BattleData___c__DisplayClass353_0__getBoostSkillInfo_b__0__, v7);
    sub_B2C35C(&BattleData___c__DisplayClass353_0_TypeInfo, v8);
    byte_418430F = 1;
  }
  v9 = (BattleData___c__DisplayClass353_0_o *)sub_B2C42C(BattleData___c__DisplayClass353_0_TypeInfo);
  BattleData___c__DisplayClass353_0___ctor(v9, 0LL);
  if ( !v9
    || (v9->fields.index = index,
        boostSkillInfo = this->fields.boostSkillInfo,
        v13 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_BattleBoostItemInfoData__TypeInfo),
        System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
          v13,
          (Il2CppObject *)v9,
          Method_BattleData___c__DisplayClass353_0__getBoostSkillInfo_b__0__,
          (const MethodInfo_2952BE4 *)Method_System_Predicate_BattleBoostItemInfoData___ctor__),
        !boostSkillInfo) )
  {
    sub_B2C434(v10, v11);
  }
  return (BattleSkillInfoData_o *)System_Collections_Generic_List_peRenderTexture_ChangeLayerObject___Find(
                                    (System_Collections_Generic_List_peRenderTexture_ChangeLayerObject__o *)boostSkillInfo,
                                    (System_Predicate_T__o *)v13,
                                    (const MethodInfo_2EF4D20 *)Method_System_Collections_Generic_List_BattleBoostItemInfoData__Find__);
}


int64_t __fastcall BattleData__getBsate(BattleData_o *this, const MethodInfo *method)
{
  struct BattleEntity_o *battle_ent; // x8

  if ( !this->fields.endbattleFlg )
    return 0LL;
  battle_ent = this->fields.battle_ent;
  if ( !battle_ent )
    sub_B2C434(this, method);
  return battle_ent->fields.id ^ 0xFFFFFFFFFFED5CD0LL;
}


System_Int32_array *__fastcall BattleData__getCommandCriticals(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.commandCriticalArray;
}


System_String_o *__fastcall BattleData__getCommandHistory(
        BattleData_o *this,
        System_Collections_Generic_List_BattleData_CommandHistory__o *commandHistoryList,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Text_StringBuilder_o *v8; // x19
  __int64 v9; // x0
  __int64 v10; // x1
  _BOOL8 v11; // x0
  __int64 v12; // x1
  Il2CppObject *current; // x21
  unsigned int klass_high; // w8
  System_Collections_Generic_List_Enumerator_T__o v16; // [xsp+8h] [xbp-58h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v17; // [xsp+20h] [xbp-40h] BYREF

  if ( (byte_4184368 & 1) == 0 )
  {
    sub_B2C35C(
      &Method_System_Collections_Generic_List_Enumerator_BattleData_CommandHistory__Dispose__,
      commandHistoryList);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleData_CommandHistory__MoveNext__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_Enumerator_BattleData_CommandHistory__get_Current__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleData_CommandHistory__GetEnumerator__, v6);
    sub_B2C35C(&System_Text_StringBuilder_TypeInfo, v7);
    byte_4184368 = 1;
  }
  memset(&v17, 0, sizeof(v17));
  v8 = (System_Text_StringBuilder_o *)sub_B2C42C(System_Text_StringBuilder_TypeInfo);
  System_Text_StringBuilder___ctor(v8, 0LL);
  if ( !commandHistoryList )
    goto LABEL_15;
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v16,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)commandHistoryList,
    (const MethodInfo_2EF52DC *)Method_System_Collections_Generic_List_BattleData_CommandHistory__GetEnumerator__);
  v17 = v16;
  while ( 1 )
  {
    v11 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v17,
            (const MethodInfo_20EA42C *)Method_System_Collections_Generic_List_Enumerator_BattleData_CommandHistory__MoveNext__);
    if ( !v11 )
      break;
    current = v17.fields.current;
    if ( !v17.fields.current )
      sub_B2C434(v11, v12);
    if ( !v8 )
      sub_B2C434(v11, v12);
    System_Text_StringBuilder__Append_42412040(v8, (int32_t)v17.fields.current[1].klass, 0LL);
    klass_high = HIDWORD(current[1].klass);
    if ( klass_high <= 0x19 )
    {
      System_Text_StringBuilder__Append_42411944(v8, klass_high + 65, 0LL);
    }
    else
    {
      System_Text_StringBuilder__Append_42411944(v8, 0x28u, 0LL);
      System_Text_StringBuilder__Append_42412040(v8, HIDWORD(current[1].klass), 0LL);
      System_Text_StringBuilder__Append_42411944(v8, 0x29u, 0LL);
    }
  }
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v17,
    (const MethodInfo_20EA428 *)Method_System_Collections_Generic_List_Enumerator_BattleData_CommandHistory__Dispose__);
  if ( !v8 )
LABEL_15:
    sub_B2C434(v9, v10);
  return (System_String_o *)((__int64 (__fastcall *)(System_Text_StringBuilder_o *, Il2CppMethodPointer))v8->klass->vtable._3_ToString.method)(
                              v8,
                              v8->klass->vtable._4_System_Runtime_Serialization_ISerializable_GetObjectData.methodPtr);
}


int32_t __fastcall BattleData__getCommandSpellIdBattle(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1

  if ( (byte_418435B & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_3253/*"COMMAND_SPELL_BATTLE_SAVEKEY"*/, v2);
    byte_418435B = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__GetInt_33168616((System_String_o *)StringLiteral_3253/*"COMMAND_SPELL_BATTLE_SAVEKEY"*/, 0, 0LL);
}


int32_t __fastcall BattleData__getContinueBattleFlg(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1

  if ( (byte_4184355 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_3363/*"CONTINUE_BATTLE_SAVEKEY"*/, v2);
    byte_4184355 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__GetInt_33168616((System_String_o *)StringLiteral_3363/*"CONTINUE_BATTLE_SAVEKEY"*/, 0, 0LL);
}


int32_t __fastcall BattleData__getCriticalPoint(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.criticalstars;
}


int32_t __fastcall BattleData__getDispWaveCount(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.wavecount + 1;
}


BattleDropItem_array *__fastcall BattleData__getDropItems(BattleData_o *this, const MethodInfo *method)
{
  struct System_Collections_Generic_List_BattleDropItem__o *droplist; // x0

  if ( (byte_4184311 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleDropItem__ToArray__, method);
    byte_4184311 = 1;
  }
  droplist = this->fields.droplist;
  if ( !droplist )
    sub_B2C434(0LL, method);
  return (BattleDropItem_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                   (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)droplist,
                                   (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleDropItem__ToArray__);
}


EnemyFieldStatus_o *__fastcall BattleData__getEnemyFieldStatus(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.enemyFieldStatus;
}


int32_t __fastcall BattleData__getEnemyMasterCommandSpellCnt(BattleData_o *this, const MethodInfo *method)
{
  struct EnemyMstBattleEntity_o *enemyMasterInfo; // x8

  enemyMasterInfo = this->fields.enemyMasterInfo;
  if ( enemyMasterInfo )
    return enemyMasterInfo->fields.maxCommandSpell - this->fields.enemyMasterCommandSpellUseCnt;
  else
    return 0;
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_o *__fastcall BattleData__getEnemyServantData(
        BattleData_o *this,
        int32_t Id,
        const MethodInfo *method)
{
  BattleData_o *v4; // x20
  __int64 v5; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x23
  int size; // w22
  unsigned int v8; // w21
  struct System_Collections_Generic_List_BattleServantData__o *v10; // x19

  v4 = this;
  if ( (byte_4184326 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, *(_QWORD *)&Id);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v5);
    byte_4184326 = 1;
  }
  enemy_datalist = v4->fields.enemy_datalist;
  if ( !enemy_datalist )
    goto LABEL_18;
  size = enemy_datalist->fields._size;
  if ( size < 1 )
    return 0LL;
  v8 = 0;
  while ( 1 )
  {
    if ( enemy_datalist->fields._size <= v8 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    this = (BattleData_o *)enemy_datalist->fields._items->m_Items[v8];
    if ( !this )
      goto LABEL_18;
    this = (BattleData_o *)BattleServantData__checkID((BattleServantData_o *)this, Id, 0LL);
    if ( ((unsigned __int8)this & 1) != 0 )
      break;
    if ( (int)++v8 >= size )
      return 0LL;
    enemy_datalist = v4->fields.enemy_datalist;
    if ( !enemy_datalist )
      goto LABEL_18;
  }
  v10 = v4->fields.enemy_datalist;
  if ( !v10 )
LABEL_18:
    sub_B2C434(this, *(_QWORD *)&Id);
  if ( v10->fields._size <= v8 )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  return v10->fields._items->m_Items[v8];
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_o *__fastcall BattleData__getEnemyServantDataFromNpcId(
        BattleData_o *this,
        int32_t npcId,
        const MethodInfo *method)
{
  BattleData_o *v4; // x20
  __int64 v5; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x23
  int size; // w22
  unsigned int v8; // w21
  BattleServantData_o *v9; // x8
  struct BattleDeckServantData_o *deckSvt; // x8
  struct System_Collections_Generic_List_BattleServantData__o *v11; // x24
  struct System_Collections_Generic_List_BattleServantData__o *v13; // x19

  v4 = this;
  if ( (byte_4184328 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, *(_QWORD *)&npcId);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v5);
    byte_4184328 = 1;
  }
  enemy_datalist = v4->fields.enemy_datalist;
  if ( !enemy_datalist )
    goto LABEL_24;
  size = enemy_datalist->fields._size;
  if ( size < 1 )
    return 0LL;
  v8 = 0;
  while ( 1 )
  {
    if ( enemy_datalist->fields._size <= v8 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v9 = enemy_datalist->fields._items->m_Items[v8];
    if ( !v9 )
      goto LABEL_24;
    deckSvt = v9->fields.deckSvt;
    if ( !deckSvt )
      goto LABEL_24;
    if ( deckSvt->fields.npcId == npcId )
    {
      v11 = v4->fields.enemy_datalist;
      if ( !v11 )
        goto LABEL_24;
      if ( v11->fields._size <= v8 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      this = (BattleData_o *)v11->fields._items->m_Items[v8];
      if ( !this )
        goto LABEL_24;
      this = (BattleData_o *)BattleServantData__isAlive((BattleServantData_o *)this, 0, 0LL);
      if ( ((unsigned __int8)this & 1) != 0 )
        break;
    }
    if ( (int)++v8 >= size )
      return 0LL;
    enemy_datalist = v4->fields.enemy_datalist;
    if ( !enemy_datalist )
      goto LABEL_24;
  }
  v13 = v4->fields.enemy_datalist;
  if ( !v13 )
LABEL_24:
    sub_B2C434(this, *(_QWORD *)&npcId);
  if ( v13->fields._size <= v8 )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  return v13->fields._items->m_Items[v8];
}


BattleServantData_o *__fastcall BattleData__getEnemyServantDataIndex(
        BattleData_o *this,
        int32_t index,
        const MethodInfo *method)
{
  struct System_Int32_array *e_entryid; // x8
  int32_t v4; // w1
  __int64 v6; // x0

  e_entryid = this->fields.e_entryid;
  if ( !e_entryid )
    sub_B2C434(this, index);
  if ( e_entryid->max_length <= index )
  {
    v6 = sub_B2C460(this);
    sub_B2C400(v6, 0LL);
  }
  v4 = e_entryid->m_Items[index + 1];
  if ( v4 == -1 )
    return 0LL;
  else
    return BattleData__getServantData(this, v4, method);
}


// local variable allocation has failed, the output may be wrong!
System_Int32_array *__fastcall BattleData__getEnemyServantIDList(
        BattleData_o *this,
        bool ckDead,
        bool isTargetOnly,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  System_Collections_Generic_List_int__o *v13; // x21
  _BOOL8 isDead; // x0
  __int64 v15; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x22
  signed __int64 size; // x23
  unsigned __int64 v18; // x24
  __int64 v19; // x8
  __int64 v20; // x22

  if ( (byte_4184334 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, ckDead);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v10);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v11);
    byte_4184334 = 1;
  }
  if ( this->fields.isMultiTargetBattle && isTargetOnly )
    return BattleData__getTargetEnemyIdList(this, 1, (const MethodInfo *)isTargetOnly);
  v13 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v13,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  enemy_datalist = this->fields.enemy_datalist;
  if ( !enemy_datalist )
    goto LABEL_18;
  size = enemy_datalist->fields._size;
  if ( (int)size >= 1 )
  {
    v18 = 0LL;
    while ( 1 )
    {
      if ( v18 >= (unsigned int)enemy_datalist->fields._size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v19 = (__int64)enemy_datalist->fields._items + 8 * v18;
      v20 = *(_QWORD *)(v19 + 32);
      if ( v20 )
      {
        if ( !ckDead || !(isDead = BattleServantData__isDead(*(BattleServantData_o **)(v19 + 32), 0LL)) )
        {
          if ( !v13 )
            goto LABEL_18;
          System_Collections_Generic_List_int___Add(
            v13,
            *(_DWORD *)(v20 + 24),
            (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
        }
      }
      if ( (__int64)++v18 >= size )
        break;
      enemy_datalist = this->fields.enemy_datalist;
      if ( !enemy_datalist )
        goto LABEL_18;
    }
  }
  if ( !v13 )
LABEL_18:
    sub_B2C434(isDead, v15);
  return System_Collections_Generic_List_int___ToArray(
           v13,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


BattleServantData_array *__fastcall BattleData__getEnemyServantList(BattleData_o *this, const MethodInfo *method)
{
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x0

  if ( (byte_4184333 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, method);
    byte_4184333 = 1;
  }
  enemy_datalist = this->fields.enemy_datalist;
  if ( !enemy_datalist )
    sub_B2C434(0LL, method);
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)enemy_datalist,
                                      (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


BattleServantData_o *__fastcall BattleData__getEnemySubBackServantData(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x20
  BattleData___c_c *isAlive; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Comparison_TitleInfoControl_EventEndTimeInfo__o *_9__430_0; // x21
  Il2CppObject *v13; // x22
  struct BattleData___c_StaticFields *v14; // x0
  struct System_Collections_Generic_List_BattleServantData__o *v15; // x21
  int v16; // w20
  BattleServantData_o *v17; // x8
  struct System_Collections_Generic_List_BattleServantData__o *v18; // x22
  struct System_Collections_Generic_List_BattleServantData__o *v20; // x19

  if ( (byte_4184329 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Comparison_BattleServantData___ctor__, method);
    sub_B2C35C(&System_Comparison_BattleServantData__TypeInfo, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Sort__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v6);
    sub_B2C35C(&Method_BattleData___c__getEnemySubBackServantData_b__430_0__, v7);
    sub_B2C35C(&BattleData___c_TypeInfo, v8);
    byte_4184329 = 1;
  }
  enemy_datalist = this->fields.enemy_datalist;
  isAlive = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    isAlive = BattleData___c_TypeInfo;
  }
  static_fields = isAlive->static_fields;
  _9__430_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)static_fields->__9__430_0;
  if ( !_9__430_0 )
  {
    if ( (BYTE3(isAlive->vtable._0_Equals.methodPtr) & 4) != 0 && !isAlive->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(isAlive);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v13 = (Il2CppObject *)static_fields->__9;
    _9__430_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)sub_B2C42C(System_Comparison_BattleServantData__TypeInfo);
    System_Comparison_TitleInfoControl_EventEndTimeInfo____ctor(
      _9__430_0,
      v13,
      Method_BattleData___c__getEnemySubBackServantData_b__430_0__,
      (const MethodInfo_25D8DF8 *)Method_System_Comparison_BattleServantData___ctor__);
    v14 = BattleData___c_TypeInfo->static_fields;
    v14->__9__430_0 = (struct System_Comparison_BattleServantData__o *)_9__430_0;
    sub_B2C2F8(&v14->__9__430_0, _9__430_0);
  }
  if ( !enemy_datalist )
    goto LABEL_31;
  System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo___Sort(
    (System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo__o *)enemy_datalist,
    (System_Comparison_T__o *)_9__430_0,
    (const MethodInfo_2EF653C *)Method_System_Collections_Generic_List_BattleServantData__Sort__);
  v15 = this->fields.enemy_datalist;
  if ( !v15 )
    goto LABEL_31;
  v16 = v15->fields._size - 1;
  if ( v16 < 0 )
    return 0LL;
  while ( 1 )
  {
    if ( v15->fields._size <= (unsigned int)v16 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v17 = v15->fields._items->m_Items[v16];
    if ( !v17 )
      goto LABEL_31;
    if ( !v17->fields.isEntry )
    {
      v18 = this->fields.enemy_datalist;
      if ( !v18 )
        goto LABEL_31;
      if ( v18->fields._size <= (unsigned int)v16 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      isAlive = (BattleData___c_c *)v18->fields._items->m_Items[v16];
      if ( !isAlive )
        goto LABEL_31;
      isAlive = (BattleData___c_c *)BattleServantData__isAlive((BattleServantData_o *)isAlive, 0, 0LL);
      if ( ((unsigned __int8)isAlive & 1) != 0 )
        break;
    }
    if ( --v16 < 0 )
      return 0LL;
    v15 = this->fields.enemy_datalist;
    if ( !v15 )
      goto LABEL_31;
  }
  v20 = this->fields.enemy_datalist;
  if ( !v20 )
LABEL_31:
    sub_B2C434(isAlive, method);
  if ( v20->fields._size <= (unsigned int)v16 )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  return v20->fields._items->m_Items[v16];
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_o *__fastcall BattleData__getEnemySubServantData(
        BattleData_o *this,
        int32_t entryIndex,
        const MethodInfo *method)
{
  BattleData_o *v4; // x20
  __int64 v5; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x23
  int size; // w22
  unsigned int v8; // w21
  BattleServantData_o *v9; // x8
  struct System_Collections_Generic_List_BattleServantData__o *v10; // x24
  struct System_Collections_Generic_List_BattleServantData__o *v12; // x19

  v4 = this;
  if ( (byte_418432A & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, *(_QWORD *)&entryIndex);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v5);
    byte_418432A = 1;
  }
  enemy_datalist = v4->fields.enemy_datalist;
  if ( !enemy_datalist )
    goto LABEL_23;
  size = enemy_datalist->fields._size;
  if ( size < 1 )
    return 0LL;
  v8 = 0;
  while ( 1 )
  {
    if ( enemy_datalist->fields._size <= v8 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v9 = enemy_datalist->fields._items->m_Items[v8];
    if ( !v9 )
      goto LABEL_23;
    if ( !v9->fields.isEntry )
    {
      v10 = v4->fields.enemy_datalist;
      if ( !v10 )
        goto LABEL_23;
      if ( v10->fields._size <= v8 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      this = (BattleData_o *)v10->fields._items->m_Items[v8];
      if ( !this )
        goto LABEL_23;
      this = (BattleData_o *)BattleServantData__checkEntryIndex((BattleServantData_o *)this, entryIndex, 0LL);
      if ( ((unsigned __int8)this & 1) != 0 )
        break;
    }
    if ( (int)++v8 >= size )
      return 0LL;
    enemy_datalist = v4->fields.enemy_datalist;
    if ( !enemy_datalist )
      goto LABEL_23;
  }
  v12 = v4->fields.enemy_datalist;
  if ( !v12 )
LABEL_23:
    sub_B2C434(this, *(_QWORD *)&entryIndex);
  if ( v12->fields._size <= v8 )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  return v12->fields._items->m_Items[v8];
}


System_Int32_array *__fastcall BattleData__getEntryIdArray(BattleData_o *this, bool isEnemy, const MethodInfo *method)
{
  __int64 v3; // x8

  v3 = 288LL;
  if ( isEnemy )
    v3 = 296LL;
  return *(System_Int32_array **)((char *)&this->klass + v3);
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__getEventActivityPoint(
        BattleData_o *this,
        int32_t masterSkillId,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  void *eventPointActivityDict; // x0
  struct System_Collections_Generic_Dictionary_int__int__o **p_eventPointActivityDict; // x20
  System_Collections_Generic_Dictionary_int__int__o *v13; // x22
  __int64 v14; // x1
  struct BattleEntity_o *battle_ent; // x8
  int v16; // w8
  void *v17; // x21
  unsigned int v18; // w22
  _DWORD *v19; // x25
  __int64 v21; // x0

  if ( (byte_41842E1 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_EventPointActivityMaster___, *(_QWORD *)&masterSkillId);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__Add__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int___ctor__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__get_Item__, v8);
    sub_B2C35C(&System_Collections_Generic_Dictionary_int__int__TypeInfo, v9);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v10);
    byte_41842E1 = 1;
  }
  eventPointActivityDict = this->fields.eventPointActivityDict;
  p_eventPointActivityDict = &this->fields.eventPointActivityDict;
  if ( !eventPointActivityDict )
  {
    v13 = (System_Collections_Generic_Dictionary_int__int__o *)sub_B2C42C(System_Collections_Generic_Dictionary_int__int__TypeInfo);
    System_Collections_Generic_Dictionary_int__int____ctor(
      v13,
      (const MethodInfo_2E2399C *)Method_System_Collections_Generic_Dictionary_int__int___ctor__);
    *p_eventPointActivityDict = v13;
    sub_B2C2F8(&this->fields.eventPointActivityDict, v13);
    eventPointActivityDict = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
    if ( !eventPointActivityDict )
      goto LABEL_23;
    eventPointActivityDict = DataManager__GetMasterData_WarQuestSelectionMaster_(
                               (DataManager_o *)eventPointActivityDict,
                               (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EventPointActivityMaster___);
    battle_ent = this->fields.battle_ent;
    if ( !battle_ent )
      goto LABEL_23;
    if ( !eventPointActivityDict )
      goto LABEL_23;
    eventPointActivityDict = EventPointActivityMaster__getEntityList(
                               (EventPointActivityMaster_o *)eventPointActivityDict,
                               battle_ent->fields.eventId,
                               0LL);
    if ( !eventPointActivityDict )
      goto LABEL_23;
    v16 = *((_DWORD *)eventPointActivityDict + 6);
    v17 = eventPointActivityDict;
    if ( v16 >= 1 )
    {
      v18 = 0;
      while ( 1 )
      {
        if ( v18 >= v16 )
        {
          v21 = sub_B2C460(eventPointActivityDict);
          sub_B2C400(v21, 0LL);
        }
        v19 = (_DWORD *)*((_QWORD *)v17 + (int)v18 + 4);
        if ( !v19 )
          break;
        if ( v19[6] == 2 )
        {
          eventPointActivityDict = *p_eventPointActivityDict;
          if ( !*p_eventPointActivityDict )
            break;
          eventPointActivityDict = (void *)System_Collections_Generic_Dictionary_int__int___ContainsKey(
                                             (System_Collections_Generic_Dictionary_int__int__o *)eventPointActivityDict,
                                             v19[7],
                                             (const MethodInfo_2E247A4 *)Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__);
          if ( ((unsigned __int8)eventPointActivityDict & 1) == 0 )
          {
            eventPointActivityDict = *p_eventPointActivityDict;
            if ( !*p_eventPointActivityDict )
              break;
            System_Collections_Generic_Dictionary_int__int___Add(
              (System_Collections_Generic_Dictionary_int__int__o *)eventPointActivityDict,
              v19[7],
              v19[10],
              (const MethodInfo_2E24540 *)Method_System_Collections_Generic_Dictionary_int__int__Add__);
          }
        }
        v16 = *((_DWORD *)v17 + 6);
        if ( (int)++v18 >= v16 )
          goto LABEL_18;
      }
LABEL_23:
      sub_B2C434(eventPointActivityDict, v14);
    }
LABEL_18:
    eventPointActivityDict = *p_eventPointActivityDict;
    if ( !*p_eventPointActivityDict )
      goto LABEL_23;
  }
  if ( !System_Collections_Generic_Dictionary_int__int___ContainsKey(
          (System_Collections_Generic_Dictionary_int__int__o *)eventPointActivityDict,
          masterSkillId,
          (const MethodInfo_2E247A4 *)Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__) )
    return 0;
  eventPointActivityDict = *p_eventPointActivityDict;
  if ( !*p_eventPointActivityDict )
    goto LABEL_23;
  return System_Collections_Generic_Dictionary_int__int___get_Item(
           (System_Collections_Generic_Dictionary_int__int__o *)eventPointActivityDict,
           masterSkillId,
           (const MethodInfo_2E24480 *)Method_System_Collections_Generic_Dictionary_int__int__get_Item__);
}


System_Int32_array *__fastcall BattleData__getEventGroupIds(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__getEventGrounpIds(questphase_ent, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleData__getFieldEnemyCheckDeadServantList(
        BattleData_o *this,
        bool checkDead,
        bool isTargetOnly,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v13; // x20
  __int64 v14; // x0
  BattleServantData_o *v15; // x1
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x24
  signed __int64 size; // x21
  unsigned __int64 v18; // x22

  if ( (byte_418432F & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, checkDead);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v10);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v11);
    byte_418432F = 1;
  }
  if ( this->fields.isMultiTargetBattle && isTargetOnly )
    return BattleData__getTargetEnemy(this, checkDead, (const MethodInfo *)isTargetOnly);
  if ( checkDead )
    return BattleData__getFieldEnemyServantList(this, isTargetOnly, (const MethodInfo *)isTargetOnly);
  v13 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v13,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  enemy_datalist = this->fields.enemy_datalist;
  if ( !enemy_datalist )
    goto LABEL_19;
  size = enemy_datalist->fields._size;
  if ( (int)size >= 1 )
  {
    v18 = 0LL;
    while ( 1 )
    {
      if ( v18 >= (unsigned int)enemy_datalist->fields._size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v15 = enemy_datalist->fields._items->m_Items[v18];
      if ( v15 && v15->fields.isEntry )
      {
        if ( !v13 )
          goto LABEL_19;
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v13,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v15,
          (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
      }
      if ( (__int64)++v18 >= size )
        break;
      enemy_datalist = this->fields.enemy_datalist;
      if ( !enemy_datalist )
        goto LABEL_19;
    }
  }
  if ( !v13 )
LABEL_19:
    sub_B2C434(v14, v15);
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v13,
                                      (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
System_Int32_array *__fastcall BattleData__getFieldEnemyServantIDList(
        BattleData_o *this,
        bool isTargetOnly,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_int__o *v9; // x19
  __int64 v10; // x0
  __int64 v11; // x1
  struct System_Int32_array *e_entryid; // x20
  __int64 v13; // x8
  unsigned __int64 v14; // x21
  __int64 v15; // x0

  if ( (byte_4184331 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, isTargetOnly);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v7);
    byte_4184331 = 1;
  }
  if ( this->fields.isMultiTargetBattle && isTargetOnly )
    return BattleData__getTargetEnemyIdList(this, 0, method);
  v9 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v9,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  e_entryid = this->fields.e_entryid;
  if ( !e_entryid )
    goto LABEL_17;
  v13 = *(_QWORD *)&e_entryid->max_length;
  if ( (int)v13 >= 1 )
  {
    v14 = 0LL;
    do
    {
      if ( v14 >= (unsigned int)v13 )
      {
        v15 = sub_B2C460(v10);
        sub_B2C400(v15, 0LL);
      }
      v11 = (unsigned int)e_entryid->m_Items[v14 + 1];
      if ( (int)v11 >= 1 )
      {
        if ( !v9 )
          goto LABEL_17;
        System_Collections_Generic_List_int___Add(
          v9,
          v11,
          (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
      }
      LODWORD(v13) = e_entryid->max_length;
      ++v14;
    }
    while ( (__int64)v14 < (int)v13 );
  }
  if ( !v9 )
LABEL_17:
    sub_B2C434(v10, v11);
  return System_Collections_Generic_List_int___ToArray(
           v9,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleData__getFieldEnemyServantList(
        BattleData_o *this,
        bool isTargetOnly,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v11; // x20
  BattleServantData_o *v12; // x0
  __int64 v13; // x1
  struct System_Int32_array *e_entryid; // x22
  __int64 v15; // x8
  unsigned __int64 v16; // x23
  int32_t v17; // w21
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x28
  int size; // w25
  int v20; // w26
  unsigned int v21; // w27
  struct System_Collections_Generic_List_BattleServantData__o *v22; // x28
  __int64 v23; // x0

  if ( (byte_418432E & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, isTargetOnly);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v8);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v9);
    byte_418432E = 1;
  }
  if ( this->fields.isMultiTargetBattle && isTargetOnly )
    return BattleData__getTargetEnemy(this, 0, method);
  v11 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v11,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  e_entryid = this->fields.e_entryid;
  if ( !e_entryid )
LABEL_29:
    sub_B2C434(v12, v13);
  v15 = *(_QWORD *)&e_entryid->max_length;
  if ( (int)v15 >= 1 )
  {
    v16 = 0LL;
    while ( 1 )
    {
      if ( v16 >= (unsigned int)v15 )
      {
        v23 = sub_B2C460(v12);
        sub_B2C400(v23, 0LL);
      }
      v17 = e_entryid->m_Items[v16 + 1];
      if ( v17 >= 1 )
      {
        enemy_datalist = this->fields.enemy_datalist;
        if ( !enemy_datalist )
          goto LABEL_29;
        size = enemy_datalist->fields._size;
        if ( size >= 1 )
          break;
      }
LABEL_26:
      LODWORD(v15) = e_entryid->max_length;
      if ( (__int64)++v16 >= (int)v15 )
        goto LABEL_27;
    }
    v20 = 1;
    do
    {
      v21 = v20 - 1;
      if ( enemy_datalist->fields._size <= (unsigned int)(v20 - 1) )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v12 = enemy_datalist->fields._items->m_Items[v21];
      if ( !v12 )
        break;
      v12 = (BattleServantData_o *)BattleServantData__checkID(v12, v17, 0LL);
      if ( ((unsigned __int8)v12 & 1) != 0 )
      {
        v22 = this->fields.enemy_datalist;
        if ( !v22 )
          goto LABEL_29;
        if ( v22->fields._size <= v21 )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        if ( !v11 )
          goto LABEL_29;
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v11,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v22->fields._items->m_Items[v21],
          (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
      }
      if ( v20 >= size )
        goto LABEL_26;
      enemy_datalist = this->fields.enemy_datalist;
      ++v20;
    }
    while ( enemy_datalist );
    goto LABEL_29;
  }
LABEL_27:
  if ( !v11 )
    goto LABEL_29;
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v11,
                                      (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleData__getFieldOpponentList(
        BattleData_o *this,
        int32_t uniqueId,
        bool isTargetOnly,
        const MethodInfo *method)
{
  const MethodInfo *v6; // x1
  const MethodInfo *v7; // x2

  if ( BattleData__getEnemyServantData(this, uniqueId, (const MethodInfo *)isTargetOnly) )
    return BattleData__getFieldPlayerServantList(this, v6);
  else
    return BattleData__getFieldEnemyServantList(this, isTargetOnly, v7);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleData__getFieldPTList(
        BattleData_o *this,
        int32_t uniqueId,
        bool isTargetOnly,
        const MethodInfo *method)
{
  const MethodInfo *v6; // x1
  const MethodInfo *v7; // x2

  if ( BattleData__getEnemyServantData(this, uniqueId, (const MethodInfo *)isTargetOnly) )
    return BattleData__getFieldEnemyServantList(this, isTargetOnly, v7);
  else
    return BattleData__getFieldPlayerServantList(this, v6);
}


System_Int32_array *__fastcall BattleData__getFieldPlayerServantIDList(
        BattleData_o *this,
        System_Int32_array *addIds,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  BattleData___c__DisplayClass452_0_o *v14; // x21
  System_Collections_Generic_List_int__o *v15; // x23
  System_Collections_Generic_List_int__o *v16; // x0
  __int64 v17; // x1
  System_Collections_Generic_List_int__o **p_result; // x20
  struct System_Int32_array *p_entryid; // x22
  __int64 v20; // x8
  unsigned __int64 v21; // x23
  System_Collections_Generic_List_int__o *v22; // x22
  System_Func_int__bool__o *v23; // x23
  __int64 v25; // x0

  if ( (byte_418433C & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_Where_int___, addIds);
    sub_B2C35C(&Method_System_Func_int__bool___ctor__, v5);
    sub_B2C35C(&System_Func_int__bool__TypeInfo, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__AddRange__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v10);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v11);
    sub_B2C35C(&Method_BattleData___c__DisplayClass452_0__getFieldPlayerServantIDList_b__0__, v12);
    sub_B2C35C(&BattleData___c__DisplayClass452_0_TypeInfo, v13);
    byte_418433C = 1;
  }
  v14 = (BattleData___c__DisplayClass452_0_o *)sub_B2C42C(BattleData___c__DisplayClass452_0_TypeInfo);
  BattleData___c__DisplayClass452_0___ctor(v14, 0LL);
  v15 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v15,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  if ( !v14 )
    goto LABEL_18;
  v14->fields.result = v15;
  p_result = &v14->fields.result;
  sub_B2C2F8(&v14->fields, v15);
  p_entryid = this->fields.p_entryid;
  if ( !p_entryid )
    goto LABEL_18;
  v20 = *(_QWORD *)&p_entryid->max_length;
  if ( (int)v20 >= 1 )
  {
    v21 = 0LL;
    do
    {
      if ( v21 >= (unsigned int)v20 )
      {
        v25 = sub_B2C460(v16);
        sub_B2C400(v25, 0LL);
      }
      v17 = (unsigned int)p_entryid->m_Items[v21 + 1];
      if ( (int)v17 >= 1 )
      {
        v16 = *p_result;
        if ( !*p_result )
          goto LABEL_18;
        System_Collections_Generic_List_int___Add(
          v16,
          v17,
          (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
      }
      LODWORD(v20) = p_entryid->max_length;
      ++v21;
    }
    while ( (__int64)v21 < (int)v20 );
  }
  if ( addIds )
  {
    v22 = v14->fields.result;
    v23 = (System_Func_int__bool__o *)sub_B2C42C(System_Func_int__bool__TypeInfo);
    System_Func_int__bool____ctor(
      v23,
      (Il2CppObject *)v14,
      Method_BattleData___c__DisplayClass452_0__getFieldPlayerServantIDList_b__0__,
      (const MethodInfo_270C930 *)Method_System_Func_int__bool___ctor__);
    v16 = (System_Collections_Generic_List_int__o *)System_Linq_Enumerable__Where_int_(
                                                      (System_Collections_Generic_IEnumerable_TSource__o *)addIds,
                                                      (System_Func_TSource__bool__o *)v23,
                                                      (const MethodInfo_1A9F150 *)Method_System_Linq_Enumerable_Where_int___);
    if ( !v22 )
      goto LABEL_18;
    System_Collections_Generic_List_int___AddRange(
      v22,
      (System_Collections_Generic_IEnumerable_T__o *)v16,
      (const MethodInfo_2F6724C *)Method_System_Collections_Generic_List_int__AddRange__);
  }
  v16 = *p_result;
  if ( !*p_result )
LABEL_18:
    sub_B2C434(v16, v17);
  return System_Collections_Generic_List_int___ToArray(
           v16,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


BattleServantData_array *__fastcall BattleData__getFieldPlayerServantList(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v8; // x20
  BattleServantData_o *v9; // x0
  __int64 v10; // x1
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x8
  struct System_Int32_array *p_entryid; // x22
  int size; // w24
  unsigned __int64 v14; // x23
  il2cpp_array_size_t max_length; // w8
  int32_t v16; // w21
  __int64 v17; // x26
  struct System_Collections_Generic_List_BattleServantData__o *v18; // x28
  struct System_Collections_Generic_List_BattleServantData__o *v19; // x28
  __int64 v21; // x0

  if ( (byte_4184337 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v6);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v7);
    byte_4184337 = 1;
  }
  v8 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v8,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  player_datalist = this->fields.player_datalist;
  if ( !player_datalist )
    goto LABEL_25;
  p_entryid = this->fields.p_entryid;
  if ( !p_entryid )
    goto LABEL_25;
  if ( (int)*(_QWORD *)&p_entryid->max_length >= 1 )
  {
    size = player_datalist->fields._size;
    v14 = 0LL;
    max_length = *(_QWORD *)&p_entryid->max_length;
    while ( 1 )
    {
      if ( v14 >= max_length )
      {
        v21 = sub_B2C460(v9);
        sub_B2C400(v21, 0LL);
      }
      v16 = p_entryid->m_Items[v14 + 1];
      if ( v16 >= 1 && size >= 1 )
        break;
LABEL_22:
      max_length = p_entryid->max_length;
      if ( (__int64)++v14 >= (int)max_length )
        goto LABEL_23;
    }
    v17 = 4LL;
    while ( 1 )
    {
      v18 = this->fields.player_datalist;
      if ( !v18 )
        break;
      if ( v18->fields._size <= (unsigned int)(v17 - 4) )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v9 = (BattleServantData_o *)*((_QWORD *)&v18->fields._items->obj.klass + v17);
      if ( !v9 )
        break;
      v9 = (BattleServantData_o *)BattleServantData__checkID(v9, v16, 0LL);
      if ( ((unsigned __int8)v9 & 1) != 0 )
      {
        v19 = this->fields.player_datalist;
        if ( !v19 )
          break;
        if ( v19->fields._size <= (unsigned int)(v17 - 4) )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        if ( !v8 )
          break;
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v8,
          *((EventMissionProgressRequest_Argument_ProgressData_o **)&v19->fields._items->obj.klass + v17),
          (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
      }
      if ( (int)++v17 - 4 >= size )
        goto LABEL_22;
    }
LABEL_25:
    sub_B2C434(v9, v10);
  }
LABEL_23:
  if ( !v8 )
    goto LABEL_25;
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v8,
                                      (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleData__getFieldServantList(
        BattleData_o *this,
        bool isTargetOnly,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v8; // x21
  const MethodInfo *v9; // x2
  System_Collections_Generic_IEnumerable_T__o *FieldEnemyServantList; // x0
  __int64 v11; // x1
  const MethodInfo *v12; // x1
  System_Collections_Generic_IEnumerable_T__o *FieldPlayerServantList; // x0

  if ( (byte_4184341 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__AddRange__, isTargetOnly);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v7);
    byte_4184341 = 1;
  }
  v8 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v8,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  FieldEnemyServantList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getFieldEnemyServantList(
                                                                           this,
                                                                           isTargetOnly,
                                                                           v9);
  if ( !v8 )
    sub_B2C434(FieldEnemyServantList, v11);
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v8,
    FieldEnemyServantList,
    (const MethodInfo_2EF46B0 *)Method_System_Collections_Generic_List_BattleServantData__AddRange__);
  FieldPlayerServantList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getFieldPlayerServantList(
                                                                            this,
                                                                            v12);
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v8,
    FieldPlayerServantList,
    (const MethodInfo_2EF46B0 *)Method_System_Collections_Generic_List_BattleServantData__AddRange__);
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v8,
                                      (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__getFieldSpace(
        BattleData_o *this,
        int32_t actId,
        int32_t *targetIndex,
        bool forciblySelectEnemy,
        const MethodInfo *method)
{
  __int64 v9; // x1
  __int64 v10; // x1
  struct System_Int32_array *p_entryid; // x26
  struct System_Boolean_array *enemyAppearValid; // x22
  BattleServantData_o *RandomEntryOrderDecidedArray; // x0
  __int64 v14; // x1
  const MethodInfo *v15; // x2
  struct System_Int32_array *v16; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v17; // x0
  BattleServantData_o *v18; // x23
  int uniqueId; // w8
  unsigned int v20; // w27
  int32_t v21; // w24
  int32_t v22; // w28
  BattleServantData_o *v23; // x25
  __int64 v25; // x0
  System_RuntimeFieldHandle_o v26; // 0:w1.4

  if ( (byte_4184390 & 1) == 0 )
  {
    sub_B2C35C(&bool___TypeInfo, *(_QWORD *)&actId);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_int___, v9);
    sub_B2C35C(
      &Field__PrivateImplementationDetails__75C8FD04AD916AEC3E3D5CB76A452B116B3D4D0912A0A485E9FB8E3D240E210C,
      v10);
    byte_4184390 = 1;
  }
  *targetIndex = -1;
  if ( !forciblySelectEnemy
    && (actId == -1 || BattleData__getPlayerServantData(this, actId, (const MethodInfo *)targetIndex)) )
  {
    p_entryid = this->fields.p_entryid;
    enemyAppearValid = (struct System_Boolean_array *)sub_B2C374(bool___TypeInfo, 3LL);
    v26.fields.value = Field__PrivateImplementationDetails__75C8FD04AD916AEC3E3D5CB76A452B116B3D4D0912A0A485E9FB8E3D240E210C;
    System_Runtime_CompilerServices_RuntimeHelpers__InitializeArray_43133304(
      (System_Array_o *)enemyAppearValid,
      v26,
      0LL);
    v16 = this->fields.p_entryid;
    if ( !v16 )
      goto LABEL_33;
    v17 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__Range(0, v16->max_length, 0LL);
    RandomEntryOrderDecidedArray = (BattleServantData_o *)System_Linq_Enumerable__ToArray_int_(
                                                            v17,
                                                            (const MethodInfo_1A9AE24 *)Method_System_Linq_Enumerable_ToArray_int___);
  }
  else
  {
    p_entryid = this->fields.e_entryid;
    enemyAppearValid = this->fields.enemyAppearValid;
    RandomEntryOrderDecidedArray = (BattleServantData_o *)RestockServantLogic__GetRandomEntryOrderDecidedArray(
                                                            this->fields._EnemyAddOrderPosArray_k__BackingField,
                                                            this,
                                                            0LL);
  }
  v18 = RandomEntryOrderDecidedArray;
  if ( !RandomEntryOrderDecidedArray )
LABEL_33:
    sub_B2C434(RandomEntryOrderDecidedArray, v14);
  uniqueId = RandomEntryOrderDecidedArray->fields.uniqueId;
  if ( uniqueId >= 1 )
  {
    v20 = 0;
    v21 = 0;
    while ( 1 )
    {
      if ( v20 >= uniqueId )
        goto LABEL_32;
      if ( !p_entryid )
        goto LABEL_33;
      v22 = *((_DWORD *)&v18->fields.userSvtId.fields.currentCryptoKey + (int)v20);
      if ( v22 >= p_entryid->max_length )
        goto LABEL_32;
      if ( !enemyAppearValid )
        goto LABEL_33;
      if ( v22 >= enemyAppearValid->max_length )
      {
LABEL_32:
        v25 = sub_B2C460(RandomEntryOrderDecidedArray);
        sub_B2C400(v25, 0LL);
      }
      v14 = (unsigned int)p_entryid->m_Items[v22 + 1];
      if ( (_DWORD)v14 == -1 )
      {
        if ( enemyAppearValid->m_Items[v22 + 4] )
          goto LABEL_25;
      }
      else if ( (_DWORD)v14 != actId )
      {
        RandomEntryOrderDecidedArray = (BattleServantData_o *)this->fields.data;
        if ( !RandomEntryOrderDecidedArray )
          goto LABEL_33;
        RandomEntryOrderDecidedArray = BattleData__getServantData(
                                         (BattleData_o *)RandomEntryOrderDecidedArray,
                                         v14,
                                         v15);
        if ( !RandomEntryOrderDecidedArray )
          goto LABEL_33;
        v23 = RandomEntryOrderDecidedArray;
        RandomEntryOrderDecidedArray = (BattleServantData_o *)BattleServantData__isAlive(
                                                                RandomEntryOrderDecidedArray,
                                                                0,
                                                                0LL);
        if ( ((unsigned __int8)RandomEntryOrderDecidedArray & 1) == 0 && v23->fields.isDeadAnime )
        {
LABEL_25:
          if ( *targetIndex == -1 )
            *targetIndex = v22;
          ++v21;
        }
      }
      uniqueId = v18->fields.uniqueId;
      if ( (int)++v20 >= uniqueId )
        return v21;
    }
  }
  return 0;
}


int32_t __fastcall BattleData__getGroundNo(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  DataManager_o *Instance; // x0
  __int64 v5; // x1
  struct QuestPhaseEntity_o *questphase_ent; // x8
  int32_t battleBgId; // w3

  if ( (byte_41842F7 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_QuestBehaviorMaster___, method);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v3);
    byte_41842F7 = 1;
  }
  if ( !this->fields.questphase_ent )
    return 80200;
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance
    || (Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                      Instance,
                                      (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_QuestBehaviorMaster___),
        (questphase_ent = this->fields.questphase_ent) == 0LL) )
  {
    sub_B2C434(Instance, v5);
  }
  battleBgId = questphase_ent->fields.battleBgId;
  if ( Instance )
    return QuestBehaviorMaster__getBattleBg(
             (QuestBehaviorMaster_o *)Instance,
             questphase_ent->fields.questId,
             questphase_ent->fields.phase,
             battleBgId,
             0LL);
  return battleBgId;
}


UnityEngine_Color_o __fastcall BattleData__getGroundShadowColor(BattleData_o *this, const MethodInfo *method)
{
  float v2; // s0
  float v3; // s1
  float v4; // s2
  float v5; // s3
  UnityEngine_Color_o result; // 0:s0.4,4:s1.4,8:s2.4,12:s3.4

  UnityEngine_Color__get_black(0LL);
  v2 = 1.0;
  v3 = 1.0;
  v4 = 1.0;
  v5 = 1.0;
  result.fields.a = v5;
  result.fields.b = v4;
  result.fields.g = v3;
  result.fields.r = v2;
  return result;
}


int32_t __fastcall BattleData__getGroundType(BattleData_o *this, const MethodInfo *method)
{
  struct QuestPhaseEntity_o *questphase_ent; // x8

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(this, method);
  return questphase_ent->fields.battleBgType;
}


int32_t __fastcall BattleData__getLastActionActor(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.lastactorId;
}


int32_t __fastcall BattleData__getLastWave(BattleData_o *this, const MethodInfo *method)
{
  BattleInfoData_o *battle_info; // x0

  battle_info = this->fields.battle_info;
  if ( !battle_info )
    sub_B2C434(0LL, method);
  return BattleInfoData__getLastWave(battle_info, 0LL);
}


int32_t __fastcall BattleData__getLeave(BattleData_o *this, int32_t defVal, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, defVal);
  return QuestPhaseEntity__getLeave(questphase_ent, defVal, 0LL);
}


// local variable allocation has failed, the output may be wrong!
System_String_array *__fastcall BattleData__getLoadedCommonEffectPath(
        BattleData_o *this,
        bool isClear,
        const MethodInfo *method)
{
  __int64 v5; // x1
  struct System_Collections_Generic_List_string__o *commonEffectPathList; // x0
  System_String_array *v7; // x21

  if ( (byte_41842DC & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_string__Clear__, isClear);
    sub_B2C35C(&Method_System_Collections_Generic_List_string__ToArray__, v5);
    byte_41842DC = 1;
  }
  commonEffectPathList = this->fields.commonEffectPathList;
  if ( !commonEffectPathList )
    goto LABEL_8;
  v7 = (System_String_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)commonEffectPathList,
                                (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_string__ToArray__);
  if ( isClear )
  {
    commonEffectPathList = this->fields.commonEffectPathList;
    if ( commonEffectPathList )
    {
      System_Collections_Generic_List_XWeaponTrail_Element___Clear(
        (System_Collections_Generic_List_XWeaponTrail_Element__o *)commonEffectPathList,
        (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_string__Clear__);
      return v7;
    }
LABEL_8:
    sub_B2C434(commonEffectPathList, isClear);
  }
  return v7;
}


int32_t __fastcall BattleData__getMasterEquipId(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  DataManager_o *Instance; // x0
  __int64 v7; // x1
  struct BattleInfoData_o *battle_info; // x8
  __int64 v9; // x19
  int64_t fakeValue; // x20
  UserServantEntity_o *entity; // [xsp+8h] [xbp-18h] BYREF
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v13; // 0:x0.16

  if ( (byte_4184304 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_UserEquipMaster___, method);
    sub_B2C35C(&Method_DataMasterBase_UserEquipMaster__UserEquipEntity__long__TryGetEntity__, v3);
    sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, v4);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v5);
    byte_4184304 = 1;
  }
  entity = 0LL;
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_14;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_UserEquipMaster___);
  battle_info = this->fields.battle_info;
  if ( !battle_info || !Instance )
    goto LABEL_14;
  Instance = (DataManager_o *)DataMasterBase_UserServantStorageMaster__UserServantEntity__long___TryGetEntity(
                                (DataMasterBase_UserServantStorageMaster__UserServantEntity__long__o *)Instance,
                                &entity,
                                battle_info->fields.userEquipId,
                                (const MethodInfo_24E4354 *)Method_DataMasterBase_UserEquipMaster__UserEquipEntity__long__TryGetEntity__);
  if ( ((unsigned __int8)Instance & 1) == 0 )
    return 0;
  if ( !entity )
LABEL_14:
    sub_B2C434(Instance, v7);
  fakeValue = entity->fields.id.fields.fakeValue;
  v9 = *(_QWORD *)&entity->fields.id.fields.inited;
  if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
  }
  *(_QWORD *)&v13.fields.currentCryptoKey = fakeValue;
  *(_QWORD *)&v13.fields.fakeValue = v9;
  return CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v13, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleSkillInfoData_o *__fastcall BattleData__getMasterSkillInfo(
        BattleData_o *this,
        int32_t index,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData___c__DisplayClass343_0_o *v9; // x21
  __int64 v10; // x0
  __int64 v11; // x1
  struct System_Collections_Generic_List_BattleSkillInfoData__o *masterSkillInfo; // x19
  System_Predicate_peRenderTexture_ChangeLayerObject__o *v13; // x20

  if ( (byte_4184307 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__Find__, *(_QWORD *)&index);
    sub_B2C35C(&Method_System_Predicate_BattleSkillInfoData___ctor__, v5);
    sub_B2C35C(&System_Predicate_BattleSkillInfoData__TypeInfo, v6);
    sub_B2C35C(&Method_BattleData___c__DisplayClass343_0__getMasterSkillInfo_b__0__, v7);
    sub_B2C35C(&BattleData___c__DisplayClass343_0_TypeInfo, v8);
    byte_4184307 = 1;
  }
  v9 = (BattleData___c__DisplayClass343_0_o *)sub_B2C42C(BattleData___c__DisplayClass343_0_TypeInfo);
  BattleData___c__DisplayClass343_0___ctor(v9, 0LL);
  if ( !v9
    || (v9->fields.index = index,
        masterSkillInfo = this->fields.masterSkillInfo,
        v13 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B2C42C(System_Predicate_BattleSkillInfoData__TypeInfo),
        System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
          v13,
          (Il2CppObject *)v9,
          Method_BattleData___c__DisplayClass343_0__getMasterSkillInfo_b__0__,
          (const MethodInfo_2952BE4 *)Method_System_Predicate_BattleSkillInfoData___ctor__),
        !masterSkillInfo) )
  {
    sub_B2C434(v10, v11);
  }
  return (BattleSkillInfoData_o *)System_Collections_Generic_List_peRenderTexture_ChangeLayerObject___Find(
                                    (System_Collections_Generic_List_peRenderTexture_ChangeLayerObject__o *)masterSkillInfo,
                                    (System_Predicate_T__o *)v13,
                                    (const MethodInfo_2EF4D20 *)Method_System_Collections_Generic_List_BattleSkillInfoData__Find__);
}


BattleSkillInfoData_array *__fastcall BattleData__getMasterSkillInfos(BattleData_o *this, const MethodInfo *method)
{
  struct System_Collections_Generic_List_BattleSkillInfoData__o *masterSkillInfo; // x0

  if ( (byte_4184306 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__ToArray__, method);
    byte_4184306 = 1;
  }
  masterSkillInfo = this->fields.masterSkillInfo;
  if ( !masterSkillInfo )
    sub_B2C434(0LL, method);
  return (BattleSkillInfoData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                        (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)masterSkillInfo,
                                        (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleSkillInfoData__ToArray__);
}


int32_t __fastcall BattleData__getMasterUserEquipId(BattleData_o *this, const MethodInfo *method)
{
  struct BattleInfoData_o *battle_info; // x8

  battle_info = this->fields.battle_info;
  if ( !battle_info )
    sub_B2C434(this, method);
  return battle_info->fields.userEquipId;
}


int32_t __fastcall BattleData__getNextNextIndex(BattleData_o *this, const MethodInfo *method)
{
  int32_t maxEnemyIndex; // w8
  BattleInfoData_o *battle_info; // x0
  __int64 v5; // x8
  __int64 v6; // x9
  __int64 v7; // x8
  int32_t result; // w0
  __int64 v9; // x0

  maxEnemyIndex = this->fields.maxEnemyIndex;
  if ( !maxEnemyIndex )
  {
    battle_info = this->fields.battle_info;
    if ( !battle_info )
      goto LABEL_9;
    battle_info = (BattleInfoData_o *)BattleInfoData__getEnemyDeck(battle_info, this->fields.wavecount, 0LL);
    if ( !battle_info )
      goto LABEL_9;
    v5 = *(_QWORD *)&battle_info->fields.dataVer;
    if ( !v5 )
      goto LABEL_9;
    v6 = *(_QWORD *)(v5 + 24);
    if ( !(_DWORD)v6 )
    {
      v9 = sub_B2C460(battle_info);
      sub_B2C400(v9, 0LL);
    }
    v7 = *(_QWORD *)(v5 + (((v6 << 32) - 0x100000000LL) >> 29) + 32);
    if ( !v7 )
LABEL_9:
      sub_B2C434(battle_info, method);
    maxEnemyIndex = *(_DWORD *)(v7 + 16);
    this->fields.maxEnemyIndex = maxEnemyIndex;
  }
  result = maxEnemyIndex + 1;
  this->fields.maxEnemyIndex = maxEnemyIndex + 1;
  return result;
}


int32_t __fastcall BattleData__getNextUniqueID(BattleData_o *this, const MethodInfo *method)
{
  int32_t maxEnemyUniqueID; // w0
  BattleInfoData_o *battle_info; // x0
  int32_t result; // w0

  maxEnemyUniqueID = this->fields.maxEnemyUniqueID;
  if ( !maxEnemyUniqueID )
  {
    battle_info = this->fields.battle_info;
    if ( !battle_info )
      sub_B2C434(0LL, method);
    maxEnemyUniqueID = BattleInfoData__getLastUniqueID(battle_info, 0LL);
    this->fields.maxEnemyUniqueID = maxEnemyUniqueID;
  }
  result = maxEnemyUniqueID + 1;
  this->fields.maxEnemyUniqueID = result;
  return result;
}


BattleServantData_array *__fastcall BattleData__getOpponentList(
        BattleData_o *this,
        int32_t uniqueId,
        const MethodInfo *method)
{
  const MethodInfo *v4; // x1

  if ( BattleData__getEnemyServantData(this, uniqueId, method) )
    return BattleData__getPlayerServantList(this, v4);
  else
    return BattleData__getEnemyServantList(this, v4);
}


int32_t __fastcall BattleData__getOverCriticalStars(BattleData_o *this, const MethodInfo *method)
{
  int v2; // w8

  v2 = this->fields.totalCriticalStars + this->fields.addCriticalstars - 50;
  return v2 & ~(v2 >> 31);
}


int32_t __fastcall BattleData__getOverCriticalStarsIgnoreAddCriticalStars(BattleData_o *this, const MethodInfo *method)
{
  return UnityEngine_Mathf__Max_40694800(0, this->fields.totalCriticalStars - 50, 0LL);
}


BattleServantData_array *__fastcall BattleData__getPTList(
        BattleData_o *this,
        int32_t uniqueId,
        const MethodInfo *method)
{
  const MethodInfo *v4; // x1

  if ( BattleData__getEnemyServantData(this, uniqueId, method) )
    return BattleData__getEnemyServantList(this, v4);
  else
    return BattleData__getPlayerServantList(this, v4);
}


int32_t __fastcall BattleData__getPhase(BattleData_o *this, const MethodInfo *method)
{
  struct QuestPhaseEntity_o *questphase_ent; // x8

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(this, method);
  return questphase_ent->fields.phase;
}


PlayerFieldStatus_o *__fastcall BattleData__getPlayerFieldStatus(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.playerFieldStatus;
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_o *__fastcall BattleData__getPlayerServantData(
        BattleData_o *this,
        int32_t Id,
        const MethodInfo *method)
{
  BattleData_o *v4; // x20
  __int64 v5; // x1
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x23
  int size; // w22
  unsigned int v8; // w21
  struct System_Collections_Generic_List_BattleServantData__o *v10; // x19

  v4 = this;
  if ( (byte_4184324 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, *(_QWORD *)&Id);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v5);
    byte_4184324 = 1;
  }
  player_datalist = v4->fields.player_datalist;
  if ( !player_datalist )
    goto LABEL_18;
  size = player_datalist->fields._size;
  if ( size < 1 )
    return BattleData__GetAiNpcServantData(v4, Id, method);
  v8 = 0;
  while ( 1 )
  {
    if ( player_datalist->fields._size <= v8 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    this = (BattleData_o *)player_datalist->fields._items->m_Items[v8];
    if ( !this )
      goto LABEL_18;
    this = (BattleData_o *)BattleServantData__checkID((BattleServantData_o *)this, Id, 0LL);
    if ( ((unsigned __int8)this & 1) != 0 )
      break;
    if ( (int)++v8 >= size )
      return BattleData__GetAiNpcServantData(v4, Id, method);
    player_datalist = v4->fields.player_datalist;
    if ( !player_datalist )
      goto LABEL_18;
  }
  v10 = v4->fields.player_datalist;
  if ( !v10 )
LABEL_18:
    sub_B2C434(this, *(_QWORD *)&Id);
  if ( v10->fields._size <= v8 )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  return v10->fields._items->m_Items[v8];
}


// local variable allocation has failed, the output may be wrong!
System_Int32_array *__fastcall BattleData__getPlayerServantIDList(
        BattleData_o *this,
        bool excludeDeadSvt,
        System_Int32_array *addIds,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  BattleData___c__DisplayClass435_0_o *v18; // x23
  System_Collections_Generic_List_int__o *v19; // x24
  BattleServantData_o *isDead; // x0
  __int64 v21; // x1
  System_Collections_Generic_List_int__o **p_result; // x22
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x24
  __int64 size; // x25
  __int64 v25; // x26
  unsigned __int64 v26; // x28
  struct System_Collections_Generic_List_BattleServantData__o *v27; // x19
  struct System_Collections_Generic_List_BattleServantData__o *v28; // x19
  __int64 v29; // x8
  System_Collections_Generic_List_int__o *v30; // x20
  System_Func_int__bool__o *v31; // x21
  System_Collections_Generic_IEnumerable_TSource__o *v33; // [xsp+8h] [xbp-58h]

  if ( (byte_418432D & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_Where_int___, excludeDeadSvt);
    sub_B2C35C(&Method_System_Func_int__bool___ctor__, v7);
    sub_B2C35C(&System_Func_int__bool__TypeInfo, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__AddRange__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v12);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v14);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v15);
    sub_B2C35C(&Method_BattleData___c__DisplayClass435_0__getPlayerServantIDList_b__0__, v16);
    sub_B2C35C(&BattleData___c__DisplayClass435_0_TypeInfo, v17);
    byte_418432D = 1;
  }
  v18 = (BattleData___c__DisplayClass435_0_o *)sub_B2C42C(BattleData___c__DisplayClass435_0_TypeInfo);
  BattleData___c__DisplayClass435_0___ctor(v18, 0LL);
  v19 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v19,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  if ( !v18 )
    goto LABEL_30;
  v18->fields.result = v19;
  p_result = &v18->fields.result;
  v33 = (System_Collections_Generic_IEnumerable_TSource__o *)addIds;
  sub_B2C2F8(&v18->fields, v19);
  player_datalist = this->fields.player_datalist;
  if ( !player_datalist )
    goto LABEL_30;
  size = player_datalist->fields._size;
  if ( (int)size >= 1 )
  {
    v25 = 4LL;
    do
    {
      v26 = v25 - 4;
      if ( v25 - 4 >= (unsigned __int64)(unsigned int)player_datalist->fields._size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      if ( *((_QWORD *)&player_datalist->fields._items->obj.klass + v25) )
      {
        if ( !excludeDeadSvt )
          goto LABEL_16;
        v27 = this->fields.player_datalist;
        if ( !v27 )
          goto LABEL_30;
        if ( v26 >= (unsigned int)v27->fields._size )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        isDead = (BattleServantData_o *)*((_QWORD *)&v27->fields._items->obj.klass + v25);
        if ( !isDead )
          goto LABEL_30;
        isDead = (BattleServantData_o *)BattleServantData__isDead(isDead, 0LL);
        if ( ((unsigned __int8)isDead & 1) == 0 )
        {
LABEL_16:
          v28 = this->fields.player_datalist;
          if ( !v28 )
            goto LABEL_30;
          if ( v26 >= (unsigned int)v28->fields._size )
            System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
          v29 = *((_QWORD *)&v28->fields._items->obj.klass + v25);
          if ( !v29 || !*p_result )
            goto LABEL_30;
          System_Collections_Generic_List_int___Add(
            *p_result,
            *(_DWORD *)(v29 + 24),
            (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
        }
      }
      if ( v25 - 3 >= size )
        goto LABEL_25;
      player_datalist = this->fields.player_datalist;
      ++v25;
    }
    while ( player_datalist );
    goto LABEL_30;
  }
LABEL_25:
  if ( v33 )
  {
    v30 = v18->fields.result;
    v31 = (System_Func_int__bool__o *)sub_B2C42C(System_Func_int__bool__TypeInfo);
    System_Func_int__bool____ctor(
      v31,
      (Il2CppObject *)v18,
      Method_BattleData___c__DisplayClass435_0__getPlayerServantIDList_b__0__,
      (const MethodInfo_270C930 *)Method_System_Func_int__bool___ctor__);
    isDead = (BattleServantData_o *)System_Linq_Enumerable__Where_int_(
                                      v33,
                                      (System_Func_TSource__bool__o *)v31,
                                      (const MethodInfo_1A9F150 *)Method_System_Linq_Enumerable_Where_int___);
    if ( !v30 )
      goto LABEL_30;
    System_Collections_Generic_List_int___AddRange(
      v30,
      (System_Collections_Generic_IEnumerable_T__o *)isDead,
      (const MethodInfo_2F6724C *)Method_System_Collections_Generic_List_int__AddRange__);
  }
  isDead = (BattleServantData_o *)*p_result;
  if ( !*p_result )
LABEL_30:
    sub_B2C434(isDead, v21);
  return System_Collections_Generic_List_int___ToArray(
           (System_Collections_Generic_List_int__o *)isDead,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


BattleServantData_array *__fastcall BattleData__getPlayerServantList(BattleData_o *this, const MethodInfo *method)
{
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x0

  if ( (byte_418432C & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, method);
    byte_418432C = 1;
  }
  player_datalist = this->fields.player_datalist;
  if ( !player_datalist )
    sub_B2C434(0LL, method);
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)player_datalist,
                                      (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


BattleServantData_o *__fastcall BattleData__getPlayerSubServantData(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x20
  BattleData___c_c *v10; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Comparison_TitleInfoControl_EventEndTimeInfo__o *_9__426_0; // x21
  Il2CppObject *v13; // x22
  struct BattleData___c_StaticFields *v14; // x0
  struct System_Collections_Generic_List_BattleServantData__o *v15; // x22
  int size; // w21
  unsigned int v17; // w20
  BattleServantData_o *v18; // x8
  struct System_Collections_Generic_List_BattleServantData__o *v20; // x19

  if ( (byte_4184325 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Comparison_BattleServantData___ctor__, method);
    sub_B2C35C(&System_Comparison_BattleServantData__TypeInfo, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Sort__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v6);
    sub_B2C35C(&Method_BattleData___c__getPlayerSubServantData_b__426_0__, v7);
    sub_B2C35C(&BattleData___c_TypeInfo, v8);
    byte_4184325 = 1;
  }
  player_datalist = this->fields.player_datalist;
  v10 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v10 = BattleData___c_TypeInfo;
  }
  static_fields = v10->static_fields;
  _9__426_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)static_fields->__9__426_0;
  if ( !_9__426_0 )
  {
    if ( (BYTE3(v10->vtable._0_Equals.methodPtr) & 4) != 0 && !v10->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v10);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v13 = (Il2CppObject *)static_fields->__9;
    _9__426_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)sub_B2C42C(System_Comparison_BattleServantData__TypeInfo);
    System_Comparison_TitleInfoControl_EventEndTimeInfo____ctor(
      _9__426_0,
      v13,
      Method_BattleData___c__getPlayerSubServantData_b__426_0__,
      (const MethodInfo_25D8DF8 *)Method_System_Comparison_BattleServantData___ctor__);
    v14 = BattleData___c_TypeInfo->static_fields;
    v14->__9__426_0 = (struct System_Comparison_BattleServantData__o *)_9__426_0;
    sub_B2C2F8(&v14->__9__426_0, _9__426_0);
  }
  if ( !player_datalist )
    goto LABEL_27;
  System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo___Sort(
    (System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo__o *)player_datalist,
    (System_Comparison_T__o *)_9__426_0,
    (const MethodInfo_2EF653C *)Method_System_Collections_Generic_List_BattleServantData__Sort__);
  v15 = this->fields.player_datalist;
  if ( !v15 )
    goto LABEL_27;
  size = v15->fields._size;
  if ( size < 1 )
    return 0LL;
  v17 = 0;
  while ( 1 )
  {
    if ( v15->fields._size <= v17 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    v18 = v15->fields._items->m_Items[v17];
    if ( !v18 )
      goto LABEL_27;
    if ( !v18->fields.isEntry )
      break;
    if ( (int)++v17 >= size )
      return 0LL;
    v15 = this->fields.player_datalist;
    if ( !v15 )
      goto LABEL_27;
  }
  v20 = this->fields.player_datalist;
  if ( !v20 )
LABEL_27:
    sub_B2C434(v10, method);
  if ( v20->fields._size <= v17 )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  return v20->fields._items->m_Items[v17];
}


int32_t __fastcall BattleData__getPrevCriticalStars(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.prevCriticalstars;
}


QuestEntity_o *__fastcall BattleData__getQuestEntity(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.quest_ent;
}


int32_t __fastcall BattleData__getQuestId(BattleData_o *this, const MethodInfo *method)
{
  struct QuestPhaseEntity_o *questphase_ent; // x8

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(this, method);
  return questphase_ent->fields.questId;
}


System_Int32_array *__fastcall BattleData__getQuestIndividualities(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_int__o *questIndividuality; // x0
  System_Collections_Generic_List_int__o **p_questIndividuality; // x20
  System_Collections_Generic_List_int__o *v10; // x21
  System_Collections_Generic_IEnumerable_T__o *v11; // x1
  System_Collections_Generic_List_int__o *v12; // x21
  const MethodInfo *v13; // x1

  if ( (byte_41842FA & 1) == 0 )
  {
    sub_B2C35C(&int___TypeInfo, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__AddRange__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Clear__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Count__, v6);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v7);
    byte_41842FA = 1;
  }
  p_questIndividuality = &this->fields.questIndividuality;
  questIndividuality = this->fields.questIndividuality;
  if ( questIndividuality )
    goto LABEL_6;
  if ( this->fields.questphase_ent )
  {
    v10 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
    System_Collections_Generic_List_int____ctor(
      v10,
      (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
    *p_questIndividuality = v10;
    sub_B2C2F8(&this->fields.questIndividuality, v10);
    questIndividuality = *p_questIndividuality;
    if ( !*p_questIndividuality )
      goto LABEL_15;
LABEL_6:
    System_Collections_Generic_List_int___Clear(
      questIndividuality,
      (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
    questIndividuality = (System_Collections_Generic_List_int__o *)this->fields._FieldEnvData_k__BackingField;
    if ( questIndividuality )
    {
      v12 = this->fields.questIndividuality;
      questIndividuality = (System_Collections_Generic_List_int__o *)((__int64 (__fastcall *)(System_Collections_Generic_List_int__o *, _QWORD, Il2CppMethodPointer))questIndividuality->klass->vtable._4_unknown.method)(
                                                                       questIndividuality,
                                                                       0LL,
                                                                       questIndividuality->klass->vtable._5_set_Item.methodPtr);
      if ( v12 )
      {
        System_Collections_Generic_List_int___AddRange(
          v12,
          (System_Collections_Generic_IEnumerable_T__o *)questIndividuality,
          (const MethodInfo_2F6724C *)Method_System_Collections_Generic_List_int__AddRange__);
        questIndividuality = BattleData__GetFieldIndividuality4Servant(this, v13);
        if ( questIndividuality )
        {
          v11 = (System_Collections_Generic_IEnumerable_T__o *)questIndividuality;
          if ( questIndividuality->fields._size >= 1 )
          {
            questIndividuality = *p_questIndividuality;
            if ( !*p_questIndividuality )
              goto LABEL_15;
            System_Collections_Generic_List_int___AddRange(
              questIndividuality,
              v11,
              (const MethodInfo_2F6724C *)Method_System_Collections_Generic_List_int__AddRange__);
          }
          questIndividuality = (System_Collections_Generic_List_int__o *)this->fields._FieldEnvData_k__BackingField;
          if ( questIndividuality )
            return BattleFieldEnvironmentData__GetIndividualityExceptDelTarget(
                     (BattleFieldEnvironmentData_o *)questIndividuality,
                     *p_questIndividuality,
                     0LL);
        }
      }
    }
LABEL_15:
    sub_B2C434(questIndividuality, v11);
  }
  return (System_Int32_array *)sub_B2C374(int___TypeInfo, 0LL);
}


System_Int32_array *__fastcall BattleData__getQuestIndividualitiesIgnoreServant(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_int__o *questIndividuality; // x0
  struct System_Collections_Generic_List_int__o **p_questIndividuality; // x20
  System_Collections_Generic_List_int__o *v10; // x21
  __int64 v11; // x1
  System_Collections_Generic_List_int__o *v12; // x19

  if ( (byte_41842FB & 1) == 0 )
  {
    sub_B2C35C(&int___TypeInfo, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__AddRange__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Clear__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v7);
    byte_41842FB = 1;
  }
  p_questIndividuality = &this->fields.questIndividuality;
  questIndividuality = this->fields.questIndividuality;
  if ( questIndividuality )
  {
LABEL_6:
    System_Collections_Generic_List_int___Clear(
      questIndividuality,
      (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
    questIndividuality = (System_Collections_Generic_List_int__o *)this->fields._FieldEnvData_k__BackingField;
    if ( questIndividuality )
    {
      v12 = this->fields.questIndividuality;
      questIndividuality = (System_Collections_Generic_List_int__o *)((__int64 (__fastcall *)(System_Collections_Generic_List_int__o *, _QWORD, Il2CppMethodPointer))questIndividuality->klass->vtable._4_unknown.method)(
                                                                       questIndividuality,
                                                                       0LL,
                                                                       questIndividuality->klass->vtable._5_set_Item.methodPtr);
      if ( v12 )
      {
        System_Collections_Generic_List_int___AddRange(
          v12,
          (System_Collections_Generic_IEnumerable_T__o *)questIndividuality,
          (const MethodInfo_2F6724C *)Method_System_Collections_Generic_List_int__AddRange__);
        questIndividuality = *p_questIndividuality;
        if ( *p_questIndividuality )
          return System_Collections_Generic_List_int___ToArray(
                   questIndividuality,
                   (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
      }
    }
LABEL_11:
    sub_B2C434(questIndividuality, v11);
  }
  if ( this->fields.questphase_ent )
  {
    v10 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
    System_Collections_Generic_List_int____ctor(
      v10,
      (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
    *p_questIndividuality = v10;
    sub_B2C2F8(&this->fields.questIndividuality, v10);
    questIndividuality = *p_questIndividuality;
    if ( !*p_questIndividuality )
      goto LABEL_11;
    goto LABEL_6;
  }
  return (System_Int32_array *)sub_B2C374(int___TypeInfo, 0LL);
}


QuestKnockdownInfo_o *__fastcall BattleData__getQuestKnockdownRecord(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  QuestKnockdownInfo_o *v6; // x20
  DataManager_o *Instance; // x0
  __int64 v8; // x1
  UserQuestRecordMaster_o *MasterData_WarQuestSelectionMaster; // x21
  struct QuestEntity_o *quest_ent; // x8

  if ( (byte_4184397 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_UserQuestRecordMaster___, method);
    sub_B2C35C(&NetworkManager_TypeInfo, v3);
    sub_B2C35C(&QuestKnockdownInfo_TypeInfo, v4);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v5);
    byte_4184397 = 1;
  }
  v6 = (QuestKnockdownInfo_o *)sub_B2C42C(QuestKnockdownInfo_TypeInfo);
  QuestKnockdownInfo___ctor(v6, 0LL);
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_10;
  MasterData_WarQuestSelectionMaster = (UserQuestRecordMaster_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                                                    Instance,
                                                                    (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_UserQuestRecordMaster___);
  if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !NetworkManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
  }
  Instance = (DataManager_o *)NetworkManager__get_UserId(0LL);
  quest_ent = this->fields.quest_ent;
  if ( !quest_ent || !MasterData_WarQuestSelectionMaster )
LABEL_10:
    sub_B2C434(Instance, v8);
  UserQuestRecordMaster__GetKnockdownRecordinfo(
    MasterData_WarQuestSelectionMaster,
    (int64_t)Instance,
    quest_ent->fields.id,
    v6,
    0LL);
  return v6;
}


int32_t __fastcall BattleData__getQuestPhaseScript(
        BattleData_o *this,
        System_String_o *key,
        int32_t defaultValue,
        const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, key);
  return QuestPhaseEntity__getScriptIntParam(questphase_ent, key, defaultValue, 0LL);
}


System_Collections_Generic_Dictionary_string__object__o *__fastcall BattleData__getQuestRecordJson(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *v7; // x20
  UserQuestRecordEntity_c *v8; // x0
  System_Xml_XmlQualifiedName_o *KEY_RECORD_TURN_MAX_DAMAGE; // x21
  System_Xml_Schema_XmlSchemaObject_o *v10; // x0
  __int64 v11; // x1
  struct QuestKnockdownInfo_o *currenctKnockdown; // x8
  struct System_String_o *KEY_RECORD_KNOCKDOWN_NUM; // x21
  System_Xml_Schema_XmlSchemaObject_o *v14; // x0
  struct QuestKnockdownInfo_o *v15; // x8
  struct System_String_o *KEY_RECORD_TOTAL_DAMAGE_TO_ALIVE_ENEMY; // x19
  System_Xml_Schema_XmlSchemaObject_o *v17; // x0
  int64_t totalDamage; // [xsp+8h] [xbp-48h] BYREF
  int64_t knockdownNum; // [xsp+10h] [xbp-40h] BYREF
  int64_t maxTurnDamageInBattle; // [xsp+18h] [xbp-38h] BYREF

  if ( (byte_4184398 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__Add__, method);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object___ctor__, v3);
    sub_B2C35C(&System_Collections_Generic_Dictionary_string__object__TypeInfo, v4);
    sub_B2C35C(&long_TypeInfo, v5);
    sub_B2C35C(&UserQuestRecordEntity_TypeInfo, v6);
    byte_4184398 = 1;
  }
  BattleData__setQuestKnockdownResult(this, method);
  v7 = (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)sub_B2C42C(System_Collections_Generic_Dictionary_string__object__TypeInfo);
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject____ctor(
    v7,
    (const MethodInfo_2DB1110 *)Method_System_Collections_Generic_Dictionary_string__object___ctor__);
  v8 = UserQuestRecordEntity_TypeInfo;
  if ( (BYTE3(UserQuestRecordEntity_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UserQuestRecordEntity_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UserQuestRecordEntity_TypeInfo);
    v8 = UserQuestRecordEntity_TypeInfo;
  }
  KEY_RECORD_TURN_MAX_DAMAGE = (System_Xml_XmlQualifiedName_o *)v8->static_fields->KEY_RECORD_TURN_MAX_DAMAGE;
  maxTurnDamageInBattle = this->fields.maxTurnDamageInBattle;
  v10 = (System_Xml_Schema_XmlSchemaObject_o *)j_il2cpp_value_box_0(long_TypeInfo, &maxTurnDamageInBattle);
  if ( !v7
    || (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___Add(
          v7,
          KEY_RECORD_TURN_MAX_DAMAGE,
          v10,
          (const MethodInfo_2DB1CC0 *)Method_System_Collections_Generic_Dictionary_string__object__Add__),
        (currenctKnockdown = this->fields.currenctKnockdown) == 0LL)
    || (KEY_RECORD_KNOCKDOWN_NUM = UserQuestRecordEntity_TypeInfo->static_fields->KEY_RECORD_KNOCKDOWN_NUM,
        knockdownNum = currenctKnockdown->fields.knockdownNum,
        v14 = (System_Xml_Schema_XmlSchemaObject_o *)j_il2cpp_value_box_0(long_TypeInfo, &knockdownNum),
        System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___Add(
          v7,
          (System_Xml_XmlQualifiedName_o *)KEY_RECORD_KNOCKDOWN_NUM,
          v14,
          (const MethodInfo_2DB1CC0 *)Method_System_Collections_Generic_Dictionary_string__object__Add__),
        (v15 = this->fields.currenctKnockdown) == 0LL) )
  {
    sub_B2C434(v10, v11);
  }
  KEY_RECORD_TOTAL_DAMAGE_TO_ALIVE_ENEMY = UserQuestRecordEntity_TypeInfo->static_fields->KEY_RECORD_TOTAL_DAMAGE_TO_ALIVE_ENEMY;
  totalDamage = v15->fields.totalDamage;
  v17 = (System_Xml_Schema_XmlSchemaObject_o *)j_il2cpp_value_box_0(long_TypeInfo, &totalDamage);
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___Add(
    v7,
    (System_Xml_XmlQualifiedName_o *)KEY_RECORD_TOTAL_DAMAGE_TO_ALIVE_ENEMY,
    v17,
    (const MethodInfo_2DB1CC0 *)Method_System_Collections_Generic_Dictionary_string__object__Add__);
  return (System_Collections_Generic_Dictionary_string__object__o *)v7;
}


int32_t __fastcall BattleData__getQuestRecordType(BattleData_o *this, const MethodInfo *method)
{
  if ( BattleData__isKnockdownTrialQuest(this, method) )
    return 2;
  else
    return 1;
}


int64_t __fastcall BattleData__getRaidBossMaxHp(BattleData_o *this, int32_t raidId, const MethodInfo *method)
{
  BattleInfoData_o *battle_info; // x0

  battle_info = this->fields.battle_info;
  if ( !battle_info )
    sub_B2C434(0LL, raidId);
  return BattleInfoData__getRaidBossMaxHp(battle_info, raidId, 0LL);
}


int32_t __fastcall BattleData__getRaidDay(BattleData_o *this, int32_t uniqueId, const MethodInfo *method)
{
  BattleInfoData_o *battle_info; // x0

  battle_info = this->fields.battle_info;
  if ( !battle_info )
    sub_B2C434(0LL, uniqueId);
  return BattleInfoData__getRaidDay(battle_info, uniqueId, 0LL);
}


BattleRaidInfo_o *__fastcall BattleData__getRaidInfo(BattleData_o *this, int32_t day, const MethodInfo *method)
{
  struct BattleInfoData_o *battle_info; // x8
  struct BattleRaidInfo_array *startRaidInfo; // x10
  int max_length; // w8
  __int64 v6; // x9
  BattleRaidInfo_o **m_Items; // x10
  __int64 v8; // x0

  battle_info = this->fields.battle_info;
  if ( !battle_info )
    goto LABEL_11;
  startRaidInfo = battle_info->fields.startRaidInfo;
  if ( startRaidInfo )
  {
    max_length = startRaidInfo->max_length;
    if ( max_length >= 1 )
    {
      v6 = 0LL;
      m_Items = startRaidInfo->m_Items;
      while ( 1 )
      {
        if ( (unsigned int)v6 >= max_length )
        {
          v8 = sub_B2C460(this);
          sub_B2C400(v8, 0LL);
        }
        this = (BattleData_o *)m_Items[v6];
        if ( !this )
          break;
        if ( this->fields.m_CachedPtr == day )
          return (BattleRaidInfo_o *)this;
        if ( (int)++v6 >= max_length )
          return 0LL;
      }
LABEL_11:
      sub_B2C434(this, day);
    }
  }
  return 0LL;
}


int32_t __fastcall BattleData__getResultBgmId(BattleData_o *this, int32_t defVal, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, defVal);
  return QuestPhaseEntity__getResultBgmId(questphase_ent, defVal, 0LL);
}


System_Int32_array *__fastcall BattleData__getResultEnemyVoiceIds(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__getResultEnemyVoiceIds(questphase_ent, 0LL);
}


int64_t __fastcall BattleData__getResumeBattleId(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1

  if ( (byte_4184352 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_11552/*"SAVEKEY_"*/, v2);
    byte_4184352 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( !EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_11552/*"SAVEKEY_"*/, 0LL) )
    return -1LL;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__GetLong((System_String_o *)StringLiteral_11552/*"SAVEKEY_"*/, 0LL);
}


int32_t __fastcall BattleData__getSavedQuestId(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1

  if ( (byte_4184353 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_10884/*"QUESTID"*/, v2);
    byte_4184353 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( !EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_10884/*"QUESTID"*/, 0LL) )
    return 0;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__GetInt((System_String_o *)StringLiteral_10884/*"QUESTID"*/, 0LL);
}


int32_t __fastcall BattleData__getSavedQuestPhase(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1

  if ( (byte_4184354 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_10885/*"QUESTPHASEID"*/, v2);
    byte_4184354 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( !EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_10885/*"QUESTPHASEID"*/, 0LL) )
    return 0;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__GetInt((System_String_o *)StringLiteral_10885/*"QUESTPHASEID"*/, 0LL);
}


BattleComboData_o *__fastcall BattleData__getSelectCombo(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.combodata;
}


// local variable allocation has failed, the output may be wrong!
BattleCommandData_o *__fastcall BattleData__getSelectCommand(
        BattleData_o *this,
        int32_t index,
        const MethodInfo *method)
{
  if ( (byte_4184314 & 1) == 0 )
  {
    sub_B2C35C(&Method_BasicHelper_IndexValue_BattleCommandData___, *(_QWORD *)&index);
    byte_4184314 = 1;
  }
  return (BattleCommandData_o *)BasicHelper__IndexValue_USFGOPlayStandardCutInLimitCount_OverwriteStandFigure_(
                                  (WellFired_USFGOPlayStandardCutInLimitCount_OverwriteStandFigure_array *)this->fields.selectcommandlist,
                                  index,
                                  0LL,
                                  (const MethodInfo_1728A0C *)Method_BasicHelper_IndexValue_BattleCommandData___);
}


BattleCommandData_array *__fastcall BattleData__getSelectCommands(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.selectcommandlist;
}


BattleServantData_o *__fastcall BattleData__getServantData(
        BattleData_o *this,
        int32_t uniqueId,
        const MethodInfo *method)
{
  BattleServantData_o *result; // x0
  const MethodInfo *v6; // x2

  result = BattleData__getPlayerServantData(this, uniqueId, method);
  if ( !result )
    return BattleData__getEnemyServantData(this, uniqueId, v6);
  return result;
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_o *__fastcall BattleData__getServantDataFromIndex(
        BattleData_o *this,
        int32_t index,
        bool isEnemy,
        const MethodInfo *method)
{
  struct System_Int32_array *e_entryid; // x8
  struct System_Int32_array *p_entryid; // x8
  __int64 v7; // x0

  if ( isEnemy )
  {
    e_entryid = this->fields.e_entryid;
    if ( e_entryid )
    {
      if ( e_entryid->max_length > index )
        return BattleData__getEnemyServantData(this, e_entryid->m_Items[index + 1], (const MethodInfo *)isEnemy);
LABEL_9:
      v7 = sub_B2C460(this);
      sub_B2C400(v7, 0LL);
    }
LABEL_8:
    sub_B2C434(this, index);
  }
  p_entryid = this->fields.p_entryid;
  if ( !p_entryid )
    goto LABEL_8;
  if ( p_entryid->max_length <= index )
    goto LABEL_9;
  return BattleData__getPlayerServantData(this, p_entryid->m_Items[index + 1], (const MethodInfo *)isEnemy);
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__getServantId(BattleData_o *this, int32_t uniqueId, const MethodInfo *method)
{
  BattleServantData_o *ServantData; // x0
  __int64 v6; // x19
  __int64 v7; // x20
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v9; // 0:x0.16

  if ( (byte_418432B & 1) == 0 )
  {
    sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, *(_QWORD *)&uniqueId);
    byte_418432B = 1;
  }
  ServantData = BattleData__getServantData(this, uniqueId, method);
  if ( !ServantData )
    return -1;
  v7 = *(_QWORD *)&ServantData->fields.svtId.fields.currentCryptoKey;
  v6 = *(_QWORD *)&ServantData->fields.svtId.fields.fakeValue;
  if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
  }
  *(_QWORD *)&v9.fields.currentCryptoKey = v7;
  *(_QWORD *)&v9.fields.fakeValue = v6;
  return CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(v9, 0LL);
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__getServantIndex(
        BattleData_o *this,
        bool isEnemy,
        int32_t uniqueId,
        const MethodInfo *method)
{
  __int64 v7; // x8
  System_Int32_array *v8; // x0

  if ( (byte_4184303 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Array_IndexOf_int___, isEnemy);
    byte_4184303 = 1;
  }
  v7 = 288LL;
  if ( isEnemy )
    v7 = 296LL;
  v8 = *(System_Int32_array **)((char *)&this->klass + v7);
  if ( v8 )
    return System_Array__IndexOf_int_(v8, uniqueId, (const MethodInfo_1FFD52C *)Method_System_Array_IndexOf_int___);
  else
    return -1;
}


System_Collections_Generic_List_BattleServantData__o *__fastcall BattleData__getServantList(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v5; // x20
  const MethodInfo *v6; // x1
  System_Collections_Generic_IEnumerable_T__o *PlayerServantList; // x0
  __int64 v8; // x1
  const MethodInfo *v9; // x1
  System_Collections_Generic_IEnumerable_T__o *EnemyServantList; // x0

  if ( (byte_418433E & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__AddRange__, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v3);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v4);
    byte_418433E = 1;
  }
  v5 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v5,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  PlayerServantList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getPlayerServantList(this, v6);
  if ( !v5 )
    sub_B2C434(PlayerServantList, v8);
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v5,
    PlayerServantList,
    (const MethodInfo_2EF46B0 *)Method_System_Collections_Generic_List_BattleServantData__AddRange__);
  EnemyServantList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getEnemyServantList(this, v9);
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v5,
    EnemyServantList,
    (const MethodInfo_2EF46B0 *)Method_System_Collections_Generic_List_BattleServantData__AddRange__);
  return (System_Collections_Generic_List_BattleServantData__o *)v5;
}


BattleCommandData_o *__fastcall BattleData__getShuffleCommand(BattleData_o *this, const MethodInfo *method)
{
  struct BattleCommandData_array *p_shcmlist; // x9
  __int64 shuffleindex; // x8
  Il2CppClass **v4; // x10
  struct BattleCommandData_array *p_cmlist; // x9
  BattleCommandData_o *v6; // x19
  int32_t v7; // w8
  __int64 v9; // x0

  p_shcmlist = this->fields.p_shcmlist;
  if ( !p_shcmlist )
    goto LABEL_7;
  shuffleindex = this->fields.shuffleindex;
  if ( (unsigned int)shuffleindex >= p_shcmlist->max_length )
  {
    v9 = sub_B2C460(this);
    sub_B2C400(v9, 0LL);
  }
  v4 = &p_shcmlist->obj.klass + shuffleindex;
  p_cmlist = this->fields.p_cmlist;
  v6 = (BattleCommandData_o *)v4[4];
  v7 = shuffleindex + 1;
  this->fields.shuffleindex = v7;
  if ( !p_cmlist )
LABEL_7:
    sub_B2C434(this, method);
  if ( v7 >= (signed int)p_cmlist->max_length )
    BattleData__shuffleCommand(this, method);
  return v6;
}


BattleCommandData_o *__fastcall BattleData__getShuffleSelectedCommand(BattleData_o *this, const MethodInfo *method)
{
  struct BattleCommandData_array *canSelectCommands; // x8
  __int64 canSelectCommandIndex; // x9
  Il2CppClass **v4; // x10
  int32_t v5; // w9
  BattleCommandData_o *v6; // x19
  __int64 v8; // x0

  canSelectCommands = this->fields.canSelectCommands;
  if ( !canSelectCommands )
    sub_B2C434(this, method);
  canSelectCommandIndex = this->fields.canSelectCommandIndex;
  if ( (unsigned int)canSelectCommandIndex >= canSelectCommands->max_length )
  {
    v8 = sub_B2C460(this);
    sub_B2C400(v8, 0LL);
  }
  v4 = &canSelectCommands->obj.klass + canSelectCommandIndex;
  v5 = canSelectCommandIndex + 1;
  v6 = (BattleCommandData_o *)v4[4];
  this->fields.canSelectCommandIndex = v5;
  if ( v5 >= (signed int)canSelectCommands->max_length )
    BattleData__shuffleCanSelectCommand(this, method);
  return v6;
}


int32_t __fastcall BattleData__getSpecialShadowEffectId(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__getSpecialShadowEffectId(questphase_ent, 0LL);
}


StageEntity_o *__fastcall BattleData__getStageEntity(BattleData_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data || (this = (BattleData_o *)this->fields.battle_ent) == 0LL )
    sub_B2C434(this, method);
  return BattleEntity__GetStageEntityAtWave((BattleEntity_o *)this, data->fields.wavecount, 0LL);
}


int32_t __fastcall BattleData__getStartBattleAssetId(BattleData_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data
    || (this = (BattleData_o *)this->fields.battle_ent) == 0LL
    || (this = (BattleData_o *)BattleEntity__GetStageEntityAtWave((BattleEntity_o *)this, data->fields.wavecount, 0LL)) == 0LL )
  {
    sub_B2C434(this, method);
  }
  return StageEntity__getStartBattleAssetId((StageEntity_o *)this, 0LL);
}


System_Int32_array *__fastcall BattleData__getStartMovieWave(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetStartMovieWave(questphase_ent, 0LL);
}


int32_t __fastcall BattleData__getSubCriticalCount(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.subCriticalCount;
}


BattleServantData_array *__fastcall BattleData__getSubPlayerServantList(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x20
  BattleData___c_c *v14; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Comparison_TitleInfoControl_EventEndTimeInfo__o *_9__449_0; // x21
  Il2CppObject *v17; // x22
  struct BattleData___c_StaticFields *v18; // x0
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v19; // x20
  struct System_Collections_Generic_List_BattleServantData__o *v20; // x25
  int size; // w21
  int v22; // w22
  unsigned int v23; // w24
  BattleServantData_o *v24; // x8
  struct System_Collections_Generic_List_BattleServantData__o *v25; // x25

  if ( (byte_4184339 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Comparison_BattleServantData___ctor__, method);
    sub_B2C35C(&System_Comparison_BattleServantData__TypeInfo, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Sort__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v9);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v10);
    sub_B2C35C(&Method_BattleData___c__getSubPlayerServantList_b__449_0__, v11);
    sub_B2C35C(&BattleData___c_TypeInfo, v12);
    byte_4184339 = 1;
  }
  player_datalist = this->fields.player_datalist;
  v14 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v14 = BattleData___c_TypeInfo;
  }
  static_fields = v14->static_fields;
  _9__449_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)static_fields->__9__449_0;
  if ( !_9__449_0 )
  {
    if ( (BYTE3(v14->vtable._0_Equals.methodPtr) & 4) != 0 && !v14->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v14);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v17 = (Il2CppObject *)static_fields->__9;
    _9__449_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)sub_B2C42C(System_Comparison_BattleServantData__TypeInfo);
    System_Comparison_TitleInfoControl_EventEndTimeInfo____ctor(
      _9__449_0,
      v17,
      Method_BattleData___c__getSubPlayerServantList_b__449_0__,
      (const MethodInfo_25D8DF8 *)Method_System_Comparison_BattleServantData___ctor__);
    v18 = BattleData___c_TypeInfo->static_fields;
    v18->__9__449_0 = (struct System_Comparison_BattleServantData__o *)_9__449_0;
    sub_B2C2F8(&v18->__9__449_0, _9__449_0);
  }
  if ( !player_datalist )
    goto LABEL_29;
  System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo___Sort(
    (System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo__o *)player_datalist,
    (System_Comparison_T__o *)_9__449_0,
    (const MethodInfo_2EF653C *)Method_System_Collections_Generic_List_BattleServantData__Sort__);
  v19 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v19,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  v20 = this->fields.player_datalist;
  if ( !v20 )
    goto LABEL_29;
  size = v20->fields._size;
  if ( size >= 1 )
  {
    v22 = 1;
    do
    {
      v23 = v22 - 1;
      if ( v20->fields._size <= (unsigned int)(v22 - 1) )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v24 = v20->fields._items->m_Items[v23];
      if ( !v24 )
        break;
      if ( !v24->fields.isEntry )
      {
        v25 = this->fields.player_datalist;
        if ( !v25 )
          break;
        if ( v25->fields._size <= v23 )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        if ( !v19 )
          break;
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v19,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v25->fields._items->m_Items[v23],
          (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
      }
      if ( v22 >= size )
        goto LABEL_27;
      v20 = this->fields.player_datalist;
      ++v22;
    }
    while ( v20 );
LABEL_29:
    sub_B2C434(v14, method);
  }
LABEL_27:
  if ( !v19 )
    goto LABEL_29;
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v19,
                                      (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


int64_t __fastcall BattleData__getSuperBossMaxHp(BattleData_o *this, int32_t id, const MethodInfo *method)
{
  BattleInfoData_o *battle_info; // x0

  battle_info = this->fields.battle_info;
  if ( !battle_info )
    sub_B2C434(0LL, id);
  return BattleInfoData__getSuperBossMaxHp(battle_info, id, 0LL);
}


// local variable allocation has failed, the output may be wrong!
System_Int64_array *__fastcall BattleData__getSuperBossSplitHp(
        BattleData_o *this,
        int32_t id,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  DataManager_o *Instance; // x0
  __int64 v8; // x1
  struct BattleEntity_o *battle_ent; // x8
  EventSuperBossEntity_o *Entity; // x0

  if ( (byte_4184389 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_EventSuperBossMaster___, *(_QWORD *)&id);
    sub_B2C35C(&long___TypeInfo, v5);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v6);
    byte_4184389 = 1;
  }
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance
    || (Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                      Instance,
                                      (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EventSuperBossMaster___),
        (battle_ent = this->fields.battle_ent) == 0LL)
    || !Instance )
  {
    sub_B2C434(Instance, v8);
  }
  Entity = EventSuperBossMaster__GetEntity((EventSuperBossMaster_o *)Instance, battle_ent->fields.eventId, id, 0LL);
  if ( Entity )
    return Entity->fields.splitHp;
  else
    return (System_Int64_array *)sub_B2C374(long___TypeInfo, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleData__getTargetEnemy(
        BattleData_o *this,
        bool checkDead,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v8; // x19
  const MethodInfo *v9; // x2
  BattleServantData_o *ServantData; // x0
  __int64 v11; // x1
  EventMissionProgressRequest_Argument_ProgressData_o *v12; // x21

  if ( (byte_4184335 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, checkDead);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData__TypeInfo, v7);
    byte_4184335 = 1;
  }
  v8 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleServantData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v8,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  ServantData = BattleData__getServantData(this, this->fields.globaltargetId, v9);
  if ( !ServantData
    || (v12 = (EventMissionProgressRequest_Argument_ProgressData_o *)ServantData, checkDead)
    && (ServantData = (BattleServantData_o *)BattleServantData__isDead(ServantData, 0LL),
        ((unsigned __int8)ServantData & 1) != 0) )
  {
    if ( !v8 )
LABEL_11:
      sub_B2C434(ServantData, v11);
  }
  else
  {
    if ( !v8 )
      goto LABEL_11;
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      v8,
      v12,
      (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
  }
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v8,
                                      (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


int32_t __fastcall BattleData__getTargetEnemyId(BattleData_o *this, bool checkDead, const MethodInfo *method)
{
  BattleServantData_o *ServantData; // x0
  BattleServantData_o *v5; // x19

  ServantData = BattleData__getServantData(this, this->fields.globaltargetId, method);
  if ( !ServantData )
    return -1;
  v5 = ServantData;
  if ( checkDead && BattleServantData__isDead(ServantData, 0LL) )
    return -1;
  else
    return v5->fields.uniqueId;
}


// local variable allocation has failed, the output may be wrong!
System_Int32_array *__fastcall BattleData__getTargetEnemyIdList(
        BattleData_o *this,
        bool checkDead,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_int__o *v8; // x21
  const MethodInfo *v9; // x2
  __int64 TargetEnemyId; // x0
  __int64 v11; // x1

  if ( (byte_4184336 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, checkDead);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v7);
    byte_4184336 = 1;
  }
  v8 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v8,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  TargetEnemyId = BattleData__getTargetEnemyId(this, checkDead, v9);
  if ( (_DWORD)TargetEnemyId == -1 )
  {
    if ( v8 )
      return System_Collections_Generic_List_int___ToArray(
               v8,
               (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
LABEL_8:
    sub_B2C434(TargetEnemyId, v11);
  }
  if ( !v8 )
    goto LABEL_8;
  System_Collections_Generic_List_int___Add(
    v8,
    TargetEnemyId,
    (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
  return System_Collections_Generic_List_int___ToArray(
           v8,
           (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__getTargetLock(
        BattleData_o *this,
        int32_t uniqueId,
        bool isMaster,
        System_Int32_array *addIndiv,
        const MethodInfo *method)
{
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  BattleServantData_o *ServantData; // x0
  BattleServantData_o *v17; // x23
  BattleBuffData_CheckIndividualitiesData_o *v18; // x21
  __int64 Instance; // x0
  __int64 v20; // x1
  System_Int32_array *selfConcatSvtIndividualities_k__BackingField; // x21
  _QWORD *v22; // x8
  __int64 v23; // x11
  __int64 v24; // x8
  bool v25; // zf
  __int64 v26; // x8
  System_Collections_Generic_List_int__o *v27; // x20
  const MethodInfo *v28; // x2
  struct System_Collections_Generic_List_int__o *lockTargetIdList; // x22
  unsigned __int64 v30; // x23
  int32_t *v31; // x22
  int32_t size; // w0
  int32_t Next; // w19
  int32_t *p_globaltargetId; // x8

  if ( (byte_4184392 & 1) == 0 )
  {
    sub_B2C35C(&BattleRootComponent_TypeInfo, *(_QWORD *)&uniqueId);
    sub_B2C35C(&BattleBuffData_CheckIndividualitiesData_TypeInfo, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Count__, v12);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Item__, v13);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v14);
    sub_B2C35C(&Method_SingletonMonoBehaviour_AvalonSceneManager__get_Instance__, v15);
    byte_4184392 = 1;
  }
  ServantData = BattleData__getServantData(this, uniqueId, (const MethodInfo *)isMaster);
  if ( ServantData )
  {
    v17 = ServantData;
    v18 = (BattleBuffData_CheckIndividualitiesData_o *)sub_B2C42C(BattleBuffData_CheckIndividualitiesData_TypeInfo);
    BattleBuffData_CheckIndividualitiesData___ctor(v18, v17, 0LL, 0LL, 0LL, 0LL, 0LL);
    if ( !v18 )
      goto LABEL_37;
    selfConcatSvtIndividualities_k__BackingField = v18->fields._selfConcatSvtIndividualities_k__BackingField;
    if ( !isMaster )
      goto LABEL_16;
  }
  else
  {
    selfConcatSvtIndividualities_k__BackingField = 0LL;
    if ( !isMaster )
      goto LABEL_16;
  }
  Instance = (__int64)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_AvalonSceneManager__get_Instance__);
  if ( !Instance )
    goto LABEL_37;
  v22 = *(_QWORD **)(Instance + 24);
  if ( !v22 )
    goto LABEL_37;
  v23 = *(&BattleRootComponent_TypeInfo->_2.bitflags2 + 1);
  if ( *(unsigned __int8 *)(*v22 + 300LL) < (unsigned int)v23 )
    goto LABEL_37;
  if ( *(BattleRootComponent_c **)(*(_QWORD *)(*v22 + 200LL) + 8 * v23 - 8) != BattleRootComponent_TypeInfo )
    goto LABEL_37;
  v24 = v22[7];
  if ( !v24 )
    goto LABEL_37;
  v25 = *(_DWORD *)(v24 + 392) == 1;
  v26 = 736LL;
  if ( !v25 )
    v26 = 744LL;
  selfConcatSvtIndividualities_k__BackingField = *(System_Int32_array **)((char *)&this->klass + v26);
LABEL_16:
  if ( addIndiv )
    selfConcatSvtIndividualities_k__BackingField = CommonFunction__JoinIndiv(
                                                     selfConcatSvtIndividualities_k__BackingField,
                                                     addIndiv,
                                                     0LL);
  v27 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v27,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  lockTargetIdList = this->fields.lockTargetIdList;
  if ( !lockTargetIdList )
    goto LABEL_37;
  v30 = 0LL;
  while ( (__int64)v30 < lockTargetIdList->fields._size )
  {
    if ( v30 >= (unsigned int)lockTargetIdList->fields._size )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    Instance = (__int64)BattleData__getServantData(this, lockTargetIdList->fields._items->m_Items[v30 + 1], v28);
    if ( Instance )
    {
      v31 = (int32_t *)Instance;
      Instance = BattleServantData__isUpHate(
                   (BattleServantData_o *)Instance,
                   selfConcatSvtIndividualities_k__BackingField,
                   0LL);
      if ( (Instance & 1) != 0 )
      {
        Instance = (*(__int64 (__fastcall **)(int32_t *, _QWORD))(*(_QWORD *)v31 + 456LL))(
                     v31,
                     *(_QWORD *)(*(_QWORD *)v31 + 464LL));
        if ( (int)Instance >= 1 )
        {
          if ( !v27 )
            goto LABEL_37;
          System_Collections_Generic_List_int___Add(
            v27,
            v31[6],
            (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
        }
      }
      lockTargetIdList = this->fields.lockTargetIdList;
      ++v30;
      if ( lockTargetIdList )
        continue;
    }
    goto LABEL_37;
  }
  if ( !v27 )
LABEL_37:
    sub_B2C434(Instance, v20);
  size = v27->fields._size;
  if ( size )
  {
    Next = BattleRandom__getNext(size, 0LL);
    if ( v27->fields._size <= (unsigned int)Next )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    p_globaltargetId = &v27->fields._items->m_Items[Next + 1];
  }
  else
  {
    p_globaltargetId = &this->fields.globaltargetId;
  }
  return *p_globaltargetId;
}


BattleServantData_o *__fastcall BattleData__getTopFieldPlayerServant(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x8
  struct System_Int32_array *p_entryid; // x21
  int size; // w23
  unsigned __int64 v7; // x22
  il2cpp_array_size_t max_length; // w8
  int32_t v9; // w20
  unsigned int v10; // w25
  __int64 v11; // x24
  struct System_Collections_Generic_List_BattleServantData__o *v12; // x26
  struct System_Collections_Generic_List_BattleServantData__o *v13; // x19
  BattleServantData_o **m_Items; // x8
  struct System_Collections_Generic_List_BattleServantData__o *v15; // x19
  __int64 v17; // x0

  v2 = this;
  if ( (byte_4184338 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, method);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v3);
    byte_4184338 = 1;
  }
  player_datalist = v2->fields.player_datalist;
  if ( !player_datalist )
    goto LABEL_27;
  p_entryid = v2->fields.p_entryid;
  if ( !p_entryid )
    goto LABEL_27;
  if ( (int)*(_QWORD *)&p_entryid->max_length < 1 )
  {
LABEL_18:
    v13 = v2->fields.player_datalist;
    if ( v13 )
    {
      if ( !v13->fields._size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      m_Items = v13->fields._items->m_Items;
      return *m_Items;
    }
LABEL_27:
    sub_B2C434(this, method);
  }
  size = player_datalist->fields._size;
  v7 = 0LL;
  max_length = *(_QWORD *)&p_entryid->max_length;
  while ( 1 )
  {
    if ( v7 >= max_length )
    {
      v17 = sub_B2C460(this);
      sub_B2C400(v17, 0LL);
    }
    v9 = p_entryid->m_Items[v7 + 1];
    if ( v9 >= 1 && size >= 1 )
      break;
LABEL_17:
    max_length = p_entryid->max_length;
    if ( (__int64)++v7 >= (int)max_length )
      goto LABEL_18;
  }
  v10 = 0;
  v11 = 32LL;
  while ( 1 )
  {
    v12 = v2->fields.player_datalist;
    if ( !v12 )
      goto LABEL_27;
    if ( v12->fields._size <= v10 )
      System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
    this = *(BattleData_o **)((char *)&v12->fields._items->obj.klass + v11);
    if ( !this )
      goto LABEL_27;
    this = (BattleData_o *)BattleServantData__checkID((BattleServantData_o *)this, v9, 0LL);
    if ( ((unsigned __int8)this & 1) != 0 )
      break;
    ++v10;
    v11 += 8LL;
    if ( (int)v10 >= size )
      goto LABEL_17;
  }
  v15 = v2->fields.player_datalist;
  if ( !v15 )
    goto LABEL_27;
  if ( v15->fields._size <= v10 )
    System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
  m_Items = (BattleServantData_o **)((char *)v15->fields._items + v11);
  return *m_Items;
}


int32_t __fastcall BattleData__getTotalCriticalPoint(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.totalCriticalStars;
}


int32_t __fastcall BattleData__getTurnSituationType(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__getTurnSituationType(questphase_ent, 0LL);
}


System_Collections_Generic_Dictionary_int__int__o *__fastcall BattleData__getUsedEventMasterSkillDict(
        BattleData_o *this,
        const MethodInfo *method)
{
  return this->fields.usedEventMasterSkillDict;
}


int32_t __fastcall BattleData__getUsedEventMasterSkillEventActivityPoint(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_Dictionary_int__int__o *usedEventMasterSkillDict; // x0
  int32_t v9; // w19
  const MethodInfo *v10; // x2
  __int128 v12[2]; // [xsp+0h] [xbp-60h] BYREF
  System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o v13; // [xsp+20h] [xbp-40h] BYREF

  if ( (byte_41842E2 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__GetEnumerator__, method);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__int__Dispose__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__int__MoveNext__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__int__get_Current__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_int__int__get_Key__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_int__int__get_Value__, v7);
    byte_41842E2 = 1;
  }
  memset(&v13, 0, 32);
  usedEventMasterSkillDict = this->fields.usedEventMasterSkillDict;
  if ( !usedEventMasterSkillDict )
    sub_B2C434(0LL, method);
  System_Collections_Generic_Dictionary_int__int___GetEnumerator(
    (System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o *)v12,
    usedEventMasterSkillDict,
    (const MethodInfo_2E24AB4 *)Method_System_Collections_Generic_Dictionary_int__int__GetEnumerator__);
  v9 = 0;
  *(_OWORD *)&v13.fields.dictionary = v12[0];
  v13.fields.current = (struct System_Collections_Generic_KeyValuePair_TKey__TValue__o)v12[1];
  while ( System_Collections_Generic_Dictionary_Enumerator_int__int___MoveNext(
            &v13,
            (const MethodInfo_256852C *)Method_System_Collections_Generic_Dictionary_Enumerator_int__int__MoveNext__) )
  {
    if ( HIDWORD(v13.fields.current.fields.key) )
      v9 += BattleData__getEventActivityPoint(this, (int32_t)v13.fields.current.fields.key, v10);
  }
  System_Collections_Generic_Dictionary_Enumerator_int__int___Dispose(
    &v13,
    (const MethodInfo_2568674 *)Method_System_Collections_Generic_Dictionary_Enumerator_int__int__Dispose__);
  return v9;
}


CommandCodeInfo_o *__fastcall BattleData__getUserCommandCode(
        BattleData_o *this,
        int64_t userCommandCodeId,
        const MethodInfo *method)
{
  BattleEntity_o *battle_ent; // x0

  battle_ent = this->fields.battle_ent;
  if ( !battle_ent )
    sub_B2C434(0LL, userCommandCodeId);
  return BattleEntity__getUserCommandCode(battle_ent, userCommandCodeId, 0LL);
}


int32_t __fastcall BattleData__getValidStarMax(BattleData_o *this, const MethodInfo *method)
{
  return 50;
}


System_Int32_array *__fastcall BattleData__getWaveClearTurn(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  System_String_o *String; // x19
  System_Char_array *v11; // x0
  System_String_array *v12; // x0
  __int64 v13; // x1
  System_String_array *v14; // x19
  __int64 v15; // x1
  BattleData___c_c *v16; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Converter_BattleActionData_HealData__int__o *_9__520_0; // x20
  Il2CppObject *v19; // x21
  struct BattleData___c_StaticFields *v20; // x0
  __int64 v22; // x0

  if ( (byte_4184361 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Array_ConvertAll_string__int___, v1);
    sub_B2C35C(&char___TypeInfo, v2);
    sub_B2C35C(&Method_System_Converter_string__int___ctor__, v3);
    sub_B2C35C(&System_Converter_string__int__TypeInfo, v4);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v5);
    sub_B2C35C(&int___TypeInfo, v6);
    sub_B2C35C(&Method_BattleData___c__getWaveClearTurn_b__520_0__, v7);
    sub_B2C35C(&BattleData___c_TypeInfo, v8);
    sub_B2C35C(&StringLiteral_10886/*"QUESTUSEDTURNSAVEKEY"*/, v9);
    byte_4184361 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( !EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_10886/*"QUESTUSEDTURNSAVEKEY"*/, 0LL) )
    return (System_Int32_array *)sub_B2C374(int___TypeInfo, 0LL);
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  String = EncryptedPlayerPrefs__GetString((System_String_o *)StringLiteral_10886/*"QUESTUSEDTURNSAVEKEY"*/, 0LL);
  if ( !String )
    return (System_Int32_array *)sub_B2C374(int___TypeInfo, 0LL);
  v11 = (System_Char_array *)sub_B2C374(char___TypeInfo, 1LL);
  if ( !v11 )
    sub_B2C434(0LL, 0LL);
  if ( !v11->max_length )
  {
    v22 = sub_B2C460(v11);
    sub_B2C400(v22, 0LL);
  }
  v11->m_Items[2] = 44;
  v12 = System_String__Split(String, v11, 0LL);
  v14 = v12;
  if ( !v12 )
    sub_B2C434(0LL, v13);
  v15 = *(_QWORD *)&v12->max_length;
  if ( !v15 )
    return (System_Int32_array *)sub_B2C374(int___TypeInfo, 0LL);
  sub_B2C374(int___TypeInfo, v15);
  v16 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v16 = BattleData___c_TypeInfo;
  }
  static_fields = v16->static_fields;
  _9__520_0 = (System_Converter_BattleActionData_HealData__int__o *)static_fields->__9__520_0;
  if ( !_9__520_0 )
  {
    if ( (BYTE3(v16->vtable._0_Equals.methodPtr) & 4) != 0 && !v16->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v16);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v19 = (Il2CppObject *)static_fields->__9;
    _9__520_0 = (System_Converter_BattleActionData_HealData__int__o *)sub_B2C42C(System_Converter_string__int__TypeInfo);
    System_Converter_BattleActionData_HealData__int____ctor(
      _9__520_0,
      v19,
      Method_BattleData___c__getWaveClearTurn_b__520_0__,
      (const MethodInfo_24E026C *)Method_System_Converter_string__int___ctor__);
    v20 = BattleData___c_TypeInfo->static_fields;
    v20->__9__520_0 = (struct System_Converter_string__int__o *)_9__520_0;
    sub_B2C2F8(&v20->__9__520_0, _9__520_0);
  }
  return System_Array__ConvertAll_string__int_(
           v14,
           (System_Converter_TInput__TOutput__o *)_9__520_0,
           (const MethodInfo_1FFB1FC *)Method_System_Array_ConvertAll_string__int___);
}


System_String_array *__fastcall BattleData__getWaveStartMovie(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetWaveStartMovie(questphase_ent, 0LL);
}


int32_t __fastcall BattleData__getWinResult(BattleData_o *this, const MethodInfo *method)
{
  if ( this->fields.win_lose == 1 )
    return this->fields.winResult;
  else
    return 0;
}


float __fastcall BattleData__get_AccelSystemTimeScale(BattleData_o *this, const MethodInfo *method)
{
  return (float)this->fields.systemflg_acceleration;
}


bool __fastcall BattleData__get_AddAttack(BattleData_o *this, const MethodInfo *method)
{
  struct BattleComboData_o *combodata; // x8

  combodata = this->fields.combodata;
  return combodata && combodata->fields.samecount > 2;
}


System_Collections_Generic_List_AiNpcBattleServantData__o *__fastcall BattleData__get_AiNpcDataList(
        BattleData_o *this,
        const MethodInfo *method)
{
  return this->fields.aiNpcDataList;
}


DrawLotsDisplayMessage_o *__fastcall BattleData__get_DrawLotsDispMsg(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._DrawLotsDispMsg_k__BackingField;
}


System_Int32_array *__fastcall BattleData__get_EnemyAddOrderPosArray(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._EnemyAddOrderPosArray_k__BackingField;
}


int32_t __fastcall BattleData__get_EnemyCountStartValue(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._EnemyCountStartValue_k__BackingField;
}


int32_t __fastcall BattleData__get_EnemyEntryCountOnThisTurn(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._EnemyEntryCountOnThisTurn_k__BackingField;
}


int32_t __fastcall BattleData__get_EnemyEntryMaxCountEachTurn(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._EnemyEntryMaxCountEachTurn_k__BackingField;
}


int32_t __fastcall BattleData__get_EnemyFieldPosCount(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._EnemyFieldPosCount_k__BackingField;
}


bool __fastcall BattleData__get_ExistOverwriteBgIndividuality(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.overwriteBgIndividuality != 0LL;
}


BattleFieldEnvironmentData_o *__fastcall BattleData__get_FieldEnvData(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._FieldEnvData_k__BackingField;
}


BattleData_o *__fastcall BattleData__get_Instance(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  BattleData_c *v5; // x0
  UnityEngine_Object_o *instance; // x19
  intptr_t v7; // w19
  System_Type_o *TypeFromHandle; // x19
  UnityEngine_Object_o *ObjectOfType; // x0
  BattleData_c *v10; // x1
  UnityEngine_Object_o *v11; // x19
  struct BattleData_StaticFields *static_fields; // x0
  __int64 v13; // x9
  BattleData_c *v14; // x0
  BattleData_o *v16; // x0
  const MethodInfo *v17; // x1
  System_RuntimeTypeHandle_o v18; // 0:w0.4

  if ( (byte_41842D9 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_var, v1);
    sub_B2C35C(&BattleData_TypeInfo, v2);
    sub_B2C35C(&UnityEngine_Object_TypeInfo, v3);
    sub_B2C35C(&System_Type_TypeInfo, v4);
    byte_41842D9 = 1;
  }
  v5 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v5 = BattleData_TypeInfo;
  }
  instance = (UnityEngine_Object_o *)v5->static_fields->instance;
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  if ( UnityEngine_Object__op_Equality(instance, 0LL, 0LL) )
  {
    v7 = (int)BattleData_var;
    if ( (BYTE3(System_Type_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !System_Type_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(System_Type_TypeInfo);
    v18.fields.value = v7;
    TypeFromHandle = System_Type__GetTypeFromHandle(v18, 0LL);
    if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
    }
    ObjectOfType = UnityEngine_Object__FindObjectOfType(TypeFromHandle, 0LL);
    v10 = BattleData_TypeInfo;
    v11 = ObjectOfType;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
      v10 = BattleData_TypeInfo;
    }
    static_fields = v10->static_fields;
    if ( v11 )
    {
      v13 = *(&v10->_2.bitflags2 + 1);
      if ( *(&v11->klass->_2.bitflags2 + 1) < (unsigned int)v13
        || (BattleData_c *)v11->klass->_2.typeHierarchy[v13 - 1] != v10 )
      {
        v16 = (BattleData_o *)sub_B2C728(v11);
        return (BattleData_o *)BattleData__get_eventId(v16, v17);
      }
    }
    static_fields->instance = (struct BattleData_o *)v11;
    sub_B2C2F8(static_fields, v11);
    UnityEngine_Object__op_Equality((UnityEngine_Object_o *)BattleData_TypeInfo->static_fields->instance, 0LL, 0LL);
  }
  v14 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v14 = BattleData_TypeInfo;
  }
  return v14->static_fields->instance;
}


bool __fastcall BattleData__get_IsEnemyPosCountNormal(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._EnemyFieldPosCount_k__BackingField < 4;
}


bool __fastcall BattleData__get_IsInTactical(BattleData_o *this, const MethodInfo *method)
{
  ChangeBattlePhaseNotify_o *changePhaseNotify; // x0
  int32_t v4; // w0

  changePhaseNotify = this->fields.changePhaseNotify;
  if ( !changePhaseNotify )
    goto LABEL_6;
  v4 = ChangeBattlePhaseNotify__get_Phase(changePhaseNotify, 0LL);
  if ( v4 != 1 )
  {
    changePhaseNotify = this->fields.changePhaseNotify;
    if ( changePhaseNotify )
    {
      LOBYTE(v4) = ChangeBattlePhaseNotify__get_Phase(changePhaseNotify, 0LL) == 2;
      return v4;
    }
LABEL_6:
    sub_B2C434(changePhaseNotify, method);
  }
  return v4;
}


bool __fastcall BattleData__get_IsReleaseUnusedAssetsWhenEntryMember(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._IsReleaseUnusedAssetsWhenEntryMember_k__BackingField;
}


System_Int32_array_array *__fastcall BattleData__get_VoicePlayedList(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v20; // x19
  __int64 v21; // x1
  struct System_Collections_Generic_Dictionary_string__object__o *voicePlayedInfo; // x0
  Il2CppObject *key; // x21
  Il2CppObject *value; // x22
  unsigned __int64 v25; // x20
  __int64 v26; // x0
  __int64 v27; // x1
  __int64 v28; // x23
  __int64 v29; // x0
  __int64 v30; // x1
  int v31; // w8
  Il2CppObject *current; // x20
  System_Char_array *v34; // x0
  System_String_array *v35; // x21
  __int64 v36; // x0
  __int64 v37; // x1
  __int64 v38; // x20
  __int64 v39; // x0
  __int64 v40; // x1
  __int64 v41; // x0
  __int64 v42; // x1
  int v43; // w20
  __int64 v45; // x0
  __int64 v46; // x0
  __int64 v47; // x0
  __int64 v48; // x0
  __int64 v49; // x0
  __int64 v50; // x0
  __int64 v51; // x0
  BattleData_o *v52; // [xsp+0h] [xbp-E0h]
  System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl__o v53; // [xsp+8h] [xbp-D8h] BYREF
  int v54[2]; // [xsp+30h] [xbp-B0h]
  int v55; // [xsp+38h] [xbp-A8h]
  System_Collections_Generic_HashSet_Enumerator_T__o v56; // [xsp+40h] [xbp-A0h] BYREF
  System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl__o v57; // [xsp+60h] [xbp-80h] BYREF

  if ( (byte_41842E6 & 1) == 0 )
  {
    sub_B2C35C(&char___TypeInfo, method);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__GetEnumerator__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_Enumerator_string__Dispose__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_string__object__Dispose__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_Enumerator_string__MoveNext__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_string__object__MoveNext__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_string__object__get_Current__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_Enumerator_string__get_Current__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_string__GetEnumerator__, v10);
    sub_B2C35C(&int___TypeInfo, v11);
    sub_B2C35C(&long_TypeInfo, v12);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_string__object__get_Key__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_string__object__get_Value__, v14);
    sub_B2C35C(&Method_System_Collections_Generic_List_int____Add__, v15);
    sub_B2C35C(&Method_System_Collections_Generic_List_int____ToArray__, v16);
    sub_B2C35C(&Method_System_Collections_Generic_List_int_____ctor__, v17);
    sub_B2C35C(&System_Collections_Generic_List_int____TypeInfo, v18);
    sub_B2C35C(&string___TypeInfo, v19);
    byte_41842E6 = 1;
  }
  memset(&v57, 0, sizeof(v57));
  memset(&v56, 0, sizeof(v56));
  v55 = 0;
  v20 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_int____TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v20,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_int_____ctor__);
  voicePlayedInfo = this->fields.voicePlayedInfo;
  v52 = this;
  if ( !voicePlayedInfo )
    goto LABEL_52;
  System_Collections_Generic_Dictionary_XmlQualifiedName__SchemaElementDecl___GetEnumerator(
    (System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o *)&v53,
    (System_Collections_Generic_Dictionary_XmlQualifiedName__SchemaElementDecl__o *)voicePlayedInfo,
    (const MethodInfo_2DB229C *)Method_System_Collections_Generic_Dictionary_string__object__GetEnumerator__);
  v57 = v53;
LABEL_16:
  v26 = System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl___MoveNext(
          &v57,
          (const MethodInfo_278B9EC *)Method_System_Collections_Generic_Dictionary_Enumerator_string__object__MoveNext__);
  if ( (v26 & 1) != 0 )
  {
    key = v57.fields.current.fields.key;
    value = v57.fields.current.fields.value;
    v25 = 0LL;
    while ( 1 )
    {
      if ( !value )
        goto LABEL_37;
      if ( value->klass->_1.element_class != long_TypeInfo->_1.element_class )
        break;
      v26 = j_il2cpp_object_unbox_0(value);
      if ( (*(_QWORD *)v26 & (1LL << v25)) != 0 )
      {
        v28 = sub_B2C374(int___TypeInfo, 2LL);
        v29 = System_Int32__Parse((System_String_o *)key, 0LL);
        if ( !v28 )
          sub_B2C434(v29, v30);
        v31 = *(_DWORD *)(v28 + 24);
        if ( !v31 )
        {
          v45 = sub_B2C460(v29);
          sub_B2C400(v45, 0LL);
        }
        *(_DWORD *)(v28 + 32) = v29;
        if ( v31 == 1 )
        {
          v46 = sub_B2C460(v29);
          sub_B2C400(v46, 0LL);
        }
        *(_DWORD *)(v28 + 36) = v25;
        if ( !v20 )
          sub_B2C434(v29, v30);
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v20,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v28,
          (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_int____Add__);
      }
      if ( v25++ > 0x3E )
        goto LABEL_16;
    }
    v26 = sub_B2C728(value);
LABEL_37:
    sub_B2C434(v26, v27);
  }
  v54[0] = 125;
  v55 = 1;
  System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl___Dispose(
    &v57,
    (const MethodInfo_278BB54 *)Method_System_Collections_Generic_Dictionary_Enumerator_string__object__Dispose__);
  v55 = 0;
  sub_B2C374(string___TypeInfo, 2LL);
  voicePlayedInfo = (struct System_Collections_Generic_Dictionary_string__object__o *)v52->fields.voicePlayedOver64Info;
  if ( !voicePlayedInfo )
    goto LABEL_52;
  System_Collections_Generic_HashSet_WarBoardAIRoute_ActionTrendInfo___GetEnumerator(
    (System_Collections_Generic_HashSet_Enumerator_T__o *)&v53,
    (System_Collections_Generic_HashSet_WarBoardAIRoute_ActionTrendInfo__o *)voicePlayedInfo,
    (const MethodInfo_2D8C544 *)Method_System_Collections_Generic_HashSet_string__GetEnumerator__);
  v56.fields._current = v53.fields.current.fields.key;
  *(_OWORD *)&v56.fields._set = *(_OWORD *)&v53.fields.dictionary;
  while ( System_Collections_Generic_HashSet_Enumerator_WarBoardAIRoute_ActionTrendInfo___MoveNext(
            &v56,
            (const MethodInfo_20E9DBC *)Method_System_Collections_Generic_HashSet_Enumerator_string__MoveNext__) )
  {
    current = v56.fields._current;
    v34 = (System_Char_array *)sub_B2C374(char___TypeInfo, 1LL);
    if ( !v34 )
      sub_B2C434(0LL, 0LL);
    if ( !v34->max_length )
    {
      v49 = sub_B2C460(v34);
      sub_B2C400(v49, 0LL);
    }
    v34->m_Items[2] = 44;
    if ( !current )
      sub_B2C434(v34, v34);
    v35 = System_String__Split((System_String_o *)current, v34, 0LL);
    v36 = sub_B2C374(int___TypeInfo, 2LL);
    if ( !v35 )
      sub_B2C434(v36, v37);
    if ( !v35->max_length )
    {
      v50 = sub_B2C460(v36);
      sub_B2C400(v50, 0LL);
    }
    v38 = v36;
    v39 = System_Int32__Parse(v35->m_Items[0], 0LL);
    if ( !v38 )
      sub_B2C434(v39, v40);
    if ( !*(_DWORD *)(v38 + 24) )
    {
      v51 = sub_B2C460(v39);
      sub_B2C400(v51, 0LL);
    }
    *(_DWORD *)(v38 + 32) = v39;
    if ( v35->max_length <= 1 )
    {
      v47 = sub_B2C460(v39);
      sub_B2C400(v47, 0LL);
    }
    v41 = System_Int32__Parse(v35->m_Items[1], 0LL);
    if ( *(_DWORD *)(v38 + 24) <= 1u )
    {
      v48 = sub_B2C460(v41);
      sub_B2C400(v48, 0LL);
    }
    *(_DWORD *)(v38 + 36) = v41;
    if ( !v20 )
      sub_B2C434(v41, v42);
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      v20,
      (EventMissionProgressRequest_Argument_ProgressData_o *)v38,
      (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_int____Add__);
  }
  v54[0] = 230;
  v43 = ++v55;
  System_Collections_Generic_HashSet_Enumerator_WarBoardAIRoute_ActionTrendInfo___Dispose(
    &v56,
    (const MethodInfo_20E9DB8 *)Method_System_Collections_Generic_HashSet_Enumerator_string__Dispose__);
  if ( v43 && v54[v43 - 1] == 230 )
    v55 = v43 - 1;
  if ( !v20 )
LABEL_52:
    sub_B2C434(voicePlayedInfo, v21);
  return (System_Int32_array_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                       (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v20,
                                       (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_int____ToArray__);
}


int32_t __fastcall BattleData__get_eventId(BattleData_o *this, const MethodInfo *method)
{
  struct BattleEntity_o *battle_ent; // x8

  battle_ent = this->fields.battle_ent;
  if ( !battle_ent )
    sub_B2C434(this, method);
  return battle_ent->fields.eventId;
}


BattleSkillInfoData_o *__fastcall BattleData__get_lastUsedPlayerSkillInfo(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._lastUsedPlayerSkillInfo_k__BackingField;
}


OverwriteBattleBgmData_o *__fastcall BattleData__get_overwriteBgmData(BattleData_o *this, const MethodInfo *method)
{
  return this->fields._overwriteBgmData_k__BackingField;
}


void __fastcall BattleData__initQuest(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  BattleData_o *v14; // x0
  const MethodInfo *v15; // x1
  void *Instance; // x0
  __int64 v17; // x1
  _QWORD *v18; // x20
  __int64 v19; // x8
  __int64 v20; // x8
  __int64 v21; // x8
  BattleUserServantData_o *UserServantFromID; // x21
  int32_t v23; // w22
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v24; // kr00_16
  ServantTreasureDvcMaster_o *MasterData_WarQuestSelectionMaster; // x22
  int32_t v26; // w8
  _DWORD *v27; // x22
  __int64 v28; // x8
  __int64 v29; // x8
  __int64 v30; // x8
  __int64 v31; // x8
  BattleUserServantData_o *v32; // x20
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v33; // kr20_16
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v34; // kr30_16
  int32_t v35; // w8
  const MethodInfo *v36; // x2
  struct BattleInfoData_o *battle_info; // x8
  DeckData_o *WaveMyDeck; // x1
  const MethodInfo *v39; // x2
  PlayerFieldStatus_o *v40; // x20
  EnemyFieldStatus_o *v41; // x20
  const MethodInfo *v42; // x1
  const MethodInfo *v43; // x1
  const MethodInfo *v44; // x1
  const MethodInfo *v45; // x1
  const MethodInfo *v46; // x1
  System_Collections_Generic_HashSet_int__o *v47; // x20
  long double v48; // q0
  __int64 v49; // x0

  if ( (byte_4184370 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_ServantTreasureDvcMaster___, method);
    sub_B2C35C(&Method_DataManager_GetMaster_BattleMaster___, v3);
    sub_B2C35C(&DataManager_TypeInfo, v4);
    sub_B2C35C(&Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__, v5);
    sub_B2C35C(&EnemyFieldStatus_TypeInfo, v6);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_int___ctor___67287824, v7);
    sub_B2C35C(&System_Collections_Generic_HashSet_int__TypeInfo, v8);
    sub_B2C35C(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, v9);
    sub_B2C35C(&PlayerFieldStatus_TypeInfo, v10);
    sub_B2C35C(&ServantAssetLoadManager_TypeInfo, v11);
    sub_B2C35C(&Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__, v12);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v13);
    byte_4184370 = 1;
  }
  BattleData__commonQuestLoad(this, method);
  BattleData__DeleteResumeCheckPlayedMovieSaveKey(v14, v15);
  Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
  if ( !Instance )
    goto LABEL_46;
  if ( *((_BYTE *)Instance + 44) )
  {
    if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
    Instance = DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_173398C *)Method_DataManager_GetMaster_BattleMaster___);
    if ( !Instance )
      goto LABEL_46;
    Instance = DataMasterBase_object__object__long___GetSingleEntity(
                 (DataMasterBase_TMaster__TEntity__PKType__o *)Instance,
                 (const MethodInfo_24E43BC *)Method_DataMasterBase_BattleMaster__BattleEntity__long__GetSingleEntity__);
    if ( !Instance )
      goto LABEL_46;
    v18 = Instance;
    Instance = (void *)*((_QWORD *)Instance + 2);
    if ( !Instance )
      goto LABEL_46;
    v19 = *((_QWORD *)Instance + 6);
    if ( !v19 )
      goto LABEL_46;
    v20 = *(_QWORD *)(v19 + 16);
    if ( !v20 )
      goto LABEL_46;
    if ( !*(_DWORD *)(v20 + 24) )
      goto LABEL_47;
    v21 = *(_QWORD *)(v20 + 32);
    if ( !v21 )
      goto LABEL_46;
    UserServantFromID = BattleInfoData__getUserServantFromID((BattleInfoData_o *)Instance, *(_QWORD *)(v21 + 24), 0LL);
    Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
    if ( !Instance )
      goto LABEL_46;
    v23 = *((_DWORD *)Instance + 8);
    if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
    }
    v24 = CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit(v23, 0LL);
    v17 = *(_QWORD *)&v24.fields.fakeValue;
    Instance = *(void **)&v24.fields.currentCryptoKey;
    if ( !UserServantFromID )
      goto LABEL_46;
    UserServantFromID->fields.svtId = v24;
    Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
    if ( !Instance )
      goto LABEL_46;
    UserServantFromID->fields.limitCount = CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit(
                                             *((_DWORD *)Instance + 9),
                                             0LL);
    Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
    if ( !Instance )
      goto LABEL_46;
    MasterData_WarQuestSelectionMaster = (ServantTreasureDvcMaster_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                                                         (DataManager_o *)Instance,
                                                                         (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_ServantTreasureDvcMaster___);
    Instance = (void *)CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44758064(
                         UserServantFromID->fields.svtId,
                         0LL);
    if ( !MasterData_WarQuestSelectionMaster )
      goto LABEL_46;
    Instance = ServantTreasureDvcMaster__GetEntity(MasterData_WarQuestSelectionMaster, (int32_t)Instance, 1, 101, 0LL);
    if ( !Instance )
      goto LABEL_46;
    v26 = *((_DWORD *)Instance + 8);
    UserServantFromID->fields.treasureDeviceLv = 1;
    UserServantFromID->fields.treasureDeviceId = v26;
    UserServantFromID->fields.hp = 1000000;
    v27 = Instance;
    Instance = (void *)v18[2];
    if ( !Instance )
      goto LABEL_46;
    v28 = *((_QWORD *)Instance + 7);
    if ( !v28 )
      goto LABEL_46;
    if ( !*(_DWORD *)(v28 + 24) )
      goto LABEL_47;
    v29 = *(_QWORD *)(v28 + 32);
    if ( !v29 )
      goto LABEL_46;
    v30 = *(_QWORD *)(v29 + 16);
    if ( !v30 )
      goto LABEL_46;
    if ( !*(_DWORD *)(v30 + 24) )
    {
LABEL_47:
      v49 = sub_B2C460(Instance);
      sub_B2C400(v49, 0LL);
    }
    v31 = *(_QWORD *)(v30 + 32);
    if ( !v31 )
      goto LABEL_46;
    v32 = BattleInfoData__getUserServantFromID((BattleInfoData_o *)Instance, *(_QWORD *)(v31 + 24), 0LL);
    Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
    if ( !Instance )
      goto LABEL_46;
    v33 = CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit(*((_DWORD *)Instance + 8), 0LL);
    v17 = *(_QWORD *)&v33.fields.fakeValue;
    Instance = *(void **)&v33.fields.currentCryptoKey;
    if ( !v32 )
      goto LABEL_46;
    v32->fields.svtId = v33;
    Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
    if ( !Instance )
      goto LABEL_46;
    v34 = CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit(*((_DWORD *)Instance + 9), 0LL);
    v17 = *(_QWORD *)&v34.fields.fakeValue;
    v32->fields.limitCount = v34;
    v35 = v27[8];
    v32->fields.treasureDeviceLv = 1;
    v32->fields.hp = 1000000;
    v32->fields.treasureDeviceId = v35;
  }
  Instance = this->fields.battle_info;
  if ( !Instance )
    goto LABEL_46;
  Instance = (void *)BattleInfoData__IsWaveMyDecks((BattleInfoData_o *)Instance, 0LL);
  battle_info = this->fields.battle_info;
  if ( ((unsigned __int8)Instance & 1) != 0 )
  {
    if ( !battle_info )
      goto LABEL_46;
    WaveMyDeck = BattleInfoData__GetWaveMyDeck(this->fields.battle_info, this->fields.wavecount, 0LL);
  }
  else
  {
    if ( !battle_info )
      goto LABEL_46;
    WaveMyDeck = battle_info->fields.myDeck;
  }
  BattleData__InitPlayerDataList(this, WaveMyDeck, v36);
  BattleData__LoadAiNpcServant(this, 0LL, v39);
  v40 = (PlayerFieldStatus_o *)sub_B2C42C(PlayerFieldStatus_TypeInfo);
  PlayerFieldStatus___ctor(v40, 0LL);
  this->fields.playerFieldStatus = v40;
  sub_B2C2F8(&this->fields.playerFieldStatus, v40);
  v41 = (EnemyFieldStatus_o *)sub_B2C42C(EnemyFieldStatus_TypeInfo);
  EnemyFieldStatus___ctor(v41, 0LL);
  this->fields.enemyFieldStatus = v41;
  sub_B2C2F8(&this->fields.enemyFieldStatus, v41);
  BattleData__createCommandCard(this, v42);
  BattleData__shuffleCommand(this, v43);
  BattleData__loadMasterSkill(this, v44);
  if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
  }
  ServantAssetLoadManager__preloadCommandSpellAnyVoice(0LL);
  BattleData__loadBoostSkill(this, v45);
  BattleData__SetUsedTurn(this, v46);
  v47 = (System_Collections_Generic_HashSet_int__o *)sub_B2C42C(System_Collections_Generic_HashSet_int__TypeInfo);
  System_Collections_Generic_HashSet_int____ctor(
    v47,
    (const MethodInfo_2D85080 *)Method_System_Collections_Generic_HashSet_int___ctor___67287824);
  this->fields.calledEnemyUniqueIdHash = v47;
  *(__n128 *)&v48 = sub_B2C2F8(&this->fields.calledEnemyUniqueIdHash, v47);
  Instance = this->fields.battleAtkManager;
  if ( !Instance )
LABEL_46:
    sub_B2C434(Instance, v17);
  (*(void (__fastcall **)(void *, BattleData_o *, _QWORD, long double))(*(_QWORD *)Instance + 488LL))(
    Instance,
    this,
    *(_QWORD *)(*(_QWORD *)Instance + 496LL),
    v48);
}


bool __fastcall BattleData__isAiTarget(
        BattleData_o *this,
        ConditionsInformation_CheckInfo_o *info,
        System_Int64_array *indiv,
        AiBaseEntity_o *aiBaseEnt,
        const MethodInfo *method)
{
  return 1;
}


bool __fastcall BattleData__isAliveEntriesByForcedFlag(
        BattleData_o *this,
        System_Int32_array *entryIdArray,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData___c_c *v9; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Func_int__bool__o *_9__633_0; // x21
  Il2CppObject *v12; // x22
  struct BattleData___c_StaticFields *v13; // x0
  BattleServantData_o *ServantData; // x0
  __int64 v15; // x1
  const MethodInfo *v16; // x2
  __int64 v17; // x8
  char v18; // w21
  unsigned __int64 v19; // x23
  BattleServantData_o *v20; // x22
  __int64 v22; // x0

  if ( (byte_418438C & 1) == 0 )
  {
    sub_B2C35C(&Method_BasicHelper_Any_int____67380496, entryIdArray);
    sub_B2C35C(&Method_System_Func_int__bool___ctor__, v5);
    sub_B2C35C(&System_Func_int__bool__TypeInfo, v6);
    sub_B2C35C(&Method_BattleData___c__isAliveEntriesByForcedFlag_b__633_0__, v7);
    sub_B2C35C(&BattleData___c_TypeInfo, v8);
    byte_418438C = 1;
  }
  v9 = BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    v9 = BattleData___c_TypeInfo;
  }
  static_fields = v9->static_fields;
  _9__633_0 = static_fields->__9__633_0;
  if ( !_9__633_0 )
  {
    if ( (BYTE3(v9->vtable._0_Equals.methodPtr) & 4) != 0 && !v9->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v9);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v12 = (Il2CppObject *)static_fields->__9;
    _9__633_0 = (System_Func_int__bool__o *)sub_B2C42C(System_Func_int__bool__TypeInfo);
    System_Func_int__bool____ctor(
      _9__633_0,
      v12,
      Method_BattleData___c__isAliveEntriesByForcedFlag_b__633_0__,
      (const MethodInfo_270C930 *)Method_System_Func_int__bool___ctor__);
    v13 = BattleData___c_TypeInfo->static_fields;
    v13->__9__633_0 = _9__633_0;
    sub_B2C2F8(&v13->__9__633_0, _9__633_0);
  }
  ServantData = (BattleServantData_o *)BasicHelper__Any_int__24273940(
                                         entryIdArray,
                                         (System_Func_T__bool__o *)_9__633_0,
                                         (const MethodInfo_1726414 *)Method_BasicHelper_Any_int____67380496);
  if ( !entryIdArray )
    sub_B2C434(ServantData, v15);
  v17 = *(_QWORD *)&entryIdArray->max_length;
  v18 = (char)ServantData;
  if ( (int)v17 >= 1 )
  {
    v19 = 0LL;
    while ( 1 )
    {
      if ( v19 >= (unsigned int)v17 )
      {
        v22 = sub_B2C460(ServantData);
        sub_B2C400(v22, 0LL);
      }
      ServantData = BattleData__getServantData(this, entryIdArray->m_Items[v19 + 1], v16);
      if ( ServantData )
      {
        v20 = ServantData;
        ServantData = (BattleServantData_o *)((__int64 (__fastcall *)(BattleServantData_o *, Il2CppMethodPointer))ServantData->klass->vtable._9_get_hp.method)(
                                               ServantData,
                                               ServantData->klass->vtable._10_set_hp.methodPtr);
        if ( (int)ServantData > 0 || !v20->fields.isSystemAlive )
          break;
      }
      LODWORD(v17) = entryIdArray->max_length;
      if ( (__int64)++v19 >= (int)v17 )
        return v18 & 1;
    }
    v18 = 0;
  }
  return v18 & 1;
}


bool __fastcall BattleData__isBattleFinishCameraTargetAll(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__isBattleFinishCameraTargetAll(questphase_ent, 0LL);
}


bool __fastcall BattleData__isBattleFinishMovie(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetBattleFinishMovie(questphase_ent, 0LL) != 0LL;
}


bool __fastcall BattleData__isBattleResultLoseQuestClear(BattleData_o *this, const MethodInfo *method)
{
  QuestEntity_o *quest_ent; // x0

  quest_ent = this->fields.quest_ent;
  if ( !quest_ent )
    sub_B2C434(0LL, method);
  return QuestEntity__HasFlag(quest_ent, 0x80000000000LL, 0LL);
}


bool __fastcall BattleData__isBattleRetreatQuestClear(BattleData_o *this, const MethodInfo *method)
{
  QuestEntity_o *quest_ent; // x0

  quest_ent = this->fields.quest_ent;
  if ( !quest_ent )
    sub_B2C434(0LL, method);
  return QuestEntity__HasFlag(quest_ent, 0x40000000000LL, 0LL);
}


bool __fastcall BattleData__isBattleTurnRequest(BattleData_o *this, const MethodInfo *method)
{
  QuestEntity_o *quest_ent; // x0
  const MethodInfo *v4; // x1

  quest_ent = this->fields.quest_ent;
  if ( !quest_ent )
    sub_B2C434(0LL, method);
  return QuestEntity__HasFlag(quest_ent, 8LL, 0LL) && BattleData__isRaidBattle(this, v4);
}


bool __fastcall BattleData__isBreakOnBattleWin(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__isBreakOnBattleWin(questphase_ent, 0LL);
}


bool __fastcall BattleData__isBreakOnBattleWinAndWait(BattleData_o *this, float *waitTime, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0
  int32_t BreakOnBattleWinWaitMSec; // w0
  float v6; // s1
  bool result; // w0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, waitTime);
  BreakOnBattleWinWaitMSec = QuestPhaseEntity__getBreakOnBattleWinWaitMSec(questphase_ent, 0LL);
  v6 = (float)BreakOnBattleWinWaitMSec;
  result = BreakOnBattleWinWaitMSec > 0;
  *waitTime = v6 / 1000.0;
  return result;
}


bool __fastcall BattleData__isBreakOnBattleWinFadeColorBalck(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__isBreakOnBattleWinFadeColorBlack(questphase_ent, 0LL);
}


bool __fastcall BattleData__isDeadLeader(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.leaderDown;
}


bool __fastcall BattleData__isDisableChangeRaidDownMessage(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__isDisableChangeRaidDownMessage(questphase_ent, 0LL);
}


bool __fastcall BattleData__isDispLoseResult(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__isDispLoseResult(questphase_ent, 0LL);
}


bool __fastcall BattleData__isDoNotSelectCommandServantCommandInCommandList(
        BattleData_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  System_Collections_Generic_List_int__o *v7; // x20
  BattleServantData_o *ServantData; // x0
  __int64 v9; // x1
  struct BattleCommandData_array *draw_commandlist; // x24
  int max_length; // w8
  unsigned int v12; // w25
  BattleCommandData_o *v13; // x21
  const MethodInfo *v14; // x2
  BattleServantData_o *v15; // x23
  BattleBuffData_o *buffData; // x21
  BattleBuffData_CheckIndividualitiesData_o *v17; // x22
  __int64 v19; // x0

  if ( (byte_418439C & 1) == 0 )
  {
    sub_B2C35C(&BattleBuffData_CheckIndividualitiesData_TypeInfo, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Add__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor__, v5);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v6);
    byte_418439C = 1;
  }
  v7 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
  System_Collections_Generic_List_int____ctor(
    v7,
    (const MethodInfo_2F6629C *)Method_System_Collections_Generic_List_int___ctor__);
  draw_commandlist = this->fields.draw_commandlist;
  if ( !draw_commandlist )
LABEL_17:
    sub_B2C434(ServantData, v9);
  max_length = draw_commandlist->max_length;
  if ( max_length < 1 )
    return 0;
  v12 = 0;
  while ( 1 )
  {
    if ( v12 >= max_length )
    {
      v19 = sub_B2C460(ServantData);
      sub_B2C400(v19, 0LL);
    }
    v13 = draw_commandlist->m_Items[v12];
    if ( !v13 || !v7 )
      goto LABEL_17;
    ServantData = (BattleServantData_o *)System_Collections_Generic_List_int___Contains(
                                           v7,
                                           v13->fields.uniqueId,
                                           (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__);
    if ( ((unsigned __int8)ServantData & 1) == 0 )
    {
      System_Collections_Generic_List_int___Add(
        v7,
        v13->fields.uniqueId,
        (const MethodInfo_2F66FF8 *)Method_System_Collections_Generic_List_int__Add__);
      ServantData = BattleData__getServantData(this, v13->fields.uniqueId, v14);
      if ( ServantData )
      {
        v15 = ServantData;
        buffData = ServantData->fields.buffData;
        v17 = (BattleBuffData_CheckIndividualitiesData_o *)sub_B2C42C(BattleBuffData_CheckIndividualitiesData_TypeInfo);
        BattleBuffData_CheckIndividualitiesData___ctor(v17, v15, 0LL, 0LL, 0LL, 0LL, 0LL);
        if ( !buffData )
          goto LABEL_17;
        ServantData = (BattleServantData_o *)BattleBuffData__getBuffList_30942396(buffData, 83, v17, 1, 0, 0LL, 0LL);
        if ( !ServantData )
          goto LABEL_17;
        if ( *(_QWORD *)&ServantData->fields.uniqueId )
          return 1;
      }
    }
    max_length = draw_commandlist->max_length;
    if ( (int)++v12 >= max_length )
      return 0;
  }
}


bool __fastcall BattleData__isEndBattle(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.endbattleFlg;
}


bool __fastcall BattleData__isEnemyID(BattleData_o *this, int32_t Id, const MethodInfo *method)
{
  return BattleData__getEnemyServantData(this, Id, method) != 0LL;
}


bool __fastcall BattleData__isEventActivityPoint(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  struct BattleEntity_o *battle_ent; // x8
  int32_t eventId; // w19
  WarEntity_o *entity; // [xsp+8h] [xbp-18h] BYREF

  v2 = this;
  if ( (byte_41842E0 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_EventDetailMaster___, method);
    sub_B2C35C(&Method_DataMasterBase_EventDetailMaster__EventDetailEntity__int__TryGetEntity__, v3);
    this = (BattleData_o *)sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v4);
    byte_41842E0 = 1;
  }
  entity = 0LL;
  battle_ent = v2->fields.battle_ent;
  if ( !battle_ent )
    goto LABEL_12;
  eventId = battle_ent->fields.eventId;
  this = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !this )
    goto LABEL_12;
  this = (BattleData_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                           (DataManager_o *)this,
                           (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EventDetailMaster___);
  entity = 0LL;
  if ( !this )
    goto LABEL_12;
  if ( !DataMasterBase_WarMaster__WarEntity__int___TryGetEntity(
          (DataMasterBase_WarMaster__WarEntity__int__o *)this,
          &entity,
          eventId,
          (const MethodInfo_24E412C *)Method_DataMasterBase_EventDetailMaster__EventDetailEntity__int__TryGetEntity__) )
    return 0;
  this = (BattleData_o *)entity;
  if ( !entity )
LABEL_12:
    sub_B2C434(this, method);
  return EventDetailEntity__IsEventActivityPoint((EventDetailEntity_o *)entity, 0LL);
}


bool __fastcall BattleData__isFadeOutBgmBeforeMovie(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__isFadeOutBgmBeforeMovie(questphase_ent, 0LL);
}


bool __fastcall BattleData__isFirstStage(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.wavecount == 0;
}


bool __fastcall BattleData__isKnockdownTrialQuest(BattleData_o *this, const MethodInfo *method)
{
  QuestEntity_o *quest_ent; // x0

  quest_ent = this->fields.quest_ent;
  if ( !quest_ent )
    sub_B2C434(0LL, method);
  return QuestEntity__HasFlag(quest_ent, 0x2000000000LL, 0LL);
}


bool __fastcall BattleData__isLastStage(BattleData_o *this, const MethodInfo *method)
{
  BattleInfoData_o *battle_info; // x0

  battle_info = this->fields.battle_info;
  if ( !battle_info )
    sub_B2C434(0LL, method);
  return BattleInfoData__isLastStage(battle_info, this->fields.wavecount, 0LL);
}


bool __fastcall BattleData__isLimitTurn(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.limitTurnCount > 0;
}


bool __fastcall BattleData__isLoseBattle(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.loseBattleFlg;
}


bool __fastcall BattleData__isMoviePlay(BattleData_o *this, const MethodInfo *method)
{
  const MethodInfo *v3; // x1

  return BattleData__isBattleFinishMovie(this, method) || BattleData__isWaveStartMovie(this, v3);
}


bool __fastcall BattleData__isNgContinue(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  QuestEntity_o *quest_ent; // x0
  struct QuestPhaseEntity_o *questphase_ent; // x8

  if ( (byte_418438A & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_QuestBehaviorMaster___, method);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v3);
    byte_418438A = 1;
  }
  quest_ent = this->fields.quest_ent;
  if ( !quest_ent )
    goto LABEL_12;
  if ( !QuestEntity__HasFlag(quest_ent, 16LL, 0LL) )
    return 0;
  quest_ent = (QuestEntity_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !quest_ent )
    goto LABEL_12;
  quest_ent = (QuestEntity_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                 (DataManager_o *)quest_ent,
                                 (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_QuestBehaviorMaster___);
  if ( !quest_ent )
    return 1;
  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
LABEL_12:
    sub_B2C434(quest_ent, method);
  return !QuestBehaviorMaster__getEnableContinue(
            (QuestBehaviorMaster_o *)quest_ent,
            questphase_ent->fields.questId,
            questphase_ent->fields.phase,
            0LL);
}


bool __fastcall BattleData__isNoResult(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__isNoResult(questphase_ent, 0LL);
}


bool __fastcall BattleData__isPlayerID(BattleData_o *this, int32_t Id, const MethodInfo *method)
{
  return Id == -1 || BattleData__getPlayerServantData(this, Id, method) != 0LL;
}


bool __fastcall BattleData__isPrevAttackMe(
        BattleData_o *this,
        int32_t actId,
        int32_t targetId,
        const MethodInfo *method)
{
  return this->fields.prevactId == actId && this->fields.prevtargetId == targetId;
}


bool __fastcall BattleData__isProgressAfterMovie(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetProgressAfterMovie(questphase_ent, 0LL) != 0;
}


bool __fastcall BattleData__isRaidBattle(BattleData_o *this, const MethodInfo *method)
{
  BattleServantData_array *EnemyServantList; // x0
  __int64 v3; // x1
  int max_length; // w8
  unsigned int v5; // w9
  BattleServantData_o *v6; // x10
  __int64 v8; // x0

  EnemyServantList = BattleData__getEnemyServantList(this, method);
  if ( !EnemyServantList )
LABEL_12:
    sub_B2C434(EnemyServantList, v3);
  max_length = EnemyServantList->max_length;
  if ( max_length < 1 )
    return 0;
  v5 = 0;
  while ( 1 )
  {
    if ( v5 >= max_length )
    {
      v8 = sub_B2C460(EnemyServantList);
      sub_B2C400(v8, 0LL);
    }
    v6 = EnemyServantList->m_Items[v5];
    if ( !v6 )
      goto LABEL_12;
    if ( v6->fields.isRaid )
      return 1;
    if ( (int)++v5 >= max_length )
      return 0;
  }
}


bool __fastcall BattleData__isRaidConnection(BattleData_o *this, const MethodInfo *method)
{
  QuestEntity_o *quest_ent; // x0

  quest_ent = this->fields.quest_ent;
  if ( !quest_ent )
    sub_B2C434(0LL, method);
  return QuestEntity__HasFlag(quest_ent, 8LL, 0LL);
}


bool __fastcall BattleData__isRaidLastDay(BattleData_o *this, const MethodInfo *method)
{
  QuestEntity_o *quest_ent; // x0

  quest_ent = this->fields.quest_ent;
  if ( !quest_ent )
    sub_B2C434(0LL, method);
  return QuestEntity__HasFlag(quest_ent, 64LL, 0LL);
}


bool __fastcall BattleData__isReserveResumeBattle(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1

  if ( (byte_4184362 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_11082/*"RESERVE_BATTKE_SAVEKEY"*/, v2);
    byte_4184362 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( !EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_11082/*"RESERVE_BATTKE_SAVEKEY"*/, 0LL) )
    return 0;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__GetInt((System_String_o *)StringLiteral_11082/*"RESERVE_BATTKE_SAVEKEY"*/, 0LL) != 0;
}


bool __fastcall BattleData__isResultWin(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.win_lose == 1;
}


bool __fastcall BattleData__isResumeBattle(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.flg_resumebattle;
}


bool __fastcall BattleData__isShowTurn(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.stateshowturn > 0;
}


bool __fastcall BattleData__isSkipDead(BattleData_o *this, BattleServantData_o *svtData, const MethodInfo *method)
{
  const MethodInfo *v5; // x2

  if ( !svtData )
    sub_B2C434(this, 0LL);
  if ( !svtData->fields.isEnemy
    || BattleServantData__IsNoSkipDead(svtData, 0LL)
    || BattleServantData__IsNoAutoSkipDead(svtData, 0LL)
    || BattleData__IsNoSkipDeadFirst(this, svtData, v5) )
  {
    return 0;
  }
  if ( this->fields.systemflg_skipDeadtemp )
    return 1;
  return this->fields.systemflg_skipDead;
}


bool __fastcall BattleData__isSuperBossBattle(BattleData_o *this, const MethodInfo *method)
{
  BattleServantData_array *EnemyServantList; // x0
  __int64 v3; // x1
  int max_length; // w8
  unsigned int v5; // w9
  BattleServantData_o *v6; // x10
  __int64 v8; // x0

  EnemyServantList = BattleData__getEnemyServantList(this, method);
  if ( !EnemyServantList )
LABEL_12:
    sub_B2C434(EnemyServantList, v3);
  max_length = EnemyServantList->max_length;
  if ( max_length < 1 )
    return 0;
  v5 = 0;
  while ( 1 )
  {
    if ( v5 >= max_length )
    {
      v8 = sub_B2C460(EnemyServantList);
      sub_B2C400(v8, 0LL);
    }
    v6 = EnemyServantList->m_Items[v5];
    if ( !v6 )
      goto LABEL_12;
    if ( v6->fields.isSuperBoss )
      return 1;
    if ( (int)++v5 >= max_length )
      return 0;
  }
}


bool __fastcall BattleData__isSuperBossDown(BattleData_o *this, const MethodInfo *method)
{
  BattleInfoData_o *EnemyServantList; // x0
  __int64 v4; // x1
  int appVer; // w8
  BattleInfoData_o *v6; // x20
  unsigned int v7; // w23
  BattleServantData_o *v8; // x21
  struct BattleData_o *data; // x8
  int64_t SuperBossNokoriHp; // x22
  __int64 v12; // x0

  EnemyServantList = (BattleInfoData_o *)BattleData__getEnemyServantList(this, method);
  if ( !EnemyServantList )
LABEL_13:
    sub_B2C434(EnemyServantList, v4);
  appVer = (int)EnemyServantList->fields.appVer;
  v6 = EnemyServantList;
  if ( appVer < 1 )
    return 0;
  v7 = 0;
  while ( 1 )
  {
    if ( v7 >= appVer )
    {
      v12 = sub_B2C460(EnemyServantList);
      sub_B2C400(v12, 0LL);
    }
    v8 = (BattleServantData_o *)*((_QWORD *)&v6->fields.targetUserSvtId + (int)v7);
    if ( !v8 )
      goto LABEL_13;
    if ( v8->fields.isSuperBoss )
    {
      data = this->fields.data;
      if ( !data )
        goto LABEL_13;
      EnemyServantList = data->fields.battle_info;
      if ( !EnemyServantList )
        goto LABEL_13;
      SuperBossNokoriHp = BattleInfoData__getSuperBossNokoriHp(EnemyServantList, v8->fields.superBossId, 0LL);
      EnemyServantList = (BattleInfoData_o *)BattleServantData__getMaxHp(v8, 0LL);
      if ( SuperBossNokoriHp <= (int)EnemyServantList )
        return BattleServantData__getNowHp(v8, 0LL) < 1;
    }
    appVer = (int)v6->fields.appVer;
    if ( (int)++v7 >= appVer )
      return 0;
  }
}


bool __fastcall BattleData__isTargetLock(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  struct System_Collections_Generic_List_int__o *lockTargetIdList; // x8

  v2 = this;
  if ( (byte_4184391 & 1) == 0 )
  {
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_int__get_Count__, method);
    byte_4184391 = 1;
  }
  lockTargetIdList = v2->fields.lockTargetIdList;
  if ( !lockTargetIdList )
    sub_B2C434(this, method);
  return lockTargetIdList->fields._size > 0;
}


bool __fastcall BattleData__isTurnSituationType(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__isTurnSituationType(questphase_ent, 0LL);
}


bool __fastcall BattleData__isTutorial(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.tutorialId != -1;
}


bool __fastcall BattleData__isTutorialCard(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.tutorialId != -1 && this->fields.tutorialId != 4;
}


bool __fastcall BattleData__isTutorialSelectsvtCancel(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.tutorialId == 2;
}


bool __fastcall BattleData__isTutorialclickTarget(BattleData_o *this, const MethodInfo *method)
{
  int32_t tutorialId; // w8
  struct BattleData_o *data; // x8

  tutorialId = this->fields.tutorialId;
  if ( (unsigned int)(tutorialId - 1) < 2 )
    return 1;
  if ( tutorialId != 3 || this->fields.wavecount != 1 || this->fields.turnCount != 1 )
    return 0;
  data = this->fields.data;
  if ( !data )
    sub_B2C434(this, method);
  return data->fields.tutorialState == 1;
}


bool __fastcall BattleData__isValidViewStarMax(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.totalCriticalStars + this->fields.addCriticalstars - 50 > 49;
}


bool __fastcall BattleData__isWaveStartMovie(BattleData_o *this, const MethodInfo *method)
{
  QuestPhaseEntity_o *questphase_ent; // x0

  questphase_ent = this->fields.questphase_ent;
  if ( !questphase_ent )
    sub_B2C434(0LL, method);
  return QuestPhaseEntity__GetWaveStartMovie(questphase_ent, 0LL) != 0LL;
}


bool __fastcall BattleData__isWinBattleNotRelatedSurvivalStatus(BattleData_o *this, const MethodInfo *method)
{
  return this->fields.winBattleNotRelatedSurvivalStatus;
}


void __fastcall BattleData__loadBoostSkill(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x20
  __int64 v8; // x20
  void *MasterData_WarQuestSelectionMaster; // x0
  DataMasterBase_WarMaster__WarEntity__int__o *v10; // x20
  const MethodInfo *v11; // x2
  int v12; // w8
  void *v13; // x21
  int32_t v14; // w25
  BattleBoostItem_o *v15; // x23
  BattleBoostItemInfoData_o *v16; // x22
  BattleBoostItemInfoData_c *klass; // x8
  unsigned int skillId; // w24
  struct ItemEntity_o *item; // x1
  WarEntity_o *Entity; // x0
  SkillEntity_o *v21; // x23
  bool isPassive; // w0
  __int64 v23; // x0

  if ( (byte_418430C & 1) == 0 )
  {
    sub_B2C35C(&BattleBoostItemInfoData_TypeInfo, method);
    sub_B2C35C(&Method_DataManager_GetMasterData_SkillMaster___, v3);
    sub_B2C35C(&Method_DataMasterBase_SkillMaster__SkillEntity__int__GetEntity__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleBoostItemInfoData__Add__, v5);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__getInstance__, v6);
    byte_418430C = 1;
  }
  v7 = *((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3);
  if ( (*(_BYTE *)(v7 + 306) & 1) == 0 )
    sub_AC505C(*((_QWORD *)Method_SingletonMonoBehaviour_DataManager__getInstance__ + 3));
  v8 = **(_QWORD **)(v7 + 192);
  if ( (*(_BYTE *)(v8 + 306) & 1) == 0 )
    sub_AC505C(v8);
  MasterData_WarQuestSelectionMaster = **(void ***)(v8 + 184);
  if ( !MasterData_WarQuestSelectionMaster
    || (MasterData_WarQuestSelectionMaster = DataManager__GetMasterData_WarQuestSelectionMaster_(
                                               (DataManager_o *)MasterData_WarQuestSelectionMaster,
                                               (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_SkillMaster___),
        !this->fields.battle_info)
    || (v10 = (DataMasterBase_WarMaster__WarEntity__int__o *)MasterData_WarQuestSelectionMaster,
        (MasterData_WarQuestSelectionMaster = BattleInfoData__getBattleBoostItemList(
                                                this->fields.battle_info,
                                                this->fields.flg_resumebattle,
                                                0LL)) == 0LL) )
  {
LABEL_27:
    sub_B2C434(MasterData_WarQuestSelectionMaster, method);
  }
  v12 = *((_DWORD *)MasterData_WarQuestSelectionMaster + 6);
  v13 = MasterData_WarQuestSelectionMaster;
  if ( v12 >= 1 )
  {
    v14 = 0;
    while ( 1 )
    {
      if ( v14 >= (unsigned int)v12 )
      {
        v23 = sub_B2C460(MasterData_WarQuestSelectionMaster);
        sub_B2C400(v23, 0LL);
      }
      v15 = (BattleBoostItem_o *)*((_QWORD *)v13 + v14 + 4);
      v16 = (BattleBoostItemInfoData_o *)sub_B2C42C(BattleBoostItemInfoData_TypeInfo);
      BattleBoostItemInfoData___ctor(v16, 0LL);
      if ( !v15 )
        goto LABEL_27;
      if ( !v16 )
        goto LABEL_27;
      klass = v16->klass;
      skillId = v15->fields.skillId;
      v16->fields.isPassive = 1;
      v16->fields.index = v14;
      v16->fields.svtUniqueId = -1;
      v16->fields.type = 21;
      ((void (__fastcall *)(BattleBoostItemInfoData_o *, _QWORD, Il2CppMethodPointer))klass->vtable._4_set_skillId.method)(
        v16,
        skillId,
        klass->vtable._5_get_skillId.methodPtr);
      v16->fields.skilllv = 1;
      MasterData_WarQuestSelectionMaster = this->fields.battle_info;
      if ( !MasterData_WarQuestSelectionMaster )
        goto LABEL_27;
      v16->fields.itemImageId = BattleInfoData__getBoostItemImageId(
                                  (BattleInfoData_o *)MasterData_WarQuestSelectionMaster,
                                  v16->fields.index,
                                  this->fields.flg_resumebattle,
                                  0LL);
      if ( BattleBoostItem__checkEffectTiming(v15, 1, 0LL) )
        v16->fields.effectTiming = 1;
      item = v15->fields.item;
      v16->fields.boostItemEntity = item;
      sub_B2C2F8(&v16->fields.boostItemEntity, item);
      if ( !v10 )
        goto LABEL_27;
      Entity = DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                 v10,
                 skillId,
                 (const MethodInfo_24E40D0 *)Method_DataMasterBase_SkillMaster__SkillEntity__int__GetEntity__);
      if ( !Entity )
        break;
      v21 = (SkillEntity_o *)Entity;
      MasterData_WarQuestSelectionMaster = (void *)BattleData__IsFriendChocolateQuest(this, method);
      if ( ((unsigned __int8)MasterData_WarQuestSelectionMaster & 1) == 0 )
      {
        v16->fields.isUseSkill = 1;
        isPassive = SkillEntity__isPassive(v21, 0LL);
        v16->fields.chargeTurn = 0;
        v16->fields.isPassive = isPassive;
        v16->fields.sealedTurn = 0;
LABEL_23:
        MasterData_WarQuestSelectionMaster = this->fields.boostSkillInfo;
        if ( !MasterData_WarQuestSelectionMaster )
          goto LABEL_27;
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)MasterData_WarQuestSelectionMaster,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v16,
          (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleBoostItemInfoData__Add__);
      }
      v12 = *((_DWORD *)v13 + 6);
      if ( ++v14 >= v12 )
        goto LABEL_26;
    }
    v16->fields.isUseSkill = 0;
    goto LABEL_23;
  }
LABEL_26:
  BattleData__SetBoostInfo(this, (SkillMaster_o *)v10, v11);
}


int32_t __fastcall BattleData__loadContinueCount(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1

  if ( (byte_418435F & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v1);
    sub_B2C35C(&StringLiteral_3362/*"CONTINUECOUNT"*/, v2);
    byte_418435F = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  return EncryptedPlayerPrefs__GetInt((System_String_o *)StringLiteral_3362/*"CONTINUECOUNT"*/, 0LL);
}


void __fastcall BattleData__loadCriticalstarts(BattleData_o *this, const MethodInfo *method)
{
  int32_t totalCriticalStars; // w8

  totalCriticalStars = this->fields.totalCriticalStars;
  if ( (totalCriticalStars & 0x80000000) == 0 )
    this->fields.criticalstars = totalCriticalStars;
}


void __fastcall BattleData__loadFsmGameObject(BattleData_o *this, const MethodInfo *method)
{
  PlayMakerFSM_o *fsm; // x0
  struct BattlePerformance_o *perf; // x8
  HutongGames_PlayMaker_FsmGameObject_o *v5; // x19

  if ( (byte_41842ED & 1) == 0 )
  {
    sub_B2C35C(&StringLiteral_3477/*"CameraFSM"*/, method);
    byte_41842ED = 1;
  }
  fsm = this->fields.fsm;
  if ( !fsm
    || (fsm = (PlayMakerFSM_o *)PlayMakerFSM__get_Fsm(fsm, 0LL)) == 0LL
    || (fsm = (PlayMakerFSM_o *)HutongGames_PlayMaker_Fsm__GetFsmGameObject(
                                  (HutongGames_PlayMaker_Fsm_o *)fsm,
                                  (System_String_o *)StringLiteral_3477/*"CameraFSM"*/,
                                  0LL),
        (perf = this->fields.perf) == 0LL)
    || (v5 = (HutongGames_PlayMaker_FsmGameObject_o *)fsm, (fsm = perf->fields.camerafsm) == 0LL)
    || (fsm = (PlayMakerFSM_o *)UnityEngine_Component__get_gameObject((UnityEngine_Component_o *)fsm, 0LL), !v5) )
  {
    sub_B2C434(fsm, method);
  }
  HutongGames_PlayMaker_FsmGameObject__set_Value(v5, (UnityEngine_GameObject_o *)fsm, 0LL);
}


void __fastcall BattleData__loadHighSpeedMode(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  BattleData_c *v4; // x0
  System_String_o *speedKey; // x20
  BattleData_c *v6; // x0
  System_String_o *v7; // x20

  if ( (byte_418434C & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    byte_418434C = 1;
  }
  this->fields.systemflg_acceleration = 1;
  v4 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v4 = BattleData_TypeInfo;
  }
  speedKey = v4->static_fields->speedKey;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( EncryptedPlayerPrefs__HasKey(speedKey, 0LL) )
  {
    v6 = BattleData_TypeInfo;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
      v6 = BattleData_TypeInfo;
    }
    v7 = v6->static_fields->speedKey;
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    if ( EncryptedPlayerPrefs__GetInt(v7, 0LL) == 2 )
      this->fields.systemflg_acceleration = 2;
  }
}


void __fastcall BattleData__loadMasterSkill(BattleData_o *this, const MethodInfo *method)
{
  _DWORD *v2; // x28
  BattleData_o *v3; // x20
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  __int64 v31; // x1
  __int64 v32; // x1
  __int64 v33; // x1
  __int64 v34; // x1
  __int64 v35; // x1
  __int64 v36; // x1
  __int64 v37; // x1
  __int64 v38; // x1
  __int64 v39; // x1
  __int64 v40; // x1
  __int64 v41; // x1
  __int64 v42; // x1
  __int64 v43; // x1
  __int64 v44; // x1
  struct BattleInfoData_o *battle_info; // x8
  int64_t userEquipId; // x19
  _DWORD *v47; // x20
  System_Int32_array *v48; // x23
  System_Int32_array *v49; // x22
  System_Collections_Generic_IEnumerable_T__o *v50; // x21
  unsigned __int64 v51; // x19
  System_Collections_Generic_Dictionary_string__object__o *OverwriteEquipSkills; // x0
  const MethodInfo *v53; // x4
  System_Xml_Schema_XmlSchemaObject_o *v54; // x19
  __int64 v55; // x8
  __int64 v56; // x9
  int sourceUri; // w8
  il2cpp_array_size_t v58; // w26
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *v59; // x24
  __int64 v60; // x9
  BattleData_o *v61; // x24
  int32_t v62; // w8
  System_Collections_Generic_Dictionary_string__object__o *AddEquipSkills; // x0
  __int64 v64; // x8
  __int64 v65; // x9
  unsigned int v66; // w19
  __int64 v67; // x25
  __int64 v68; // x24
  __int64 v69; // x27
  __int64 v70; // x9
  struct System_Int32_array *addIdxs; // x8
  struct System_Int32_array *v72; // x9
  System_Collections_Generic_List_int__o *v73; // x28
  System_Collections_Generic_List_int__o *v74; // x24
  System_Collections_Generic_List_int__o *v75; // x19
  System_Collections_Generic_List_bool__o *v76; // x26
  System_Collections_Generic_IEnumerable_TSource__o *v77; // x0
  System_Int32_array *v78; // x23
  System_Comparison_int__o *v79; // x21
  System_Collections_Generic_IEnumerable_TSource__o *v80; // x21
  BattleData___c_c *v81; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Func_int__int__o *_9__345_1; // x22
  System_Int32_array *v84; // x20
  Il2CppObject *v85; // x23
  struct BattleData___c_StaticFields *v86; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v87; // x0
  __int64 v88; // x21
  __int64 v89; // x20
  const MethodInfo *v90; // x7
  System_Collections_Generic_Dictionary_int__int__o *v91; // x19
  int v92; // w24
  __int64 v93; // x8
  unsigned __int64 v94; // x19
  char *v95; // x25
  __int64 v96; // x0
  BattleData_o *v97; // x0
  System_Int32_array **v98; // x1
  System_Int32_array **v99; // x2
  int32_t *v100; // x3
  const MethodInfo *v101; // x4
  BattleData___c__DisplayClass345_0_o *object; // [xsp+8h] [xbp-118h]
  __int64 v103; // [xsp+10h] [xbp-110h]
  __int64 v104; // [xsp+20h] [xbp-100h]
  BattleData___c__DisplayClass345_0_Fields *p_fields; // [xsp+28h] [xbp-F8h]
  __int64 v106; // [xsp+30h] [xbp-F0h]
  int count; // [xsp+44h] [xbp-DCh]
  BattleData_o *v108; // [xsp+48h] [xbp-D8h]
  System_Xml_Schema_XmlSchemaObject_o *v109; // [xsp+50h] [xbp-D0h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *v110; // [xsp+58h] [xbp-C8h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *v111; // [xsp+60h] [xbp-C0h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *v112; // [xsp+68h] [xbp-B8h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *v113; // [xsp+70h] [xbp-B0h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *v114; // [xsp+78h] [xbp-A8h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *v115; // [xsp+80h] [xbp-A0h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *v116; // [xsp+88h] [xbp-98h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *v117; // [xsp+90h] [xbp-90h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *v118; // [xsp+98h] [xbp-88h] BYREF
  System_Xml_Schema_XmlSchemaObject_o *value; // [xsp+A0h] [xbp-80h] BYREF
  int32_t masterIconId; // [xsp+ACh] [xbp-74h] BYREF
  System_Int32_array *skillLvs; // [xsp+B0h] [xbp-70h] BYREF
  System_Int32_array *skillIds; // [xsp+B8h] [xbp-68h] BYREF
  UserServantEntity_o *entity; // [xsp+C0h] [xbp-60h] BYREF

  v3 = this;
  if ( (byte_4184309 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Array_Sort_int____67376040, method);
    sub_B2C35C(&bool___TypeInfo, v4);
    sub_B2C35C(&Method_System_Comparison_int___ctor__, v5);
    sub_B2C35C(&System_Comparison_int__TypeInfo, v6);
    sub_B2C35C(&Method_DataManager_GetMasterData_UserEquipMaster___, v7);
    sub_B2C35C(&Method_DataMasterBase_UserEquipMaster__UserEquipEntity__long__TryGetEntity__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__Add__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int___ctor__, v12);
    sub_B2C35C(&System_Collections_Generic_Dictionary_int__int__TypeInfo, v13);
    sub_B2C35C(&System_Collections_Generic_Dictionary_string__object__TypeInfo, v14);
    sub_B2C35C(&Method_System_Linq_Enumerable_OrderBy_int__int___, v15);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_int___, v16);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToList_int___, v17);
    sub_B2C35C(&Method_System_Func_int__int___ctor__, v18);
    sub_B2C35C(&System_Func_int__int__TypeInfo, v19);
    sub_B2C35C(&int___TypeInfo, v20);
    sub_B2C35C(&long_TypeInfo, v21);
    sub_B2C35C(&Method_System_Collections_Generic_List_bool__Insert__, v22);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Insert__, v23);
    sub_B2C35C(&Method_System_Collections_Generic_List_bool__ToArray__, v24);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__ToArray__, v25);
    sub_B2C35C(&Method_System_Collections_Generic_List_bool___ctor__, v26);
    sub_B2C35C(&Method_System_Collections_Generic_List_int___ctor___67311384, v27);
    sub_B2C35C(&Method_System_Collections_Generic_List_object__get_Count__, v28);
    sub_B2C35C(&Method_System_Collections_Generic_List_object__get_Item__, v29);
    sub_B2C35C(&System_Collections_Generic_List_int__TypeInfo, v30);
    sub_B2C35C(&System_Collections_Generic_List_object__TypeInfo, v31);
    sub_B2C35C(&System_Collections_Generic_List_bool__TypeInfo, v32);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v33);
    sub_B2C35C(&Method_BattleData___c__loadMasterSkill_b__345_1__, v34);
    sub_B2C35C(&Method_BattleData___c__DisplayClass345_0__loadMasterSkill_b__0__, v35);
    sub_B2C35C(&BattleData___c__DisplayClass345_0_TypeInfo, v36);
    sub_B2C35C(&BattleData___c_TypeInfo, v37);
    sub_B2C35C(&StringLiteral_19273/*"iconId"*/, v38);
    sub_B2C35C(&StringLiteral_17644/*"condId"*/, v39);
    sub_B2C35C(&StringLiteral_19381/*"id"*/, v40);
    sub_B2C35C(&StringLiteral_19393/*"idx"*/, v41);
    sub_B2C35C(&StringLiteral_22152/*"skills"*/, v42);
    sub_B2C35C(&StringLiteral_17844/*"cutInView"*/, v43);
    this = (BattleData_o *)sub_B2C35C(&StringLiteral_20333/*"lv"*/, v44);
    byte_4184309 = 1;
  }
  skillIds = 0LL;
  entity = 0LL;
  skillLvs = 0LL;
  masterIconId = 0;
  v118 = 0LL;
  value = 0LL;
  v116 = 0LL;
  v117 = 0LL;
  v114 = 0LL;
  v115 = 0LL;
  v112 = 0LL;
  v113 = 0LL;
  v110 = 0LL;
  v111 = 0LL;
  v109 = 0LL;
  battle_info = v3->fields.battle_info;
  if ( !battle_info )
    goto LABEL_149;
  userEquipId = battle_info->fields.userEquipId;
  this = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !this )
    goto LABEL_149;
  v108 = v3;
  this = (BattleData_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                           (DataManager_o *)this,
                           (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_UserEquipMaster___);
  if ( !this )
    goto LABEL_149;
  if ( DataMasterBase_UserServantStorageMaster__UserServantEntity__long___TryGetEntity(
         (DataMasterBase_UserServantStorageMaster__UserServantEntity__long__o *)this,
         &entity,
         userEquipId,
         (const MethodInfo_24E4354 *)Method_DataMasterBase_UserEquipMaster__UserEquipEntity__long__TryGetEntity__) )
  {
    this = (BattleData_o *)entity;
    if ( !entity )
      goto LABEL_149;
    this = (BattleData_o *)UserEquipEntity__getSkillIdList((UserEquipEntity_o *)entity, 0LL);
    if ( !this )
      goto LABEL_149;
    v47 = this;
    v48 = (System_Int32_array *)sub_B2C374(int___TypeInfo, LODWORD(this->fields.rootfsm));
    v49 = (System_Int32_array *)sub_B2C374(int___TypeInfo, (unsigned int)v47[6]);
    this = (BattleData_o *)sub_B2C374(bool___TypeInfo, (unsigned int)v47[6]);
    if ( !v48 )
      goto LABEL_149;
    v50 = (System_Collections_Generic_IEnumerable_T__o *)this;
    if ( (int)v48->max_length >= 1 )
    {
      v51 = 0LL;
      while ( 1 )
      {
        this = (BattleData_o *)entity;
        if ( !entity )
          break;
        this = (BattleData_o *)UserEquipEntity__getSkillLv((UserEquipEntity_o *)entity, v51, 0LL);
        if ( v51 >= v48->max_length )
          goto LABEL_150;
        v48->m_Items[v51 + 1] = (int)this;
        if ( !v49 )
          break;
        if ( v51 >= v49->max_length )
          goto LABEL_150;
        v49->m_Items[v51 + 1] = -1;
        if ( !v50 )
          break;
        if ( v51 >= LODWORD(v50[1].monitor) )
        {
LABEL_150:
          v96 = sub_B2C460(this);
          sub_B2C400(v96, 0LL);
        }
        *((_BYTE *)&v50[2].klass + v51++) = 0;
        if ( (__int64)v51 >= (int)v48->max_length )
          goto LABEL_19;
      }
LABEL_149:
      sub_B2C434(this, method);
    }
LABEL_19:
    this = (BattleData_o *)v108->fields.questphase_ent;
    v108->fields.masterSkillIconId = 0;
    v108->fields.isShowMasterSkillCutIn = 1;
    if ( !this )
      goto LABEL_149;
    OverwriteEquipSkills = QuestPhaseEntity__GetOverwriteEquipSkills((QuestPhaseEntity_o *)this, 0LL);
    if ( OverwriteEquipSkills )
    {
      v54 = (System_Xml_Schema_XmlSchemaObject_o *)OverwriteEquipSkills;
      if ( System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
             (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)OverwriteEquipSkills,
             (System_Xml_XmlQualifiedName_o *)StringLiteral_19273/*"iconId"*/,
             &value,
             (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__) )
      {
        this = (BattleData_o *)value;
        if ( !value )
          goto LABEL_149;
        if ( value->klass->_1.element_class != long_TypeInfo->_1.element_class )
          goto LABEL_152;
        v55 = *(_QWORD *)j_il2cpp_object_unbox_0(value);
        v108->fields.isShowMasterSkillCutIn = 0;
        v108->fields.masterSkillIconId = v55;
      }
      if ( System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
             (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)v54,
             (System_Xml_XmlQualifiedName_o *)StringLiteral_17844/*"cutInView"*/,
             &v118,
             (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__) )
      {
        this = (BattleData_o *)v118;
        if ( !v118 )
          goto LABEL_149;
        if ( v118->klass->_1.element_class != long_TypeInfo->_1.element_class )
          goto LABEL_152;
        v108->fields.isShowMasterSkillCutIn = *(_DWORD *)j_il2cpp_object_unbox_0(v118) == 1;
      }
      this = (BattleData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
                               (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)v54,
                               (System_Xml_XmlQualifiedName_o *)StringLiteral_22152/*"skills"*/,
                               &v117,
                               (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__);
      if ( ((unsigned __int8)this & 1) != 0 )
      {
        v54 = v117;
        if ( !v117 )
          goto LABEL_149;
        method = (const MethodInfo *)System_Collections_Generic_List_object__TypeInfo;
        v56 = *(&System_Collections_Generic_List_object__TypeInfo->_2.bitflags2 + 1);
        if ( *(&v117->klass->_2.bitflags2 + 1) < (unsigned int)v56
          || (System_Collections_Generic_List_object__c *)v117->klass->_2.typeHierarchy[v56 - 1] != System_Collections_Generic_List_object__TypeInfo )
        {
          goto LABEL_153;
        }
        sourceUri = (int)v117->fields.sourceUri;
        if ( sourceUri >= 1 )
        {
          v2 = &System_Collections_Generic_Dictionary_string__object__TypeInfo;
          v58 = 0;
          while ( 1 )
          {
            if ( sourceUri <= v58 )
              System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
            v59 = *(System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o **)(*(_QWORD *)&v54->fields.lineNum
                                                                                                 + 8LL * (int)v58
                                                                                                 + 32);
            if ( !v59 )
              goto LABEL_149;
            v60 = *(&System_Collections_Generic_Dictionary_string__object__TypeInfo->_2.bitflags2 + 1);
            if ( *(&v59->klass->_2.bitflags2 + 1) < (unsigned int)v60
              || (System_Collections_Generic_Dictionary_string__object__c *)v59->klass->_2.typeHierarchy[v60 - 1] != System_Collections_Generic_Dictionary_string__object__TypeInfo )
            {
              break;
            }
            this = (BattleData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
                                     v59,
                                     (System_Xml_XmlQualifiedName_o *)StringLiteral_19381/*"id"*/,
                                     &v116,
                                     (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__);
            if ( ((unsigned __int8)this & 1) != 0 )
            {
              this = (BattleData_o *)v116;
              if ( !v116 )
                goto LABEL_149;
              if ( v116->klass->_1.element_class != long_TypeInfo->_1.element_class )
                goto LABEL_152;
              this = (BattleData_o *)j_il2cpp_object_unbox_0(v116);
              if ( SLODWORD(this->klass) >= 1 )
              {
                if ( v58 >= v47[6] )
                  goto LABEL_150;
                v47[v58 + 8] = this->klass;
                this = (BattleData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
                                         v59,
                                         (System_Xml_XmlQualifiedName_o *)StringLiteral_20333/*"lv"*/,
                                         &v115,
                                         (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__);
                if ( ((unsigned __int8)this & 1) != 0 )
                {
                  this = (BattleData_o *)v115;
                  if ( !v115 )
                    goto LABEL_149;
                  if ( v115->klass->_1.element_class != long_TypeInfo->_1.element_class )
                    goto LABEL_152;
                  this = (BattleData_o *)j_il2cpp_object_unbox_0(v115);
                  if ( ((__int64)this->klass & 0x80000000) == 0 )
                  {
                    if ( v58 >= v48->max_length )
                      goto LABEL_150;
                    v48->m_Items[v58 + 1] = (int32_t)this->klass;
                  }
                }
              }
            }
            sourceUri = (int)v54->fields.sourceUri;
            if ( (int)++v58 >= sourceUri )
              goto LABEL_52;
          }
LABEL_151:
          this = (BattleData_o *)sub_B2C728(v59);
LABEL_152:
          sub_B2C728(this);
LABEL_153:
          sub_B2C728(v54);
LABEL_154:
          v97 = (BattleData_o *)sub_B2C728(v2);
          BattleData__tryOverwriteEventEquipSkill(v97, v98, v99, v100, v101);
          return;
        }
      }
    }
LABEL_52:
    v61 = v108;
    if ( BattleData__tryOverwriteEventEquipSkill(v108, &skillIds, &skillLvs, &masterIconId, v53) )
    {
      v62 = masterIconId;
      v48 = skillLvs;
      v47 = skillIds;
      v108->fields.isShowMasterSkillCutIn = 1;
      v108->fields.masterSkillIconId = v62;
    }
    this = (BattleData_o *)v108->fields.questphase_ent;
    if ( !this )
      goto LABEL_149;
    AddEquipSkills = QuestPhaseEntity__GetAddEquipSkills((QuestPhaseEntity_o *)this, 0LL);
    if ( AddEquipSkills )
    {
      v54 = (System_Xml_Schema_XmlSchemaObject_o *)AddEquipSkills;
      if ( System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
             (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)AddEquipSkills,
             (System_Xml_XmlQualifiedName_o *)StringLiteral_19273/*"iconId"*/,
             &v114,
             (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__) )
      {
        this = (BattleData_o *)v114;
        if ( !v114 )
          goto LABEL_149;
        if ( v114->klass->_1.element_class != long_TypeInfo->_1.element_class )
          goto LABEL_152;
        v64 = *(_QWORD *)j_il2cpp_object_unbox_0(v114);
        v108->fields.isShowMasterSkillCutIn = 0;
        v108->fields.masterSkillIconId = v64;
      }
      this = (BattleData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
                               (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)v54,
                               (System_Xml_XmlQualifiedName_o *)StringLiteral_22152/*"skills"*/,
                               &v113,
                               (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__);
      if ( ((unsigned __int8)this & 1) != 0 )
      {
        v2 = v113;
        if ( !v113 )
          goto LABEL_149;
        method = (const MethodInfo *)System_Collections_Generic_List_object__TypeInfo;
        v65 = *(&System_Collections_Generic_List_object__TypeInfo->_2.bitflags2 + 1);
        if ( *(&v113->klass->_2.bitflags2 + 1) < (unsigned int)v65
          || (System_Collections_Generic_List_object__c *)v113->klass->_2.typeHierarchy[v65 - 1] != System_Collections_Generic_List_object__TypeInfo )
        {
          goto LABEL_154;
        }
        v66 = (unsigned int)v113->fields.sourceUri;
        if ( (int)v66 >= 1 )
        {
          object = (BattleData___c__DisplayClass345_0_o *)sub_B2C42C(BattleData___c__DisplayClass345_0_TypeInfo);
          BattleData___c__DisplayClass345_0___ctor(object, 0LL);
          v67 = sub_B2C374(int___TypeInfo, v66);
          v68 = sub_B2C374(int___TypeInfo, v66);
          v69 = sub_B2C374(int___TypeInfo, v66);
          count = v66;
          this = (BattleData_o *)sub_B2C374(int___TypeInfo, v66);
          if ( !object )
            goto LABEL_149;
          object->fields.addIdxs = (struct System_Int32_array *)this;
          p_fields = &object->fields;
          sub_B2C2F8(&object->fields, this);
          v54 = 0LL;
          v103 = v68 + 32;
          v106 = v68;
          v104 = v69 + 32;
          do
          {
            if ( v2[6] <= (unsigned int)v54 )
              System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
            v59 = *(System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o **)(*((_QWORD *)v2 + 2)
                                                                                                 + 8LL * (_QWORD)v54
                                                                                                 + 32);
            if ( !v59 )
              goto LABEL_149;
            v70 = *(&System_Collections_Generic_Dictionary_string__object__TypeInfo->_2.bitflags2 + 1);
            if ( *(&v59->klass->_2.bitflags2 + 1) < (unsigned int)v70
              || (System_Collections_Generic_Dictionary_string__object__c *)v59->klass->_2.typeHierarchy[v70 - 1] != System_Collections_Generic_Dictionary_string__object__TypeInfo )
            {
              goto LABEL_151;
            }
            this = (BattleData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
                                     v59,
                                     (System_Xml_XmlQualifiedName_o *)StringLiteral_19381/*"id"*/,
                                     &v112,
                                     (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__);
            if ( ((unsigned __int8)this & 1) != 0 )
            {
              this = (BattleData_o *)v112;
              if ( !v112 )
                goto LABEL_149;
              if ( v112->klass->_1.element_class != long_TypeInfo->_1.element_class )
                goto LABEL_152;
              this = (BattleData_o *)j_il2cpp_object_unbox_0(v112);
              if ( SLODWORD(this->klass) >= 1 )
              {
                if ( !v67 )
                  goto LABEL_149;
                if ( (unsigned int)v54 >= *(_DWORD *)(v67 + 24) )
                  goto LABEL_150;
                *(_DWORD *)(v67 + 32 + 4LL * (_QWORD)v54) = this->klass;
                this = (BattleData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
                                         v59,
                                         (System_Xml_XmlQualifiedName_o *)StringLiteral_20333/*"lv"*/,
                                         &v111,
                                         (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__);
                if ( ((unsigned __int8)this & 1) != 0 )
                {
                  this = (BattleData_o *)v111;
                  if ( !v111 )
                    goto LABEL_149;
                  if ( v111->klass->_1.element_class != long_TypeInfo->_1.element_class )
                    goto LABEL_152;
                  this = (BattleData_o *)j_il2cpp_object_unbox_0(v111);
                  if ( ((__int64)this->klass & 0x80000000) == 0 )
                  {
                    if ( !v106 )
                      goto LABEL_149;
                    if ( (unsigned int)v54 >= *(_DWORD *)(v106 + 24) )
                      goto LABEL_150;
                    *(_DWORD *)(v103 + 4LL * (_QWORD)v54) = this->klass;
                  }
                }
                if ( !v69 )
                  goto LABEL_149;
                if ( (unsigned int)v54 >= *(_DWORD *)(v69 + 24) )
                  goto LABEL_150;
                *(_DWORD *)(v104 + 4LL * (_QWORD)v54) = -1;
                this = (BattleData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
                                         v59,
                                         (System_Xml_XmlQualifiedName_o *)StringLiteral_17644/*"condId"*/,
                                         &v110,
                                         (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__);
                if ( ((unsigned __int8)this & 1) != 0 )
                {
                  this = (BattleData_o *)v110;
                  if ( !v110 )
                    goto LABEL_149;
                  if ( v110->klass->_1.element_class != long_TypeInfo->_1.element_class )
                    goto LABEL_152;
                  this = (BattleData_o *)j_il2cpp_object_unbox_0(v110);
                  if ( ((__int64)this->klass & 0x80000000) == 0 )
                  {
                    if ( (unsigned int)v54 >= *(_DWORD *)(v69 + 24) )
                      goto LABEL_150;
                    *(_DWORD *)(v104 + 4LL * (_QWORD)v54) = this->klass;
                  }
                }
                addIdxs = p_fields->addIdxs;
                if ( !p_fields->addIdxs )
                  goto LABEL_149;
                if ( (unsigned int)v54 >= addIdxs->max_length )
                  goto LABEL_150;
                addIdxs->m_Items[(_QWORD)v54 + 1] = -1;
                this = (BattleData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___TryGetValue(
                                         v59,
                                         (System_Xml_XmlQualifiedName_o *)StringLiteral_19393/*"idx"*/,
                                         &v109,
                                         (const MethodInfo_2DB3AC0 *)Method_System_Collections_Generic_Dictionary_string__object__TryGetValue__);
                if ( ((unsigned __int8)this & 1) != 0 )
                {
                  this = (BattleData_o *)v109;
                  if ( !v109 )
                    goto LABEL_149;
                  if ( v109->klass->_1.element_class != long_TypeInfo->_1.element_class )
                    goto LABEL_152;
                  this = (BattleData_o *)j_il2cpp_object_unbox_0(v109);
                  if ( ((__int64)this->klass & 0x80000000) == 0 )
                  {
                    v72 = p_fields->addIdxs;
                    if ( !p_fields->addIdxs )
                      goto LABEL_149;
                    if ( (unsigned int)v54 >= v72->max_length )
                      goto LABEL_150;
                    v72->m_Items[(_QWORD)v54 + 1] = (int32_t)this->klass;
                  }
                }
              }
            }
            v54 = (System_Xml_Schema_XmlSchemaObject_o *)((char *)v54 + 1);
          }
          while ( (int)v54 < count );
          v73 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
          System_Collections_Generic_List_int____ctor_49702036(
            v73,
            (System_Collections_Generic_IEnumerable_T__o *)v47,
            (const MethodInfo_2F66494 *)Method_System_Collections_Generic_List_int___ctor___67311384);
          v74 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
          System_Collections_Generic_List_int____ctor_49702036(
            v74,
            (System_Collections_Generic_IEnumerable_T__o *)v48,
            (const MethodInfo_2F66494 *)Method_System_Collections_Generic_List_int___ctor___67311384);
          v75 = (System_Collections_Generic_List_int__o *)sub_B2C42C(System_Collections_Generic_List_int__TypeInfo);
          System_Collections_Generic_List_int____ctor_49702036(
            v75,
            (System_Collections_Generic_IEnumerable_T__o *)v49,
            (const MethodInfo_2F66494 *)Method_System_Collections_Generic_List_int___ctor___67311384);
          v76 = (System_Collections_Generic_List_bool__o *)sub_B2C42C(System_Collections_Generic_List_bool__TypeInfo);
          System_Collections_Generic_List_bool____ctor_49471176(
            v76,
            v50,
            (const MethodInfo_2F2DEC8 *)Method_System_Collections_Generic_List_bool___ctor__);
          v77 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__Range(0, count, 0LL);
          v78 = System_Linq_Enumerable__ToArray_int_(
                  v77,
                  (const MethodInfo_1A9AE24 *)Method_System_Linq_Enumerable_ToArray_int___);
          v79 = (System_Comparison_int__o *)sub_B2C42C(System_Comparison_int__TypeInfo);
          System_Comparison_int____ctor(
            v79,
            (Il2CppObject *)object,
            Method_BattleData___c__DisplayClass345_0__loadMasterSkill_b__0__,
            (const MethodInfo_25D74C4 *)Method_System_Comparison_int___ctor__);
          System_Array__Sort_int__37534024(
            v78,
            (System_Comparison_T__o *)v79,
            (const MethodInfo_23CB948 *)Method_System_Array_Sort_int____67376040);
          v80 = (System_Collections_Generic_IEnumerable_TSource__o *)object->fields.addIdxs;
          v81 = BattleData___c_TypeInfo;
          if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !BattleData___c_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
            v81 = BattleData___c_TypeInfo;
          }
          static_fields = v81->static_fields;
          _9__345_1 = static_fields->__9__345_1;
          if ( !_9__345_1 )
          {
            if ( (BYTE3(v81->vtable._0_Equals.methodPtr) & 4) != 0 )
            {
              v84 = v78;
              if ( !v81->_2.cctor_finished )
              {
                j_il2cpp_runtime_class_init_0(v81);
                static_fields = BattleData___c_TypeInfo->static_fields;
              }
            }
            else
            {
              v84 = v78;
            }
            v85 = (Il2CppObject *)static_fields->__9;
            _9__345_1 = (System_Func_int__int__o *)sub_B2C42C(System_Func_int__int__TypeInfo);
            System_Func_int__int____ctor(
              _9__345_1,
              v85,
              Method_BattleData___c__loadMasterSkill_b__345_1__,
              (const MethodInfo_270CF34 *)Method_System_Func_int__int___ctor__);
            v86 = BattleData___c_TypeInfo->static_fields;
            v86->__9__345_1 = _9__345_1;
            sub_B2C2F8(&v86->__9__345_1, _9__345_1);
            v78 = v84;
          }
          v87 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__OrderBy_int__int_(
                                                                       v80,
                                                                       (System_Func_TSource__TKey__o *)_9__345_1,
                                                                       (const MethodInfo_1A934FC *)Method_System_Linq_Enumerable_OrderBy_int__int___);
          this = (BattleData_o *)System_Linq_Enumerable__ToList_int_(
                                   v87,
                                   (const MethodInfo_1A9DCD4 *)Method_System_Linq_Enumerable_ToList_int___);
          if ( !v78 )
            goto LABEL_149;
          v88 = 0LL;
          do
          {
            if ( (unsigned int)v88 >= v78->max_length )
              goto LABEL_150;
            if ( !v67 )
              goto LABEL_149;
            v89 = v78->m_Items[v88 + 1];
            if ( (unsigned int)v89 >= *(_DWORD *)(v67 + 24) )
              goto LABEL_150;
            if ( !v73 )
              goto LABEL_149;
            System_Collections_Generic_List_int___Insert(
              v73,
              0,
              *(_DWORD *)(v67 + 4 * v89 + 32),
              (const MethodInfo_2F681D8 *)Method_System_Collections_Generic_List_int__Insert__);
            if ( !v106 )
              goto LABEL_149;
            if ( (unsigned int)v89 >= *(_DWORD *)(v106 + 24) )
              goto LABEL_150;
            if ( !v74 )
              goto LABEL_149;
            System_Collections_Generic_List_int___Insert(
              v74,
              0,
              *(_DWORD *)(v106 + 4 * v89 + 32),
              (const MethodInfo_2F681D8 *)Method_System_Collections_Generic_List_int__Insert__);
            if ( !v69 )
              goto LABEL_149;
            if ( (unsigned int)v89 >= *(_DWORD *)(v69 + 24) )
              goto LABEL_150;
            if ( !v75 )
              goto LABEL_149;
            System_Collections_Generic_List_int___Insert(
              v75,
              0,
              *(_DWORD *)(v69 + 4 * v89 + 32),
              (const MethodInfo_2F681D8 *)Method_System_Collections_Generic_List_int__Insert__);
            if ( !v76 )
              goto LABEL_149;
            System_Collections_Generic_List_bool___Insert(
              v76,
              0,
              1,
              (const MethodInfo_2F2FC40 *)Method_System_Collections_Generic_List_bool__Insert__);
            ++v88;
          }
          while ( (int)v88 < count );
          v47 = System_Collections_Generic_List_int___ToArray(
                  v73,
                  (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
          v48 = System_Collections_Generic_List_int___ToArray(
                  v74,
                  (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
          v49 = System_Collections_Generic_List_int___ToArray(
                  v75,
                  (const MethodInfo_2F69104 *)Method_System_Collections_Generic_List_int__ToArray__);
          v61 = v108;
          v50 = (System_Collections_Generic_IEnumerable_T__o *)System_Collections_Generic_List_bool___ToArray(
                                                                 v76,
                                                                 (const MethodInfo_2F30B7C *)Method_System_Collections_Generic_List_bool__ToArray__);
        }
      }
    }
    this = (BattleData_o *)BattleData__isEventActivityPoint(v61, method);
    if ( ((unsigned __int8)this & 1) != 0 )
    {
      v91 = (System_Collections_Generic_Dictionary_int__int__o *)sub_B2C42C(System_Collections_Generic_Dictionary_int__int__TypeInfo);
      System_Collections_Generic_Dictionary_int__int____ctor(
        v91,
        (const MethodInfo_2E2399C *)Method_System_Collections_Generic_Dictionary_int__int___ctor__);
      v61->fields.usedEventMasterSkillDict = v91;
      sub_B2C2F8(&v61->fields.usedEventMasterSkillDict, v91);
      v92 = 1;
      if ( !v47 )
        goto LABEL_149;
    }
    else
    {
      v92 = 0;
      if ( !v47 )
        goto LABEL_149;
    }
    v93 = *((_QWORD *)v47 + 3);
    if ( (int)v93 >= 1 )
    {
      v94 = 0LL;
      v95 = (char *)(v47 + 8);
      while ( 1 )
      {
        if ( v92 )
        {
          if ( v94 >= (unsigned int)v93 )
            goto LABEL_150;
          this = (BattleData_o *)v108->fields.usedEventMasterSkillDict;
          if ( !this )
            goto LABEL_149;
          this = (BattleData_o *)System_Collections_Generic_Dictionary_int__int___ContainsKey(
                                   (System_Collections_Generic_Dictionary_int__int__o *)this,
                                   *(_DWORD *)&v95[4 * v94],
                                   (const MethodInfo_2E247A4 *)Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__);
          if ( ((unsigned __int8)this & 1) == 0 )
          {
            if ( v94 >= (unsigned int)v47[6] )
              goto LABEL_150;
            this = (BattleData_o *)v108->fields.usedEventMasterSkillDict;
            if ( !this )
              goto LABEL_149;
            System_Collections_Generic_Dictionary_int__int___Add(
              (System_Collections_Generic_Dictionary_int__int__o *)this,
              *(_DWORD *)&v95[4 * v94],
              0,
              (const MethodInfo_2E24540 *)Method_System_Collections_Generic_Dictionary_int__int__Add__);
          }
        }
        if ( v94 >= (unsigned int)v47[6] )
          goto LABEL_150;
        if ( !v48 )
          goto LABEL_149;
        if ( v94 >= v48->max_length )
          goto LABEL_150;
        if ( !v49 )
          goto LABEL_149;
        if ( v94 >= v49->max_length )
          goto LABEL_150;
        if ( !v50 )
          goto LABEL_149;
        if ( v94 >= LODWORD(v50[1].monitor) )
          goto LABEL_150;
        BattleData__addMasterSkillInfo(
          v108,
          1,
          v94,
          *(_DWORD *)&v95[4 * v94],
          v48->m_Items[v94 + 1],
          v49->m_Items[v94 + 1],
          *((_BYTE *)&v50[2].klass + v94),
          v90);
        LODWORD(v93) = v47[6];
        if ( (__int64)++v94 >= (int)v93 )
          return;
      }
    }
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__loadNstage(BattleData_o *this, int32_t inwavecount, const MethodInfo *method)
{
  BattleData_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  struct System_Int32_array *e_entryid; // x9
  unsigned __int64 v14; // x8
  struct System_Int32_array **p_e_entryid; // x21
  unsigned __int64 max_length; // x11
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x23
  int size; // w20
  unsigned int v19; // w22
  BattleData_o *v20; // x22
  System_Collections_Generic_IEnumerable_TSource__o *v21; // x0
  System_Int32_array *v22; // x0
  const MethodInfo *v23; // x2
  __int64 v24; // x24
  int v25; // w8
  unsigned int v26; // w25
  BattleDeckServantData_o *v27; // x23
  int32_t id; // w20
  BattleServantData_o *v29; // x22
  struct System_Int32_array *v30; // x8
  int v31; // w10
  int v32; // w9
  const MethodInfo *v33; // x2
  const MethodInfo *v34; // x1
  const MethodInfo *v35; // x2
  struct BattleData_o *data; // x8
  System_Collections_Generic_List_BattleServantData__o *v37; // x21
  System_Collections_Generic_List_BattleServantData__array *v38; // x20
  const MethodInfo *v39; // x2
  __int64 v40; // x0
  __int64 v41; // x0
  int32_t waveCount; // [xsp+Ch] [xbp-54h]

  v4 = this;
  if ( (byte_418437B & 1) == 0 )
  {
    sub_B2C35C(&BattleServantData_TypeInfo, *(_QWORD *)&inwavecount);
    sub_B2C35C(&Method_System_Linq_Enumerable_Repeat_int___, v5);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_int___, v6);
    sub_B2C35C(&System_Collections_Generic_List_BattleServantData____TypeInfo, v7);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Clear__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_List_double__Clear__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v11);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v12);
    byte_418437B = 1;
  }
  e_entryid = v4->fields.e_entryid;
  if ( !e_entryid )
    goto LABEL_48;
  v14 = 0LL;
  p_e_entryid = &v4->fields.e_entryid;
  while ( 1 )
  {
    max_length = e_entryid->max_length;
    if ( (__int64)v14 >= (int)max_length )
      break;
    if ( v14 >= max_length )
      goto LABEL_49;
    e_entryid->m_Items[v14 + 1] = -1;
    e_entryid = *p_e_entryid;
    ++v14;
    if ( !*p_e_entryid )
      goto LABEL_48;
  }
  BattleData__loadStageData(v4, *(const MethodInfo **)&inwavecount);
  this = (BattleData_o *)v4->fields._DrawLotsDispMsg_k__BackingField;
  if ( !this
    || (DrawLotsDisplayMessage__Init((DrawLotsDisplayMessage_o *)this, 0LL),
        *(_WORD *)&v4->fields.leaderDown = 0,
        v4->fields.loseBattleFlg = 0,
        *(_WORD *)&v4->fields.winBattleNotRelatedSurvivalStatus = 0,
        (player_datalist = v4->fields.player_datalist) == 0LL) )
  {
LABEL_48:
    sub_B2C434(this, *(_QWORD *)&inwavecount);
  }
  size = player_datalist->fields._size;
  if ( size >= 1 )
  {
    v19 = 0;
    do
    {
      if ( player_datalist->fields._size <= v19 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      this = (BattleData_o *)player_datalist->fields._items->m_Items[v19];
      if ( !this )
        break;
      BattleServantData__setInitBattle((BattleServantData_o *)this, 0LL);
      if ( (int)++v19 >= size )
        goto LABEL_19;
      player_datalist = v4->fields.player_datalist;
    }
    while ( player_datalist );
    goto LABEL_48;
  }
LABEL_19:
  this = (BattleData_o *)v4->fields.battle_info;
  if ( !this )
    goto LABEL_48;
  this = (BattleData_o *)BattleInfoData__getEnemyDeck((BattleInfoData_o *)this, inwavecount, 0LL);
  if ( !v4->fields.enemy_datalist )
    goto LABEL_48;
  v20 = this;
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)v4->fields.enemy_datalist,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_BattleServantData__Clear__);
  v21 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__Repeat_int_(
                                                               -1,
                                                               v4->fields._EnemyFieldPosCount_k__BackingField,
                                                               (const MethodInfo_1A93C28 *)Method_System_Linq_Enumerable_Repeat_int___);
  v22 = System_Linq_Enumerable__ToArray_int_(
          v21,
          (const MethodInfo_1A9AE24 *)Method_System_Linq_Enumerable_ToArray_int___);
  v4->fields.e_entryid = v22;
  sub_B2C2F8(&v4->fields.e_entryid, v22);
  if ( !v20 )
    goto LABEL_48;
  waveCount = inwavecount;
  v24 = *(_QWORD *)&v20->fields.m_CachedPtr;
  if ( !v24 )
    goto LABEL_48;
  v25 = *(_DWORD *)(v24 + 24);
  if ( v25 >= 1 )
  {
    v26 = 0;
    while ( v26 < v25 )
    {
      v27 = *(BattleDeckServantData_o **)(v24 + 8LL * (int)v26 + 32);
      if ( !v27 )
        goto LABEL_48;
      id = v27->fields.id;
      v29 = (BattleServantData_o *)sub_B2C42C(BattleServantData_TypeInfo);
      BattleServantData___ctor(v29, 0LL);
      if ( !v29 )
        goto LABEL_48;
      BattleServantData__setEnemy(v29, 0LL);
      BattleServantData__setServantData(v29, v27, v4->fields.battle_ent, 0, 0LL, 0LL, 0LL);
      BattleServantData__setInitBattle(v29, 0LL);
      this = (BattleData_o *)v4->fields.battleEvent;
      if ( !this )
        goto LABEL_48;
      this = (BattleData_o *)((__int64 (__fastcall *)(BattleData_o *, BattleServantData_o *, void *))this->klass[1]._1.parent)(
                               this,
                               v29,
                               this->klass[1]._1.generic_class);
      v30 = *p_e_entryid;
      if ( !*p_e_entryid )
        goto LABEL_48;
      v31 = v30->max_length;
      v32 = id - 1;
      if ( id - 1 < v31 )
      {
        if ( v4->fields.globaltargetId == -1 )
        {
          v4->fields.globaltargetId = v27->fields.uniqueId;
          v31 = v30->max_length;
        }
        if ( v32 >= (unsigned int)v31 )
          goto LABEL_49;
        v30->m_Items[v32 + 1] = v27->fields.uniqueId;
        v29->fields.isEntry = 1;
        v29->fields.flgEntryFunction = 1;
      }
      this = (BattleData_o *)v4->fields.enemy_datalist;
      if ( !this )
        goto LABEL_48;
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
        (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this,
        (EventMissionProgressRequest_Argument_ProgressData_o *)v29,
        (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
      v25 = *(_DWORD *)(v24 + 24);
      if ( (int)++v26 >= v25 )
        goto LABEL_37;
    }
    goto LABEL_49;
  }
LABEL_37:
  BattleData__SetEnemyCountStartValue(v4, waveCount, v23);
  this = (BattleData_o *)v4->fields.battleEvent;
  if ( !this )
    goto LABEL_48;
  ((void (__fastcall *)(BattleData_o *, _QWORD, Il2CppClass *))this->klass[1]._1.castClass)(
    this,
    0LL,
    this->klass[1]._1.declaringType);
  this = (BattleData_o *)v4->fields.logic;
  if ( !this )
    goto LABEL_48;
  BattleLogic__actEnemyPtPassiveSkill((BattleLogic_o *)this, 0, 0, 1, 0LL);
  this = (BattleData_o *)v4->fields.battleEvent;
  if ( !this )
    goto LABEL_48;
  (*(void (__fastcall **)(BattleData_o *, _QWORD, _QWORD))&this->klass[1]._2.field_count)(
    this,
    0LL,
    *(_QWORD *)&this->klass[1]._2.interfaces_count);
  BattleData__CheckMultiTargetBattle(v4, 0, v33);
  BattleData__LoadBattleStartVoice(v4, v34);
  data = v4->fields.data;
  if ( !data )
    goto LABEL_48;
  BattleData__LoadBattleEffectVoice(v4, data->fields.wavecount, v35);
  this = (BattleData_o *)sub_B2C374(System_Collections_Generic_List_BattleServantData____TypeInfo, 1LL);
  if ( !this )
    goto LABEL_48;
  v37 = v4->fields.player_datalist;
  v38 = (System_Collections_Generic_List_BattleServantData__array *)this;
  if ( v37 )
  {
    this = (BattleData_o *)sub_B2C41C(v4->fields.player_datalist, this->klass->_1.element_class);
    if ( !this )
    {
      v41 = sub_B2C454();
      sub_B2C400(v41, 0LL);
    }
  }
  if ( !v38->max_length )
  {
LABEL_49:
    v40 = sub_B2C460(this);
    sub_B2C400(v40, 0LL);
  }
  v38->m_Items[0] = v37;
  sub_B2C2F8(v38->m_Items, v37);
  BattleData__AllocateAiToServants(v4, v38, v39);
  this = (BattleData_o *)v4->fields.chainTypeList;
  if ( !this )
    goto LABEL_48;
  System_Collections_Generic_List_double___Clear(
    (System_Collections_Generic_List_double__o *)this,
    (const MethodInfo_2F6143C *)Method_System_Collections_Generic_List_double__Clear__);
  this = (BattleData_o *)v4->fields.battleEvent;
  if ( !this )
    goto LABEL_48;
  ((void (__fastcall *)(BattleData_o *, Il2CppMethodPointer))this->klass[1].vtable._2_GetHashCode.method)(
    this,
    this->klass[1].vtable._3_ToString.methodPtr);
}


void __fastcall BattleData__loadQuest(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  int32_t Int_33168616; // w20
  System_String_o *String; // x21
  System_Byte_array *v15; // x21
  MiniMessagePack_MiniMessagePacker_o *v16; // x22
  BattleData_SaveData_o **battleAtkManager; // x0
  __int64 v18; // x1
  BattleData_SaveData_o *v19; // x1
  const MethodInfo *v20; // x4
  bool HasKey; // w0
  System_String_o *v22; // x0
  System_String_o *v23; // x21
  Il2CppObject *v24; // x21
  __int64 v25; // x0

  if ( (byte_4184378 & 1) == 0 )
  {
    sub_B2C35C(&CatAndMouseGame_TypeInfo, method);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    sub_B2C35C(&Method_JsonManager_DeserializeArray_BattleData_SaveData___, v4);
    sub_B2C35C(&JsonManager_TypeInfo, v5);
    sub_B2C35C(&Method_MiniMessagePack_MiniMessagePacker_UnpackClass_BattleData_SaveData___, v6);
    sub_B2C35C(&MiniMessagePack_MiniMessagePacker_TypeInfo, v7);
    sub_B2C35C(&StringLiteral_5064/*"DUEL"*/, v8);
    sub_B2C35C(&StringLiteral_8126/*"IsDuelMessagePack"*/, v9);
    sub_B2C35C(&StringLiteral_15634/*"["*/, v10);
    sub_B2C35C(&StringLiteral_15870/*"]"*/, v11);
    sub_B2C35C(&StringLiteral_2752/*"Battle"*/, v12);
    byte_4184378 = 1;
  }
  BattleData__commonQuestLoad(this, method);
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  Int_33168616 = EncryptedPlayerPrefs__GetInt_33168616((System_String_o *)StringLiteral_8126/*"IsDuelMessagePack"*/, 0, 0LL);
  if ( EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_5064/*"DUEL"*/, 0LL) )
  {
    if ( Int_33168616 )
    {
      if ( (WORD1(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 0x400) != 0
        && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
      }
      String = EncryptedPlayerPrefs__GetString((System_String_o *)StringLiteral_5064/*"DUEL"*/, 0LL);
      if ( (BYTE3(CatAndMouseGame_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !CatAndMouseGame_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(CatAndMouseGame_TypeInfo);
      }
      v15 = CatAndMouseGame__MouseGame6ForMsgPack(String, 0LL);
      v16 = (MiniMessagePack_MiniMessagePacker_o *)sub_B2C42C(MiniMessagePack_MiniMessagePacker_TypeInfo);
      MiniMessagePack_MiniMessagePacker___ctor(v16, 0LL);
      if ( v16 )
      {
        v19 = (BattleData_SaveData_o *)MiniMessagePack_MiniMessagePacker__UnpackClass_WarBoardData_WarBoardLocalSaveData_(
                                         v16,
                                         v15,
                                         (const MethodInfo_1AB259C *)Method_MiniMessagePack_MiniMessagePacker_UnpackClass_BattleData_SaveData___);
        goto LABEL_37;
      }
LABEL_39:
      sub_B2C434(battleAtkManager, v18);
    }
    if ( (WORD1(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 0x400) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    v23 = EncryptedPlayerPrefs__GetString((System_String_o *)StringLiteral_5064/*"DUEL"*/, 0LL);
    if ( (BYTE3(CatAndMouseGame_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !CatAndMouseGame_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(CatAndMouseGame_TypeInfo);
    }
    v22 = CatAndMouseGame__MouseGame6(v23, 0LL);
  }
  else
  {
    if ( (WORD1(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 0x400) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    HasKey = EncryptedPlayerPrefs__HasKey((System_String_o *)StringLiteral_2752/*"Battle"*/, 0LL);
    v19 = 0LL;
    if ( !HasKey )
      goto LABEL_37;
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    v22 = EncryptedPlayerPrefs__GetString((System_String_o *)StringLiteral_2752/*"Battle"*/, 0LL);
  }
  v24 = (Il2CppObject *)System_String__Concat_44307816(
                          (System_String_o *)StringLiteral_15634/*"["*/,
                          v22,
                          (System_String_o *)StringLiteral_15870/*"]"*/,
                          0LL);
  if ( (BYTE3(JsonManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !JsonManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(JsonManager_TypeInfo);
  battleAtkManager = (BattleData_SaveData_o **)JsonManager__DeserializeArray_UserPresentBoxWindow_resData_(
                                                 v24,
                                                 (const MethodInfo_1AACFE4 *)Method_JsonManager_DeserializeArray_BattleData_SaveData___);
  if ( !battleAtkManager )
    goto LABEL_39;
  if ( !*((_DWORD *)battleAtkManager + 6) )
  {
    v25 = sub_B2C460(battleAtkManager);
    sub_B2C400(v25, 0LL);
  }
  v19 = battleAtkManager[4];
LABEL_37:
  BattleData__SetBattleDataFromSaveData(this, v19, Int_33168616 != 0, 0, v20);
  battleAtkManager = (BattleData_SaveData_o **)this->fields.battleAtkManager;
  if ( !battleAtkManager )
    goto LABEL_39;
  ((void (__fastcall *)(BattleData_SaveData_o **, BattleData_o *, struct BattleFieldEnvironmentData_SaveData_o *))(*battleAtkManager)->fields.overrideStrBgmData)(
    battleAtkManager,
    this,
    (*battleAtkManager)->fields.fieldEnvData);
}


void __fastcall BattleData__loadSaveTurnNstage(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  __int64 v31; // x1
  __int64 v32; // x1
  __int64 v33; // x1
  __int64 v34; // x1
  __int64 v35; // x1
  __int64 v36; // x1
  __int64 v37; // x1
  BattleServantData_o *Int_33168616; // x0
  __int64 v39; // x1
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x22
  int size; // w20
  unsigned int v42; // w21
  struct BattleFieldData_array *field_datalist; // x8
  __int64 v44; // x20
  unsigned __int64 max_length; // x11
  unsigned __int64 v46; // x10
  struct BattleFieldData_SaveData_array *tmpFieldDataSave; // x9
  unsigned __int64 v48; // x12
  struct System_Boolean_array *tmpEnemyAppearValids; // x1
  int v50; // w20
  BattleServantData_o *v51; // x21
  __int64 v52; // x25
  int v53; // w8
  unsigned int v54; // w26
  BattleDeckServantData_o *v55; // x22
  BattleServantData_o *v56; // x21
  BattleServantData_SaveData_o *SaveDataFromJson; // x4
  struct System_Collections_Generic_Dictionary_string__object__o *v58; // x23
  struct System_Collections_Generic_Dictionary_string__object__o *v59; // x23
  UnityEngine_Purchasing_IStoreExtension_o *Item; // x0
  System_String_o *String; // x8
  System_String_o *v62; // x0
  System_String_o *v63; // x23
  struct System_Int32_array *v64; // x8
  unsigned __int64 v65; // x9
  unsigned __int64 v66; // x10
  struct System_Collections_Generic_Dictionary_string__object__o *tmpEnemyData; // x22
  struct System_Collections_Generic_Dictionary_string__object__o *v68; // x22
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x21
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Comparison_TitleInfoControl_EventEndTimeInfo__o *_9__576_0; // x22
  Il2CppObject *v72; // x23
  struct BattleData___c_StaticFields *v73; // x0
  const MethodInfo *v74; // x2
  const MethodInfo *v75; // x2
  int key; // w25
  Il2CppObject *v77; // x20
  BattleServantData_o *v78; // x21
  __int64 v79; // x0
  __int64 v80; // x1
  const MethodInfo *v81; // x6
  BattleServantData_o *SummonEnemyServantData; // x0
  __int64 v83; // x1
  struct System_Int32_array *e_entryid; // x9
  unsigned __int64 v85; // x10
  unsigned __int64 v86; // x11
  __int64 v87; // x0
  __int64 v88; // x0
  void *v89; // x0
  int v90; // w1
  __int64 v91; // x20
  Il2CppObject *v92; // x21
  System_String_o *v93; // x22
  BattleServantData_o *v94; // x20
  __int64 v95; // x0
  __int64 v96; // x1
  BattleServantData_SaveData_o *v97; // x22
  int32_t v98; // w0
  const MethodInfo *v99; // x6
  BattleServantData_o *v100; // x0
  __int64 v101; // x1
  struct System_Int32_array *v102; // x9
  unsigned __int64 v103; // x10
  unsigned __int64 v104; // x11
  int64_t tmpMaxTurnDamage; // x9
  struct System_Collections_Generic_List_Dictionary_string__object___o *tmpFirstNpPlayList; // x1
  __int64 v107; // x0
  int v108; // w1
  System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o v109; // [xsp+8h] [xbp-F8h] BYREF
  int v110[2]; // [xsp+30h] [xbp-D0h]
  int v111; // [xsp+38h] [xbp-C8h]
  System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o v112; // [xsp+40h] [xbp-C0h] BYREF
  System_Collections_Generic_Dictionary_Enumerator_TKey__TValue__o v113; // [xsp+70h] [xbp-90h] BYREF
  WarBoardEvalValueSquare_CalcEval_o *value; // [xsp+98h] [xbp-68h] BYREF
  int32_t v115[3]; // [xsp+A4h] [xbp-5Ch] BYREF
  System_Nullable_int__o p_tmpEnemyEntryMaxCountEachTurn; // 0:x0.8

  if ( (byte_4184384 & 1) == 0 )
  {
    sub_B2C35C(&BattleServantData_TypeInfo, method);
    sub_B2C35C(&Method_System_Comparison_BattleServantData___ctor__, v3);
    sub_B2C35C(&System_Comparison_BattleServantData__TypeInfo, v4);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__ContainsKey__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__GetEnumerator__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__GetEnumerator__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__Remove__, v9);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__Remove__, v10);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__TryGetValue__, v11);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__get_Count__, v12);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__get_Count__, v13);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__get_Item__, v14);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v15);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_int__BattleServantData_SaveData__Dispose__, v16);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_string__object__Dispose__, v17);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_string__object__MoveNext__, v18);
    sub_B2C35C(
      &Method_System_Collections_Generic_Dictionary_Enumerator_int__BattleServantData_SaveData__MoveNext__,
      v19);
    sub_B2C35C(
      &Method_System_Collections_Generic_Dictionary_Enumerator_int__BattleServantData_SaveData__get_Current__,
      v20);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_Enumerator_string__object__get_Current__, v21);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_int__BattleServantData_SaveData__get_Key__, v22);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_string__object__get_Key__, v23);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_string__object__get_Value__, v24);
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_int__BattleServantData_SaveData__get_Value__, v25);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Add__, v26);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Clear__, v27);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__Sort__, v28);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v29);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v30);
    sub_B2C35C(&Method_System_Nullable_int__get_HasValue__, v31);
    sub_B2C35C(&Method_System_Nullable_int__get_Value__, v32);
    sub_B2C35C(&string_TypeInfo, v33);
    sub_B2C35C(&Method_BattleData___c__loadSaveTurnNstage_b__576_0__, v34);
    sub_B2C35C(&BattleData___c_TypeInfo, v35);
    sub_B2C35C(&StringLiteral_8126/*"IsDuelMessagePack"*/, v36);
    sub_B2C35C(&StringLiteral_18082/*"e_svlist"*/, v37);
    byte_4184384 = 1;
  }
  v115[0] = 0;
  value = 0LL;
  memset(&v113, 0, sizeof(v113));
  memset(&v112, 0, sizeof(v112));
  v111 = 0;
  BattleData__loadStageData(this, method);
  player_datalist = this->fields.player_datalist;
  this->fields.leaderDown = 0;
  if ( !player_datalist )
    goto LABEL_137;
  size = player_datalist->fields._size;
  if ( size >= 1 )
  {
    v42 = 0;
    do
    {
      if ( player_datalist->fields._size <= v42 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      Int_33168616 = player_datalist->fields._items->m_Items[v42];
      if ( !Int_33168616 )
        break;
      BattleServantData__setInitBattle(Int_33168616, 0LL);
      if ( (int)++v42 >= size )
        goto LABEL_12;
      player_datalist = this->fields.player_datalist;
    }
    while ( player_datalist );
    goto LABEL_137;
  }
LABEL_12:
  field_datalist = this->fields.field_datalist;
  if ( !field_datalist )
    goto LABEL_137;
  v44 = 4LL;
  while ( 1 )
  {
    max_length = field_datalist->max_length;
    v46 = v44 - 4;
    if ( v44 - 4 >= (int)max_length )
      break;
    tmpFieldDataSave = this->fields.tmpFieldDataSave;
    if ( !tmpFieldDataSave )
      goto LABEL_137;
    v48 = tmpFieldDataSave->max_length;
    if ( (__int64)v46 < (int)v48 )
    {
      if ( v46 >= max_length || v46 >= v48 )
      {
LABEL_105:
        v87 = sub_B2C460(Int_33168616);
        sub_B2C400(v87, 0LL);
      }
      Int_33168616 = (BattleServantData_o *)*((_QWORD *)&field_datalist->obj.klass + v44);
      if ( !Int_33168616 )
        goto LABEL_137;
      BattleFieldData__setSaveData(
        (BattleFieldData_o *)Int_33168616,
        *((BattleFieldData_SaveData_o **)&tmpFieldDataSave->obj.klass + v44),
        0LL);
      field_datalist = this->fields.field_datalist;
    }
    ++v44;
    if ( !field_datalist )
      goto LABEL_137;
  }
  tmpEnemyAppearValids = this->fields.tmpEnemyAppearValids;
  if ( tmpEnemyAppearValids )
  {
    this->fields.enemyAppearValid = tmpEnemyAppearValids;
    sub_B2C2F8(&this->fields.enemyAppearValid, tmpEnemyAppearValids);
    this->fields.tmpEnemyAppearValids = 0LL;
    sub_B2C2F8(&this->fields.tmpEnemyAppearValids, 0LL);
  }
  if ( this->fields.tmpEnemyEntryMaxCountEachTurn.fields.has_value )
  {
    p_tmpEnemyEntryMaxCountEachTurn = (System_Nullable_int__o)&this->fields.tmpEnemyEntryMaxCountEachTurn;
    this->fields._EnemyEntryMaxCountEachTurn_k__BackingField = System_Nullable_int___get_Value(
                                                                 p_tmpEnemyEntryMaxCountEachTurn,
                                                                 (const MethodInfo_2151C34 *)Method_System_Nullable_int__get_Value__);
    this->fields.tmpEnemyEntryMaxCountEachTurn = 0LL;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  Int_33168616 = (BattleServantData_o *)EncryptedPlayerPrefs__GetInt_33168616(
                                          (System_String_o *)StringLiteral_8126/*"IsDuelMessagePack"*/,
                                          0,
                                          0LL);
  if ( !this->fields.battle_info )
    goto LABEL_137;
  v50 = (int)Int_33168616;
  Int_33168616 = (BattleServantData_o *)BattleInfoData__getEnemyDeck(
                                          this->fields.battle_info,
                                          this->fields.wavecount,
                                          0LL);
  if ( !this->fields.enemy_datalist )
    goto LABEL_137;
  v51 = Int_33168616;
  System_Collections_Generic_List_XWeaponTrail_Element___Clear(
    (System_Collections_Generic_List_XWeaponTrail_Element__o *)this->fields.enemy_datalist,
    (const MethodInfo_2EF4868 *)Method_System_Collections_Generic_List_BattleServantData__Clear__);
  if ( !v51 )
    goto LABEL_137;
  v52 = *(_QWORD *)&v51->fields.index;
  if ( !v52 )
    goto LABEL_137;
  v53 = *(_DWORD *)(v52 + 24);
  if ( v53 < 1 )
  {
LABEL_76:
    enemy_datalist = this->fields.enemy_datalist;
    Int_33168616 = (BattleServantData_o *)BattleData___c_TypeInfo;
    if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleData___c_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
      Int_33168616 = (BattleServantData_o *)BattleData___c_TypeInfo;
    }
    static_fields = *(struct BattleData___c_StaticFields **)&Int_33168616->fields.transformLimitCount;
    _9__576_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)static_fields->__9__576_0;
    if ( !_9__576_0 )
    {
      if ( (Int_33168616->fields.atk & 0x4000000) != 0 && !LODWORD(Int_33168616->fields.actionHistory) )
      {
        j_il2cpp_runtime_class_init_0(Int_33168616);
        static_fields = BattleData___c_TypeInfo->static_fields;
      }
      v72 = (Il2CppObject *)static_fields->__9;
      _9__576_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)sub_B2C42C(System_Comparison_BattleServantData__TypeInfo);
      System_Comparison_TitleInfoControl_EventEndTimeInfo____ctor(
        _9__576_0,
        v72,
        Method_BattleData___c__loadSaveTurnNstage_b__576_0__,
        (const MethodInfo_25D8DF8 *)Method_System_Comparison_BattleServantData___ctor__);
      v73 = BattleData___c_TypeInfo->static_fields;
      v73->__9__576_0 = (struct System_Comparison_BattleServantData__o *)_9__576_0;
      sub_B2C2F8(&v73->__9__576_0, _9__576_0);
    }
    if ( enemy_datalist )
    {
      System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo___Sort(
        (System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo__o *)enemy_datalist,
        (System_Comparison_T__o *)_9__576_0,
        (const MethodInfo_2EF653C *)Method_System_Collections_Generic_List_BattleServantData__Sort__);
      BattleData__SetEnemyCountStartValue(this, this->fields.wavecount, v74);
      BattleData__CheckMultiTargetBattle(this, 1, v75);
      if ( !v50 )
        goto LABEL_111;
      Int_33168616 = (BattleServantData_o *)this->fields.tmpEnemyData_MP;
      if ( Int_33168616 )
      {
        if ( System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare___get_Count(
               (System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare__o *)Int_33168616,
               (const MethodInfo_2E64348 *)Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__get_Count__) < 1 )
          goto LABEL_135;
        Int_33168616 = (BattleServantData_o *)this->fields.tmpEnemyData_MP;
        if ( Int_33168616 )
        {
          System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_CalcEval___GetEnumerator(
            &v109,
            (System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_CalcEval__o *)Int_33168616,
            (const MethodInfo_2E64D30 *)Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__GetEnumerator__);
          v113 = v109;
          while ( System_Collections_Generic_Dictionary_Enumerator_int__WarBoardEvalValueSquare_CalcEval___MoveNext(
                    &v113,
                    (const MethodInfo_277DFA8 *)Method_System_Collections_Generic_Dictionary_Enumerator_int__BattleServantData_SaveData__MoveNext__) )
          {
            key = (int)v113.fields.current.fields.key;
            v77 = v113.fields.current.fields.value;
            v78 = (BattleServantData_o *)sub_B2C42C(BattleServantData_TypeInfo);
            BattleServantData___ctor(v78, 0LL);
            if ( !v78 )
              sub_B2C434(v79, v80);
            BattleServantData__setTestSaveData(v78, (BattleServantData_SaveData_o *)v77, 0LL);
            SummonEnemyServantData = BattleData__createSummonEnemyServantData(
                                       this,
                                       v78->fields.uniqueId,
                                       key + 1,
                                       v78->fields.summonNpcId,
                                       (BattleServantData_SaveData_o *)v77,
                                       this,
                                       v81);
            if ( !SummonEnemyServantData )
              sub_B2C434(0LL, v83);
            if ( SummonEnemyServantData->fields.isDeadAnime )
            {
              if ( SummonEnemyServantData->fields.isLeader )
                this->fields.leaderDown = 1;
            }
            else
            {
              e_entryid = this->fields.e_entryid;
              if ( !e_entryid )
LABEL_103:
                sub_B2C434(SummonEnemyServantData, v83);
              v85 = 0LL;
              while ( 1 )
              {
                v86 = e_entryid->max_length;
                if ( (__int64)v85 >= (int)v86 )
                  break;
                if ( v85 >= v86 )
                {
                  v88 = sub_B2C460(SummonEnemyServantData);
                  sub_B2C400(v88, 0LL);
                }
                if ( e_entryid->m_Items[v85 + 1] == SummonEnemyServantData->fields.uniqueId )
                {
                  SummonEnemyServantData->fields.isAddition = 0;
                  e_entryid = this->fields.e_entryid;
                }
                ++v85;
                if ( !e_entryid )
                  goto LABEL_103;
              }
            }
          }
          v110[0] = 1102;
          v111 = 1;
          System_Collections_Generic_Dictionary_Enumerator_int__WarBoardEvalValueSquare_CalcEval___Dispose(
            &v113,
            (const MethodInfo_277E114 *)Method_System_Collections_Generic_Dictionary_Enumerator_int__BattleServantData_SaveData__Dispose__);
          v111 = 0;
          goto LABEL_135;
        }
      }
    }
    goto LABEL_137;
  }
  v54 = 0;
  while ( 1 )
  {
    if ( v54 >= v53 )
      goto LABEL_105;
    v55 = *(BattleDeckServantData_o **)(v52 + 8LL * (int)v54 + 32);
    if ( !v55 )
      goto LABEL_137;
    v115[0] = v55->fields.id - 1;
    v56 = (BattleServantData_o *)sub_B2C42C(BattleServantData_TypeInfo);
    BattleServantData___ctor(v56, 0LL);
    if ( !v56 )
      goto LABEL_137;
    BattleServantData__setEnemy(v56, 0LL);
    value = 0LL;
    if ( !v50 )
      break;
    Int_33168616 = (BattleServantData_o *)this->fields.tmpEnemyData_MP;
    if ( !Int_33168616 )
      goto LABEL_137;
    System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_CalcEval___TryGetValue(
      (System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_CalcEval__o *)Int_33168616,
      v115[0],
      &value,
      (const MethodInfo_2E66470 *)Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__TryGetValue__);
    SaveDataFromJson = (BattleServantData_SaveData_o *)value;
LABEL_53:
    BattleServantData__setServantData_21251972(v56, v55, this->fields.battle_ent, 0, SaveDataFromJson, this, 0LL, 0LL);
    if ( v56->fields.isDeadAnime
      && (Int_33168616 = (BattleServantData_o *)BattleServantData__isDeadWait(v56, 0LL),
          ((unsigned __int8)Int_33168616 & 1) == 0) )
    {
      if ( v56->fields.isLeader )
        this->fields.leaderDown = 1;
    }
    else
    {
      v64 = this->fields.e_entryid;
      if ( !v64 )
        goto LABEL_137;
      v65 = 0LL;
      while ( 1 )
      {
        v66 = v64->max_length;
        if ( (__int64)v65 >= (int)v66 )
          break;
        if ( v65 >= v66 )
          goto LABEL_105;
        if ( v64->m_Items[v65 + 1] == v56->fields.uniqueId )
        {
          v56->fields.isAddition = 0;
          v64 = this->fields.e_entryid;
        }
        ++v65;
        if ( !v64 )
          goto LABEL_137;
      }
    }
    if ( v50 )
    {
      Int_33168616 = (BattleServantData_o *)this->fields.tmpEnemyData_MP;
      if ( !Int_33168616 )
        goto LABEL_137;
      if ( System_Collections_Generic_Dictionary_int__WarBoardAIRoute_RouteData___ContainsKey(
             (System_Collections_Generic_Dictionary_int__WarBoardAIRoute_RouteData__o *)Int_33168616,
             v115[0],
             (const MethodInfo_2E649C0 *)Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__ContainsKey__) )
      {
        Int_33168616 = (BattleServantData_o *)this->fields.tmpEnemyData_MP;
        if ( !Int_33168616 )
          goto LABEL_137;
        System_Collections_Generic_Dictionary_int__WarBoardAIRoute_PiecePersonality___Remove(
          (System_Collections_Generic_Dictionary_int__WarBoardAIRoute_PiecePersonality__o *)Int_33168616,
          v115[0],
          (const MethodInfo_2E66128 *)Method_System_Collections_Generic_Dictionary_int__BattleServantData_SaveData__Remove__);
      }
    }
    else
    {
      tmpEnemyData = this->fields.tmpEnemyData;
      Int_33168616 = (BattleServantData_o *)System_Int32__ToString((int32_t)v115, 0LL);
      if ( !tmpEnemyData )
        goto LABEL_137;
      if ( System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___ContainsKey(
             (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)tmpEnemyData,
             (System_Xml_XmlQualifiedName_o *)Int_33168616,
             (const MethodInfo_2DB1F34 *)Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__) )
      {
        v68 = this->fields.tmpEnemyData;
        Int_33168616 = (BattleServantData_o *)System_Int32__ToString((int32_t)v115, 0LL);
        if ( !v68 )
          goto LABEL_137;
        System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___Remove(
          (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)v68,
          (System_Xml_XmlQualifiedName_o *)Int_33168616,
          (const MethodInfo_2DB372C *)Method_System_Collections_Generic_Dictionary_string__object__Remove__);
      }
    }
    Int_33168616 = (BattleServantData_o *)this->fields.enemy_datalist;
    if ( !Int_33168616 )
      goto LABEL_137;
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)Int_33168616,
      (EventMissionProgressRequest_Argument_ProgressData_o *)v56,
      (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
    v53 = *(_DWORD *)(v52 + 24);
    if ( (int)++v54 >= v53 )
      goto LABEL_76;
  }
  v58 = this->fields.tmpEnemyData;
  Int_33168616 = (BattleServantData_o *)System_Int32__ToString((int32_t)v115, 0LL);
  if ( !v58 )
    goto LABEL_137;
  if ( !System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___ContainsKey(
          (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)v58,
          (System_Xml_XmlQualifiedName_o *)Int_33168616,
          (const MethodInfo_2DB1F34 *)Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__) )
  {
    v62 = System_Int32__ToString((int32_t)v115, 0LL);
    v63 = System_String__Concat_44305532((System_String_o *)StringLiteral_18082/*"e_svlist"*/, v62, 0LL);
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    String = EncryptedPlayerPrefs__GetString(v63, 0LL);
LABEL_52:
    SaveDataFromJson = BattleServantData__GetSaveDataFromJson(v56, String, 0LL);
    value = (WarBoardEvalValueSquare_CalcEval_o *)SaveDataFromJson;
    goto LABEL_53;
  }
  v59 = this->fields.tmpEnemyData;
  Int_33168616 = (BattleServantData_o *)System_Int32__ToString((int32_t)v115, 0LL);
  if ( !v59 )
    goto LABEL_137;
  Item = System_Collections_Generic_Dictionary_Type__IStoreExtension___get_Item(
           (System_Collections_Generic_Dictionary_Type__IStoreExtension__o *)v59,
           (System_Type_o *)Int_33168616,
           (const MethodInfo_2DB1BFC *)Method_System_Collections_Generic_Dictionary_string__object__get_Item__);
  String = (System_String_o *)Item;
  if ( !Item || (System_String_c *)Item->klass == string_TypeInfo )
    goto LABEL_52;
  v89 = (void *)sub_B2C728(Item);
  if ( v90 != 1 )
    goto LABEL_144;
  v91 = *(_QWORD *)__cxa_begin_catch(v89);
  __cxa_end_catch();
  System_Collections_Generic_Dictionary_Enumerator_int__WarBoardEvalValueSquare_CalcEval___Dispose(
    &v113,
    (const MethodInfo_277E114 *)Method_System_Collections_Generic_Dictionary_Enumerator_int__BattleServantData_SaveData__Dispose__);
  if ( v91 )
    goto LABEL_143;
LABEL_111:
  Int_33168616 = (BattleServantData_o *)this->fields.tmpEnemyData;
  if ( !Int_33168616 )
    goto LABEL_137;
  if ( System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___get_Count(
         (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)Int_33168616,
         (const MethodInfo_2DB18BC *)Method_System_Collections_Generic_Dictionary_string__object__get_Count__) < 1 )
    goto LABEL_135;
  Int_33168616 = (BattleServantData_o *)this->fields.tmpEnemyData;
  if ( !Int_33168616 )
    goto LABEL_137;
  System_Collections_Generic_Dictionary_XmlQualifiedName__SchemaElementDecl___GetEnumerator(
    &v109,
    (System_Collections_Generic_Dictionary_XmlQualifiedName__SchemaElementDecl__o *)Int_33168616,
    (const MethodInfo_2DB229C *)Method_System_Collections_Generic_Dictionary_string__object__GetEnumerator__);
  v112 = v109;
  while ( 1 )
  {
    if ( !System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl___MoveNext(
            (System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl__o *)&v112,
            (const MethodInfo_278B9EC *)Method_System_Collections_Generic_Dictionary_Enumerator_string__object__MoveNext__) )
    {
      v110[0] = 1102;
      LODWORD(v91) = ++v111;
      System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl___Dispose(
        (System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl__o *)&v112,
        (const MethodInfo_278BB54 *)Method_System_Collections_Generic_Dictionary_Enumerator_string__object__Dispose__);
      goto LABEL_132;
    }
    v92 = v112.fields.current.fields.key;
    v93 = (System_String_o *)v112.fields.current.fields.value;
    v94 = (BattleServantData_o *)sub_B2C42C(BattleServantData_TypeInfo);
    BattleServantData___ctor(v94, 0LL);
    if ( !v94 )
      sub_B2C434(v95, v96);
    if ( v93 && v93->klass != string_TypeInfo )
      break;
    v97 = BattleServantData__GetSaveDataFromJson(v94, v93, 0LL);
    BattleServantData__setTestSaveData(v94, v97, 0LL);
    v98 = System_Int32__Parse((System_String_o *)v92, 0LL);
    v100 = BattleData__createSummonEnemyServantData(
             this,
             v94->fields.uniqueId,
             v98 + 1,
             v94->fields.summonNpcId,
             v97,
             this,
             v99);
    if ( !v100 )
      sub_B2C434(0LL, v101);
    if ( v100->fields.isDeadAnime )
    {
      if ( v100->fields.isLeader )
        this->fields.leaderDown = 1;
    }
    else
    {
      v102 = this->fields.e_entryid;
      if ( !v102 )
LABEL_130:
        sub_B2C434(v100, v101);
      v103 = 0LL;
      while ( 1 )
      {
        v104 = v102->max_length;
        if ( (__int64)v103 >= (int)v104 )
          break;
        if ( v103 >= v104 )
        {
          v107 = sub_B2C460(v100);
          sub_B2C400(v107, 0LL);
        }
        if ( v102->m_Items[v103 + 1] == v100->fields.uniqueId )
        {
          v100->fields.isAddition = 0;
          v102 = this->fields.e_entryid;
        }
        ++v103;
        if ( !v102 )
          goto LABEL_130;
      }
    }
  }
  v89 = (void *)sub_B2C728(v93);
  if ( v108 != 1 )
LABEL_144:
    _Unwind_Resume(v89);
  v91 = *(_QWORD *)__cxa_begin_catch(v89);
  __cxa_end_catch();
  System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl___Dispose(
    (System_Collections_Generic_Dictionary_Enumerator_XmlQualifiedName__SchemaElementDecl__o *)&v112,
    (const MethodInfo_278BB54 *)Method_System_Collections_Generic_Dictionary_Enumerator_string__object__Dispose__);
  if ( v91 )
LABEL_143:
    sub_B2C400(v91, 0LL);
LABEL_132:
  if ( (_DWORD)v91 && v110[(int)v91 - 1] == 1102 )
    v111 = v91 - 1;
LABEL_135:
  tmpMaxTurnDamage = this->fields.tmpMaxTurnDamage;
  tmpFirstNpPlayList = this->fields.tmpFirstNpPlayList;
  this->fields.enemyMasterCommandSpellUseCnt = this->fields.tmpEnemySpellCntSave;
  this->fields.maxTurnDamageInBattle = tmpMaxTurnDamage;
  this->fields.firstNpPlayList = tmpFirstNpPlayList;
  sub_B2C2F8(&this->fields.firstNpPlayList, tmpFirstNpPlayList);
  Int_33168616 = (BattleServantData_o *)this->fields.playerServantNoblePhantasmUsageData;
  if ( !Int_33168616 )
LABEL_137:
    sub_B2C434(Int_33168616, v39);
  PlayerServantNoblePhantasmUsageData__SetSaveData(
    (PlayerServantNoblePhantasmUsageData_o *)Int_33168616,
    this->fields.tempBattleServantNoblePhantasmUsageDataSaveData,
    0LL);
}


void __fastcall BattleData__loadSkipDead(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  BattleData_c *v4; // x0
  System_String_o *SkipDeadKey; // x20
  BattleData_c *v6; // x0
  System_String_o *v7; // x20

  if ( (byte_4184350 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    byte_4184350 = 1;
  }
  this->fields.systemflg_skipDead = 0;
  v4 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v4 = BattleData_TypeInfo;
  }
  SkipDeadKey = v4->static_fields->SkipDeadKey;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( EncryptedPlayerPrefs__HasKey(SkipDeadKey, 0LL) )
  {
    v6 = BattleData_TypeInfo;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
      v6 = BattleData_TypeInfo;
    }
    v7 = v6->static_fields->SkipDeadKey;
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    if ( EncryptedPlayerPrefs__GetInt(v7, 0LL) == 1 )
      this->fields.systemflg_skipDead = 1;
  }
}


void __fastcall BattleData__loadSkipSkillConf(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  BattleData_c *v4; // x0
  System_String_o *skipKey; // x20
  BattleData_c *v6; // x0
  System_String_o *v7; // x20

  if ( (byte_418434A & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    byte_418434A = 1;
  }
  this->fields.systemflg_skipskillconf = 0;
  v4 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v4 = BattleData_TypeInfo;
  }
  skipKey = v4->static_fields->skipKey;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( EncryptedPlayerPrefs__HasKey(skipKey, 0LL) )
  {
    v6 = BattleData_TypeInfo;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
      v6 = BattleData_TypeInfo;
    }
    v7 = v6->static_fields->skipKey;
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    if ( EncryptedPlayerPrefs__GetInt(v7, 0LL) == 1 )
      this->fields.systemflg_skipskillconf = 1;
  }
}


void __fastcall BattleData__loadStageData(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  struct BattleData_o *data; // x8
  StageEntity_o *v12; // x20
  int32_t ShowTurnState; // w0
  int32_t limitTurnCount; // w1
  System_Int32_array *TurnEffect; // x0
  bool TurnElapsedEndBattleFlag; // w0
  System_Collections_Generic_IEnumerable_TSource__o *v17; // x0
  System_Boolean_array *v18; // x0
  struct System_Boolean_array **p_enemyAppearValid; // x21
  int rootfsm; // w9
  unsigned int v21; // w8
  struct System_Boolean_array *v22; // x9
  int v23; // w10
  System_Int32_array *EnemyAddOrderPosArray; // x0
  System_Object_array *FieldAis; // x0
  System_Object_array *v26; // x21
  __int64 v27; // x0
  __int64 v28; // x8
  unsigned __int64 v29; // x23
  __int64 v30; // x27
  unsigned int *field_datalist; // x20
  Il2CppObject *v32; // x25
  BattleFieldData_o *v33; // x24
  __int64 v34; // x0
  int32_t EnemyMasterBattleId; // w0
  struct EnemyMstBattleEntity_o *enemyMasterInfo; // x8
  int32_t v37; // w22
  UserQuestRecordMaster_o *MasterData_WarQuestSelectionMaster; // x21
  struct QuestEntity_o *quest_ent; // x8
  struct BaseBattleEvent_o *battleEvent; // x8
  __int64 v41; // x0
  __int64 v42; // x0
  StageEntity_o *v43; // [xsp+8h] [xbp-58h]

  v2 = this;
  if ( (byte_4184385 & 1) == 0 )
  {
    sub_B2C35C(&BattleFieldData___TypeInfo, method);
    sub_B2C35C(&BattleFieldData_TypeInfo, v3);
    sub_B2C35C(&Method_DataManager_GetMasterData_EnemyMstBattleMaster___, v4);
    sub_B2C35C(&Method_DataManager_GetMasterData_UserQuestRecordMaster___, v5);
    sub_B2C35C(&Method_DataMasterBase_EnemyMstBattleMaster__EnemyMstBattleEntity__int__TryGetEntity__, v6);
    sub_B2C35C(&Method_System_Linq_Enumerable_Repeat_bool___, v7);
    sub_B2C35C(&Method_System_Linq_Enumerable_ToArray_bool___, v8);
    sub_B2C35C(&NetworkManager_TypeInfo, v9);
    this = (BattleData_o *)sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v10);
    byte_4184385 = 1;
  }
  data = v2->fields.data;
  if ( !data )
    goto LABEL_38;
  this = (BattleData_o *)v2->fields.battle_ent;
  if ( !this )
    goto LABEL_38;
  this = (BattleData_o *)BattleEntity__GetStageEntityAtWave((BattleEntity_o *)this, data->fields.wavecount, 0LL);
  if ( !this )
    goto LABEL_38;
  v12 = (StageEntity_o *)this;
  v2->fields._EnemyFieldPosCount_k__BackingField = StageEntity__GetEnemyFieldPosCount((StageEntity_o *)this, 0LL);
  v2->fields.limitTurnCount = StageEntity__getLimitTurn(v12, 0LL);
  v2->fields.limitAct = StageEntity__getLimitAct(v12, 0LL);
  ShowTurnState = StageEntity__getShowTurnState(v12, 0LL);
  limitTurnCount = v2->fields.limitTurnCount;
  v2->fields.stateshowturn = ShowTurnState;
  TurnEffect = StageEntity__getTurnEffect(v12, limitTurnCount, 0LL);
  v2->fields.turnEffect = TurnEffect;
  sub_B2C2F8(&v2->fields.turnEffect, TurnEffect);
  v2->fields.turnEffectType = StageEntity__getTurnEffectType(v12, 0LL);
  TurnElapsedEndBattleFlag = StageEntity__getTurnElapsedEndBattleFlag(v12, 0LL);
  v2->fields.isTurnElapsedEndBattle = 0;
  v2->fields.turnElapsedEndBattleFlag = TurnElapsedEndBattleFlag;
  v17 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__Repeat_bool_(
                                                               1,
                                                               v2->fields._EnemyFieldPosCount_k__BackingField,
                                                               (const MethodInfo_1A93BD4 *)Method_System_Linq_Enumerable_Repeat_bool___);
  v18 = System_Linq_Enumerable__ToArray_bool_(
          v17,
          (const MethodInfo_1A9AC80 *)Method_System_Linq_Enumerable_ToArray_bool___);
  p_enemyAppearValid = &v2->fields.enemyAppearValid;
  v2->fields.enemyAppearValid = v18;
  sub_B2C2F8(&v2->fields.enemyAppearValid, v18);
  this = (BattleData_o *)StageEntity__getNoEntryIds(v12, 0LL);
  if ( !this )
    goto LABEL_38;
  rootfsm = (int)this->fields.rootfsm;
  if ( rootfsm >= 1 )
  {
    v21 = 0;
    while ( v21 < rootfsm )
    {
      v22 = *p_enemyAppearValid;
      if ( !*p_enemyAppearValid )
        goto LABEL_38;
      v23 = *((_DWORD *)&this->fields.fsm + (int)v21) - 1;
      if ( v23 >= v22->max_length )
        break;
      v22->m_Items[v23 + 4] = 0;
      rootfsm = (int)this->fields.rootfsm;
      if ( (int)++v21 >= rootfsm )
        goto LABEL_13;
    }
LABEL_37:
    v41 = sub_B2C460(this);
    sub_B2C400(v41, 0LL);
  }
LABEL_13:
  EnemyAddOrderPosArray = StageEntity__GetEnemyAddOrderPosArray(
                            v12,
                            v2->fields._EnemyFieldPosCount_k__BackingField,
                            0LL);
  v2->fields._EnemyAddOrderPosArray_k__BackingField = EnemyAddOrderPosArray;
  sub_B2C2F8(&v2->fields._EnemyAddOrderPosArray_k__BackingField, EnemyAddOrderPosArray);
  v2->fields._EnemyEntryMaxCountEachTurn_k__BackingField = StageEntity__GetEnemyEntryMaxCountEachTurn(v12, -1, 0LL);
  v43 = v12;
  FieldAis = StageEntity__getFieldAis(v12, 0LL);
  if ( FieldAis )
  {
    v26 = FieldAis;
    v27 = sub_B2C374(BattleFieldData___TypeInfo, FieldAis->max_length);
    v2->fields.field_datalist = (struct BattleFieldData_array *)v27;
    sub_B2C2F8(&v2->fields.field_datalist, v27);
    v28 = *(_QWORD *)&v26->max_length;
    if ( (int)v28 >= 1 )
    {
      v29 = 0LL;
      v30 = 8LL;
      while ( v29 < (unsigned int)v28 )
      {
        field_datalist = (unsigned int *)v2->fields.field_datalist;
        v32 = v26->m_Items[v29];
        v33 = (BattleFieldData_o *)sub_B2C42C(BattleFieldData_TypeInfo);
        BattleFieldData___ctor_23075832(v33, v29, v32, 0LL);
        if ( !field_datalist )
          goto LABEL_38;
        if ( v33 )
        {
          this = (BattleData_o *)sub_B2C41C(v33, *(_QWORD *)(*(_QWORD *)field_datalist + 64LL));
          if ( !this )
          {
            v42 = sub_B2C454();
            sub_B2C400(v42, 0LL);
          }
        }
        if ( v29 >= field_datalist[6] )
          break;
        *(_QWORD *)&field_datalist[2 * v29 + 8] = v33;
        sub_B2C2F8(&field_datalist[v30], v33);
        LODWORD(v28) = v26->max_length;
        ++v29;
        v30 += 2LL;
        if ( (__int64)v29 >= (int)v28 )
          goto LABEL_24;
      }
      goto LABEL_37;
    }
  }
  else
  {
    v34 = sub_B2C374(BattleFieldData___TypeInfo, 0LL);
    v2->fields.field_datalist = (struct BattleFieldData_array *)v34;
    sub_B2C2F8(&v2->fields.field_datalist, v34);
  }
LABEL_24:
  v2->fields.enemyActCount = StageEntity__getEnemyActCount(v43, 0LL);
  EnemyMasterBattleId = StageEntity__getEnemyMasterBattleId(v43, 0LL);
  enemyMasterInfo = v2->fields.enemyMasterInfo;
  v37 = EnemyMasterBattleId;
  if ( !enemyMasterInfo || EnemyMasterBattleId != enemyMasterInfo->fields.id )
    v2->fields.enemyMasterCommandSpellUseCnt = 0;
  v2->fields.enemyMasterInfo = 0LL;
  sub_B2C2F8(&v2->fields.enemyMasterInfo, 0LL);
  this = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !this )
    goto LABEL_38;
  this = (BattleData_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                           (DataManager_o *)this,
                           (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EnemyMstBattleMaster___);
  if ( !this )
    goto LABEL_38;
  DataMasterBase_WarMaster__WarEntity__int___TryGetEntity(
    (DataMasterBase_WarMaster__WarEntity__int__o *)this,
    (WarEntity_o **)&v2->fields.enemyMasterInfo,
    v37,
    (const MethodInfo_24E412C *)Method_DataMasterBase_EnemyMstBattleMaster__EnemyMstBattleEntity__int__TryGetEntity__);
  v2->fields._IsReleaseUnusedAssetsWhenEntryMember_k__BackingField = StageEntity__IsReleaseUnusedAssetsWhenEntryMember(
                                                                       v43,
                                                                       0LL);
  this = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !this )
    goto LABEL_38;
  MasterData_WarQuestSelectionMaster = (UserQuestRecordMaster_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                                                    (DataManager_o *)this,
                                                                    (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_UserQuestRecordMaster___);
  if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !NetworkManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
  }
  this = (BattleData_o *)NetworkManager__get_UserId(0LL);
  quest_ent = v2->fields.quest_ent;
  if ( !quest_ent
    || !MasterData_WarQuestSelectionMaster
    || (this = (BattleData_o *)UserQuestRecordMaster__GetMaxTurnDamage(
                                 MasterData_WarQuestSelectionMaster,
                                 (int64_t)this,
                                 quest_ent->fields.id,
                                 0LL),
        battleEvent = v2->fields.battleEvent,
        v2->fields.maxTurnDamageRecord = (int64_t)this,
        !battleEvent) )
  {
LABEL_38:
    sub_B2C434(this, method);
  }
  ((void (__fastcall *)(struct BaseBattleEvent_o *, StageEntity_o *, Il2CppMethodPointer))battleEvent->klass->vtable._9_InitStageData.method)(
    battleEvent,
    v43,
    battleEvent->klass->vtable._10_SetServantDataBeforePassiveAdded.methodPtr);
}


void __fastcall BattleData__loadTdConstantVelocity(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  BattleData_c *v4; // x0
  System_String_o *TdCvKey; // x20
  BattleData_c *v6; // x0
  System_String_o *v7; // x20

  if ( (byte_418434E & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    byte_418434E = 1;
  }
  this->fields.systemflg_TdConstantvelocity = 0;
  v4 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v4 = BattleData_TypeInfo;
  }
  TdCvKey = v4->static_fields->TdCvKey;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  if ( EncryptedPlayerPrefs__HasKey(TdCvKey, 0LL) )
  {
    v6 = BattleData_TypeInfo;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
      v6 = BattleData_TypeInfo;
    }
    v7 = v6->static_fields->TdCvKey;
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    if ( EncryptedPlayerPrefs__GetInt(v7, 0LL) == 1 )
      this->fields.systemflg_TdConstantvelocity = 1;
  }
}


void __fastcall BattleData__lossCriticalPoint(BattleData_o *this, int32_t count, const MethodInfo *method)
{
  int32_t criticalstars; // w8
  int32_t totalCriticalStars; // w9

  criticalstars = this->fields.criticalstars;
  totalCriticalStars = this->fields.totalCriticalStars;
  this->fields.prevCriticalstars = criticalstars;
  this->fields.criticalstars = criticalstars - count;
  this->fields.totalCriticalStars = (totalCriticalStars - count) & ~((totalCriticalStars - count) >> 31);
  if ( ((criticalstars - count) & 0x80000000) != 0 )
  {
    this->fields.subCriticalCount = UnityEngine_Mathf__Abs_40694508(criticalstars - count, 0LL);
    this->fields.criticalstars = 0;
  }
}


void __fastcall BattleData__offProgressflg(BattleData_o *this, int32_t instate, const MethodInfo *method)
{
  this->fields.progresslistflg &= ~instate;
}


void __fastcall BattleData__onProgressflg(BattleData_o *this, int32_t instate, const MethodInfo *method)
{
  this->fields.progresslistflg |= instate;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__procPlayerContinue(BattleData_o *this, bool isProgress, const MethodInfo *method)
{
  BattleData_o *v4; // x19
  __int64 v5; // x1
  struct System_Collections_Generic_List_BattleServantData__o *player_datalist; // x23
  int size; // w21
  int v8; // w22
  BattleServantData_o *v9; // x8
  struct BattleData_o *data; // x8
  unsigned __int64 v11; // x22
  struct System_Int32_array *p_entryid; // x8
  __int64 v13; // x24
  struct System_Collections_Generic_List_BattleServantData__o *v14; // x25
  BattleServantData_o *v15; // x8
  struct BattleData_o *v16; // x9
  struct System_Int32_array *v17; // x9
  __int64 v18; // x22
  struct System_Collections_Generic_List_BattleServantData__o *v19; // x23
  int32_t turnCount; // w8
  const MethodInfo *v21; // x1
  const MethodInfo *v22; // x1
  BattleDefenceTargetData_o *defenceTargetData; // x8
  int maxHp; // w20
  QuestPhaseEntity_o *questphase_ent; // x0
  int v26; // w21
  __int64 v27; // x0

  v4 = this;
  if ( (byte_41842F3 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, isProgress);
    this = (BattleData_o *)sub_B2C35C(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v5);
    byte_41842F3 = 1;
  }
  player_datalist = v4->fields.player_datalist;
  if ( !player_datalist )
    goto LABEL_52;
  size = player_datalist->fields._size;
  if ( size >= 1 )
  {
    v8 = 0;
    while ( 1 )
    {
      if ( player_datalist->fields._size <= (unsigned int)v8 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      v9 = player_datalist->fields._items->m_Items[v8];
      if ( !v9 )
        goto LABEL_52;
      ++v8;
      v9->fields.isEntry = 0;
      if ( v8 >= size )
        break;
      player_datalist = v4->fields.player_datalist;
      if ( !player_datalist )
        goto LABEL_52;
    }
  }
  data = v4->fields.data;
  if ( !data )
    goto LABEL_52;
  v11 = 0LL;
  while ( 1 )
  {
    p_entryid = data->fields.p_entryid;
    if ( !p_entryid )
      goto LABEL_52;
    if ( (__int64)v11 >= (int)p_entryid->max_length )
      break;
    if ( size >= 1 )
    {
      v13 = 0LL;
      do
      {
        v14 = v4->fields.player_datalist;
        if ( !v14 )
          goto LABEL_52;
        if ( v14->fields._size <= (unsigned int)v13 )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
        v15 = v14->fields._items->m_Items[v13];
        if ( !v15 )
          goto LABEL_52;
        if ( v11 == v15->fields.index )
        {
          v16 = v4->fields.data;
          if ( !v16 )
            goto LABEL_52;
          v17 = v16->fields.p_entryid;
          if ( !v17 )
            goto LABEL_52;
          if ( v11 >= v17->max_length )
          {
            v27 = sub_B2C460(this);
            sub_B2C400(v27, 0LL);
          }
          v17->m_Items[v11 + 1] = v15->fields.uniqueId;
          v15->fields.isEntry = 1;
        }
      }
      while ( (int)++v13 < size );
    }
    data = v4->fields.data;
    ++v11;
    if ( !data )
      goto LABEL_52;
  }
  if ( size >= 1 )
  {
    v18 = 0LL;
    while ( 1 )
    {
      v19 = v4->fields.player_datalist;
      if ( !v19 )
        break;
      if ( v19->fields._size <= (unsigned int)v18 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      this = (BattleData_o *)v19->fields._items->m_Items[v18];
      if ( !this )
        break;
      BattleServantData__setContinue((BattleServantData_o *)this, v4, 1, 1, 0LL);
      if ( (int)++v18 >= size )
        goto LABEL_37;
    }
LABEL_52:
    sub_B2C434(this, isProgress);
  }
LABEL_37:
  this = (BattleData_o *)v4->fields.logic;
  if ( !this )
    goto LABEL_52;
  BattleLogic__updateFieldBuff((BattleLogic_o *)this, 0LL);
  this = v4->fields.data;
  if ( !this )
    goto LABEL_52;
  BattleData__createCommandCard(this, (const MethodInfo *)isProgress);
  this = v4->fields.data;
  if ( !this )
    goto LABEL_52;
  BattleData__shuffleCommand(this, (const MethodInfo *)isProgress);
  if ( !isProgress )
  {
    turnCount = v4->fields.turnCount;
    v4->fields.initturn = 1;
    v4->fields.turnCount = turnCount + 1;
  }
  this = (BattleData_o *)v4->fields.logic;
  if ( !this )
    goto LABEL_52;
  BattleLogic__drawCommand((BattleLogic_o *)this, 0LL);
  BattleData__SetUsedTurn(v4, v21);
  *(_WORD *)&v4->fields.endbattleFlg = 0;
  defenceTargetData = v4->fields.defenceTargetData;
  v4->fields.progresslistflg |= 0x400u;
  if ( defenceTargetData )
  {
    maxHp = defenceTargetData->fields.maxHp;
    if ( maxHp >= 1 )
    {
      questphase_ent = v4->fields.questphase_ent;
      v26 = 500;
      if ( questphase_ent )
      {
        this = (BattleData_o *)QuestPhaseEntity__GetDefenceTargetContinueRecoverRate(questphase_ent, 0LL);
        defenceTargetData = v4->fields.defenceTargetData;
        v26 = (int)this >= 1 ? (int)this : 500;
        if ( !defenceTargetData )
          goto LABEL_52;
      }
      BattleDefenceTargetData__RecoverDefenceTarget(defenceTargetData, v26 * maxHp / 1000, 0LL);
    }
  }
  BattleData__SaveTurnData(v4, v22);
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData__recordEventMasterSkillUsing(BattleData_o *this, int32_t skillId, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_Dictionary_int__int__o *usedEventMasterSkillDict; // x0
  __int64 v9; // x1
  System_Collections_Generic_Dictionary_int__int__o *v10; // x0
  System_Collections_Generic_Dictionary_int__int__o *v11; // x21
  int32_t Item; // w0

  if ( (byte_41842DD & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__, *(_QWORD *)&skillId);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__get_Count__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__get_Item__, v6);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__set_Item__, v7);
    byte_41842DD = 1;
  }
  usedEventMasterSkillDict = this->fields.usedEventMasterSkillDict;
  if ( usedEventMasterSkillDict )
  {
    LODWORD(usedEventMasterSkillDict) = System_Collections_Generic_Dictionary_int__int___get_Count(
                                          usedEventMasterSkillDict,
                                          (const MethodInfo_2E24140 *)Method_System_Collections_Generic_Dictionary_int__int__get_Count__);
    if ( (_DWORD)usedEventMasterSkillDict )
    {
      v10 = this->fields.usedEventMasterSkillDict;
      if ( !v10 )
        goto LABEL_12;
      v10 = (System_Collections_Generic_Dictionary_int__int__o *)System_Collections_Generic_Dictionary_int__int___ContainsKey(
                                                                   v10,
                                                                   skillId,
                                                                   (const MethodInfo_2E247A4 *)Method_System_Collections_Generic_Dictionary_int__int__ContainsKey__);
      if ( ((unsigned __int8)v10 & 1) == 0 )
      {
        LOBYTE(usedEventMasterSkillDict) = 0;
        return (char)usedEventMasterSkillDict;
      }
      v11 = this->fields.usedEventMasterSkillDict;
      if ( !v11
        || (Item = System_Collections_Generic_Dictionary_int__int___get_Item(
                     this->fields.usedEventMasterSkillDict,
                     skillId,
                     (const MethodInfo_2E24480 *)Method_System_Collections_Generic_Dictionary_int__int__get_Item__),
            System_Collections_Generic_Dictionary_int__int___set_Item(
              v11,
              skillId,
              Item + 1,
              (const MethodInfo_2E24518 *)Method_System_Collections_Generic_Dictionary_int__int__set_Item__),
            (v10 = this->fields.usedEventMasterSkillDict) == 0LL) )
      {
LABEL_12:
        sub_B2C434(v10, v9);
      }
      LOBYTE(usedEventMasterSkillDict) = System_Collections_Generic_Dictionary_int__int___get_Item(
                                           v10,
                                           skillId,
                                           (const MethodInfo_2E24480 *)Method_System_Collections_Generic_Dictionary_int__int__get_Item__) == 1;
    }
  }
  return (char)usedEventMasterSkillDict;
}


void __fastcall BattleData__release(BattleData_o *this, const MethodInfo *method)
{
  __int64 v2; // x3
  struct BattleActionLogManagerInterface_o *actionLogManager; // x19
  BattleActionLogManagerInterface_c *klass; // x8
  unsigned __int64 v6; // x10
  int32_t *p_offset; // x11
  __int64 p_method; // x0

  if ( (byte_418438D & 1) == 0 )
  {
    sub_B2C35C(&BattleActionLogManagerInterface_TypeInfo, method);
    byte_418438D = 1;
  }
  actionLogManager = this->fields.actionLogManager;
  if ( actionLogManager )
  {
    klass = actionLogManager->klass;
    if ( *(_WORD *)&actionLogManager->klass->_2.bitflags1 )
    {
      v6 = 0LL;
      p_offset = &klass->_1.interfaceOffsets->offset;
      while ( *((BattleActionLogManagerInterface_c **)p_offset - 1) != BattleActionLogManagerInterface_TypeInfo )
      {
        ++v6;
        p_offset += 4;
        if ( v6 >= *(unsigned __int16 *)&actionLogManager->klass->_2.bitflags1 )
          goto LABEL_8;
      }
      p_method = (__int64)&klass->vtable[*p_offset].method;
    }
    else
    {
LABEL_8:
      p_method = sub_AC5258(actionLogManager, BattleActionLogManagerInterface_TypeInfo, 0LL, v2);
    }
    (*(void (__fastcall **)(struct BattleActionLogManagerInterface_o *, _QWORD))p_method)(
      actionLogManager,
      *(_QWORD *)(p_method + 8));
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__removeServantVoicePlayed(
        BattleData_o *this,
        int32_t svtId,
        int32_t condValue,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  Il2CppObject *v13; // x21
  Il2CppObject *v14; // x0
  BattleBuffData_BuffData_o *Item; // x0
  __int64 v16; // x1
  System_Type_o *v17; // x21
  struct System_Collections_Generic_Dictionary_string__object__o *voicePlayedInfo; // x20
  System_Xml_Schema_XmlSchemaObject_o *v19; // x0
  BattleData_o *v20; // x0
  int32_t v21; // w1
  int32_t v22; // w2
  const MethodInfo *v23; // x3
  int32_t v24; // [xsp+Ch] [xbp-34h] BYREF
  __int64 v25; // [xsp+10h] [xbp-30h] BYREF
  int32_t v26; // [xsp+1Ch] [xbp-24h] BYREF

  v26 = svtId;
  if ( (byte_41842E9 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__, *(_QWORD *)&svtId);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__get_Item__, v7);
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object__set_Item__, v8);
    sub_B2C35C(&Method_System_Collections_Generic_HashSet_string__Remove__, v9);
    sub_B2C35C(&int_TypeInfo, v10);
    sub_B2C35C(&long_TypeInfo, v11);
    sub_B2C35C(&StringLiteral_23587/*"{0},{1}"*/, v12);
    byte_41842E9 = 1;
  }
  if ( condValue > 63 )
  {
    LODWORD(v25) = svtId;
    v13 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v25);
    v24 = condValue;
    v14 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v24);
    Item = (BattleBuffData_BuffData_o *)System_String__Format_44301068(
                                          (System_String_o *)StringLiteral_23587/*"{0},{1}"*/,
                                          v13,
                                          v14,
                                          0LL);
    if ( this->fields.voicePlayedOver64Info )
    {
      System_Collections_Generic_HashSet_BattleBuffData_BuffData___Remove(
        (System_Collections_Generic_HashSet_BattleBuffData_BuffData__o *)this->fields.voicePlayedOver64Info,
        Item,
        (const MethodInfo_2D8C290 *)Method_System_Collections_Generic_HashSet_string__Remove__);
      return;
    }
LABEL_13:
    sub_B2C434(Item, v16);
  }
  Item = (BattleBuffData_BuffData_o *)System_Int32__ToString((int32_t)&v26, 0LL);
  if ( !this->fields.voicePlayedInfo )
    goto LABEL_13;
  v17 = (System_Type_o *)Item;
  Item = (BattleBuffData_BuffData_o *)System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___ContainsKey(
                                        (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)this->fields.voicePlayedInfo,
                                        (System_Xml_XmlQualifiedName_o *)Item,
                                        (const MethodInfo_2DB1F34 *)Method_System_Collections_Generic_Dictionary_string__object__ContainsKey__);
  if ( ((unsigned __int8)Item & 1) != 0 )
  {
    voicePlayedInfo = this->fields.voicePlayedInfo;
    if ( !voicePlayedInfo )
      goto LABEL_13;
    Item = (BattleBuffData_BuffData_o *)System_Collections_Generic_Dictionary_Type__IStoreExtension___get_Item(
                                          (System_Collections_Generic_Dictionary_Type__IStoreExtension__o *)voicePlayedInfo,
                                          v17,
                                          (const MethodInfo_2DB1BFC *)Method_System_Collections_Generic_Dictionary_string__object__get_Item__);
    if ( !Item )
      goto LABEL_13;
    if ( Item->klass->_1.element_class == long_TypeInfo->_1.element_class )
    {
      v25 = *(_QWORD *)j_il2cpp_object_unbox_0(Item) & ~(1LL << condValue);
      v19 = (System_Xml_Schema_XmlSchemaObject_o *)j_il2cpp_value_box_0(long_TypeInfo, &v25);
      System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject___set_Item(
        (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)voicePlayedInfo,
        (System_Xml_XmlQualifiedName_o *)v17,
        v19,
        (const MethodInfo_2DB1C98 *)Method_System_Collections_Generic_Dictionary_string__object__set_Item__);
    }
    else
    {
      v20 = (BattleData_o *)sub_B2C728(Item);
      BattleData__checkServantVoicePlayed(v20, v21, v22, v23);
    }
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__replaceCommandCard(
        BattleData_o *this,
        int32_t inUniqueID,
        int32_t outUniqueID,
        const MethodInfo *method)
{
  BattleServantData_o *ServantData; // x19
  const MethodInfo *v8; // x2
  BattleServantData_o *CommandList; // x0
  BattleCommandData_o *v10; // x1
  BattleServantData_o *v11; // x20
  __int64 v12; // x21
  const MethodInfo *v13; // x4
  struct BattleCommandData_array *p_cmlist; // x23
  int max_length; // w8
  unsigned int v16; // w24
  __int64 servantCardIdsIndex; // x8
  struct BattleCommandData_array *p_shcmlist; // x23
  int v19; // w8
  unsigned int v20; // w24
  __int64 v21; // x8
  struct BattleCommandData_array *draw_commandlist; // x22
  int v23; // w8
  unsigned int v24; // w23
  __int64 v25; // x8
  __int64 v26; // x0

  if ( (byte_41842EF & 1) == 0 )
  {
    sub_B2C35C(&int___TypeInfo, *(_QWORD *)&inUniqueID);
    byte_41842EF = 1;
  }
  ServantData = BattleData__getServantData(this, outUniqueID, *(const MethodInfo **)&outUniqueID);
  CommandList = BattleData__getServantData(this, inUniqueID, v8);
  if ( !CommandList )
    goto LABEL_40;
  v11 = CommandList;
  CommandList = (BattleServantData_o *)BattleServantData__getCommandList(CommandList, 0LL);
  if ( !CommandList )
    goto LABEL_40;
  v12 = sub_B2C374(int___TypeInfo, (unsigned int)CommandList->fields.uniqueId);
  CommandList = (BattleServantData_o *)BattleServantData__getCommandList(v11, 0LL);
  if ( !CommandList )
    goto LABEL_40;
  System_Array__CopyTo((System_Array_o *)CommandList, (System_Array_o *)v12, 0, 0LL);
  p_cmlist = this->fields.p_cmlist;
  if ( !p_cmlist )
    goto LABEL_40;
  max_length = p_cmlist->max_length;
  if ( max_length >= 1 )
  {
    v16 = 0;
    while ( v16 < max_length )
    {
      v10 = p_cmlist->m_Items[v16];
      if ( !v10 || !ServantData )
        goto LABEL_40;
      if ( v10->fields.uniqueId == ServantData->fields.uniqueId )
      {
        if ( !v12 )
          goto LABEL_40;
        servantCardIdsIndex = v10->fields.servantCardIdsIndex;
        if ( (unsigned int)servantCardIdsIndex >= *(_DWORD *)(v12 + 24) )
          break;
        BattleData__exchangeCommandCard(
          (BattleData_o *)CommandList,
          v10,
          v11,
          *(_DWORD *)(v12 + 4 * servantCardIdsIndex + 32),
          v13);
      }
      max_length = p_cmlist->max_length;
      if ( (int)++v16 >= max_length )
        goto LABEL_17;
    }
LABEL_41:
    v26 = sub_B2C460(CommandList);
    sub_B2C400(v26, 0LL);
  }
LABEL_17:
  p_shcmlist = this->fields.p_shcmlist;
  if ( !p_shcmlist )
    goto LABEL_40;
  v19 = p_shcmlist->max_length;
  if ( v19 >= 1 )
  {
    v20 = 0;
    while ( v20 < v19 )
    {
      v10 = p_shcmlist->m_Items[v20];
      if ( !v10 || !ServantData )
        goto LABEL_40;
      if ( v10->fields.uniqueId == ServantData->fields.uniqueId )
      {
        if ( !v12 )
          goto LABEL_40;
        v21 = v10->fields.servantCardIdsIndex;
        if ( (unsigned int)v21 >= *(_DWORD *)(v12 + 24) )
          goto LABEL_41;
        BattleData__exchangeCommandCard((BattleData_o *)CommandList, v10, v11, *(_DWORD *)(v12 + 4 * v21 + 32), v13);
      }
      v19 = p_shcmlist->max_length;
      if ( (int)++v20 >= v19 )
        goto LABEL_28;
    }
    goto LABEL_41;
  }
LABEL_28:
  draw_commandlist = this->fields.draw_commandlist;
  if ( !draw_commandlist )
LABEL_40:
    sub_B2C434(CommandList, v10);
  v23 = draw_commandlist->max_length;
  if ( v23 >= 1 )
  {
    v24 = 0;
    while ( v24 < v23 )
    {
      v10 = draw_commandlist->m_Items[v24];
      if ( !v10 || !ServantData )
        goto LABEL_40;
      if ( v10->fields.uniqueId == ServantData->fields.uniqueId )
      {
        if ( !v12 )
          goto LABEL_40;
        v25 = v10->fields.servantCardIdsIndex;
        if ( (unsigned int)v25 >= *(_DWORD *)(v12 + 24) )
          goto LABEL_41;
        BattleData__exchangeCommandCard((BattleData_o *)CommandList, v10, v11, *(_DWORD *)(v12 + 4 * v25 + 32), v13);
      }
      v23 = draw_commandlist->max_length;
      if ( (int)++v24 >= v23 )
        return;
    }
    goto LABEL_41;
  }
}


void __fastcall BattleData__resetAddCriticalstars(BattleData_o *this, const MethodInfo *method)
{
  this->fields.addCriticalstars = 0;
}


void __fastcall BattleData__resetCriticalPoint(BattleData_o *this, const MethodInfo *method)
{
  int32_t criticalstars; // w8

  criticalstars = this->fields.criticalstars;
  *(_QWORD *)&this->fields.addCriticalstars = 0LL;
  this->fields.totalCriticalStars = criticalstars;
  this->fields.criticalstars = (criticalstars - 50) & ~((criticalstars - 50) >> 31);
}


void __fastcall BattleData__resetSubCriticalstars(BattleData_o *this, const MethodInfo *method)
{
  this->fields.subCriticalCount = 0;
}


void __fastcall BattleData__saveContinueCount(int32_t count, const MethodInfo *method)
{
  __int64 v3; // x1

  if ( (byte_418435E & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, method);
    sub_B2C35C(&StringLiteral_3362/*"CONTINUECOUNT"*/, v3);
    byte_418435E = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_3362/*"CONTINUECOUNT"*/, count, 0LL);
}


void __fastcall BattleData__saveKnockdownEachWave(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  struct System_Int32_array *waveKnockdownNums; // x22
  __int64 wavecount; // x23
  struct System_Collections_Generic_List_BattleServantData__o *enemy_datalist; // x19
  BattleData___c_c *v10; // x0
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__668_0; // x20
  Il2CppObject *v13; // x21
  struct BattleData___c_StaticFields *v14; // x0
  __int64 v15; // x0
  __int64 v16; // x1
  __int64 v17; // x0

  if ( (byte_4184396 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Linq_Enumerable_Count_BattleServantData____67413704, method);
    sub_B2C35C(&Method_System_Func_BattleServantData__bool___ctor__, v3);
    sub_B2C35C(&System_Func_BattleServantData__bool__TypeInfo, v4);
    sub_B2C35C(&Method_BattleData___c__saveKnockdownEachWave_b__668_0__, v5);
    sub_B2C35C(&BattleData___c_TypeInfo, v6);
    byte_4184396 = 1;
  }
  if ( BattleData__isKnockdownTrialQuest(this, method) )
  {
    waveKnockdownNums = this->fields.waveKnockdownNums;
    wavecount = this->fields.wavecount;
    enemy_datalist = this->fields.enemy_datalist;
    v10 = BattleData___c_TypeInfo;
    if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleData___c_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
      v10 = BattleData___c_TypeInfo;
    }
    static_fields = v10->static_fields;
    _9__668_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)static_fields->__9__668_0;
    if ( !_9__668_0 )
    {
      if ( (BYTE3(v10->vtable._0_Equals.methodPtr) & 4) != 0 && !v10->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v10);
        static_fields = BattleData___c_TypeInfo->static_fields;
      }
      v13 = (Il2CppObject *)static_fields->__9;
      _9__668_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B2C42C(System_Func_BattleServantData__bool__TypeInfo);
      System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
        _9__668_0,
        v13,
        Method_BattleData___c__saveKnockdownEachWave_b__668_0__,
        (const MethodInfo_2711C04 *)Method_System_Func_BattleServantData__bool___ctor__);
      v14 = BattleData___c_TypeInfo->static_fields;
      v14->__9__668_0 = (struct System_Func_BattleServantData__bool__o *)_9__668_0;
      sub_B2C2F8(&v14->__9__668_0, _9__668_0);
    }
    v15 = System_Linq_Enumerable__Count_WarBoardAIRoute_RouteData_(
            (System_Collections_Generic_IEnumerable_TSource__o *)enemy_datalist,
            (System_Func_TSource__bool__o *)_9__668_0,
            (const MethodInfo_1A8D348 *)Method_System_Linq_Enumerable_Count_BattleServantData____67413704);
    if ( !waveKnockdownNums )
      sub_B2C434(v15, v16);
    if ( (unsigned int)wavecount >= waveKnockdownNums->max_length )
    {
      v17 = sub_B2C460(v15);
      sub_B2C400(v17, 0LL);
    }
    waveKnockdownNums->m_Items[wavecount + 1] = v15;
  }
}


void __fastcall BattleData__saveWaveClearTurn(System_Int32_array *waveClearArray, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  System_String_o *v6; // x0
  __int64 v7; // x8
  System_String_array *v8; // x20
  unsigned __int64 v9; // x24
  int32_t v10; // w21
  void **p_monitor; // x22
  __int64 v12; // x1
  System_String_o *v13; // x23
  System_String_o *v14; // x19
  __int64 v15; // x0
  __int64 v16; // x0

  if ( (byte_4184360 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, method);
    sub_B2C35C(&string___TypeInfo, v3);
    sub_B2C35C(&StringLiteral_10886/*"QUESTUSEDTURNSAVEKEY"*/, v4);
    sub_B2C35C(&StringLiteral_699/*","*/, v5);
    byte_4184360 = 1;
  }
  if ( waveClearArray )
  {
    v6 = (System_String_o *)sub_B2C374(string___TypeInfo, waveClearArray->max_length);
    v7 = *(_QWORD *)&waveClearArray->max_length;
    v8 = (System_String_array *)v6;
    if ( (int)v7 >= 1 )
    {
      v9 = 0LL;
      v10 = (_DWORD)waveClearArray + 32;
      p_monitor = &v6[1].monitor;
      do
      {
        if ( v9 >= (unsigned int)v7 )
          goto LABEL_17;
        v6 = System_Int32__ToString(v10, 0LL);
        if ( !v8 )
          sub_B2C434(v6, v12);
        v13 = v6;
        if ( v6 )
        {
          v6 = (System_String_o *)sub_B2C41C(v6, v8->obj.klass->_1.element_class);
          if ( !v6 )
          {
            v16 = sub_B2C454();
            sub_B2C400(v16, 0LL);
          }
        }
        if ( v9 >= v8->max_length )
        {
LABEL_17:
          v15 = sub_B2C460(v6);
          sub_B2C400(v15, 0LL);
        }
        *p_monitor = v13;
        sub_B2C2F8(p_monitor, v13);
        LODWORD(v7) = waveClearArray->max_length;
        ++v9;
        v10 += 4;
        ++p_monitor;
      }
      while ( (__int64)v9 < (int)v7 );
    }
    v14 = System_String__Join((System_String_o *)StringLiteral_699/*","*/, v8, 0LL);
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    EncryptedPlayerPrefs__SetString((System_String_o *)StringLiteral_10886/*"QUESTUSEDTURNSAVEKEY"*/, v14, 0LL);
  }
}


void __fastcall BattleData__setBstate(BattleData_o *this, int64_t bstate, const MethodInfo *method)
{
  struct BattleEntity_o *battle_ent; // x8

  battle_ent = this->fields.battle_ent;
  if ( !battle_ent )
    sub_B2C434(this, bstate);
  this->fields.endbattleFlg = (battle_ent->fields.id ^ 0xFFFFFFFFFFED5CD0LL) == bstate;
}


void __fastcall BattleData__setCalcStarFlg(BattleData_o *this, bool flg, const MethodInfo *method)
{
  this->fields.isCalcCritical = flg;
}


void __fastcall BattleData__setComboData(BattleData_o *this, BattleComboData_o *incombo, const MethodInfo *method)
{
  this->fields.combodata = incombo;
  sub_B2C2F8(&this->fields.combodata, incombo);
}


void __fastcall BattleData__setCommandAttack(
        BattleData_o *this,
        int32_t actId,
        int32_t targetId,
        const MethodInfo *method)
{
  this->fields.prevactId = actId;
  this->fields.prevtargetId = targetId;
}


void __fastcall BattleData__setCommandCriticals(
        BattleData_o *this,
        System_Int32_array *criticalArray,
        const MethodInfo *method)
{
  this->fields.commandCriticalArray = criticalArray;
  sub_B2C2F8(&this->fields.commandCriticalArray, criticalArray);
}


void __fastcall BattleData__setCommandData(BattleData_o *this, BattleCommandData_array *list, const MethodInfo *method)
{
  this->fields.selectcommandlist = list;
  sub_B2C2F8(&this->fields.selectcommandlist, list);
  this->fields.isCommandSelected = 1;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__setCommandSpellIdBattle(int32_t commandSpellId, bool save, const MethodInfo *method)
{
  __int64 v5; // x1

  if ( (byte_418435C & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, save);
    sub_B2C35C(&StringLiteral_3253/*"COMMAND_SPELL_BATTLE_SAVEKEY"*/, v5);
    byte_418435C = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_3253/*"COMMAND_SPELL_BATTLE_SAVEKEY"*/, commandSpellId, 0LL);
  if ( save )
    UnityEngine_PlayerPrefs__Save(0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__setContinueBattleFlg(int32_t continueFlg, bool save, const MethodInfo *method)
{
  __int64 v5; // x1

  if ( (byte_4184356 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, save);
    sub_B2C35C(&StringLiteral_3363/*"CONTINUE_BATTLE_SAVEKEY"*/, v5);
    byte_4184356 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_3363/*"CONTINUE_BATTLE_SAVEKEY"*/, continueFlg, 0LL);
  if ( save )
    UnityEngine_PlayerPrefs__Save(0LL);
}


void __fastcall BattleData__setCriticalStar(BattleData_o *this, int32_t count, const MethodInfo *method)
{
  int32_t v3; // w8

  if ( count >= 49 )
    v3 = 49;
  else
    v3 = count;
  this->fields.criticalstars = v3;
}


void __fastcall BattleData__setDeadLeader(BattleData_o *this, bool flg, const MethodInfo *method)
{
  this->fields.leaderDown = flg;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__setFirstBonus(BattleData_o *this, int32_t index, int32_t type, const MethodInfo *method)
{
  __int64 v7; // x1
  DataManager_o *Instance; // x0
  __int64 v9; // x1
  const MethodInfo *v10; // x2
  struct BattleComboData_o *combodata; // x9
  CardEntity_o *v12; // x8
  struct BattleComboData_o *v13; // x9
  struct BattleComboData_o *v14; // x9
  struct BattleComboData_o *v15; // x19
  int32_t addCriticalRate; // w20
  CardEntity_o *entity; // [xsp+8h] [xbp-28h] BYREF

  if ( (byte_4184323 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_CardMaster___, *(_QWORD *)&index);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v7);
    byte_4184323 = 1;
  }
  entity = 0LL;
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_13;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_CardMaster___);
  if ( !Instance )
    goto LABEL_13;
  Instance = (DataManager_o *)CardMaster__TryGetEntity((CardMaster_o *)Instance, &entity, type, index + 1, 0LL);
  if ( ((unsigned __int8)Instance & 1) == 0 )
    return;
  combodata = this->fields.combodata;
  if ( !combodata
    || (v12 = entity) == 0LL
    || (combodata->fields.addAtk += entity->fields.addAtk, (v13 = this->fields.combodata) == 0LL)
    || (v13->fields.addCritical += v12->fields.addCritical, (v14 = this->fields.combodata) == 0LL)
    || (v14->fields.addTdGauge += v12->fields.addTdGauge, (v15 = this->fields.combodata) == 0LL) )
  {
LABEL_13:
    sub_B2C434(Instance, v9);
  }
  addCriticalRate = v15->fields.addCriticalRate;
  v15->fields.addCriticalRate = BattleData__GetFirstBonusCriticalRate((BattleData_o *)Instance, v12->fields.id, v10)
                              + addCriticalRate;
}


void __fastcall BattleData__setInitCommandBattle(BattleData_o *this, const MethodInfo *method)
{
  *(_OWORD *)&this->fields.prevactId = 0u;
}


void __fastcall BattleData__setLastActionActor(BattleData_o *this, BattleActionData_o *adata, const MethodInfo *method)
{
  if ( !adata )
    sub_B2C434(this, 0LL);
  this->fields.lastactorId = adata->fields.actorId;
}


void __fastcall BattleData__setNextStage(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  System_Collections_Generic_List_int__o *lockTargetIdList; // x0
  int32_t v5; // w8
  unsigned int v6; // w9
  struct BattlePerformance_o *perf; // x8
  struct BattlePerformance_o *v8; // x8

  if ( (byte_418437A & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_int__int__Clear__, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Clear__, v3);
    byte_418437A = 1;
  }
  lockTargetIdList = this->fields.lockTargetIdList;
  v5 = this->fields.turnCount + this->fields.totalTurnCount;
  v6 = this->fields.wavecount + 1;
  this->fields.initturn = 0;
  *(_QWORD *)&this->fields.wavecount = v6;
  this->fields.totalTurnCount = v5;
  this->fields.globaltargetId = -1;
  if ( !lockTargetIdList )
    goto LABEL_10;
  System_Collections_Generic_List_int___Clear(
    lockTargetIdList,
    (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__);
  lockTargetIdList = (System_Collections_Generic_List_int__o *)this->fields.chainCountDict;
  if ( !lockTargetIdList )
    goto LABEL_10;
  System_Collections_Generic_Dictionary_int__int___Clear(
    (System_Collections_Generic_Dictionary_int__int__o *)lockTargetIdList,
    (const MethodInfo_2E2470C *)Method_System_Collections_Generic_Dictionary_int__int__Clear__);
  this->fields.maxEnemyIndex = 0;
  this->fields.maxEnemyUniqueID = 0;
  this->fields._overwriteBgmData_k__BackingField = 0LL;
  sub_B2C2F8(&this->fields._overwriteBgmData_k__BackingField, 0LL);
  lockTargetIdList = (System_Collections_Generic_List_int__o *)this->fields.perf;
  if ( !lockTargetIdList
    || (BattlePerformance__ChangeBattleSpeed((BattlePerformance_o *)lockTargetIdList, 0LL),
        (perf = this->fields.perf) == 0LL)
    || (perf->fields.waitMovieEnd = 0, (v8 = this->fields.perf) == 0LL)
    || (v8->fields.isMovieRebootSkip = 0,
        (lockTargetIdList = (System_Collections_Generic_List_int__o *)this->fields.perf) == 0LL) )
  {
LABEL_10:
    sub_B2C434(lockTargetIdList, method);
  }
  BattlePerformance__SetDefenceTargetBattlePhaseEnd((BattlePerformance_o *)lockTargetIdList, 0, 0LL);
  this->fields.enemyMasterChangedFaceId = 0;
}


void __fastcall BattleData__setProgresslist(BattleData_o *this, bool isWave, const MethodInfo *method)
{
  int32_t progresslistflg; // w8

  progresslistflg = this->fields.progresslistflg;
  if ( isWave )
  {
    progresslistflg |= 0x2C7DFu;
    this->fields.progresslistflg = progresslistflg;
  }
  this->fields.progresslistflg = progresslistflg | 0x13020;
}


void __fastcall BattleData__setQuestKnockdownResult(BattleData_o *this, const MethodInfo *method)
{
  void *isKnockdownTrialQuest; // x0
  __int64 v4; // x1
  const MethodInfo *v5; // x2
  struct QuestKnockdownInfo_o *currenctKnockdown; // x20
  int64_t v7; // x8
  int v8; // w8
  _DWORD *v9; // x20
  int v10; // w24
  int64_t v11; // x23
  char *v12; // x8
  BattleServantData_o *v13; // x21
  int32_t MaxHp; // w22
  struct QuestKnockdownInfo_o *v15; // x8
  __int64 v16; // x0

  isKnockdownTrialQuest = (void *)BattleData__isKnockdownTrialQuest(this, method);
  currenctKnockdown = this->fields.currenctKnockdown;
  if ( ((unsigned __int8)isKnockdownTrialQuest & 1) != 0 )
  {
    isKnockdownTrialQuest = this->fields.waveKnockdownNums;
    if ( isKnockdownTrialQuest )
    {
      isKnockdownTrialQuest = (void *)System_Linq_Enumerable__Sum(
                                        (System_Collections_Generic_IEnumerable_int__o *)isKnockdownTrialQuest,
                                        0LL);
      v7 = (int)isKnockdownTrialQuest;
      if ( !currenctKnockdown )
        goto LABEL_18;
    }
    else
    {
      v7 = 0LL;
      if ( !currenctKnockdown )
        goto LABEL_18;
    }
    currenctKnockdown->fields.knockdownNum = v7;
    isKnockdownTrialQuest = BattleData__getFieldEnemyServantList(this, 0, v5);
    if ( !isKnockdownTrialQuest )
      goto LABEL_18;
    v8 = *((_DWORD *)isKnockdownTrialQuest + 6);
    v9 = isKnockdownTrialQuest;
    if ( v8 >= 1 )
    {
      v10 = 0;
      v11 = 0LL;
      while ( 1 )
      {
        if ( v10 >= (unsigned int)v8 )
        {
          v16 = sub_B2C460(isKnockdownTrialQuest);
          sub_B2C400(v16, 0LL);
        }
        v12 = (char *)&v9[2 * v10];
        v13 = (BattleServantData_o *)*((_QWORD *)v12 + 4);
        if ( !v13 )
          goto LABEL_18;
        MaxHp = BattleServantData__getMaxHp(*((BattleServantData_o **)v12 + 4), 0LL);
        isKnockdownTrialQuest = (void *)BattleServantData__getNowHp(v13, 0LL);
        v8 = v9[6];
        ++v10;
        v11 += MaxHp - (int)isKnockdownTrialQuest;
        if ( v10 >= v8 )
          goto LABEL_16;
      }
    }
    v11 = 0LL;
LABEL_16:
    v15 = this->fields.currenctKnockdown;
    if ( !v15 )
LABEL_18:
      sub_B2C434(isKnockdownTrialQuest, v4);
    v15->fields.totalDamage = v11;
  }
  else
  {
    if ( !currenctKnockdown )
      goto LABEL_18;
    QuestKnockdownInfo__init(this->fields.currenctKnockdown, 0LL);
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__setReserveResumeBattle(
        bool isResume,
        int32_t questId,
        int32_t questPhase,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  _BOOL4 v10; // w21
  System_String_o *v11; // x22

  if ( (byte_4184363 & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, *(_QWORD *)&questId);
    sub_B2C35C(&StringLiteral_10885/*"QUESTPHASEID"*/, v7);
    sub_B2C35C(&StringLiteral_10884/*"QUESTID"*/, v8);
    sub_B2C35C(&StringLiteral_11082/*"RESERVE_BATTKE_SAVEKEY"*/, v9);
    byte_4184363 = 1;
  }
  v10 = isResume;
  v11 = (System_String_o *)StringLiteral_11082/*"RESERVE_BATTKE_SAVEKEY"*/;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetInt(v11, v10, 0LL);
  if ( questId )
  {
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_10884/*"QUESTID"*/, questId, 0LL);
  }
  if ( questPhase )
  {
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_10885/*"QUESTPHASEID"*/, questPhase, 0LL);
  }
  UnityEngine_PlayerPrefs__Save(0LL);
}


void __fastcall BattleData__setResultLose(BattleData_o *this, const MethodInfo *method)
{
  this->fields.win_lose = 2;
}


void __fastcall BattleData__setResultNone(BattleData_o *this, const MethodInfo *method)
{
  this->fields.win_lose = 0;
}


void __fastcall BattleData__setResultRetire(BattleData_o *this, const MethodInfo *method)
{
  this->fields.win_lose = 3;
}


void __fastcall BattleData__setResultWin(BattleData_o *this, const MethodInfo *method)
{
  this->fields.win_lose = 1;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__setResumeBattleId(
        int64_t battleId,
        int32_t questId,
        int32_t questPhase,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1

  if ( (byte_418435D & 1) == 0 )
  {
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, *(_QWORD *)&questId);
    sub_B2C35C(&StringLiteral_10885/*"QUESTPHASEID"*/, v7);
    sub_B2C35C(&StringLiteral_10884/*"QUESTID"*/, v8);
    sub_B2C35C(&StringLiteral_11552/*"SAVEKEY_"*/, v9);
    sub_B2C35C(&StringLiteral_7618/*"Initial"*/, v10);
    sub_B2C35C(&StringLiteral_15183/*"Version"*/, v11);
    byte_418435D = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetLong((System_String_o *)StringLiteral_11552/*"SAVEKEY_"*/, battleId, 0LL);
  EncryptedPlayerPrefs__SetString((System_String_o *)StringLiteral_15183/*"Version"*/, (System_String_o *)StringLiteral_7618/*"Initial"*/, 0LL);
  EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_10884/*"QUESTID"*/, questId, 0LL);
  EncryptedPlayerPrefs__SetInt((System_String_o *)StringLiteral_10885/*"QUESTPHASEID"*/, questPhase, 0LL);
  UnityEngine_PlayerPrefs__Save(0LL);
}


void __fastcall BattleData__setTDChain(BattleData_o *this, int32_t addIndex, const MethodInfo *method)
{
  struct BattleComboData_o *combodata; // x8

  combodata = this->fields.combodata;
  if ( !combodata )
    sub_B2C434(this, addIndex);
  if ( addIndex >= 1 )
    addIndex += combodata->fields.tdChain;
  combodata->fields.tdChain = addIndex;
}


// local variable allocation has failed, the output may be wrong!
int32_t __fastcall BattleData__setTargetIndex(BattleData_o *this, int32_t index, const MethodInfo *method)
{
  struct System_Int32_array *e_entryid; // x8
  int32_t v4; // w20
  BattleData_o *v5; // x19
  struct BattlePerformance_o *perf; // x8
  __int64 v8; // x0

  e_entryid = this->fields.e_entryid;
  if ( !e_entryid )
    goto LABEL_13;
  if ( e_entryid->max_length <= index )
  {
    v8 = sub_B2C460(this);
    sub_B2C400(v8, 0LL);
  }
  v4 = e_entryid->m_Items[index + 1];
  if ( v4 == -1 )
    return 1;
  v5 = this;
  this = this->fields.data;
  if ( !this )
    goto LABEL_13;
  this = (BattleData_o *)BattleData__getEnemyServantData(this, v4, method);
  if ( !this )
    goto LABEL_13;
  if ( BattleServantData__isDeadWaitNotAlive((BattleServantData_o *)this, 0LL) || v5->fields.isMultiTargetBattle )
    return 1;
  this = (BattleData_o *)v5->fields.perf;
  v5->fields.globaltargetId = v4;
  if ( !this
    || (BattlePerformance__setEnemyTarget((BattlePerformance_o *)this, v4, 0LL), (perf = v5->fields.perf) == 0LL)
    || (this = (BattleData_o *)perf->fields.commandPerf) == 0LL )
  {
LABEL_13:
    sub_B2C434(this, *(_QWORD *)&index);
  }
  BattlePerformanceCommandCard__updateCardMag((BattlePerformanceCommandCard_o *)this, 0LL);
  return 0;
}


void __fastcall BattleData__setTargetLock(
        BattleData_o *this,
        System_Collections_Generic_List_int__o *lockTargetIdList,
        const MethodInfo *method)
{
  __int64 v5; // x1
  System_Collections_Generic_List_int__o *v6; // x0

  if ( (byte_4184393 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__AddRange__, lockTargetIdList);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Clear__, v5);
    byte_4184393 = 1;
  }
  v6 = this->fields.lockTargetIdList;
  if ( !v6
    || (System_Collections_Generic_List_int___Clear(
          v6,
          (const MethodInfo_2F67404 *)Method_System_Collections_Generic_List_int__Clear__),
        (v6 = this->fields.lockTargetIdList) == 0LL) )
  {
    sub_B2C434(v6, lockTargetIdList);
  }
  System_Collections_Generic_List_int___AddRange(
    v6,
    (System_Collections_Generic_IEnumerable_T__o *)lockTargetIdList,
    (const MethodInfo_2F6724C *)Method_System_Collections_Generic_List_int__AddRange__);
}


void __fastcall BattleData__set_DrawLotsDispMsg(
        BattleData_o *this,
        DrawLotsDisplayMessage_o *value,
        const MethodInfo *method)
{
  this->fields._DrawLotsDispMsg_k__BackingField = value;
  sub_B2C2F8(&this->fields._DrawLotsDispMsg_k__BackingField, value);
}


void __fastcall BattleData__set_EnemyAddOrderPosArray(
        BattleData_o *this,
        System_Int32_array *value,
        const MethodInfo *method)
{
  this->fields._EnemyAddOrderPosArray_k__BackingField = value;
  sub_B2C2F8(&this->fields._EnemyAddOrderPosArray_k__BackingField, value);
}


void __fastcall BattleData__set_EnemyCountStartValue(BattleData_o *this, int32_t value, const MethodInfo *method)
{
  this->fields._EnemyCountStartValue_k__BackingField = value;
}


void __fastcall BattleData__set_EnemyEntryCountOnThisTurn(BattleData_o *this, int32_t value, const MethodInfo *method)
{
  this->fields._EnemyEntryCountOnThisTurn_k__BackingField = value;
}


void __fastcall BattleData__set_EnemyEntryMaxCountEachTurn(BattleData_o *this, int32_t value, const MethodInfo *method)
{
  this->fields._EnemyEntryMaxCountEachTurn_k__BackingField = value;
}


void __fastcall BattleData__set_EnemyFieldPosCount(BattleData_o *this, int32_t value, const MethodInfo *method)
{
  this->fields._EnemyFieldPosCount_k__BackingField = value;
}


void __fastcall BattleData__set_FieldEnvData(
        BattleData_o *this,
        BattleFieldEnvironmentData_o *value,
        const MethodInfo *method)
{
  this->fields._FieldEnvData_k__BackingField = value;
  sub_B2C2F8(&this->fields._FieldEnvData_k__BackingField, value);
}


void __fastcall BattleData__set_IsReleaseUnusedAssetsWhenEntryMember(
        BattleData_o *this,
        bool value,
        const MethodInfo *method)
{
  this->fields._IsReleaseUnusedAssetsWhenEntryMember_k__BackingField = value;
}


void __fastcall BattleData__set_lastUsedPlayerSkillInfo(
        BattleData_o *this,
        BattleSkillInfoData_o *value,
        const MethodInfo *method)
{
  this->fields._lastUsedPlayerSkillInfo_k__BackingField = value;
  sub_B2C2F8(&this->fields._lastUsedPlayerSkillInfo_k__BackingField, value);
}


void __fastcall BattleData__set_overwriteBgmData(
        BattleData_o *this,
        OverwriteBattleBgmData_o *value,
        const MethodInfo *method)
{
  this->fields._overwriteBgmData_k__BackingField = value;
  sub_B2C2F8(&this->fields._overwriteBgmData_k__BackingField, value);
}


void __fastcall BattleData__shuffleCanSelectCommand(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v8; // x20
  System_Collections_Generic_List_int__o *doNotSelectCommandSvtIdList; // x0
  __int64 v10; // x1
  struct BattleCommandData_array *p_cmlist; // x8
  __int64 v12; // x22
  int max_length; // w9
  BattleCommandData_o *v14; // x21
  System_Object_array *v15; // x0
  System_Object_array *Shuffle_object; // x0
  __int64 v17; // x0

  if ( (byte_4184315 & 1) == 0 )
  {
    sub_B2C35C(&Method_BattleRandom_getShuffle_BattleCommandData___, method);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleCommandData__Add__, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleCommandData__ToArray__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleCommandData___ctor__, v6);
    sub_B2C35C(&System_Collections_Generic_List_BattleCommandData__TypeInfo, v7);
    byte_4184315 = 1;
  }
  v8 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B2C42C(System_Collections_Generic_List_BattleCommandData__TypeInfo);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v8,
    (const MethodInfo_2EF379C *)Method_System_Collections_Generic_List_BattleCommandData___ctor__);
  p_cmlist = this->fields.p_cmlist;
  if ( !p_cmlist )
    goto LABEL_13;
  v12 = 0LL;
  while ( 1 )
  {
    max_length = p_cmlist->max_length;
    if ( (int)v12 >= max_length )
      break;
    if ( (unsigned int)v12 >= max_length )
    {
      v17 = sub_B2C460(doNotSelectCommandSvtIdList);
      sub_B2C400(v17, 0LL);
    }
    v14 = p_cmlist->m_Items[v12];
    if ( v14 )
    {
      doNotSelectCommandSvtIdList = this->fields.doNotSelectCommandSvtIdList;
      if ( doNotSelectCommandSvtIdList )
      {
        doNotSelectCommandSvtIdList = (System_Collections_Generic_List_int__o *)System_Collections_Generic_List_int___Contains(
                                                                                  doNotSelectCommandSvtIdList,
                                                                                  v14->fields.uniqueId,
                                                                                  (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__);
        if ( ((unsigned __int8)doNotSelectCommandSvtIdList & 1) == 0 )
        {
          if ( !v8 )
            goto LABEL_13;
          System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
            v8,
            (EventMissionProgressRequest_Argument_ProgressData_o *)v14,
            (const MethodInfo_2EF4460 *)Method_System_Collections_Generic_List_BattleCommandData__Add__);
        }
        p_cmlist = this->fields.p_cmlist;
        ++v12;
        if ( p_cmlist )
          continue;
      }
    }
    goto LABEL_13;
  }
  if ( !v8 )
LABEL_13:
    sub_B2C434(doNotSelectCommandSvtIdList, v10);
  v15 = (System_Object_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                 (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v8,
                                 (const MethodInfo_2EF65AC *)Method_System_Collections_Generic_List_BattleCommandData__ToArray__);
  Shuffle_object = BattleRandom__getShuffle_object_(
                     v15,
                     (const MethodInfo_172A930 *)Method_BattleRandom_getShuffle_BattleCommandData___);
  this->fields.canSelectCommands = (struct BattleCommandData_array *)Shuffle_object;
  sub_B2C2F8(&this->fields.canSelectCommands, Shuffle_object);
  this->fields.canSelectCommandIndex = 0;
}


void __fastcall BattleData__shuffleCommand(BattleData_o *this, const MethodInfo *method)
{
  System_Object_array *Shuffle_object; // x0
  __int64 v4; // x0
  __int64 v5; // x1
  struct BattleData_o *data; // x8

  if ( (byte_4184312 & 1) == 0 )
  {
    sub_B2C35C(&Method_BattleRandom_getShuffle_BattleCommandData___, method);
    byte_4184312 = 1;
  }
  Shuffle_object = BattleRandom__getShuffle_object_(
                     (System_Object_array *)this->fields.p_cmlist,
                     (const MethodInfo_172A930 *)Method_BattleRandom_getShuffle_BattleCommandData___);
  this->fields.p_shcmlist = (struct BattleCommandData_array *)Shuffle_object;
  sub_B2C2F8(&this->fields.p_shcmlist, Shuffle_object);
  data = this->fields.data;
  this->fields.shuffleindex = 0;
  if ( !data )
    sub_B2C434(v4, v5);
  data->fields.isWaitDrawCard = 1;
}


void __fastcall BattleData__toggleHighSpeedMode(BattleData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  int32_t tutorialId; // w9
  int32_t systemflg_acceleration; // w19
  BattleData_c *v6; // x0
  System_String_o *speedKey; // x20

  if ( (byte_418434B & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    byte_418434B = 1;
  }
  tutorialId = this->fields.tutorialId;
  if ( this->fields.systemflg_acceleration == 1 )
    systemflg_acceleration = 2;
  else
    systemflg_acceleration = 1;
  this->fields.systemflg_acceleration = systemflg_acceleration;
  if ( tutorialId == -1 )
  {
    v6 = BattleData_TypeInfo;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
      v6 = BattleData_TypeInfo;
      systemflg_acceleration = this->fields.systemflg_acceleration;
    }
    speedKey = v6->static_fields->speedKey;
    if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
    }
    EncryptedPlayerPrefs__SetInt(speedKey, systemflg_acceleration, 0LL);
  }
}


void __fastcall BattleData__toggleSkipDead(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  bool systemflg_skipDead; // w9
  BattleData_c *v5; // x0
  int32_t v6; // w19
  System_String_o *SkipDeadKey; // x20

  v2 = this;
  if ( (byte_418434F & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    this = (BattleData_o *)sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    byte_418434F = 1;
  }
  if ( !v2 )
    sub_B2C434(this, method);
  systemflg_skipDead = !v2->fields.systemflg_skipDead;
  v2->fields.systemflg_skipDead = systemflg_skipDead;
  v5 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v5 = BattleData_TypeInfo;
    systemflg_skipDead = v2->fields.systemflg_skipDead;
  }
  v6 = systemflg_skipDead;
  SkipDeadKey = v5->static_fields->SkipDeadKey;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetInt(SkipDeadKey, v6, 0LL);
}


void __fastcall BattleData__toggleSkipSkillConf(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  bool systemflg_skipskillconf; // w9
  BattleData_c *v5; // x0
  int32_t v6; // w19
  System_String_o *skipKey; // x20

  v2 = this;
  if ( (byte_4184349 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    this = (BattleData_o *)sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    byte_4184349 = 1;
  }
  if ( !v2 )
    sub_B2C434(this, method);
  systemflg_skipskillconf = !v2->fields.systemflg_skipskillconf;
  v2->fields.systemflg_skipskillconf = systemflg_skipskillconf;
  v5 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v5 = BattleData_TypeInfo;
    systemflg_skipskillconf = v2->fields.systemflg_skipskillconf;
  }
  v6 = systemflg_skipskillconf;
  skipKey = v5->static_fields->skipKey;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetInt(skipKey, v6, 0LL);
}


void __fastcall BattleData__toggleTdConstantVelocity(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  bool systemflg_TdConstantvelocity; // w9
  BattleData_c *v5; // x0
  int32_t v6; // w19
  System_String_o *TdCvKey; // x20

  v2 = this;
  if ( (byte_418434D & 1) == 0 )
  {
    sub_B2C35C(&BattleData_TypeInfo, method);
    this = (BattleData_o *)sub_B2C35C(&EncryptedPlayerPrefs_TypeInfo, v3);
    byte_418434D = 1;
  }
  if ( !v2 )
    sub_B2C434(this, method);
  systemflg_TdConstantvelocity = !v2->fields.systemflg_TdConstantvelocity;
  v2->fields.systemflg_TdConstantvelocity = systemflg_TdConstantvelocity;
  v5 = BattleData_TypeInfo;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    v5 = BattleData_TypeInfo;
    systemflg_TdConstantvelocity = v2->fields.systemflg_TdConstantvelocity;
  }
  v6 = systemflg_TdConstantvelocity;
  TdCvKey = v5->static_fields->TdCvKey;
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetInt(TdCvKey, v6, 0LL);
}


void __fastcall BattleData__transformSvtCommand(
        BattleData_o *this,
        BattleServantData_o *svtData,
        const MethodInfo *method)
{
  const MethodInfo *v3; // x3
  BattleData_o *v6; // x0
  const MethodInfo *v7; // x3
  BattleData_o *v8; // x0
  const MethodInfo *v9; // x3

  BattleData__UpdateCommandData(this, this->fields.p_cmlist, svtData, v3);
  BattleData__UpdateCommandData(v6, this->fields.p_shcmlist, svtData, v7);
  BattleData__UpdateCommandData(v8, this->fields.fixedCommands, svtData, v9);
}


bool __fastcall BattleData__tryOverwriteEventEquipSkill(
        BattleData_o *this,
        System_Int32_array **skillIds,
        System_Int32_array **skillLvs,
        int32_t *masterIconId,
        const MethodInfo *method)
{
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  DataManager_o *Instance; // x0
  __int64 v14; // x1
  struct BattleEntity_o *battle_ent; // x8
  int32_t eventId; // w23
  EventDetailEntity_o *Entity; // x0
  struct BattleInfoData_o *battle_info; // x8
  System_Int32_array *v19; // x0
  System_Int32_array *v20; // x0
  unsigned __int64 v21; // x22
  System_Int32_array *v22; // x8
  System_Int32_array *v23; // x8
  char *v24; // x8
  bool v25; // cf
  __int64 v26; // x0
  int32_t id[2]; // [xsp+0h] [xbp-40h] BYREF
  EventEquipSkillReleaseEntity_o *outEnt; // [xsp+8h] [xbp-38h] BYREF

  if ( (byte_418430A & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_EventDetailMaster___, skillIds);
    sub_B2C35C(&Method_DataManager_GetMasterData_EventEquipSkillReleaseMaster___, v9);
    sub_B2C35C(&Method_DataMasterBase_EventDetailMaster__EventDetailEntity__int__GetEntity__, v10);
    sub_B2C35C(&int___TypeInfo, v11);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v12);
    byte_418430A = 1;
  }
  *(_QWORD *)id = 0LL;
  outEnt = 0LL;
  *skillLvs = 0LL;
  sub_B2C2F8(skillLvs, 0LL);
  *skillIds = 0LL;
  sub_B2C2F8(skillIds, 0LL);
  *masterIconId = 0;
  battle_ent = this->fields.battle_ent;
  if ( !battle_ent )
    goto LABEL_29;
  eventId = battle_ent->fields.eventId;
  if ( !eventId )
    goto LABEL_27;
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_29;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EventDetailMaster___);
  if ( !Instance )
    goto LABEL_29;
  Entity = (EventDetailEntity_o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                                    (DataMasterBase_WarMaster__WarEntity__int__o *)Instance,
                                    eventId,
                                    (const MethodInfo_24E40D0 *)Method_DataMasterBase_EventDetailMaster__EventDetailEntity__int__GetEntity__);
  if ( !Entity )
    return (char)Entity;
  Instance = (DataManager_o *)EventDetailEntity__IsEventOnlyEquip(Entity, 0LL);
  if ( ((unsigned __int8)Instance & 1) == 0 )
    goto LABEL_27;
  if ( !this->fields.battle_info )
    goto LABEL_29;
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_29;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_EventEquipSkillReleaseMaster___);
  outEnt = 0LL;
  if ( !Instance )
    goto LABEL_29;
  if ( !EventEquipSkillReleaseMaster__tryGetOpenEventEquipSkillReleaseEntity(
          (EventEquipSkillReleaseMaster_o *)Instance,
          eventId,
          &outEnt,
          0LL) )
    goto LABEL_27;
  Instance = (DataManager_o *)outEnt;
  if ( !outEnt )
    goto LABEL_29;
  Instance = (DataManager_o *)EventEquipSkillReleaseEntity__isForceOverwrite(outEnt, 0LL);
  if ( ((unsigned __int8)Instance & 1) == 0 )
  {
    battle_info = this->fields.battle_info;
    if ( !battle_info )
      goto LABEL_29;
    if ( !battle_info->fields.useEventEquip )
    {
LABEL_27:
      LOBYTE(Entity) = 0;
      return (char)Entity;
    }
  }
  v19 = (System_Int32_array *)sub_B2C374(int___TypeInfo, 3LL);
  *skillLvs = v19;
  sub_B2C2F8(skillLvs, v19);
  v20 = (System_Int32_array *)sub_B2C374(int___TypeInfo, 3LL);
  *skillIds = v20;
  sub_B2C2F8(skillIds, v20);
  v21 = 0LL;
  do
  {
    Instance = (DataManager_o *)outEnt;
    id[0] = -1;
    id[1] = -1;
    if ( !outEnt )
      goto LABEL_29;
    Instance = (DataManager_o *)EventEquipSkillReleaseEntity__tryGetSkill(outEnt, v21, &id[1], id, 0LL);
    v22 = *skillLvs;
    if ( !*skillLvs )
      goto LABEL_29;
    if ( v21 >= v22->max_length )
      goto LABEL_30;
    v22->m_Items[v21 + 1] = id[0];
    v23 = *skillIds;
    if ( !*skillIds )
      goto LABEL_29;
    if ( v21 >= v23->max_length )
    {
LABEL_30:
      v26 = sub_B2C460(Instance);
      sub_B2C400(v26, 0LL);
    }
    v24 = (char *)v23 + 4 * v21;
    v25 = v21++ >= 2;
    *((_DWORD *)v24 + 8) = id[1];
  }
  while ( !v25 );
  if ( !outEnt )
LABEL_29:
    sub_B2C434(Instance, v14);
  LOBYTE(Entity) = 1;
  *masterIconId = outEnt->fields.overwriteIconId;
  return (char)Entity;
}


void __fastcall BattleData__turnProgressing(BattleData_o *this, const MethodInfo *method)
{
  BattleData_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  struct System_Collections_Generic_List_BattleSkillInfoData__o *masterSkillInfo; // x8
  int size; // w21
  int rootfsm; // w8
  BattleData_o *v12; // x20
  unsigned int v13; // w23
  int32_t v14; // w22
  struct PlayMakerFSM_o *v15; // x8
  __int64 v16; // x9
  __int64 v17; // x11
  int32_t v18; // w11
  int32_t endMasterSkillTurnBuffValue; // w8
  __int64 v20; // x23
  int32_t v21; // w20
  struct System_Collections_Generic_List_BattleSkillInfoData__o *v22; // x22
  System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *aiNpcDataList; // x19
  struct BattleData___c_StaticFields *static_fields; // x8
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *_9__341_0; // x20
  Il2CppObject *v26; // x21
  struct BattleData___c_StaticFields *v27; // x0
  __int64 v28; // x0

  v2 = this;
  if ( (byte_4184305 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Action_AiNpcBattleServantData___ctor__, method);
    sub_B2C35C(&System_Action_AiNpcBattleServantData__TypeInfo, v3);
    sub_B2C35C(&Method_System_Collections_Generic_List_AiNpcBattleServantData__ForEach__, v4);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__get_Count__, v5);
    sub_B2C35C(&Method_System_Collections_Generic_List_BattleSkillInfoData__get_Item__, v6);
    sub_B2C35C(&Method_BattleData___c__turnProgressing_b__341_0__, v7);
    this = (BattleData_o *)sub_B2C35C(&BattleData___c_TypeInfo, v8);
    byte_4184305 = 1;
  }
  masterSkillInfo = v2->fields.masterSkillInfo;
  if ( !masterSkillInfo )
    goto LABEL_39;
  size = masterSkillInfo->fields._size;
  this = (BattleData_o *)BattleData__getFieldPlayerServantList(v2, method);
  if ( !this )
    goto LABEL_39;
  rootfsm = (int)this->fields.rootfsm;
  v12 = this;
  if ( rootfsm >= 1 )
  {
    v13 = 0;
    v14 = 0;
    while ( 1 )
    {
      if ( v13 >= rootfsm )
      {
        v28 = sub_B2C460(this);
        sub_B2C400(v28, 0LL);
      }
      this = (BattleData_o *)*((_QWORD *)&v12->fields.fsm + (int)v13);
      if ( !this )
        goto LABEL_39;
      this = (BattleData_o *)BattleServantData__getShortenUserEquipSkill((BattleServantData_o *)this, 0LL);
      if ( !this )
        goto LABEL_39;
      v15 = this->fields.rootfsm;
      if ( v15 )
      {
        if ( (int)v15 >= 1 )
          break;
      }
LABEL_17:
      rootfsm = (int)v12->fields.rootfsm;
      if ( (int)++v13 >= rootfsm )
        goto LABEL_20;
    }
    v16 = 0LL;
    while ( 1 )
    {
      v17 = *((_QWORD *)&this->fields.fsm + v16);
      if ( !v17 )
        break;
      v18 = *(_DWORD *)(v17 + 28);
      ++v16;
      if ( v14 <= v18 )
        v14 = v18;
      if ( (int)v16 >= (int)v15 )
        goto LABEL_17;
    }
LABEL_39:
    sub_B2C434(this, method);
  }
  v14 = 0;
LABEL_20:
  endMasterSkillTurnBuffValue = v2->fields.endMasterSkillTurnBuffValue;
  v2->fields.endMasterSkillTurnBuffValue = 0;
  if ( size >= 1 )
  {
    if ( v14 > endMasterSkillTurnBuffValue )
      endMasterSkillTurnBuffValue = v14;
    v20 = 0LL;
    v21 = endMasterSkillTurnBuffValue + 1;
    do
    {
      v22 = v2->fields.masterSkillInfo;
      if ( !v22 )
        goto LABEL_39;
      if ( v22->fields._size <= (unsigned int)v20 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41710740(0LL);
      this = (BattleData_o *)v22->fields._items->m_Items[v20];
      if ( !this )
        goto LABEL_39;
      this = (BattleData_o *)BattleSkillInfoData__TurnProgress((BattleSkillInfoData_o *)this, v21, 0, -1, 0LL, 0LL);
    }
    while ( (int)++v20 < size );
  }
  BattleData__RenewTurnDamageRecord(v2, method);
  aiNpcDataList = (System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *)v2->fields.aiNpcDataList;
  this = (BattleData_o *)BattleData___c_TypeInfo;
  if ( (BYTE3(BattleData___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleData___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleData___c_TypeInfo);
    this = (BattleData_o *)BattleData___c_TypeInfo;
  }
  static_fields = *(struct BattleData___c_StaticFields **)&this->fields.initturn;
  _9__341_0 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)static_fields->__9__341_0;
  if ( !_9__341_0 )
  {
    if ( (BYTE3(this->fields.p_changedecklist) & 4) != 0 && !LODWORD(this->fields.overwriteBgIndividuality) )
    {
      j_il2cpp_runtime_class_init_0(this);
      static_fields = BattleData___c_TypeInfo->static_fields;
    }
    v26 = (Il2CppObject *)static_fields->__9;
    _9__341_0 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)sub_B2C42C(System_Action_AiNpcBattleServantData__TypeInfo);
    System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData____ctor(
      _9__341_0,
      v26,
      Method_BattleData___c__turnProgressing_b__341_0__,
      (const MethodInfo_24BBAD8 *)Method_System_Action_AiNpcBattleServantData___ctor__);
    v27 = BattleData___c_TypeInfo->static_fields;
    v27->__9__341_0 = (struct System_Action_AiNpcBattleServantData__o *)_9__341_0;
    sub_B2C2F8(&v27->__9__341_0, _9__341_0);
  }
  if ( !aiNpcDataList )
    goto LABEL_39;
  System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex___ForEach(
    aiNpcDataList,
    (System_Action_T__o *)_9__341_0,
    (const MethodInfo_2EF5178 *)Method_System_Collections_Generic_List_AiNpcBattleServantData__ForEach__);
}


void __fastcall BattleData__updateEventActivityGauge(BattleData_o *this, int32_t point, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  perf = this->fields.perf;
  if ( !perf )
    sub_B2C434(0LL, point);
  BattlePerformance__PlayEventInfoPointGaugeEffect(perf, point, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleData__updateOverwriteBgIndividuality(
        BattleData_o *this,
        int32_t bgId,
        int32_t bgType,
        const MethodInfo *method)
{
  __int64 v7; // x1
  DataManager_o *Instance; // x0
  __int64 v9; // x1
  struct System_Int32_array *BgIndividuality; // x0

  if ( (byte_41842FC & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_BattleBgMaster___, *(_QWORD *)&bgId);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v7);
    byte_41842FC = 1;
  }
  if ( bgId >= 1 )
  {
    Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
    if ( !Instance
      || (Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                        Instance,
                                        (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_BattleBgMaster___)) == 0LL )
    {
      sub_B2C434(Instance, v9);
    }
    BgIndividuality = BattleBgMaster__GetBgIndividuality((BattleBgMaster_o *)Instance, bgId, bgType, 0LL);
    this->fields.overwriteBgIndividuality = BgIndividuality;
    sub_B2C2F8(&this->fields.overwriteBgIndividuality, BgIndividuality);
  }
}


void __fastcall BattleData__useMasterSkill(
        BattleData_o *this,
        BattleSkillInfoData_o *skillInfo,
        const MethodInfo *method)
{
  __int64 v5; // x1
  DataManager_o *Instance; // x0
  __int64 v7; // x1
  SkillLvMaster_o *v8; // x21
  SkillLvEntity_o *Entity; // x21
  int32_t v10; // w0
  const MethodInfo *v11; // x2
  int32_t v12; // w0
  const MethodInfo *v13; // x2

  if ( (byte_4184308 & 1) == 0 )
  {
    sub_B2C35C(&Method_DataManager_GetMasterData_SkillLvMaster___, skillInfo);
    sub_B2C35C(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v5);
    byte_4184308 = 1;
  }
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2841668 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_11;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17339EC *)Method_DataManager_GetMasterData_SkillLvMaster___);
  if ( !skillInfo )
    goto LABEL_11;
  v8 = (SkillLvMaster_o *)Instance;
  Instance = (DataManager_o *)((__int64 (__fastcall *)(BattleSkillInfoData_o *, Il2CppMethodPointer))skillInfo->klass->vtable._5_get_skillId.method)(
                                skillInfo,
                                skillInfo->klass->vtable._6_get_IndividualityArray.methodPtr);
  if ( !v8 )
    goto LABEL_11;
  Entity = SkillLvMaster__GetEntity(v8, (int32_t)Instance, skillInfo->fields.skilllv, 0LL);
  v10 = ((__int64 (__fastcall *)(BattleSkillInfoData_o *, Il2CppMethodPointer))skillInfo->klass->vtable._5_get_skillId.method)(
          skillInfo,
          skillInfo->klass->vtable._6_get_IndividualityArray.methodPtr);
  Instance = (DataManager_o *)BattleData__recordEventMasterSkillUsing(this, v10, v11);
  if ( ((unsigned __int8)Instance & 1) != 0 )
  {
    v12 = ((__int64 (__fastcall *)(BattleSkillInfoData_o *, Il2CppMethodPointer))skillInfo->klass->vtable._5_get_skillId.method)(
            skillInfo,
            skillInfo->klass->vtable._6_get_IndividualityArray.methodPtr);
    Instance = (DataManager_o *)BattleData__getEventActivityPoint(this, v12, v13);
    if ( !this->fields.perf )
      goto LABEL_11;
    BattlePerformance__PlayEventInfoPointGaugeEffect(this->fields.perf, (int32_t)Instance, 0LL);
  }
  if ( !Entity )
LABEL_11:
    sub_B2C434(Instance, v7);
  skillInfo->fields.chargeTurn = Entity->fields.chargeTurn;
  this->fields.masterSkillUseWaveTurn = ServantWaveTurnEventOwner__CalcWaveTurnVal(
                                          this->fields.wavecount,
                                          this->fields.turnCount,
                                          0LL);
}


void __fastcall BattleData_CommandHistory___ctor(BattleData_CommandHistory_o *this, const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleData_SaveData___ctor(BattleData_SaveData_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *v5; // x20
  System_String_array **v6; // x2
  System_String_array **v7; // x3
  System_Boolean_array **v8; // x4
  System_Int32_array **v9; // x5
  System_Int32_array *v10; // x6
  System_Int32_array *v11; // x7
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *v12; // x20
  System_String_array **v13; // x2
  System_String_array **v14; // x3
  System_Boolean_array **v15; // x4
  System_Int32_array **v16; // x5
  System_Int32_array *v17; // x6
  System_Int32_array *v18; // x7
  struct BattleFieldData_SaveData_array *v19; // x0
  System_String_array **v20; // x2
  System_String_array **v21; // x3
  System_Boolean_array **v22; // x4
  System_Int32_array **v23; // x5
  System_Int32_array *v24; // x6
  System_Int32_array *v25; // x7

  if ( (byte_4186A5F & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_Dictionary_string__object___ctor__, method);
    sub_B2C35C(&System_Collections_Generic_Dictionary_string__object__TypeInfo, v3);
    sub_B2C35C(&BattleFieldData_SaveData___TypeInfo, v4);
    byte_4186A5F = 1;
  }
  v5 = (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)sub_B2C42C(System_Collections_Generic_Dictionary_string__object__TypeInfo);
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject____ctor(
    v5,
    (const MethodInfo_2DB1110 *)Method_System_Collections_Generic_Dictionary_string__object___ctor__);
  this->fields.p_svlist = (struct System_Collections_Generic_Dictionary_string__object__o *)v5;
  sub_B2C2F8(
    (BattleServantConfConponent_o *)&this->fields.p_svlist,
    (System_Int32_array **)v5,
    v6,
    v7,
    v8,
    v9,
    v10,
    v11);
  v12 = (System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject__o *)sub_B2C42C(System_Collections_Generic_Dictionary_string__object__TypeInfo);
  System_Collections_Generic_Dictionary_XmlQualifiedName__XmlSchemaObject____ctor(
    v12,
    (const MethodInfo_2DB1110 *)Method_System_Collections_Generic_Dictionary_string__object___ctor__);
  this->fields.e_svlist = (struct System_Collections_Generic_Dictionary_string__object__o *)v12;
  sub_B2C2F8(
    (BattleServantConfConponent_o *)&this->fields.e_svlist,
    (System_Int32_array **)v12,
    v13,
    v14,
    v15,
    v16,
    v17,
    v18);
  v19 = (struct BattleFieldData_SaveData_array *)sub_B2C374(BattleFieldData_SaveData___TypeInfo, 0LL);
  this->fields.savefield_datalist = v19;
  sub_B2C2F8(
    (BattleServantConfConponent_o *)&this->fields.savefield_datalist,
    (System_Int32_array **)v19,
    v20,
    v21,
    v22,
    v23,
    v24,
    v25);
  this->fields.temporarySpell = -1;
  this->fields.masterSkillUseWaveTurn = -1LL;
  this->fields.enemyEntryMaxCountEachTurn = 0x7FFFFFFF;
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


System_Nullable_int__o __fastcall BattleData_SaveData__GetEnemyEntryMaxCountEachTurn(
        BattleData_SaveData_o *this,
        const MethodInfo *method)
{
  int32_t enemyEntryMaxCountEachTurn; // w1
  System_Nullable_int__o v4; // x0
  System_Nullable_int__o v5; // [xsp+8h] [xbp-18h] BYREF
  System_Nullable_int__o v6; // 0:x0.8

  if ( (byte_4186A5E & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Nullable_int___ctor__, method);
    byte_4186A5E = 1;
  }
  enemyEntryMaxCountEachTurn = this->fields.enemyEntryMaxCountEachTurn;
  v4 = 0LL;
  v5 = 0LL;
  if ( enemyEntryMaxCountEachTurn != 0x7FFFFFFF )
  {
    v6 = (System_Nullable_int__o)&v5;
    System_Nullable_int____ctor(
      v6,
      enemyEntryMaxCountEachTurn,
      (const MethodInfo_2151C1C *)Method_System_Nullable_int___ctor__);
    return v5;
  }
  return v4;
}


void __fastcall BattleData__PartsIntoTheBodyDelay_d__569___ctor(
        BattleData__PartsIntoTheBodyDelay_d__569_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleData__PartsIntoTheBodyDelay_d__569__MoveNext(
        BattleData__PartsIntoTheBodyDelay_d__569_o *this,
        const MethodInfo *method)
{
  System_String_array **v2; // x2
  System_String_array **v3; // x3
  System_Boolean_array **v4; // x4
  System_Int32_array **v5; // x5
  System_Int32_array *v6; // x6
  System_Int32_array *v7; // x7
  int32_t _1__state; // w8
  struct BattleData_o *_4__this; // x20
  Il2CppObject **p__2__current; // x19
  bool result; // w0
  struct BattlePerformance_o *perf; // x8
  Il2CppObject **v14; // x19
  int v15; // w8
  System_String_array **v16; // x2
  System_String_array **v17; // x3
  System_Boolean_array **v18; // x4
  System_Int32_array **v19; // x5
  System_Int32_array *v20; // x6
  System_Int32_array *v21; // x7

  _1__state = this->fields.__1__state;
  _4__this = this->fields.__4__this;
  if ( (unsigned int)(_1__state - 1) >= 2 )
  {
    if ( _1__state != 3 )
    {
      if ( !_1__state )
      {
        this->fields.__2__current = 0LL;
        p__2__current = &this->fields.__2__current;
        this->fields.__1__state = -1;
        sub_B2C2F8((BattleServantConfConponent_o *)&this->fields.__2__current, 0LL, v2, v3, v4, v5, v6, v7);
        result = 1;
        *((_DWORD *)p__2__current - 2) = 1;
        return result;
      }
      return 0;
    }
    this->fields.__1__state = -1;
    if ( _4__this )
      goto LABEL_10;
LABEL_15:
    sub_B2C434(this, method);
  }
  this->fields.__1__state = -1;
  if ( !_4__this )
    goto LABEL_15;
  perf = _4__this->fields.perf;
  if ( !perf )
    goto LABEL_15;
  if ( perf->fields.isBusyLoadEnemyActor )
  {
    this->fields.__2__current = 0LL;
    v14 = &this->fields.__2__current;
    sub_B2C2F8((BattleServantConfConponent_o *)&this->fields.__2__current, 0LL, v2, v3, v4, v5, v6, v7);
    v15 = 2;
LABEL_12:
    *((_DWORD *)v14 - 2) = v15;
    return 1;
  }
LABEL_10:
  if ( BattleData__CheckActorAllParts(_4__this, 0LL) )
  {
    this->fields.__2__current = 0LL;
    v14 = &this->fields.__2__current;
    sub_B2C2F8((BattleServantConfConponent_o *)v14, 0LL, v16, v17, v18, v19, v20, v21);
    v15 = 3;
    goto LABEL_12;
  }
  BattleData__PartsIntoTheBody(_4__this, 0LL);
  return 0;
}


Il2CppObject *__fastcall BattleData__PartsIntoTheBodyDelay_d__569__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleData__PartsIntoTheBodyDelay_d__569_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleData__PartsIntoTheBodyDelay_d__569__System_Collections_IEnumerator_Reset(
        BattleData__PartsIntoTheBodyDelay_d__569_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  System_NotSupportedException_o *v3; // x19
  __int64 v4; // x0

  v2 = sub_B2C360(&System_NotSupportedException_TypeInfo);
  v3 = (System_NotSupportedException_o *)sub_B2C42C(v2);
  System_NotSupportedException___ctor(v3, 0LL);
  v4 = sub_B2C360(&Method_BattleData__PartsIntoTheBodyDelay_d__569_System_Collections_IEnumerator_Reset__);
  sub_B2C400(v3, v4);
}


Il2CppObject *__fastcall BattleData__PartsIntoTheBodyDelay_d__569__System_Collections_IEnumerator_get_Current(
        BattleData__PartsIntoTheBodyDelay_d__569_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleData__PartsIntoTheBodyDelay_d__569__System_IDisposable_Dispose(
        BattleData__PartsIntoTheBodyDelay_d__569_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleData___c___cctor(const MethodInfo *method)
{
  __int64 v1; // x1
  Il2CppObject *v2; // x19
  BattleServantConfConponent_o *static_fields; // x0
  System_String_array **v4; // x2
  System_String_array **v5; // x3
  System_Boolean_array **v6; // x4
  System_Int32_array **v7; // x5
  System_Int32_array *v8; // x6
  System_Int32_array *v9; // x7

  if ( (byte_4186A54 & 1) == 0 )
  {
    sub_B2C35C(&BattleData___c_TypeInfo, v1);
    byte_4186A54 = 1;
  }
  v2 = (Il2CppObject *)sub_B2C42C(BattleData___c_TypeInfo);
  System_Object___ctor(v2, 0LL);
  static_fields = (BattleServantConfConponent_o *)BattleData___c_TypeInfo->static_fields;
  static_fields->klass = (BattleServantConfConponent_c *)v2;
  sub_B2C2F8(static_fields, (System_Int32_array **)v2, v4, v5, v6, v7, v8, v9);
}


void __fastcall BattleData___c___ctor(BattleData___c_o *this, const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleData___c___AllocateAiToServants_b__567_0(
        BattleData___c_o *this,
        BattleServantData_o *svt,
        const MethodInfo *method)
{
  if ( !svt || (this = (BattleData___c_o *)BattleServantData__get_AiStateManager(svt, 0LL)) == 0LL )
    sub_B2C434(this, svt);
  ((void (__fastcall *)(BattleData___c_o *, _QWORD, const char *))this->klass[1]._1.gc_desc)(
    this,
    0LL,
    this->klass[1]._1.name);
}


bool __fastcall BattleData___c___GetFieldAliveLogicServantArray_b__456_0(
        BattleData___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return BattleServantData__isAliveLogic(x, 0, 0LL);
}


bool __fastcall BattleData___c___GetRaidType_b__585_0(
        BattleData___c_o *this,
        BattleServantData_o *svt,
        const MethodInfo *method)
{
  if ( !svt )
    sub_B2C434(this, 0LL);
  return BattleServantData__get_IsRaidTypeBoss(svt, 0LL);
}


bool __fastcall BattleData___c___GetRestockServantLogicList_b__332_0(
        BattleData___c_o *this,
        RestockServantLogic_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return x->fields._IsActive_k__BackingField;
}


int32_t __fastcall BattleData___c___GetRestockableSubServantArray_b__451_1(
        BattleData___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return BattleServantData__getDeckIndex(x, 0LL);
}


bool __fastcall BattleData___c___GetSubFieldIndividualityServant_b__388_0(
        BattleData___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return !BattleServantData__isDead(x, 0LL);
}


bool __fastcall BattleData___c___GetSubServantArray_b__450_0(
        BattleData___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return !x->fields.isEntry;
}


int32_t __fastcall BattleData___c___GetSubServantArray_b__450_1(
        BattleData___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return BattleServantData__getDeckIndex(x, 0LL);
}


int32_t __fastcall BattleData___c___GetSubServantUsableDeckIndex_b__329_0(
        BattleData___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return BattleServantData__getDeckIndex(x, 0LL);
}


bool __fastcall BattleData___c___IsAliveOtherRaidTypeBoss_b__584_0(
        BattleData___c_o *this,
        BattleServantData_o *svt,
        const MethodInfo *method)
{
  if ( !svt )
    sub_B2C434(this, 0LL);
  return !BattleServantData__isDead(svt, 0LL) && !BattleServantData__get_IsRaidTypeBoss(svt, 0LL);
}


bool __fastcall BattleData___c___IsDeckNoUserSvt_b__310_0(
        BattleData___c_o *this,
        RestrictionEntity_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return x->fields.type == 5;
}


int32_t __fastcall BattleData___c___LoadNoSkipDeadFirstIdList_b__274_0(
        BattleData___c_o *this,
        System_String_o *a,
        const MethodInfo *method)
{
  return System_Int32__Parse(a, 0LL);
}


int32_t __fastcall BattleData___c___SetBattleDataFromSaveData_b__560_0(
        BattleData___c_o *this,
        System_String_o *key,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  intptr_t v7; // w20
  System_Type_o *TypeFromHandle; // x20
  Il2CppObject *v9; // x0
  __int64 v10; // x1
  BattleData___c_o *v12; // x0
  Il2CppObject *v13; // x1
  const MethodInfo *v14; // x2
  System_RuntimeTypeHandle_o v15; // 0:w0.4

  if ( (byte_4186A56 & 1) == 0 )
  {
    sub_B2C35C(&BattleData_CHAIN_COUNT_TYPE_var, key);
    sub_B2C35C(&BattleData_CHAIN_COUNT_TYPE_TypeInfo, v4);
    sub_B2C35C(&System_Enum_TypeInfo, v5);
    sub_B2C35C(&System_Type_TypeInfo, v6);
    byte_4186A56 = 1;
  }
  v7 = (int)BattleData_CHAIN_COUNT_TYPE_var;
  if ( (BYTE3(System_Type_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !System_Type_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(System_Type_TypeInfo);
  v15.fields.value = v7;
  TypeFromHandle = System_Type__GetTypeFromHandle(v15, 0LL);
  if ( (BYTE3(System_Enum_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !System_Enum_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(System_Enum_TypeInfo);
  v9 = System_Enum__Parse(TypeFromHandle, key, 0LL);
  if ( !v9 )
    sub_B2C434(0LL, v10);
  if ( v9->klass->_1.element_class == BattleData_CHAIN_COUNT_TYPE_TypeInfo->_1.element_class )
    return *(_DWORD *)j_il2cpp_object_unbox_0(v9);
  v12 = (BattleData___c_o *)sub_B2C728(v9);
  return BattleData___c___SetBattleDataFromSaveData_b__560_1(v12, v13, v14);
}


int32_t __fastcall BattleData___c___SetBattleDataFromSaveData_b__560_1(
        BattleData___c_o *this,
        Il2CppObject *value,
        const MethodInfo *method)
{
  if ( (byte_4186A57 & 1) == 0 )
  {
    sub_B2C35C(&System_Convert_TypeInfo, value);
    byte_4186A57 = 1;
  }
  if ( (BYTE3(System_Convert_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !System_Convert_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(System_Convert_TypeInfo);
  }
  return System_Convert__ToInt32(value, 0LL);
}


int32_t __fastcall BattleData___c___SetBattleDataFromSaveData_b__560_2(
        BattleData___c_o *this,
        System_Collections_Generic_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int__o x,
        const MethodInfo *method)
{
  int32_t key; // w19

  key = x.fields.key;
  if ( (byte_4186A58 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int__get_Key__, x);
    byte_4186A58 = 1;
  }
  return key;
}


int32_t __fastcall BattleData___c___SetBattleDataFromSaveData_b__560_3(
        BattleData___c_o *this,
        System_Collections_Generic_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int__o x,
        const MethodInfo *method)
{
  int32_t value; // w19

  value = x.fields.value;
  if ( (byte_4186A59 & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_KeyValuePair_BattleData_CHAIN_COUNT_TYPE__int__get_Value__, x);
    byte_4186A59 = 1;
  }
  return value;
}


BattleServantData_ConnectData_o *__fastcall BattleData___c___getActionList_b__530_0(
        BattleData___c_o *this,
        BattleServantData_o *bsd,
        const MethodInfo *method)
{
  if ( !bsd )
    sub_B2C434(this, 0LL);
  return BattleServantData__getConnenctData(bsd, 0LL);
}


System_String_o *__fastcall BattleData___c___getActionList_b__530_1(
        BattleData___c_o *this,
        BattleServantData_ConnectData_o *cd,
        const MethodInfo *method)
{
  System_String_o *v4; // x0

  if ( (byte_4186A55 & 1) == 0 )
  {
    this = (BattleData___c_o *)sub_B2C35C(&StringLiteral_22849/*"u"*/, cd);
    byte_4186A55 = 1;
  }
  if ( !cd )
    sub_B2C434(this, cd);
  v4 = System_Int32__ToString((int)cd + 16, 0LL);
  return System_String__Concat_44305532((System_String_o *)StringLiteral_22849/*"u"*/, v4, 0LL);
}


System_String_o *__fastcall BattleData___c___getActionList_b__530_2(
        BattleData___c_o *this,
        System_String_o *a,
        System_String_o *b,
        const MethodInfo *method)
{
  return System_String__Concat_44305532(a, b, 0LL);
}


int32_t __fastcall BattleData___c___getEnemySubBackServantData_b__430_0(
        BattleData___c_o *this,
        BattleServantData_o *a,
        BattleServantData_o *b,
        const MethodInfo *method)
{
  if ( !a || (this = (BattleData___c_o *)BattleServantData__getDeckIndex(a, 0LL), !b) )
    sub_B2C434(this, a);
  return (_DWORD)this - BattleServantData__getDeckIndex(b, 0LL);
}


int32_t __fastcall BattleData___c___getPlayerSubServantData_b__426_0(
        BattleData___c_o *this,
        BattleServantData_o *a,
        BattleServantData_o *b,
        const MethodInfo *method)
{
  if ( !a || (this = (BattleData___c_o *)BattleServantData__getDeckIndex(a, 0LL), !b) )
    sub_B2C434(this, a);
  return (_DWORD)this - BattleServantData__getDeckIndex(b, 0LL);
}


int32_t __fastcall BattleData___c___getSubPlayerServantList_b__449_0(
        BattleData___c_o *this,
        BattleServantData_o *a,
        BattleServantData_o *b,
        const MethodInfo *method)
{
  if ( !a || (this = (BattleData___c_o *)BattleServantData__getDeckIndex(a, 0LL), !b) )
    sub_B2C434(this, a);
  return (_DWORD)this - BattleServantData__getDeckIndex(b, 0LL);
}


int32_t __fastcall BattleData___c___getWaveClearTurn_b__520_0(
        BattleData___c_o *this,
        System_String_o *s,
        const MethodInfo *method)
{
  int32_t result; // [xsp+Ch] [xbp-4h] BYREF

  result = 0;
  System_Int32__TryParse(s, &result, 0LL);
  return result;
}


bool __fastcall BattleData___c___isAliveEntriesByForcedFlag_b__633_0(
        BattleData___c_o *this,
        int32_t x,
        const MethodInfo *method)
{
  return x != -1;
}


int32_t __fastcall BattleData___c___loadMasterSkill_b__345_1(
        BattleData___c_o *this,
        int32_t x,
        const MethodInfo *method)
{
  return x;
}


int32_t __fastcall BattleData___c___loadSaveTurnNstage_b__576_0(
        BattleData___c_o *this,
        BattleServantData_o *a,
        BattleServantData_o *b,
        const MethodInfo *method)
{
  if ( !a || (this = (BattleData___c_o *)BattleServantData__getDeckIndex(a, 0LL), !b) )
    sub_B2C434(this, a);
  return (_DWORD)this - BattleServantData__getDeckIndex(b, 0LL);
}


bool __fastcall BattleData___c___saveKnockdownEachWave_b__668_0(
        BattleData___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return !BattleServantData__isAlive(x, 0, 0LL);
}


void __fastcall BattleData___c___turnProgressing_b__341_0(
        BattleData___c_o *this,
        AiNpcBattleServantData_o *npc,
        const MethodInfo *method)
{
  if ( !npc )
    sub_B2C434(this, 0LL);
  AiNpcBattleServantData__ResetActCount(npc, 0LL);
}


void __fastcall BattleData___c__DisplayClass330_0___ctor(
        BattleData___c__DisplayClass330_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleData___c__DisplayClass330_0___RefreshAllSubServantDeckIndex_b__1(
        BattleData___c__DisplayClass330_0_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  int32_t deckIndex; // w8

  deckIndex = this->fields.deckIndex;
  this->fields.deckIndex = deckIndex + 1;
  if ( !x )
    sub_B2C434(this, 0LL);
  x->fields.deckIndex = deckIndex;
}


void __fastcall BattleData___c__DisplayClass343_0___ctor(
        BattleData___c__DisplayClass343_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass343_0___getMasterSkillInfo_b__0(
        BattleData___c__DisplayClass343_0_o *this,
        BattleSkillInfoData_o *s,
        const MethodInfo *method)
{
  if ( !s )
    sub_B2C434(this, 0LL);
  return s->fields.type == 1 && s->fields.index == this->fields.index;
}


void __fastcall BattleData___c__DisplayClass345_0___ctor(
        BattleData___c__DisplayClass345_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


int32_t __fastcall BattleData___c__DisplayClass345_0___loadMasterSkill_b__0(
        BattleData___c__DisplayClass345_0_o *this,
        int32_t a,
        int32_t b,
        const MethodInfo *method)
{
  struct System_Int32_array *addIdxs; // x8
  unsigned int max_length; // w9
  __int64 v7; // x0

  addIdxs = this->fields.addIdxs;
  if ( !addIdxs )
    sub_B2C434(this, a);
  max_length = addIdxs->max_length;
  if ( max_length <= b || max_length <= a )
  {
    v7 = sub_B2C460(this);
    sub_B2C400(v7, 0LL);
  }
  return addIdxs->m_Items[b + 1] - addIdxs->m_Items[a + 1];
}


void __fastcall BattleData___c__DisplayClass353_0___ctor(
        BattleData___c__DisplayClass353_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass353_0___getBoostSkillInfo_b__0(
        BattleData___c__DisplayClass353_0_o *this,
        BattleBoostItemInfoData_o *s,
        const MethodInfo *method)
{
  if ( !s )
    sub_B2C434(this, 0LL);
  return s->fields.type == 21 && s->fields.index == this->fields.index;
}


void __fastcall BattleData___c__DisplayClass388_0___ctor(
        BattleData___c__DisplayClass388_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleData___c__DisplayClass388_0___GetSubFieldIndividualityServant_b__1(
        BattleData___c__DisplayClass388_0_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  BattleData___c__DisplayClass388_0_o *v4; // x20
  System_Collections_Generic_List_int__o *retList; // x20

  v4 = this;
  if ( (byte_4186A5A & 1) == 0 )
  {
    this = (BattleData___c__DisplayClass388_0_o *)sub_B2C35C(&Method_System_Collections_Generic_List_int__AddRange__, x);
    byte_4186A5A = 1;
  }
  if ( !x
    || (retList = v4->fields.retList,
        this = (BattleData___c__DisplayClass388_0_o *)BattleServantData__GetSubFieldIndividuality(x, 0LL),
        !retList) )
  {
    sub_B2C434(this, x);
  }
  System_Collections_Generic_List_int___AddRange(
    retList,
    (System_Collections_Generic_IEnumerable_T__o *)this,
    (const MethodInfo_2F6724C *)Method_System_Collections_Generic_List_int__AddRange__);
}


void __fastcall BattleData___c__DisplayClass418_0___ctor(
        BattleData___c__DisplayClass418_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass418_0___CheckFreshBuffDataList_b__0(
        BattleData___c__DisplayClass418_0_o *this,
        int32_t type,
        const MethodInfo *method)
{
  struct BuffEntity_o *ent; // x8

  ent = this->fields.ent;
  if ( !ent )
    sub_B2C434(this, type);
  return ent->fields.type == type;
}


void __fastcall BattleData___c__DisplayClass428_0___ctor(
        BattleData___c__DisplayClass428_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass428_0___GetAiNpcServantData_b__0(
        BattleData___c__DisplayClass428_0_o *this,
        AiNpcBattleServantData_o *data,
        const MethodInfo *method)
{
  if ( !data )
    sub_B2C434(this, 0LL);
  return BattleServantData__checkID((BattleServantData_o *)data, this->fields.id, 0LL);
}


void __fastcall BattleData___c__DisplayClass435_0___ctor(
        BattleData___c__DisplayClass435_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData___c__DisplayClass435_0___getPlayerServantIDList_b__0(
        BattleData___c__DisplayClass435_0_o *this,
        int32_t id,
        const MethodInfo *method)
{
  System_Collections_Generic_List_int__o *v5; // x0

  if ( (byte_4186A5B & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, *(_QWORD *)&id);
    byte_4186A5B = 1;
  }
  v5 = this->fields.result;
  if ( !v5 )
    sub_B2C434(0LL, *(_QWORD *)&id);
  return !System_Collections_Generic_List_int___Contains(
            v5,
            id,
            (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__);
}


void __fastcall BattleData___c__DisplayClass451_0___ctor(
        BattleData___c__DisplayClass451_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass451_0___GetRestockableSubServantArray_b__0(
        BattleData___c__DisplayClass451_0_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return !x->fields.isEntry
      && BattleServantData__isAlive(x, 0, 0LL)
      && BattleServantData__checkEntryIndex(x, this->fields.deckIndex, 0LL);
}


void __fastcall BattleData___c__DisplayClass452_0___ctor(
        BattleData___c__DisplayClass452_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleData___c__DisplayClass452_0___getFieldPlayerServantIDList_b__0(
        BattleData___c__DisplayClass452_0_o *this,
        int32_t id,
        const MethodInfo *method)
{
  System_Collections_Generic_List_int__o *v5; // x0

  if ( (byte_4186A5C & 1) == 0 )
  {
    sub_B2C35C(&Method_System_Collections_Generic_List_int__Contains__, *(_QWORD *)&id);
    byte_4186A5C = 1;
  }
  v5 = this->fields.result;
  if ( !v5 )
    sub_B2C434(0LL, *(_QWORD *)&id);
  return !System_Collections_Generic_List_int___Contains(
            v5,
            id,
            (const MethodInfo_2F6744C *)Method_System_Collections_Generic_List_int__Contains__);
}


void __fastcall BattleData___c__DisplayClass469_0___ctor(
        BattleData___c__DisplayClass469_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass469_0___CheckAlivePlayers_b__0(
        BattleData___c__DisplayClass469_0_o *this,
        BattleServantData_o *svt,
        const MethodInfo *method)
{
  BattleData___c__DisplayClass469_0_o *v4; // x20

  v4 = this;
  if ( (byte_4186A5D & 1) == 0 )
  {
    this = (BattleData___c__DisplayClass469_0_o *)sub_B2C35C(&Method_System_Func_BattleServantData__bool__Invoke__, svt);
    byte_4186A5D = 1;
  }
  if ( !svt )
    goto LABEL_8;
  if ( BattleServantData__isAlive(svt, 0, 0LL) )
  {
    this = (BattleData___c__DisplayClass469_0_o *)v4->fields.func;
    if ( this )
      return System_Func_BattleBuffData_BuffData__bool___Invoke(
               (System_Func_BattleBuffData_BuffData__bool__o *)this,
               (BattleBuffData_BuffData_o *)svt,
               (const MethodInfo_2711C18 *)Method_System_Func_BattleServantData__bool__Invoke__);
LABEL_8:
    sub_B2C434(this, svt);
  }
  return 0;
}


void __fastcall BattleData___c__DisplayClass546_0___ctor(
        BattleData___c__DisplayClass546_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass546_0___CreateLotteryCommandAssistInfo_b__0(
        BattleData___c__DisplayClass546_0_o *this,
        commandAssistData_o *x,
        const MethodInfo *method)
{
  BattleData_o *_4__this; // x0
  EventCommandAssistMaster_o *eventCommandAssistMaster; // x19

  _4__this = this->fields.__4__this;
  if ( !_4__this
    || (eventCommandAssistMaster = this->fields.eventCommandAssistMaster,
        _4__this = (BattleData_o *)BattleData__get_eventId(_4__this, 0LL),
        !x)
    || !eventCommandAssistMaster )
  {
    sub_B2C434(_4__this, x);
  }
  return !EventCommandAssistMaster__IsEnableEntity(eventCommandAssistMaster, (int32_t)_4__this, x->fields.id, -1, 0LL);
}


void __fastcall BattleData___c__DisplayClass546_1___ctor(
        BattleData___c__DisplayClass546_1_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass546_1___CreateLotteryCommandAssistInfo_b__1(
        BattleData___c__DisplayClass546_1_o *this,
        commandAssistData_o *x,
        const MethodInfo *method)
{
  struct BattleDeckServantData_o *deckData; // x8

  if ( !x || (deckData = this->fields.deckData) == 0LL )
    sub_B2C434(this, x);
  return x->fields.userSvtId == deckData->fields.userSvtId && x->fields.cardIndex == this->fields.i;
}


void __fastcall BattleData___c__DisplayClass549_0___ctor(
        BattleData___c__DisplayClass549_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass549_0___GetCommandAssistList_b__0(
        BattleData___c__DisplayClass549_0_o *this,
        EventCommandAssistEntity_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return x->fields.assistCardId == this->fields.cardType;
}


void __fastcall BattleData___c__DisplayClass560_0___ctor(
        BattleData___c__DisplayClass560_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass560_0___SetBattleDataFromSaveData_b__4(
        BattleData___c__DisplayClass560_0_o *this,
        BattleServantData_SaveData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B2C434(this, 0LL);
  return x->fields.index == this->fields.index;
}


void __fastcall BattleData___c__DisplayClass562_0___ctor(
        BattleData___c__DisplayClass562_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass562_0___LoadAiNpcServant_b__0(
        BattleData___c__DisplayClass562_0_o *this,
        BattleServantData_SaveData_o *x,
        const MethodInfo *method)
{
  struct BattleDeckServantData_o *deckSvt; // x8

  if ( !x || (deckSvt = this->fields.deckSvt) == 0LL )
    sub_B2C434(this, x);
  return x->fields.uniqueId == deckSvt->fields.uniqueId;
}


void __fastcall BattleData___c__DisplayClass567_0___ctor(
        BattleData___c__DisplayClass567_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass567_0___AllocateAiToServants_b__1(
        BattleData___c__DisplayClass567_0_o *this,
        AiAllocationInfo_o *ai,
        const MethodInfo *method)
{
  if ( !ai )
    sub_B2C434(this, 0LL);
  return AiAllocationInfo__IsMatch(ai, this->fields.svt, this->fields.svtIndividuality, 0LL);
}


void __fastcall BattleData___c__DisplayClass731_0___ctor(
        BattleData___c__DisplayClass731_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleData___c__DisplayClass731_0___ResetFieldEnemyUseBuff_b__0(
        BattleData___c__DisplayClass731_0_o *this,
        BattleServantData_o *svt,
        const MethodInfo *method)
{
  BattleData___c__DisplayClass731_0_o *v3; // x19

  if ( !svt
    || (v3 = this, (this = (BattleData___c__DisplayClass731_0_o *)BattleServantData__get_BuffData(svt, 0LL)) == 0LL) )
  {
    sub_B2C434(this, svt);
  }
  BattleBuffData__ResetTargetUseBuff((BattleBuffData_o *)this, v3->fields.targetType, v3->fields.isIntervalOnly, 0LL);
}


void __fastcall BattleData___c__DisplayClass732_0___ctor(
        BattleData___c__DisplayClass732_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleData___c__DisplayClass732_0___ExistsFieldEnemyIntervalBuff_b__0(
        BattleData___c__DisplayClass732_0_o *this,
        BattleServantData_o *svt,
        const MethodInfo *method)
{
  BattleData___c__DisplayClass732_0_o *v3; // x19

  if ( !svt
    || (v3 = this, (this = (BattleData___c__DisplayClass732_0_o *)BattleServantData__get_BuffData(svt, 0LL)) == 0LL) )
  {
    sub_B2C434(this, svt);
  }
  return BattleBuffData__ExistsTargetIntervalBuff((BattleBuffData_o *)this, v3->fields.targetType, 0LL);
}