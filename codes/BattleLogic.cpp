void __fastcall BattleLogic___cctor(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  struct BattleLogic_StaticFields *static_fields; // x0
  __int64 v13; // x1
  struct BattleLogic_StaticFields *v14; // x0
  __int64 v15; // x1
  struct BattleLogic_StaticFields *v16; // x0
  __int64 v17; // x1
  System_Array_o *v18; // x19
  struct BattleLogic_StaticFields *v19; // x0
  __int64 v20; // x0
  struct System_String_array *v21; // x19
  __int64 v22; // x0
  __int64 v23; // x1
  __int64 v24; // x1
  struct BattleLogic_StaticFields *v25; // x0
  struct BattleLogic_StaticFields *v26; // x0
  __int64 v27; // x1
  struct BattleLogic_StaticFields *v28; // x0
  __int64 v29; // x1
  __int64 v30; // x0
  __int64 v31; // x0
  System_RuntimeFieldHandle_o v32; // 0:w1.4

  if ( (byte_42118EE & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, v1);
    sub_B0D8A4(&int___TypeInfo, v2);
    sub_B0D8A4(&string___TypeInfo, v3);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__A415B6039B5C703ADFDA790F447E81EE10EC946DF9D6F69DCF550EE69B386882,
      v4);
    sub_B0D8A4(&StringLiteral_17905/*"cutinFirstIdListKey"*/, v5);
    sub_B0D8A4(&StringLiteral_18230/*"ef_commandspell_{0:D2}"*/, v6);
    sub_B0D8A4(&StringLiteral_18231/*"ef_commandspell{0:D4}"*/, v7);
    sub_B0D8A4(&StringLiteral_911/*"/Management/CommonUI/UI Root/BgCamera"*/, v8);
    sub_B0D8A4(&StringLiteral_912/*"/Management/Script"*/, v9);
    sub_B0D8A4(&StringLiteral_18323/*"effectFirstIdListKey"*/, v10);
    sub_B0D8A4(&StringLiteral_4186/*"CommandSpellEffect/ef_commandspell{0:D4}"*/, v11);
    byte_42118EE = 1;
  }
  static_fields = BattleLogic_TypeInfo->static_fields;
  v13 = StringLiteral_4186/*"CommandSpellEffect/ef_commandspell{0:D4}"*/;
  static_fields->COMMAND_SPELL_EFFECT_ASSETNAME = (struct System_String_o *)StringLiteral_4186/*"CommandSpellEffect/ef_commandspell{0:D4}"*/;
  sub_B0D840(&static_fields->COMMAND_SPELL_EFFECT_ASSETNAME, v13);
  v14 = BattleLogic_TypeInfo->static_fields;
  v15 = StringLiteral_18231/*"ef_commandspell{0:D4}"*/;
  v14->COMMAND_SPELL_EFFECT_PREFABNAME = (struct System_String_o *)StringLiteral_18231/*"ef_commandspell{0:D4}"*/;
  sub_B0D840(&v14->COMMAND_SPELL_EFFECT_PREFABNAME, v15);
  v16 = BattleLogic_TypeInfo->static_fields;
  v17 = StringLiteral_18230/*"ef_commandspell_{0:D2}"*/;
  v16->COMMAND_SPELL_EFFECT_ANIMNAME = (struct System_String_o *)StringLiteral_18230/*"ef_commandspell_{0:D2}"*/;
  sub_B0D840(&v16->COMMAND_SPELL_EFFECT_ANIMNAME, v17);
  v18 = (System_Array_o *)sub_B0D8BC(int___TypeInfo, 5LL);
  v32.fields.value = Field__PrivateImplementationDetails__A415B6039B5C703ADFDA790F447E81EE10EC946DF9D6F69DCF550EE69B386882;
  System_Runtime_CompilerServices_RuntimeHelpers__InitializeArray_42880004(v18, v32, 0LL);
  v19 = BattleLogic_TypeInfo->static_fields;
  v19->addStarWeight = (struct System_Int32_array *)v18;
  sub_B0D840(&v19->addStarWeight, v18);
  v20 = sub_B0D8BC(string___TypeInfo, 2LL);
  if ( !v20 )
    sub_B0D97C(0LL);
  v21 = (struct System_String_array *)v20;
  v22 = StringLiteral_912/*"/Management/Script"*/;
  if ( StringLiteral_912/*"/Management/Script"*/ )
  {
    v22 = sub_B0D964(StringLiteral_912/*"/Management/Script"*/, v21->obj.klass->_1.element_class);
    if ( !v22 )
      goto LABEL_16;
    v23 = StringLiteral_912/*"/Management/Script"*/;
  }
  else
  {
    v23 = 0LL;
  }
  if ( !v21->max_length )
    goto LABEL_15;
  v21->m_Items[0] = (System_String_o *)v23;
  sub_B0D840(v21->m_Items, v23);
  v22 = StringLiteral_911/*"/Management/CommonUI/UI Root/BgCamera"*/;
  if ( StringLiteral_911/*"/Management/CommonUI/UI Root/BgCamera"*/ )
  {
    v22 = sub_B0D964(StringLiteral_911/*"/Management/CommonUI/UI Root/BgCamera"*/, v21->obj.klass->_1.element_class);
    if ( v22 )
    {
      v24 = StringLiteral_911/*"/Management/CommonUI/UI Root/BgCamera"*/;
      goto LABEL_13;
    }
LABEL_16:
    v31 = sub_B0D99C();
    sub_B0D948(v31, 0LL);
  }
  v24 = 0LL;
LABEL_13:
  if ( v21->max_length <= 1 )
  {
LABEL_15:
    v30 = sub_B0D9A8(v22);
    sub_B0D948(v30, 0LL);
  }
  v21->m_Items[1] = (System_String_o *)v24;
  sub_B0D840(&v21->m_Items[1], v24);
  v25 = BattleLogic_TypeInfo->static_fields;
  v25->unusedGameObjectNames = v21;
  sub_B0D840(&v25->unusedGameObjectNames, v21);
  v26 = BattleLogic_TypeInfo->static_fields;
  v27 = StringLiteral_17905/*"cutinFirstIdListKey"*/;
  v26->CUTIN_FIRST_ID_LIST_KEY = (struct System_String_o *)StringLiteral_17905/*"cutinFirstIdListKey"*/;
  sub_B0D840(&v26->CUTIN_FIRST_ID_LIST_KEY, v27);
  v28 = BattleLogic_TypeInfo->static_fields;
  v29 = StringLiteral_18323/*"effectFirstIdListKey"*/;
  v28->EFFECT_FIRST_ID_LIST_KEY = (struct System_String_o *)StringLiteral_18323/*"effectFirstIdListKey"*/;
  sub_B0D840(&v28->EFFECT_FIRST_ID_LIST_KEY, v29);
}


void __fastcall BattleLogic___ctor(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *v16; // x21
  __int64 v17; // x1
  __int64 v18; // x2
  System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare__o *v19; // x21
  __int64 v20; // x1
  __int64 v21; // x2
  System_Collections_Generic_List_RegexCharClass_SingleRange__o *v22; // x21
  void *v23; // x1
  __int64 v29; // x1
  __int64 v30; // x2
  System_Collections_Generic_List_int__o *v31; // x21
  __int64 v32; // x0
  unsigned int v33; // w8
  __int64 v34; // x0
  __int64 v35; // x20
  float v36; // s4
  float v37; // s5
  float v38; // s6
  float v39; // s7
  float v40; // s4
  float v41; // s5
  float v42; // s6
  float v43; // s7
  float v44; // s4
  float v45; // s5
  float v46; // s6
  float v47; // s7
  struct BattleLogic_TutorialStringData_array *v48; // x20
  __int64 v49; // x1
  __int64 v50; // x2
  BattleLogic_TutorialStringData_o *v51; // x0
  BattleLogic_TutorialStringData_o *v52; // x21
  __int64 v53; // x1
  __int64 v54; // x2
  BattleLogic_TutorialStringData_o *v55; // x0
  BattleLogic_TutorialStringData_o *v56; // x21
  __int64 v57; // x1
  __int64 v58; // x2
  BattleLogic_TutorialStringData_o *v59; // x0
  BattleLogic_TutorialStringData_o *v60; // x21
  __int64 v61; // x1
  __int64 v62; // x2
  BattleLogic_TutorialStringData_o *v63; // x0
  BattleLogic_TutorialStringData_o *v64; // x21
  __int64 v65; // x1
  __int64 v66; // x2
  BattleLogic_TutorialStringData_o *v67; // x0
  BattleLogic_TutorialStringData_o *v68; // x21
  __int64 v69; // x1
  __int64 v70; // x2
  BattleLogic_TutorialStringData_o *v71; // x0
  BattleLogic_TutorialStringData_o *v72; // x21
  __int64 v73; // x1
  __int64 v74; // x2
  BattleLogic_TutorialStringData_o *v75; // x0
  BattleLogic_TutorialStringData_o *v76; // x21
  __int64 v77; // x1
  __int64 v78; // x2
  BattleLogic_TutorialStringData_o *v79; // x0
  BattleLogic_TutorialStringData_o *v80; // x21
  __int64 v81; // x1
  __int64 v82; // x2
  BattleLogic_TutorialStringData_o *v83; // x0
  BattleLogic_TutorialStringData_o *v84; // x21
  __int64 v85; // x1
  __int64 v86; // x2
  BattleLogic_TutorialStringData_o *v87; // x0
  BattleLogic_TutorialStringData_o *v88; // x21
  __int64 v89; // x1
  __int64 v90; // x2
  BattleLogic_TutorialStringData_o *v91; // x0
  BattleLogic_TutorialStringData_o *v92; // x21
  __int64 v93; // x1
  __int64 v94; // x2
  System_Collections_Generic_List_int__o *v95; // x20
  __int64 v96; // x0
  __int64 v97; // x0
  __int128 v98; // [xsp+0h] [xbp-60h] BYREF
  MethodInfo methoda; // [xsp+10h] [xbp-50h] BYREF
  UnityEngine_Vector2_o v100; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v101; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v102; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v103; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v104; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v105; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v106; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v107; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v108; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v109; // 0:s1.4,4:s2.4
  UnityEngine_Vector2_o v110; // 0:s1.4,4:s2.4
  UnityEngine_Rect_o v111; // 0:s0.4,4:s1.4,8:s2.4,12:s3.4
  UnityEngine_Rect_o v112; // 0:s0.4,4:s1.4,8:s2.4,12:s3.4
  UnityEngine_Rect_o v113; // 0:s0.4,4:s1.4,8:s2.4,12:s3.4

  if ( (byte_42118ED & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_Dictionary_int__BattleCommandData___ctor__, method);
    sub_B0D8A4(&System_Collections_Generic_Dictionary_int__BattleCommandData__TypeInfo, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask___ctor__, v5);
    sub_B0D8A4(&System_Collections_Generic_LinkedList_BattleLogicTask__TypeInfo, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_GameObject___ctor___67883736, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int___ctor__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_int__TypeInfo, v9);
    sub_B0D8A4(&System_Collections_Generic_List_GameObject__TypeInfo, v10);
    sub_B0D8A4(&UnityEngine_Rect___TypeInfo, v11);
    sub_B0D8A4(&BattleLogic_TutorialStringData___TypeInfo, v12);
    sub_B0D8A4(&BattleLogic_TutorialStringData_TypeInfo, v13);
    sub_B0D8A4(&UnityEngine_Vector2___TypeInfo, v14);
    sub_B0D8A4(&StringLiteral_1/*""*/, v15);
    byte_42118ED = 1;
  }
  v16 = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)sub_B0D974(
                                                                                              System_Collections_Generic_LinkedList_BattleLogicTask__TypeInfo,
                                                                                              method,
                                                                                              v2);
  System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot____ctor(
    v16,
    (const MethodInfo_2D1C960 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask___ctor__);
  this->fields.list_logic = (struct System_Collections_Generic_LinkedList_BattleLogicTask__o *)v16;
  sub_B0D840(&this->fields.list_logic, v16);
  v19 = (System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare__o *)sub_B0D974(
                                                                                                   System_Collections_Generic_Dictionary_int__BattleCommandData__TypeInfo,
                                                                                                   v17,
                                                                                                   v18);
  System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_EvalValueSquare____ctor(
    v19,
    (const MethodInfo_2E8F874 *)Method_System_Collections_Generic_Dictionary_int__BattleCommandData___ctor__);
  this->fields.deadAttackCommandDictionary = (struct System_Collections_Generic_Dictionary_int__BattleCommandData__o *)v19;
  sub_B0D840(&this->fields.deadAttackCommandDictionary, v19);
  v22 = (System_Collections_Generic_List_RegexCharClass_SingleRange__o *)sub_B0D974(
                                                                           System_Collections_Generic_List_GameObject__TypeInfo,
                                                                           v20,
                                                                           v21);
  System_Collections_Generic_List_RegexCharClass_SingleRange____ctor(
    v22,
    10,
    (const MethodInfo_2FC4AF4 *)Method_System_Collections_Generic_List_GameObject___ctor___67883736);
  this->fields.unusedGameobjects = (struct System_Collections_Generic_List_GameObject__o *)v22;
  sub_B0D840(&this->fields.unusedGameobjects, v22);
  v23 = StringLiteral_1/*""*/;
  this->fields.resultstring = (struct System_String_o *)StringLiteral_1/*""*/;
  sub_B0D840(&this->fields.resultstring, v23);
  __asm { FMOV            V0.2S, #1.0 }
  *(_QWORD *)&this->fields.prevScaleTime = _D0;
  this->fields.prevFixScaleTime = 1.0;
  this->fields.prevPartActiontScaleTime = 1.0;
  v31 = (System_Collections_Generic_List_int__o *)sub_B0D974(System_Collections_Generic_List_int__TypeInfo, v29, v30);
  System_Collections_Generic_List_int____ctor(
    v31,
    (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
  this->fields.cutinFirstIdListThisTurn = v31;
  sub_B0D840(&this->fields.cutinFirstIdListThisTurn, v31);
  v32 = sub_B0D8BC(UnityEngine_Vector2___TypeInfo, 3LL);
  if ( !v32 )
    goto LABEL_48;
  v33 = *(_DWORD *)(v32 + 24);
  if ( !v33 )
    goto LABEL_46;
  *(_QWORD *)(v32 + 32) = 0xC248000043C80000LL;
  if ( v33 == 1 )
    goto LABEL_46;
  *(_QWORD *)(v32 + 40) = 0xC31A0000C3BE0000LL;
  if ( v33 <= 2 )
    goto LABEL_46;
  *(_QWORD *)(v32 + 48) = 0x42FA0000C3898000LL;
  this->fields.TuArrow = (struct UnityEngine_Vector2_array *)v32;
  sub_B0D840(&this->fields.TuArrow, v32);
  v34 = sub_B0D8BC(UnityEngine_Rect___TypeInfo, 3LL);
  v111.fields.m_XMin = 242.75;
  v111.fields.m_YMin = -281.5;
  v111.fields.m_Width = 266.5;
  v111.fields.m_Height = 251.0;
  v35 = v34;
  methoda.name = 0LL;
  methoda.klass = 0LL;
  UnityEngine_Rect___ctor(v111, v36, v37, v38, v39, (const MethodInfo *)&methoda.name);
  if ( !v35 )
    goto LABEL_48;
  if ( !*(_DWORD *)(v35 + 24) )
    goto LABEL_46;
  v112.fields.m_Width = 120.0;
  *(_OWORD *)(v35 + 32) = *(_OWORD *)&methoda.name;
  v112.fields.m_XMin = -443.0;
  v112.fields.m_YMin = -232.0;
  v112.fields.m_Height = 120.0;
  methoda.methodPointer = 0LL;
  methoda.invoker_method = 0LL;
  UnityEngine_Rect___ctor(v112, v40, v41, v42, v43, &methoda);
  if ( *(_DWORD *)(v35 + 24) <= 1u )
    goto LABEL_46;
  *(_OWORD *)(v35 + 48) = *(_OWORD *)&methoda.methodPointer;
  v113.fields.m_XMin = -330.0;
  v113.fields.m_YMin = -70.0;
  v113.fields.m_Width = 270.0;
  v113.fields.m_Height = 200.0;
  v98 = 0uLL;
  UnityEngine_Rect___ctor(v113, v44, v45, v46, v47, (const MethodInfo *)&v98);
  if ( *(_DWORD *)(v35 + 24) <= 2u )
    goto LABEL_46;
  *(_OWORD *)(v35 + 64) = v98;
  this->fields.TuSquare = (struct UnityEngine_Rect_array *)v35;
  sub_B0D840(&this->fields.TuSquare, v35);
  v48 = (struct BattleLogic_TutorialStringData_array *)sub_B0D8BC(BattleLogic_TutorialStringData___TypeInfo, 11LL);
  v51 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v49, v50);
  v100.fields.y = 24.0;
  v100.fields.x = 0.0;
  v52 = v51;
  BattleLogic_TutorialStringData___ctor(v51, 0.0, v100, 30, 0LL);
  if ( !v48 )
LABEL_48:
    sub_B0D97C(v32);
  if ( v52 )
  {
    v32 = sub_B0D964(v52, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( !v48->max_length )
    goto LABEL_46;
  v48->m_Items[0] = v52;
  sub_B0D840(v48->m_Items, v52);
  v55 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v53, v54);
  v101.fields.y = 24.0;
  v101.fields.x = 0.0;
  v56 = v55;
  BattleLogic_TutorialStringData___ctor(v55, 0.0, v101, 28, 0LL);
  if ( v56 )
  {
    v32 = sub_B0D964(v56, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( v48->max_length <= 1 )
    goto LABEL_46;
  v48->m_Items[1] = v56;
  sub_B0D840(&v48->m_Items[1], v56);
  v59 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v57, v58);
  v102.fields.y = 8.0;
  v102.fields.x = 0.0;
  v60 = v59;
  BattleLogic_TutorialStringData___ctor(v59, 0.0, v102, 28, 0LL);
  if ( v60 )
  {
    v32 = sub_B0D964(v60, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( v48->max_length <= 2 )
    goto LABEL_46;
  v48->m_Items[2] = v60;
  sub_B0D840(&v48->m_Items[2], v60);
  v63 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v61, v62);
  v103.fields.y = 24.0;
  v103.fields.x = 0.0;
  v64 = v63;
  BattleLogic_TutorialStringData___ctor(v63, 0.0, v103, 26, 0LL);
  if ( v64 )
  {
    v32 = sub_B0D964(v64, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( v48->max_length <= 3 )
    goto LABEL_46;
  v48->m_Items[3] = v64;
  sub_B0D840(&v48->m_Items[3], v64);
  v67 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v65, v66);
  v104.fields.y = 8.0;
  v104.fields.x = 0.0;
  v68 = v67;
  BattleLogic_TutorialStringData___ctor(v67, 0.0, v104, 26, 0LL);
  if ( v68 )
  {
    v32 = sub_B0D964(v68, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( v48->max_length <= 4 )
    goto LABEL_46;
  v48->m_Items[4] = v68;
  sub_B0D840(&v48->m_Items[4], v68);
  v71 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v69, v70);
  v105.fields.y = 24.0;
  v105.fields.x = 0.0;
  v72 = v71;
  BattleLogic_TutorialStringData___ctor(v71, 0.0, v105, 30, 0LL);
  if ( v72 )
  {
    v32 = sub_B0D964(v72, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( v48->max_length <= 5 )
    goto LABEL_46;
  v48->m_Items[5] = v72;
  sub_B0D840(&v48->m_Items[5], v72);
  v75 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v73, v74);
  v106.fields.y = 24.0;
  v106.fields.x = 0.0;
  v76 = v75;
  BattleLogic_TutorialStringData___ctor(v75, 0.0, v106, 30, 0LL);
  if ( v76 )
  {
    v32 = sub_B0D964(v76, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( v48->max_length <= 6 )
    goto LABEL_46;
  v48->m_Items[6] = v76;
  sub_B0D840(&v48->m_Items[6], v76);
  v79 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v77, v78);
  v107.fields.y = 24.0;
  v107.fields.x = 0.0;
  v80 = v79;
  BattleLogic_TutorialStringData___ctor(v79, 0.0, v107, 26, 0LL);
  if ( v80 )
  {
    v32 = sub_B0D964(v80, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( v48->max_length <= 7 )
    goto LABEL_46;
  v48->m_Items[7] = v80;
  sub_B0D840(&v48->m_Items[7], v80);
  v83 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v81, v82);
  v108.fields.x = 160.0;
  v108.fields.y = 80.0;
  v84 = v83;
  BattleLogic_TutorialStringData___ctor(v83, 0.0, v108, 26, 0LL);
  if ( v84 )
  {
    v32 = sub_B0D964(v84, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( v48->max_length <= 8 )
    goto LABEL_46;
  v48->m_Items[8] = v84;
  sub_B0D840(&v48->m_Items[8], v84);
  v87 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v85, v86);
  v109.fields.y = 24.0;
  v109.fields.x = 0.0;
  v88 = v87;
  BattleLogic_TutorialStringData___ctor(v87, 0.0, v109, 28, 0LL);
  if ( v88 )
  {
    v32 = sub_B0D964(v88, v48->obj.klass->_1.element_class);
    if ( !v32 )
      goto LABEL_47;
  }
  if ( v48->max_length <= 9 )
    goto LABEL_46;
  v48->m_Items[9] = v88;
  sub_B0D840(&v48->m_Items[9], v88);
  v91 = (BattleLogic_TutorialStringData_o *)sub_B0D974(BattleLogic_TutorialStringData_TypeInfo, v89, v90);
  v110.fields.y = -40.0;
  v110.fields.x = 0.0;
  v92 = v91;
  BattleLogic_TutorialStringData___ctor(v91, 0.0, v110, 26, 0LL);
  if ( v92 )
  {
    v32 = sub_B0D964(v92, v48->obj.klass->_1.element_class);
    if ( !v32 )
    {
LABEL_47:
      v97 = sub_B0D99C();
      sub_B0D948(v97, 0LL);
    }
  }
  if ( v48->max_length <= 0xA )
  {
LABEL_46:
    v96 = sub_B0D9A8(v32);
    sub_B0D948(v96, 0LL);
  }
  v48->m_Items[10] = v92;
  sub_B0D840(&v48->m_Items[10], v92);
  this->fields.TSD = v48;
  sub_B0D840(&this->fields.TSD, v48);
  this->fields.prevEffectTimeScale = 1.0;
  v95 = (System_Collections_Generic_List_int__o *)sub_B0D974(System_Collections_Generic_List_int__TypeInfo, v93, v94);
  System_Collections_Generic_List_int____ctor(
    v95,
    (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
  this->fields.effectFirstIdListThisTurn = v95;
  sub_B0D840(&this->fields.effectFirstIdListThisTurn, v95);
  BaseMonoBehaviour___ctor((BaseMonoBehaviour_o *)this, 0LL);
}


void __fastcall BattleLogic__AddBattleLogicTask(
        BattleLogic_o *this,
        BattleLogicTask_o *addTask,
        const MethodInfo *method)
{
  struct System_Collections_Generic_LinkedList_BattleLogicTask__o *list_logic; // x0

  if ( (byte_4211857 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__, addTask);
    byte_4211857 = 1;
  }
  if ( addTask )
  {
    list_logic = this->fields.list_logic;
    if ( !list_logic )
      sub_B0D97C(0LL);
    System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot___AddLast(
      (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)list_logic,
      (BattleServantSnapShotGroupBase_SnapShot_o *)addTask,
      (const MethodInfo_2D1CF50 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__);
  }
}


void __fastcall BattleLogic__AddTaskTargetTaskAfter(
        BattleLogic_o *this,
        BattleLogicTask_o *targetTask,
        BattleLogicTask_o *addTask,
        const MethodInfo *method)
{
  __int64 v7; // x1
  System_Collections_Generic_LinkedList_T__o *list_logic; // x0
  System_Collections_Generic_LinkedListNode_T__o *v9; // x0
  System_Collections_Generic_LinkedListNode_T__o *v10; // x1

  if ( (byte_42118EC & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddAfter__, targetTask);
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__Find__, v7);
    byte_42118EC = 1;
  }
  list_logic = (System_Collections_Generic_LinkedList_T__o *)this->fields.list_logic;
  if ( !list_logic )
    goto LABEL_9;
  v9 = System_Collections_Generic_LinkedList_object___Find(
         list_logic,
         (Il2CppObject *)targetTask,
         (const MethodInfo_2D1D364 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__Find__);
  if ( addTask )
  {
    v10 = v9;
    if ( v9 )
    {
      list_logic = (System_Collections_Generic_LinkedList_T__o *)this->fields.list_logic;
      if ( list_logic )
      {
        System_Collections_Generic_LinkedList_object___AddAfter(
          list_logic,
          v10,
          (Il2CppObject *)addTask,
          (const MethodInfo_2D1CD20 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddAfter__);
        return;
      }
LABEL_9:
      sub_B0D97C(list_logic);
    }
  }
}


void __fastcall BattleLogic__AddUnExecutedUpdateIntervalBuffActionData(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v9; // x20
  const MethodInfo *v10; // x3
  __int64 v11; // x0
  BattlePerformance_o *perf; // x20
  BattleActionData_o *v13; // x0
  System_Collections_Generic_List_Enumerator_T__o v14; // [xsp+8h] [xbp-38h] BYREF

  if ( (byte_42118D7 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleLogicTask__Dispose__, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleLogicTask__MoveNext__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleLogicTask__get_Current__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__GetEnumerator__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8);
    byte_42118D7 = 1;
  }
  memset(&v14, 0, sizeof(v14));
  v9 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 method,
                                                                                                 v2);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v9,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  BattleLogic__AddUnExecutedUpdateIntervalBuffTasks(
    this,
    (System_Collections_Generic_List_BattleLogicTask__o *)v9,
    0,
    v10);
  if ( !v9 )
    sub_B0D97C(v11);
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v14,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v9,
    (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleLogicTask__GetEnumerator__);
  while ( System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v14,
            (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleLogicTask__MoveNext__) )
  {
    if ( !v14.fields.current )
      sub_B0D97C(0LL);
    perf = this->fields.perf;
    v13 = (BattleActionData_o *)((__int64 (*)(void))v14.fields.current->klass->vtable[6].method)();
    if ( !perf )
      sub_B0D97C(v13);
    BattlePerformance__addActionData_18166504(perf, v13, 0LL);
  }
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v14,
    (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleLogicTask__Dispose__);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__AddUnExecutedUpdateIntervalBuffTasks(
        BattleLogic_o *this,
        System_Collections_Generic_List_BattleLogicTask__o *taskList,
        bool isAddFirst,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  BattleActionData_o *v10; // x22
  __int64 v11; // x0
  __int64 v12; // x1
  __int64 v13; // x2
  UpdateIntervalBuffViewBattleLogicTask_o *v14; // x21

  if ( (byte_42118D6 & 1) == 0 )
  {
    sub_B0D8A4(&BattleActionData_TypeInfo, taskList);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Insert__, v8);
    sub_B0D8A4(&UpdateIntervalBuffViewBattleLogicTask_TypeInfo, v9);
    byte_42118D6 = 1;
  }
  v10 = (BattleActionData_o *)sub_B0D974(BattleActionData_TypeInfo, taskList, isAddFirst);
  BattleActionData___ctor(v10, 0LL);
  if ( !v10 )
    goto LABEL_10;
  if ( !BattleActionData__AddFieldServantUpdateIntervalBuff(v10, this->fields.data, 0LL) )
    return;
  v14 = (UpdateIntervalBuffViewBattleLogicTask_o *)sub_B0D974(UpdateIntervalBuffViewBattleLogicTask_TypeInfo, v12, v13);
  UpdateIntervalBuffViewBattleLogicTask___ctor(v14, v10, 0LL);
  if ( !taskList )
LABEL_10:
    sub_B0D97C(v11);
  if ( isAddFirst )
    System_Collections_Generic_List_XWeaponTrail_Element___Insert(
      (System_Collections_Generic_List_XWeaponTrail_Element__o *)taskList,
      0,
      (XWeaponTrail_Element_o *)v14,
      (const MethodInfo_2FC68FC *)Method_System_Collections_Generic_List_BattleLogicTask__Insert__);
  else
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)taskList,
      (EventMissionProgressRequest_Argument_ProgressData_o *)v14,
      (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__CalcCritical(BattleLogic_o *this, bool isRefresh, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v19; // x20
  __int64 v20; // x1
  __int64 v21; // x2
  WeightRate_int__o *v22; // x21
  BattleCommandData_o **v23; // x22
  BattleLogic_c *v24; // x8
  BattleData_o *Shuffle_int; // x0
  struct BattleData_o *data; // x8
  __int64 v27; // x25
  BattleCommandData_o **v28; // x26
  struct BattleCommandData_array *draw_commandlist; // x8
  BattleCommandData_o *v30; // x27
  BattleServantData_o *v31; // x28
  int32_t type; // w0
  int32_t v33; // w1
  struct BattleData_o *v34; // x8
  struct BattleData_o *v35; // x8
  struct BattlePerformance_o *perf; // x9
  int criticalstars; // w23
  int32_t v38; // w24
  int32_t v39; // w24
  int v40; // w26
  int32_t Random; // w0
  unsigned int v42; // w24
  BattleCommandData_o **v43; // x28
  BattleCommandData_o *v44; // x25
  BattleData_o **v45; // x28
  BattleCommandData_o *v46; // t1
  __int64 v47; // x0
  __int64 v48; // x0
  struct PlayMakerFSM_o **p_fsm; // [xsp+0h] [xbp-60h]
  BattleData_o *v50; // [xsp+8h] [xbp-58h]

  if ( (byte_4211882 & 1) == 0 )
  {
    sub_B0D8A4(&BattleCommandData___TypeInfo, isRefresh);
    sub_B0D8A4(&BattleLogic_TypeInfo, v5);
    sub_B0D8A4(&Method_BattleRandom_getShuffle_int___, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__Add__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData___ctor__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_BattleCommandData__TypeInfo, v9);
    sub_B0D8A4(&Method_WeightRate_int__SetAdjust__, v10);
    sub_B0D8A4(&Method_WeightRate_int___ctor__, v11);
    sub_B0D8A4(&Method_WeightRate_int__checkWeight__, v12);
    sub_B0D8A4(&Method_WeightRate_int__getData__, v13);
    sub_B0D8A4(&Method_WeightRate_int__getTotalWeight__, v14);
    sub_B0D8A4(&Method_WeightRate_int__removeWeight__, v15);
    sub_B0D8A4(&Method_WeightRate_int__setWeight__, v16);
    sub_B0D8A4(&WeightRate_int__TypeInfo, v17);
    sub_B0D8A4(&StringLiteral_3453/*"CRITICAL_RATE_PER_STAR"*/, v18);
    byte_4211882 = 1;
  }
  v19 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleCommandData__TypeInfo,
                                                                                                  isRefresh,
                                                                                                  method);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v19,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleCommandData___ctor__);
  v22 = (WeightRate_int__o *)sub_B0D974(WeightRate_int__TypeInfo, v20, v21);
  WeightRate_int____ctor(v22, (const MethodInfo_2ADF078 *)Method_WeightRate_int___ctor__);
  v23 = (BattleCommandData_o **)sub_B0D8BC(BattleCommandData___TypeInfo, 5LL);
  v24 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v24 = BattleLogic_TypeInfo;
  }
  Shuffle_int = (BattleData_o *)BattleRandom__getShuffle_int_(
                                  v24->static_fields->addStarWeight,
                                  (const MethodInfo_170B2E8 *)Method_BattleRandom_getShuffle_int___);
  data = this->fields.data;
  v50 = Shuffle_int;
  if ( !data )
    goto LABEL_75;
  v27 = 0LL;
  v28 = v23 + 4;
  p_fsm = &Shuffle_int->fields.fsm;
  while ( (unsigned int)v27 < 5 )
  {
    draw_commandlist = data->fields.draw_commandlist;
    if ( !draw_commandlist )
      goto LABEL_75;
    if ( (unsigned int)v27 >= draw_commandlist->max_length )
      goto LABEL_76;
    if ( !v19 )
      goto LABEL_75;
    v30 = draw_commandlist->m_Items[v27];
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      v19,
      (EventMissionProgressRequest_Argument_ProgressData_o *)v30,
      (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleCommandData__Add__);
    if ( isRefresh )
    {
      if ( !v30 )
        goto LABEL_75;
      *(_QWORD *)&v30->fields.starBonus = 0LL;
    }
    else if ( !v30 )
    {
      goto LABEL_75;
    }
    Shuffle_int = (BattleData_o *)BattleCommandData__checkCriticalMax(v30, 0LL);
    if ( ((unsigned __int8)Shuffle_int & 1) == 0 )
    {
      Shuffle_int = this->fields.data;
      if ( !Shuffle_int )
        goto LABEL_75;
      Shuffle_int = (BattleData_o *)BattleData__getServantData(Shuffle_int, v30->fields.uniqueId, 0LL);
      if ( Shuffle_int )
      {
        v31 = (BattleServantData_o *)Shuffle_int;
        type = BattleCommandData__get_type(v30, 0LL);
        Shuffle_int = (BattleData_o *)BattleCommand__isBLANK(type, 0LL);
        if ( ((unsigned __int8)Shuffle_int & 1) == 0 )
        {
          Shuffle_int = (BattleData_o *)v31->fields.buffData;
          if ( !Shuffle_int )
            goto LABEL_75;
          BattleBuffData__SetCommandCodeBuffActiveFlg(
            (BattleBuffData_o *)Shuffle_int,
            v30->fields.userCommandCodeId,
            0LL,
            0,
            0LL);
          Shuffle_int = (BattleData_o *)v31->fields.buffData;
          if ( !Shuffle_int )
            goto LABEL_75;
          BattleBuffData__SetCommandAssistBuffActiveFlg(
            (BattleBuffData_o *)Shuffle_int,
            v30->fields.commandAssistId,
            0LL,
            0,
            v30->fields.servantCardIdsIndex,
            0LL);
          Shuffle_int = (BattleData_o *)v31->fields.buffData;
          if ( !Shuffle_int )
            goto LABEL_75;
          BattleBuffData__SetCommandCardBuffActive((BattleBuffData_o *)Shuffle_int, v30, 0, 0LL);
          Shuffle_int = (BattleData_o *)BattleServantData__getCriticalWeight(v31, v30, 0LL);
          if ( !v50 )
            goto LABEL_75;
          if ( (unsigned int)v27 >= LODWORD(v50->fields.rootfsm) )
            goto LABEL_76;
          if ( !v22 )
            goto LABEL_75;
          if ( *((_DWORD *)p_fsm + v27) + (int)Shuffle_int <= 1 )
            v33 = 1;
          else
            v33 = *((_DWORD *)p_fsm + v27) + (_DWORD)Shuffle_int;
          WeightRate_int___setWeight(v22, v33, v27, (const MethodInfo_2ADE240 *)Method_WeightRate_int__setWeight__);
        }
      }
      if ( !v23 )
        goto LABEL_75;
      Shuffle_int = (BattleData_o *)sub_B0D964(v30, *(_QWORD *)&(*v23)->fields.passStarCount);
      if ( !Shuffle_int )
      {
        v48 = sub_B0D99C();
        sub_B0D948(v48, 0LL);
      }
      if ( (unsigned int)v27 >= *((_DWORD *)v23 + 6) )
      {
LABEL_76:
        v47 = sub_B0D9A8(Shuffle_int);
        sub_B0D948(v47, 0LL);
      }
      *v28 = v30;
      sub_B0D840(v28, v30);
    }
    data = this->fields.data;
    ++v28;
    ++v27;
    if ( !data )
      goto LABEL_75;
  }
  Shuffle_int = (BattleData_o *)BattleData__getOverCriticalStars(data, 0LL);
  v34 = this->fields.data;
  if ( !v34 )
    goto LABEL_75;
  if ( isRefresh )
  {
    Shuffle_int = (BattleData_o *)BattleData__getOverCriticalStars(this->fields.data, 0LL);
    v35 = this->fields.data;
    if ( !v35 )
      goto LABEL_75;
    perf = this->fields.perf;
    if ( !perf )
      goto LABEL_75;
    criticalstars = v35->fields.criticalstars;
    v38 = (int)Shuffle_int;
    perf->fields.isCriticalPerformance = criticalstars > 0;
    Shuffle_int = this->fields.data;
    if ( !Shuffle_int )
      goto LABEL_75;
    if ( v38 >= 1 )
    {
      if ( BattleData__isValidViewStarMax(Shuffle_int, 0LL) )
      {
        Shuffle_int = this->fields.data;
        if ( !Shuffle_int )
          goto LABEL_75;
        criticalstars = BattleData__getValidStarMax(Shuffle_int, 0LL);
      }
      Shuffle_int = this->fields.data;
      if ( Shuffle_int )
      {
        BattleData__setCriticalStar(Shuffle_int, v38, 0LL);
        Shuffle_int = this->fields.data;
        if ( Shuffle_int )
        {
          BattleData__addTotalCriticalStars(Shuffle_int, Shuffle_int->fields.addCriticalstars, 0LL);
          Shuffle_int = this->fields.data;
          if ( Shuffle_int )
          {
            BattleData__resetAddCriticalstars(Shuffle_int, 0LL);
            Shuffle_int = this->fields.data;
            if ( Shuffle_int )
            {
              BattleData__resetSubCriticalstars(Shuffle_int, 0LL);
              goto LABEL_58;
            }
          }
        }
      }
LABEL_75:
      sub_B0D97C(Shuffle_int);
    }
    BattleData__resetCriticalPoint(Shuffle_int, 0LL);
  }
  else
  {
    criticalstars = v34->fields.addCriticalstars;
    v39 = (int)Shuffle_int;
    if ( (int)Shuffle_int < 1 )
    {
      BattleData__setCriticalStar(this->fields.data, v34->fields.criticalstars - criticalstars, 0LL);
      Shuffle_int = this->fields.data;
      if ( !Shuffle_int )
        goto LABEL_75;
      BattleData__addTotalCriticalStars(Shuffle_int, criticalstars, 0LL);
    }
    else
    {
      BattleData__addTotalCriticalStars(this->fields.data, criticalstars, 0LL);
      Shuffle_int = this->fields.data;
      if ( !Shuffle_int )
        goto LABEL_75;
      criticalstars -= v39;
      BattleData__setCriticalStar(Shuffle_int, v39, 0LL);
    }
    Shuffle_int = this->fields.data;
    if ( !Shuffle_int )
      goto LABEL_75;
    BattleData__resetAddCriticalstars(Shuffle_int, 0LL);
  }
LABEL_58:
  if ( criticalstars >= 1 )
  {
    if ( v22 )
    {
      v40 = 0;
      while ( 1 )
      {
        if ( WeightRate_int___checkWeight(v22, (const MethodInfo_2ADE5D0 *)Method_WeightRate_int__checkWeight__) )
        {
          Random = BattleRandom__getRandom(0, v22->fields.totalweight, 0LL);
          Shuffle_int = (BattleData_o *)WeightRate_int___getData(
                                          v22,
                                          Random,
                                          (const MethodInfo_2ADE6C4 *)Method_WeightRate_int__getData__);
          if ( !v23 )
            goto LABEL_75;
          v42 = (unsigned int)Shuffle_int;
          if ( (unsigned int)Shuffle_int >= *((_DWORD *)v23 + 6) )
            goto LABEL_76;
          v43 = &v23[(int)Shuffle_int];
          v46 = v43[4];
          v45 = (BattleData_o **)(v43 + 4);
          v44 = v46;
          Shuffle_int = (BattleData_o *)ConstantMaster__getValue((System_String_o *)StringLiteral_3453/*"CRITICAL_RATE_PER_STAR"*/, 0LL);
          if ( !v46 )
            goto LABEL_75;
          BattleCommandData__addCriticalPoint(v44, (int32_t)Shuffle_int, 1, 0LL);
          if ( v42 >= *((_DWORD *)v23 + 6) )
            goto LABEL_76;
          Shuffle_int = *v45;
          if ( !*v45 )
            goto LABEL_75;
          if ( BattleCommandData__checkCriticalMax((BattleCommandData_o *)Shuffle_int, 0LL) )
            WeightRate_int___removeWeight(v22, v42, (const MethodInfo_2ADE35C *)Method_WeightRate_int__removeWeight__);
          if ( !WeightRate_int___checkWeight(v22, (const MethodInfo_2ADE5D0 *)Method_WeightRate_int__checkWeight__) )
            WeightRate_int___SetAdjust(v22, (const MethodInfo_2ADE600 *)Method_WeightRate_int__SetAdjust__);
        }
        if ( ++v40 >= criticalstars )
          goto LABEL_72;
      }
    }
    goto LABEL_75;
  }
LABEL_72:
  Shuffle_int = (BattleData_o *)this->fields.perf;
  if ( !Shuffle_int )
    goto LABEL_75;
  BattlePerformance__SaveCriticalValue(
    (BattlePerformance_o *)Shuffle_int,
    (System_Collections_Generic_List_BattleCommandData__o *)v19,
    0LL);
  Shuffle_int = (BattleData_o *)this->fields.perf;
  if ( !Shuffle_int )
    goto LABEL_75;
  BattlePerformance__SetBaseCommandCardData(
    (BattlePerformance_o *)Shuffle_int,
    (System_Collections_Generic_List_BattleCommandData__o *)v19,
    0LL);
}


void __fastcall BattleLogic__CalcDownCritical(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v20; // x20
  __int64 v21; // x1
  __int64 v22; // x2
  WeightRate_int__o *v23; // x21
  __int64 v24; // x1
  __int64 v25; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v26; // x22
  BattlePerformance_o *perf; // x0
  BattleCommandData_array *BaseCommandCardData; // x23
  BattleLogic_c *v29; // x8
  int32_t *p_data; // x27
  EventMissionProgressRequest_Argument_ProgressData_o **m_Items; // x28
  unsigned int v32; // w24
  BattleCommandData_o *v33; // x25
  BattleServantData_o *v34; // x26
  int32_t type; // w0
  int32_t v36; // w19
  int v37; // w26
  BattleLogic_o *v38; // x24
  int v39; // w19
  int32_t Random; // w0
  int32_t v41; // w23
  BattleCommandData_o *v42; // x24
  __int64 v43; // x0
  EventMissionProgressRequest_Argument_ProgressData_o *v44; // [xsp+0h] [xbp-60h]
  BattleLogic_o *v45; // [xsp+8h] [xbp-58h]

  if ( (byte_4211881 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, method);
    sub_B0D8A4(&Method_BattleRandom_getShuffle_int___, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__IndexOf__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData___ctor__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__get_Item__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_BattleCommandData__TypeInfo, v9);
    sub_B0D8A4(&Method_WeightRate_int__ReverseWeight__, v10);
    sub_B0D8A4(&Method_WeightRate_int__SetAdjust__, v11);
    sub_B0D8A4(&Method_WeightRate_int___ctor__, v12);
    sub_B0D8A4(&Method_WeightRate_int__checkWeight__, v13);
    sub_B0D8A4(&Method_WeightRate_int__getData__, v14);
    sub_B0D8A4(&Method_WeightRate_int__getTotalWeight__, v15);
    sub_B0D8A4(&Method_WeightRate_int__removeWeight__, v16);
    sub_B0D8A4(&Method_WeightRate_int__setWeight__, v17);
    sub_B0D8A4(&WeightRate_int__TypeInfo, v18);
    sub_B0D8A4(&StringLiteral_3453/*"CRITICAL_RATE_PER_STAR"*/, v19);
    byte_4211881 = 1;
  }
  v20 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleCommandData__TypeInfo,
                                                                                                  method,
                                                                                                  v2);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v20,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleCommandData___ctor__);
  v23 = (WeightRate_int__o *)sub_B0D974(WeightRate_int__TypeInfo, v21, v22);
  WeightRate_int____ctor(v23, (const MethodInfo_2ADF078 *)Method_WeightRate_int___ctor__);
  v26 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleCommandData__TypeInfo,
                                                                                                  v24,
                                                                                                  v25);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v26,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleCommandData___ctor__);
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_42;
  BaseCommandCardData = BattlePerformance__GetBaseCommandCardData(perf, 0LL);
  v29 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v29 = BattleLogic_TypeInfo;
  }
  v45 = this;
  perf = (BattlePerformance_o *)BattleRandom__getShuffle_int_(
                                  v29->static_fields->addStarWeight,
                                  (const MethodInfo_170B2E8 *)Method_BattleRandom_getShuffle_int___);
  if ( !BaseCommandCardData )
    goto LABEL_42;
  p_data = (int32_t *)&perf->fields.data;
  m_Items = (EventMissionProgressRequest_Argument_ProgressData_o **)BaseCommandCardData->m_Items;
  v32 = -1;
  v44 = (EventMissionProgressRequest_Argument_ProgressData_o *)perf;
  do
  {
    if ( v32 + 1 >= BaseCommandCardData->max_length )
    {
LABEL_46:
      v43 = sub_B0D9A8(perf);
      sub_B0D948(v43, 0LL);
    }
    if ( !v20 )
      goto LABEL_42;
    v33 = (BattleCommandData_o *)*m_Items;
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      v20,
      *m_Items,
      (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleCommandData__Add__);
    if ( !v33 )
      goto LABEL_42;
    perf = (BattlePerformance_o *)BattleCommandData__checkCriticalZero(v33, 0LL);
    if ( ((unsigned __int8)perf & 1) == 0 )
    {
      perf = (BattlePerformance_o *)v45->fields.data;
      if ( !perf )
        goto LABEL_42;
      perf = (BattlePerformance_o *)BattleData__getServantData((BattleData_o *)perf, v33->fields.uniqueId, 0LL);
      if ( !v26 )
        goto LABEL_42;
      v34 = (BattleServantData_o *)perf;
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
        v26,
        (EventMissionProgressRequest_Argument_ProgressData_o *)v33,
        (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleCommandData__Add__);
      if ( v34 )
      {
        type = BattleCommandData__get_type(v33, 0LL);
        perf = (BattlePerformance_o *)BattleCommand__isBLANK(type, 0LL);
        if ( ((unsigned __int8)perf & 1) == 0 )
        {
          perf = (BattlePerformance_o *)v34->fields.buffData;
          if ( !perf )
            goto LABEL_42;
          BattleBuffData__SetCommandCodeBuffActiveFlg(
            (BattleBuffData_o *)perf,
            v33->fields.userCommandCodeId,
            0LL,
            0,
            0LL);
          perf = (BattlePerformance_o *)v34->fields.buffData;
          if ( !perf )
            goto LABEL_42;
          BattleBuffData__SetCommandAssistBuffActiveFlg(
            (BattleBuffData_o *)perf,
            v33->fields.commandAssistId,
            0LL,
            0,
            v33->fields.servantCardIdsIndex,
            0LL);
          perf = (BattlePerformance_o *)v34->fields.buffData;
          if ( !perf )
            goto LABEL_42;
          BattleBuffData__SetCommandCardBuffActive((BattleBuffData_o *)perf, v33, 0, 0LL);
          perf = (BattlePerformance_o *)BattleServantData__getCriticalWeight(v34, v33, 0LL);
          if ( !v44 )
            goto LABEL_42;
          if ( v32 + 1 >= v44->fields.targetId )
            goto LABEL_46;
          v36 = *p_data;
          v37 = (int)perf;
          perf = (BattlePerformance_o *)System_Collections_Generic_List_WarBoardManager_TaskList___IndexOf(
                                          (System_Collections_Generic_List_WarBoardManager_TaskList__o *)v26,
                                          (WarBoardManager_TaskList_o *)v33,
                                          (const MethodInfo_2FC6798 *)Method_System_Collections_Generic_List_BattleCommandData__IndexOf__);
          if ( !v23 )
            goto LABEL_42;
          WeightRate_int___setWeight(
            v23,
            v36 + v37,
            (int32_t)perf,
            (const MethodInfo_2ADE240 *)Method_WeightRate_int__setWeight__);
        }
      }
    }
    ++v32;
    ++p_data;
    ++m_Items;
  }
  while ( v32 < 4 );
  if ( !v23 )
    goto LABEL_42;
  WeightRate_int___ReverseWeight(v23, (const MethodInfo_2ADED0C *)Method_WeightRate_int__ReverseWeight__);
  v38 = v45;
  perf = (BattlePerformance_o *)v45->fields.data;
  if ( !perf )
    goto LABEL_42;
  v39 = -1;
  while ( ++v39 < SHIDWORD(perf->fields._resultAssetData_k__BackingField) )
  {
    if ( WeightRate_int___checkWeight(v23, (const MethodInfo_2ADE5D0 *)Method_WeightRate_int__checkWeight__) )
    {
      Random = BattleRandom__getRandom(0, v23->fields.totalweight, 0LL);
      perf = (BattlePerformance_o *)WeightRate_int___getData(
                                      v23,
                                      Random,
                                      (const MethodInfo_2ADE6C4 *)Method_WeightRate_int__getData__);
      if ( !v26 )
        goto LABEL_42;
      v41 = (int)perf;
      if ( v26->fields._size <= (unsigned int)perf )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41496008(0LL);
      v42 = (BattleCommandData_o *)v26->fields._items->m_Items[(int)perf];
      perf = (BattlePerformance_o *)ConstantMaster__getValue((System_String_o *)StringLiteral_3453/*"CRITICAL_RATE_PER_STAR"*/, 0LL);
      if ( !v42 )
        goto LABEL_42;
      BattleCommandData__removeCriticalPoint(v42, (int32_t)perf, 0LL);
      if ( v26->fields._size <= (unsigned int)v41 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41496008(0LL);
      perf = (BattlePerformance_o *)v26->fields._items->m_Items[v41];
      if ( !perf )
        goto LABEL_42;
      v38 = v45;
      if ( BattleCommandData__checkCriticalZero((BattleCommandData_o *)perf, 0LL) )
        WeightRate_int___removeWeight(v23, v41, (const MethodInfo_2ADE35C *)Method_WeightRate_int__removeWeight__);
      if ( !WeightRate_int___checkWeight(v23, (const MethodInfo_2ADE5D0 *)Method_WeightRate_int__checkWeight__) )
        WeightRate_int___SetAdjust(v23, (const MethodInfo_2ADE600 *)Method_WeightRate_int__SetAdjust__);
    }
    perf = (BattlePerformance_o *)v38->fields.data;
    if ( !perf )
      goto LABEL_42;
  }
  BattleData__resetSubCriticalstars((BattleData_o *)perf, 0LL);
  perf = v38->fields.perf;
  if ( !perf
    || (BattlePerformance__SaveCriticalValue(perf, (System_Collections_Generic_List_BattleCommandData__o *)v20, 0LL),
        (perf = v38->fields.perf) == 0LL) )
  {
LABEL_42:
    sub_B0D97C(perf);
  }
  BattlePerformance__SetBaseCommandCardData(perf, (System_Collections_Generic_List_BattleCommandData__o *)v20, 0LL);
}


void __fastcall BattleLogic__ChangePhase(BattleLogic_o *this, int32_t phase, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data || (this = (BattleLogic_o *)data->fields.changePhaseNotify) == 0LL )
    sub_B0D97C(this);
  ChangeBattlePhaseNotify__set_Phase((ChangeBattlePhaseNotify_o *)this, phase, 0LL);
}


void __fastcall BattleLogic__CheckAssistSkill(BattleLogic_o *this, const MethodInfo *method)
{
  System_Collections_IEnumerator_o *v3; // x1

  v3 = BattleLogic__CoroutineCheckAssistSkill(this, method);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v3, 0LL);
}


void __fastcall BattleLogic__CheckBoostSkill(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  BattleData_o *data; // x0
  __int64 v14; // x1
  __int64 v15; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v16; // x20
  struct BattleData_o *v17; // x8
  _BOOL8 v18; // x0
  Il2CppObject *current; // x21
  BattleData_o *v20; // x0
  BattleServantData_array *FieldPlayerServantList; // x0
  BattleServantData_array *v22; // x22
  int max_length; // w8
  unsigned int v24; // w28
  Il2CppClass **v25; // x8
  Il2CppClass *v26; // x23
  BattleLogicSkill_o *logicSkill; // x22
  System_Int32_array *v28; // x0
  System_Collections_Generic_IEnumerable_T__o *v29; // x0
  BattleLogicTask_array *v30; // x0
  const MethodInfo *v31; // x3
  System_Collections_IEnumerator_o *v32; // x0
  __int64 v33; // x0
  __int64 v34; // x0
  System_Collections_Generic_List_Enumerator_T__o v35; // [xsp+8h] [xbp-88h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v36; // [xsp+20h] [xbp-70h] BYREF

  if ( (byte_421188D & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__get_Current__, v4);
    sub_B0D8A4(&int___TypeInfo, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__get_Count__, v10);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v11);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v12);
    byte_421188D = 1;
  }
  memset(&v36, 0, sizeof(v36));
  data = this->fields.data;
  if ( !data )
    goto LABEL_39;
  if ( !BattleData__checkProgressflg(data, 256, 0LL) )
    goto LABEL_31;
  data = this->fields.data;
  if ( !data )
    goto LABEL_39;
  BattleData__offProgressflg(data, 256, 0LL);
  v16 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                  v14,
                                                                                                  v15);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v16,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  data = this->fields.data;
  if ( !data )
    goto LABEL_39;
  data = (BattleData_o *)BattleData__isFirstStage(data, 0LL);
  if ( ((unsigned __int8)data & 1) != 0 )
  {
    v17 = this->fields.data;
    if ( v17 )
    {
      data = (BattleData_o *)v17->fields.boostInfoList;
      if ( data )
      {
        System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
          &v35,
          (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)data,
          (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__);
        v36 = v35;
LABEL_11:
        while ( 1 )
        {
          v18 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
                  &v36,
                  (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__);
          if ( !v18 )
            break;
          current = v36.fields.current;
          if ( !v36.fields.current )
            sub_B0D97C(v18);
          LODWORD(v36.fields.current[1].monitor) = -1;
          v20 = this->fields.data;
          if ( !v20 )
            sub_B0D97C(0LL);
          FieldPlayerServantList = BattleData__getFieldPlayerServantList(v20, 0LL);
          v22 = FieldPlayerServantList;
          if ( !FieldPlayerServantList )
            sub_B0D97C(0LL);
          max_length = FieldPlayerServantList->max_length;
          if ( max_length >= 1 )
          {
            v24 = 0;
            while ( 1 )
            {
              if ( v24 >= max_length )
              {
                v33 = sub_B0D9A8(FieldPlayerServantList);
                sub_B0D948(v33, 0LL);
              }
              v25 = &v22->obj.klass + (int)v24;
              v26 = v25[4];
              if ( !v26 )
                sub_B0D97C(FieldPlayerServantList);
              FieldPlayerServantList = (BattleServantData_array *)BattleServantData__isAlive(
                                                                    (BattleServantData_o *)v25[4],
                                                                    0,
                                                                    0LL);
              if ( ((unsigned __int8)FieldPlayerServantList & 1) != 0 )
                break;
              max_length = v22->max_length;
              if ( (int)++v24 >= max_length )
                goto LABEL_11;
            }
            logicSkill = this->fields.logicSkill;
            v28 = (System_Int32_array *)sub_B0D8BC(int___TypeInfo, 1LL);
            if ( !v28 )
              sub_B0D97C(0LL);
            if ( !v28->max_length )
            {
              v34 = sub_B0D9A8(v28);
              sub_B0D948(v34, 0LL);
            }
            v28->m_Items[1] = (int32_t)v26->_1.namespaze;
            if ( !logicSkill )
              sub_B0D97C(v28);
            v29 = (System_Collections_Generic_IEnumerable_T__o *)BattleLogicSkill__taskSkill(
                                                                   logicSkill,
                                                                   (BattleSkillInfoData_o *)current,
                                                                   v28,
                                                                   0LL,
                                                                   0,
                                                                   0,
                                                                   0,
                                                                   0LL);
            if ( !v16 )
              sub_B0D97C(v29);
            System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
              (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v16,
              v29,
              (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
          }
        }
        System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
          &v36,
          (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__);
        goto LABEL_28;
      }
    }
LABEL_39:
    sub_B0D97C(data);
  }
LABEL_28:
  if ( !v16 )
    goto LABEL_39;
  if ( v16->fields._size >= 1 )
  {
    v30 = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                     (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v16,
                                     (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
    v32 = BattleLogic__waitWaveStep(this, v30, 256, v31);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v32, 0LL);
    return;
  }
LABEL_31:
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_39;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleLogic__CheckCutinFirstId(BattleLogic_o *this, int32_t cutinFirstId, const MethodInfo *method)
{
  const MethodInfo *v3; // x5
  BattleLogic_c *v6; // x0

  if ( (byte_4211852 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, *(_QWORD *)&cutinFirstId);
    byte_4211852 = 1;
  }
  v6 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v6 = BattleLogic_TypeInfo;
  }
  return BattleLogic__IsFirstTimeId(
           this,
           v6->static_fields->CUTIN_FIRST_ID_LIST_KEY,
           cutinFirstId,
           this->fields.cutinFirstIdList,
           this->fields.cutinFirstIdListThisTurn,
           v3);
}


bool __fastcall BattleLogic__CheckEnemyDropItem(
        BattleLogic_o *this,
        UnityEngine_GameObject_o *actorObj,
        BattleActorControl_o **actor,
        const MethodInfo *method)
{
  __int64 v7; // x1
  BattleServantData_o *battleSvtData; // x0
  BattleActorControl_o *Component_srcLineSprite; // x0
  UnityEngine_Object_o *v10; // x21
  struct BattleData_o *data; // x8
  struct BattleServantData_o *v12; // x8

  if ( (byte_421187D & 1) == 0 )
  {
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_BattleActorControl___, actorObj);
    sub_B0D8A4(&UnityEngine_Object_TypeInfo, v7);
    byte_421187D = 1;
  }
  *actor = 0LL;
  sub_B0D840(actor, 0LL);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  battleSvtData = (BattleServantData_o *)UnityEngine_Object__op_Equality((UnityEngine_Object_o *)actorObj, 0LL, 0LL);
  if ( ((unsigned __int8)battleSvtData & 1) != 0 )
    return 0;
  if ( !actorObj )
    goto LABEL_26;
  Component_srcLineSprite = (BattleActorControl_o *)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                                      actorObj,
                                                      (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_BattleActorControl___);
  *actor = Component_srcLineSprite;
  sub_B0D840(actor, Component_srcLineSprite);
  v10 = (UnityEngine_Object_o *)*actor;
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  battleSvtData = (BattleServantData_o *)UnityEngine_Object__op_Equality(v10, 0LL, 0LL);
  if ( ((unsigned __int8)battleSvtData & 1) != 0 )
    return 0;
  data = this->fields.data;
  if ( !data )
    goto LABEL_26;
  if ( !data->fields.endbattleFlg || data->fields.loseBattleFlg )
    return 0;
  if ( !*actor )
    goto LABEL_26;
  battleSvtData = (*actor)->fields.battleSvtData;
  if ( !battleSvtData )
    goto LABEL_26;
  battleSvtData = (BattleServantData_o *)BattleServantData__isDead(battleSvtData, 0LL);
  if ( ((unsigned __int8)battleSvtData & 1) != 0 )
    return 0;
  if ( !*actor
    || (v12 = (*actor)->fields.battleSvtData) == 0LL
    || (battleSvtData = (BattleServantData_o *)v12->fields.deckSvt) == 0LL )
  {
LABEL_26:
    sub_B0D97C(battleSvtData);
  }
  if ( !BattleDeckServantData__getIsForceDropItem((BattleDeckServantData_o *)battleSvtData, 0LL) )
    return 0;
  battleSvtData = (BattleServantData_o *)*actor;
  if ( !*actor )
    goto LABEL_26;
  return !BattleActorControl__IsAlreadyDrop((BattleActorControl_o *)battleSvtData, 0LL);
}


bool __fastcall BattleLogic__CheckEnemyDropItemAll(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x3
  struct BattlePerformance_o *perf; // x8
  BattleLogic_o *v4; // x19
  unsigned __int64 v5; // x20
  struct UnityEngine_GameObject_array *e_actorlist; // x8
  unsigned __int64 max_length; // x9
  __int64 v9; // x0
  BattleActorControl_o *actor; // [xsp+8h] [xbp-18h] BYREF

  actor = 0LL;
  perf = this->fields.perf;
  if ( !perf )
LABEL_8:
    sub_B0D97C(this);
  v4 = this;
  v5 = 0LL;
  while ( 1 )
  {
    e_actorlist = perf->fields.e_actorlist;
    if ( !e_actorlist )
      goto LABEL_8;
    max_length = e_actorlist->max_length;
    if ( (__int64)v5 >= (int)max_length )
      return 0;
    actor = 0LL;
    if ( v5 >= max_length )
    {
      v9 = sub_B0D9A8(this);
      sub_B0D948(v9, 0LL);
    }
    this = (BattleLogic_o *)BattleLogic__CheckEnemyDropItem(v4, e_actorlist->m_Items[v5], &actor, v2);
    if ( ((unsigned __int8)this & 1) != 0 )
      return 1;
    perf = v4->fields.perf;
    ++v5;
    if ( !perf )
      goto LABEL_8;
  }
}


bool __fastcall BattleLogic__CheckEventDataLostBattle(
        BattleLogic_o *this,
        System_String_o *str,
        System_String_o *endEvent,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  BattleLogic___c__DisplayClass109_0_o *v24; // x19
  __int64 data; // x0
  __int64 v26; // x1
  TerminalPramsManager_c *v27; // x0
  struct BattleData_o *v28; // x8
  int32_t v29; // w20
  __int64 v30; // x1
  TerminalPramsManager_c *v31; // x0
  Il2CppObject *v32; // x21
  __int64 v33; // x8
  __int64 v34; // x1
  System_String_array *v35; // x21
  TerminalPramsManager_c *v36; // x0
  System_String_o *v37; // x22
  __int64 v38; // x1
  __int64 v39; // x1
  TerminalPramsManager_c *v40; // x0
  System_String_o *v41; // x22
  __int64 v42; // x1
  __int64 v43; // x1
  TerminalPramsManager_c *v44; // x0
  System_String_o *v45; // x22
  __int64 v46; // x1
  System_String_o *v47; // x22
  System_String_o *v48; // x0
  WarQuestSelectionMaster_o *Master_WarQuestSelectionMaster; // x21
  Il2CppObject *v50; // x0
  System_String_o *v51; // x20
  __int64 v52; // x1
  __int64 v53; // x2
  AssetLoader_LoadEndDataHandler_o *v54; // x21
  bool v55; // w19
  __int64 v57; // x0
  __int64 v58; // x0
  int32_t eventId; // [xsp+4h] [xbp-4Ch] BYREF
  char v60[4]; // [xsp+8h] [xbp-48h] BYREF
  int32_t QuestId_k__BackingField; // [xsp+Ch] [xbp-44h] BYREF
  UserEventDataLostEntity_o *entity; // [xsp+18h] [xbp-38h] BYREF

  if ( (byte_421184B & 1) == 0 )
  {
    sub_B0D8A4(&AssetManager_TypeInfo, str);
    sub_B0D8A4(&Method_DataManager_GetMaster_EventDataLostBattleMaster___, v7);
    sub_B0D8A4(&Method_DataManager_GetMaster_UserEventDataLostMaster___, v8);
    sub_B0D8A4(&DataManager_TypeInfo, v9);
    sub_B0D8A4(&int_TypeInfo, v10);
    sub_B0D8A4(&Method_JsonManager_DeserializeArray_BattleResultComponent_resultData___, v11);
    sub_B0D8A4(&JsonManager_TypeInfo, v12);
    sub_B0D8A4(&AssetLoader_LoadEndDataHandler_TypeInfo, v13);
    sub_B0D8A4(&NetworkManager_TypeInfo, v14);
    sub_B0D8A4(&string___TypeInfo, v15);
    sub_B0D8A4(&TerminalPramsManager_TypeInfo, v16);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass109_0__CheckEventDataLostBattle_b__0__, v17);
    sub_B0D8A4(&BattleLogic___c__DisplayClass109_0_TypeInfo, v18);
    sub_B0D8A4(&StringLiteral_16336/*"afterActionBk"*/, v19);
    sub_B0D8A4(&StringLiteral_6224/*"EventUI/Prefabs/{0}"*/, v20);
    sub_B0D8A4(&StringLiteral_705/*","*/, v21);
    sub_B0D8A4(&StringLiteral_15681/*"["*/, v22);
    sub_B0D8A4(&StringLiteral_15917/*"]"*/, v23);
    byte_421184B = 1;
  }
  entity = 0LL;
  QuestId_k__BackingField = 0;
  v60[0] = 0;
  v24 = (BattleLogic___c__DisplayClass109_0_o *)sub_B0D974(BattleLogic___c__DisplayClass109_0_TypeInfo, str, endEvent);
  BattleLogic___c__DisplayClass109_0___ctor(v24, 0LL);
  if ( !v24 )
    goto LABEL_99;
  v24->fields.__4__this = this;
  sub_B0D840(&v24->fields.__4__this, this);
  v24->fields.endEvent = endEvent;
  sub_B0D840(&v24->fields.endEvent, endEvent);
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_99;
  v24->fields.eventId = BattleData__get_eventId((BattleData_o *)data, 0LL);
  if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
  }
  if ( !byte_421083F )
  {
    sub_B0D8A4(&TerminalPramsManager_TypeInfo, v26);
    byte_421083F = 1;
  }
  v27 = TerminalPramsManager_TypeInfo;
  if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
    v27 = TerminalPramsManager_TypeInfo;
  }
  v24->fields.warId = v27->static_fields->_WarId_k__BackingField;
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  data = (__int64)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_1714548 *)Method_DataManager_GetMaster_EventDataLostBattleMaster___);
  if ( !data )
    goto LABEL_99;
  data = EventDataLostBattleMaster__GetEventDataLostBattleId(
           (EventDataLostBattleMaster_o *)data,
           v24->fields.warId,
           v24->fields.eventId,
           0LL);
  v28 = this->fields.data;
  if ( !v28 )
    goto LABEL_99;
  v29 = data;
  if ( (_DWORD)data == -1 )
    return 0;
  data = (__int64)v28->fields.quest_ent;
  if ( !data )
    goto LABEL_99;
  if ( !QuestEntity__HasFlag((QuestEntity_o *)data, 0x4000LL, 0LL) )
    return 0;
  if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
  }
  if ( !byte_4210881 )
  {
    sub_B0D8A4(&TerminalPramsManager_TypeInfo, v30);
    byte_4210881 = 1;
  }
  v31 = TerminalPramsManager_TypeInfo;
  if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
    v31 = TerminalPramsManager_TypeInfo;
  }
  v31->static_fields->_isIncomingCall_k__BackingField = 1;
  v32 = (Il2CppObject *)System_String__Concat_43852188(
                          (System_String_o *)StringLiteral_15681/*"["*/,
                          str,
                          (System_String_o *)StringLiteral_15917/*"]"*/,
                          0LL);
  if ( (BYTE3(JsonManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !JsonManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(JsonManager_TypeInfo);
  data = (__int64)JsonManager__DeserializeArray_UserPresentBoxWindow_resData_(
                    v32,
                    (const MethodInfo_1B682B0 *)Method_JsonManager_DeserializeArray_BattleResultComponent_resultData___);
  if ( !data )
    goto LABEL_99;
  if ( !*(_DWORD *)(data + 24) )
    goto LABEL_100;
  v33 = *(_QWORD *)(data + 32);
  if ( !v33 )
    goto LABEL_99;
  if ( *(_BYTE *)(v33 + 401) )
  {
    v35 = (System_String_array *)sub_B0D8BC(string___TypeInfo, 7LL);
    if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
    }
    if ( !byte_4210852 )
    {
      sub_B0D8A4(&TerminalPramsManager_TypeInfo, v34);
      byte_4210852 = 1;
    }
    v36 = TerminalPramsManager_TypeInfo;
    if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
      v36 = TerminalPramsManager_TypeInfo;
    }
    QuestId_k__BackingField = v36->static_fields->_QuestId_k__BackingField;
    data = (__int64)System_Int32__ToString((int32_t)&QuestId_k__BackingField, 0LL);
    if ( v35 )
    {
      v37 = (System_String_o *)data;
      if ( !data || (data = sub_B0D964(data, v35->obj.klass->_1.element_class)) != 0 )
      {
        if ( !v35->max_length )
          goto LABEL_100;
        v35->m_Items[0] = v37;
        sub_B0D840(v35->m_Items, v37);
        data = StringLiteral_705/*","*/;
        if ( StringLiteral_705/*","*/ )
        {
          data = sub_B0D964(StringLiteral_705/*","*/, v35->obj.klass->_1.element_class);
          if ( !data )
            goto LABEL_101;
          v38 = StringLiteral_705/*","*/;
        }
        else
        {
          v38 = 0LL;
        }
        if ( v35->max_length <= 1 )
          goto LABEL_100;
        v35->m_Items[1] = (System_String_o *)v38;
        sub_B0D840(&v35->m_Items[1], v38);
        if ( !byte_4210853 )
        {
          sub_B0D8A4(&TerminalPramsManager_TypeInfo, v39);
          byte_4210853 = 1;
        }
        v40 = TerminalPramsManager_TypeInfo;
        if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
          v40 = TerminalPramsManager_TypeInfo;
        }
        QuestId_k__BackingField = v40->static_fields->_PhaseCnt_k__BackingField;
        data = (__int64)System_Int32__ToString((int32_t)&QuestId_k__BackingField, 0LL);
        v41 = (System_String_o *)data;
        if ( !data || (data = sub_B0D964(data, v35->obj.klass->_1.element_class)) != 0 )
        {
          if ( v35->max_length <= 2 )
            goto LABEL_100;
          v35->m_Items[2] = v41;
          sub_B0D840(&v35->m_Items[2], v41);
          data = StringLiteral_705/*","*/;
          if ( StringLiteral_705/*","*/ )
          {
            data = sub_B0D964(StringLiteral_705/*","*/, v35->obj.klass->_1.element_class);
            if ( !data )
              goto LABEL_101;
            v42 = StringLiteral_705/*","*/;
          }
          else
          {
            v42 = 0LL;
          }
          if ( v35->max_length <= 3 )
            goto LABEL_100;
          v35->m_Items[3] = (System_String_o *)v42;
          sub_B0D840(&v35->m_Items[3], v42);
          if ( !byte_4210864 )
          {
            sub_B0D8A4(&TerminalPramsManager_TypeInfo, v43);
            byte_4210864 = 1;
          }
          v44 = TerminalPramsManager_TypeInfo;
          if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
            v44 = TerminalPramsManager_TypeInfo;
          }
          v60[0] = v44->static_fields->_IsQuestClear_k__BackingField;
          data = (__int64)System_Boolean__ToString((bool)v60, 0LL);
          v45 = (System_String_o *)data;
          if ( !data || (data = sub_B0D964(data, v35->obj.klass->_1.element_class)) != 0 )
          {
            if ( v35->max_length <= 4 )
              goto LABEL_100;
            v35->m_Items[4] = v45;
            sub_B0D840(&v35->m_Items[4], v45);
            data = StringLiteral_705/*","*/;
            if ( StringLiteral_705/*","*/ )
            {
              data = sub_B0D964(StringLiteral_705/*","*/, v35->obj.klass->_1.element_class);
              if ( !data )
                goto LABEL_101;
              v46 = StringLiteral_705/*","*/;
            }
            else
            {
              v46 = 0LL;
            }
            if ( v35->max_length <= 5 )
              goto LABEL_100;
            v35->m_Items[5] = (System_String_o *)v46;
            sub_B0D840(&v35->m_Items[5], v46);
            v60[0] = 1;
            data = (__int64)System_Boolean__ToString((bool)v60, 0LL);
            v47 = (System_String_o *)data;
            if ( !data || (data = sub_B0D964(data, v35->obj.klass->_1.element_class)) != 0 )
            {
              if ( v35->max_length > 6 )
              {
                v35->m_Items[6] = v47;
                sub_B0D840(&v35->m_Items[6], v47);
                v48 = System_String__Concat_43930028(v35, 0LL);
                UnityEngine_PlayerPrefs__SetString((System_String_o *)StringLiteral_16336/*"afterActionBk"*/, v48, 0LL);
                goto LABEL_83;
              }
LABEL_100:
              v57 = sub_B0D9A8(data);
              sub_B0D948(v57, 0LL);
            }
          }
        }
      }
LABEL_101:
      v58 = sub_B0D99C();
      sub_B0D948(v58, 0LL);
    }
LABEL_99:
    sub_B0D97C(data);
  }
LABEL_83:
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_1714548 *)Method_DataManager_GetMaster_UserEventDataLostMaster___);
  if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !NetworkManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
  }
  data = NetworkManager__get_UserId(0LL);
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_99;
  if ( !UserEventDataLostMaster__TryGetEntity(
          (UserEventDataLostMaster_o *)Master_WarQuestSelectionMaster,
          &entity,
          data,
          v29,
          0LL) )
    return 0;
  data = (__int64)entity;
  if ( !entity )
    goto LABEL_99;
  if ( !UserEventDataLostEntity__IsAllServantDataLost(entity, 0LL) )
    return 0;
  eventId = v24->fields.eventId;
  v50 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &eventId);
  v51 = System_String__Format((System_String_o *)StringLiteral_6224/*"EventUI/Prefabs/{0}"*/, v50, 0LL);
  v54 = (AssetLoader_LoadEndDataHandler_o *)sub_B0D974(AssetLoader_LoadEndDataHandler_TypeInfo, v52, v53);
  AssetLoader_LoadEndDataHandler___ctor(
    v54,
    (Il2CppObject *)v24,
    Method_BattleLogic___c__DisplayClass109_0__CheckEventDataLostBattle_b__0__,
    0LL);
  if ( (BYTE3(AssetManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !AssetManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(AssetManager_TypeInfo);
  v55 = 1;
  AssetManager__loadAssetStorage(v51, v54, 1, 0LL);
  return v55;
}


void __fastcall BattleLogic__CheckFieldAIBeforeMoveWave(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x3
  System_Collections_IEnumerator_o *v5; // x1

  if ( (byte_421188B & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, method);
    byte_421188B = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_12;
  if ( !BattleData__checkProgressflg(data, 0x8000, 0LL) )
    goto LABEL_10;
  data = this->fields.data;
  if ( !data
    || (BattleData__offProgressflg(data, 0x8000, 0LL), (data = (BattleData_o *)this->fields.logicFieldAi) == 0LL)
    || (data = (BattleData_o *)BattleLogicFieldAi__CheckFieldAiBeforeMoveWave((BattleLogicFieldAi_o *)data, 0LL)) == 0LL )
  {
LABEL_12:
    sub_B0D97C(data);
  }
  if ( data->fields.rootfsm )
  {
    v5 = BattleLogic__waitWaveStep(this, (BattleLogicTask_array *)data, 0x8000, v4);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v5, 0LL);
    return;
  }
LABEL_10:
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_12;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


void __fastcall BattleLogic__CheckPlayerSkillAfterTask(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  struct BattleLogic_UseSkillObject_o *act_useSkill; // x8
  struct BattleSkillInfoData_o *skillInfo; // x8
  int32_t type; // w8
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v14; // x20
  BattleLogicFieldAi_o *logicFieldAi; // x0
  System_Collections_Generic_IEnumerable_T__o *v16; // x0
  System_Collections_Generic_IEnumerable_T__o *ActionTasks; // x0
  __int64 v18; // x1
  __int64 v19; // x2
  BattleLogicTask_o *v20; // x21
  BattleLogicTask_array *v21; // x1
  const MethodInfo *v22; // x2

  if ( (byte_42118E2 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__get_Count__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v9);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v10);
    byte_42118E2 = 1;
  }
  act_useSkill = this->fields.act_useSkill;
  if ( !act_useSkill )
    goto LABEL_12;
  skillInfo = act_useSkill->fields.skillInfo;
  if ( !skillInfo )
    goto LABEL_12;
  type = skillInfo->fields.type;
  if ( type != 1 && type != 11 )
    goto LABEL_12;
  v14 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                  method,
                                                                                                  v2);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v14,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  logicFieldAi = this->fields.logicFieldAi;
  if ( !logicFieldAi )
    goto LABEL_23;
  logicFieldAi = (BattleLogicFieldAi_o *)BattleLogicFieldAi__CreateActionTasks(logicFieldAi, 67, 0LL);
  if ( !v14 )
    goto LABEL_23;
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v14,
    (System_Collections_Generic_IEnumerable_T__o *)logicFieldAi,
    (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
  logicFieldAi = (BattleLogicFieldAi_o *)this->fields.logicReaction;
  if ( !logicFieldAi )
    goto LABEL_23;
  v16 = (System_Collections_Generic_IEnumerable_T__o *)BattleLogicReaction__CheckPlayerSkillAfterAction(
                                                         (BattleLogicReaction_o *)logicFieldAi,
                                                         0LL);
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v14,
    v16,
    (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
  logicFieldAi = this->fields.logicFieldAi;
  if ( !logicFieldAi )
    goto LABEL_23;
  ActionTasks = (System_Collections_Generic_IEnumerable_T__o *)BattleLogicFieldAi__CreateActionTasks(
                                                                 logicFieldAi,
                                                                 66,
                                                                 0LL);
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v14,
    ActionTasks,
    (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
  if ( BasicHelper__IsNullOrEmpty((System_Collections_ICollection_o *)v14, 0LL) )
  {
LABEL_12:
    logicFieldAi = (BattleLogicFieldAi_o *)this->fields.fsm;
    if ( logicFieldAi )
    {
      PlayMakerFSM__SendEvent((PlayMakerFSM_o *)logicFieldAi, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
      return;
    }
LABEL_23:
    sub_B0D97C(logicFieldAi);
  }
  logicFieldAi = (BattleLogicFieldAi_o *)this->fields.perf;
  if ( !logicFieldAi )
    goto LABEL_23;
  logicFieldAi = (BattleLogicFieldAi_o *)BattlePerformance__get_MotionSkipManager(
                                           (BattlePerformance_o *)logicFieldAi,
                                           0LL);
  if ( !logicFieldAi )
    goto LABEL_23;
  logicFieldAi = (BattleLogicFieldAi_o *)BattleMotionSkipManager__get_Current(
                                           (BattleMotionSkipManager_o *)logicFieldAi,
                                           0LL);
  if ( !logicFieldAi )
    goto LABEL_23;
  ((void (__fastcall *)(BattleLogicFieldAi_o *, Il2CppMethodPointer))logicFieldAi->klass->vtable._8_InitAiActTaskFunction.method)(
    logicFieldAi,
    logicFieldAi->klass->vtable._9_AddNoneTask.methodPtr);
  logicFieldAi = (BattleLogicFieldAi_o *)this->fields.perf;
  if ( !logicFieldAi )
    goto LABEL_23;
  logicFieldAi = (BattleLogicFieldAi_o *)BattlePerformance__get_MotionSkipManager(
                                           (BattlePerformance_o *)logicFieldAi,
                                           0LL);
  if ( !logicFieldAi )
    goto LABEL_23;
  BattleMotionSkipManager__ReleaseMotionSkip((BattleMotionSkipManager_o *)logicFieldAi, 0LL);
  if ( v14->fields._size >= 1 )
  {
    v20 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v18, v19);
    BattleLogicTask___ctor(v20, 0LL);
    if ( !v20 )
      goto LABEL_23;
    v20->fields.actiontype = 7;
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      v14,
      (EventMissionProgressRequest_Argument_ProgressData_o *)v20,
      (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  }
  v21 = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                   (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v14,
                                   (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
  BattleLogic__actOneBattleTask(this, v21, v22);
}


void __fastcall BattleLogic__CheckRemainBattleEndWave(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogic_o *v2; // x19
  __int64 v3; // x1
  struct BattleData_o *data; // x8
  __int64 *v5; // x9

  v2 = this;
  if ( (byte_4211878 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_11100/*"REMAIN_TASK"*/, method);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_5517/*"END_TASK"*/, v3);
    byte_4211878 = 1;
  }
  data = v2->fields.data;
  if ( !data
    || (this = (BattleLogic_o *)data->fields.battleEvent) == 0LL
    || (this = (BattleLogic_o *)(*(__int64 (__fastcall **)(BattleLogic_o *, void *))&this->klass[2]._1.byval_arg.bits)(
                                  this,
                                  this->klass[2]._1.this_arg.data),
        !v2->fields.fsm) )
  {
    sub_B0D97C(this);
  }
  if ( ((unsigned __int8)this & 1) != 0 )
    v5 = &StringLiteral_11100/*"REMAIN_TASK"*/;
  else
    v5 = &StringLiteral_5517/*"END_TASK"*/;
  PlayMakerFSM__SendEvent(v2->fields.fsm, (System_String_o *)*v5, 0LL);
}


void __fastcall BattleLogic__CheckServantAiBeforeMoveWave(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x3

  BattleLogic__CheckServantAiWaveBase(this, 0x4000, 21, v2);
}


void __fastcall BattleLogic__CheckServantAiTurnStart(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData_o *data; // x0
  System_Collections_ICollection_o *v10; // x21
  __int64 v11; // x1
  __int64 v12; // x2
  System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *v13; // x20
  __int64 v14; // x1
  __int64 v15; // x2
  BattleLogicCameraTask_o *v16; // x21
  BattleLogicTask_array *v17; // x0
  const MethodInfo *v18; // x3
  System_Collections_IEnumerator_o *v19; // x1

  if ( (byte_4211893 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicCameraTask_TypeInfo, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor___67874312, v5);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v6);
    sub_B0D8A4(&StringLiteral_11116/*"RESET_CAMERA_TAC"*/, v7);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v8);
    byte_4211893 = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_12;
  if ( !BattleData__checkProgressflg(data, 4096, 0LL) )
    goto LABEL_8;
  data = this->fields.data;
  if ( !data )
    goto LABEL_12;
  BattleData__offProgressflg(data, 4096, 0LL);
  data = (BattleData_o *)this->fields.logicReaction;
  if ( !data )
    goto LABEL_12;
  v10 = (System_Collections_ICollection_o *)BattleLogicReaction__CheckServantAiTurnStart(
                                              (BattleLogicReaction_o *)data,
                                              0LL);
  if ( BasicHelper__IsNullOrEmpty(v10, 0LL) )
  {
LABEL_8:
    data = (BattleData_o *)this->fields.fsm;
    if ( data )
    {
      PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
      return;
    }
LABEL_12:
    sub_B0D97C(data);
  }
  v13 = (System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *)sub_B0D974(
                                                                          System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                          v11,
                                                                          v12);
  System_Collections_Generic_List_WarBoardAIRoute_RouteData____ctor(
    v13,
    (System_Collections_Generic_IEnumerable_T__o *)v10,
    (const MethodInfo_2FC4C1C *)Method_System_Collections_Generic_List_BattleLogicTask___ctor___67874312);
  v16 = (BattleLogicCameraTask_o *)sub_B0D974(BattleLogicCameraTask_TypeInfo, v14, v15);
  BattleLogicCameraTask___ctor(v16, (System_String_o *)StringLiteral_11116/*"RESET_CAMERA_TAC"*/, 0LL);
  if ( !v13 )
    goto LABEL_12;
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)v13,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v16,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  v17 = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                   (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v13,
                                   (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
  v19 = BattleLogic__waitWaveStep(this, v17, 4096, v18);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v19, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__CheckServantAiWaveBase(
        BattleLogic_o *this,
        int32_t progressFlg,
        int32_t procState,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  BattleData_o *data; // x0
  __int64 v16; // x1
  __int64 v17; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v18; // x22
  __int64 v19; // x1
  __int64 v20; // x2
  BattleLogicCameraTask_o *v21; // x21
  BattleLogicTask_array *v22; // x0
  const MethodInfo *v23; // x3
  System_Collections_IEnumerator_o *v24; // x1

  if ( (byte_4211892 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicCameraTask_TypeInfo, *(_QWORD *)&progressFlg);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__get_Count__, v11);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v12);
    sub_B0D8A4(&StringLiteral_11116/*"RESET_CAMERA_TAC"*/, v13);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v14);
    byte_4211892 = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_16;
  if ( !BattleData__checkProgressflg(data, progressFlg, 0LL) )
    goto LABEL_14;
  data = this->fields.data;
  if ( !data
    || (BattleData__offProgressflg(data, progressFlg, 0LL),
        v18 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(System_Collections_Generic_List_BattleLogicTask__TypeInfo, v16, v17),
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
          v18,
          (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__),
        (data = (BattleData_o *)this->fields.logicReaction) == 0LL)
    || (data = (BattleData_o *)BattleLogicReaction__CheckServantAiWave((BattleLogicReaction_o *)data, procState, 0LL)) == 0LL )
  {
LABEL_16:
    sub_B0D97C(data);
  }
  if ( data->fields.rootfsm )
  {
    if ( !v18 )
      goto LABEL_16;
    System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
      (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v18,
      (System_Collections_Generic_IEnumerable_T__o *)data,
      (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
    v21 = (BattleLogicCameraTask_o *)sub_B0D974(BattleLogicCameraTask_TypeInfo, v19, v20);
    BattleLogicCameraTask___ctor(v21, (System_String_o *)StringLiteral_11116/*"RESET_CAMERA_TAC"*/, 0LL);
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      v18,
      (EventMissionProgressRequest_Argument_ProgressData_o *)v21,
      (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  }
  else if ( !v18 )
  {
    goto LABEL_16;
  }
  if ( v18->fields._size >= 1 )
  {
    v22 = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                     (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v18,
                                     (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
    v24 = BattleLogic__waitWaveStep(this, v22, progressFlg, v23);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v24, 0LL);
    return;
  }
LABEL_14:
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_16;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


void __fastcall BattleLogic__CheckServantAiWaveStart(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x3

  BattleLogic__CheckServantAiWaveBase(this, 16, 6, v2);
}


void __fastcall BattleLogic__CheckStageCutinSkill(BattleLogic_o *this, const MethodInfo *method)
{
  System_Collections_IEnumerator_o *v3; // x1

  v3 = BattleLogic__CoroutineCheckStageCutinSkill(this, method);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v3, 0LL);
}


void __fastcall BattleLogic__ClearDeadAttackCommand(BattleLogic_o *this, const MethodInfo *method)
{
  struct System_Collections_Generic_Dictionary_int__BattleCommandData__o *deadAttackCommandDictionary; // x0

  if ( (byte_4211830 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_Dictionary_int__BattleCommandData__Clear__, method);
    byte_4211830 = 1;
  }
  if ( !BasicHelper__IsNullOrEmpty((System_Collections_ICollection_o *)this->fields.deadAttackCommandDictionary, 0LL) )
  {
    deadAttackCommandDictionary = this->fields.deadAttackCommandDictionary;
    if ( !deadAttackCommandDictionary )
      sub_B0D97C(0LL);
    System_Collections_Generic_Dictionary_int__WarBoardAIRoute_PiecePersonality___Clear(
      (System_Collections_Generic_Dictionary_int__WarBoardAIRoute_PiecePersonality__o *)deadAttackCommandDictionary,
      (const MethodInfo_2E90604 *)Method_System_Collections_Generic_Dictionary_int__BattleCommandData__Clear__);
  }
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__CorCallServant(
        BattleLogic_o *this,
        BattleActionData_o *actionData,
        const MethodInfo *method)
{
  BattleLogic__CorCallServant_d__327_o *v5; // x21
  __int64 v6; // x0

  if ( (byte_42118D2 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__CorCallServant_d__327_TypeInfo, actionData);
    byte_42118D2 = 1;
  }
  v5 = (BattleLogic__CorCallServant_d__327_o *)sub_B0D974(
                                                 BattleLogic__CorCallServant_d__327_TypeInfo,
                                                 actionData,
                                                 method);
  BattleLogic__CorCallServant_d__327___ctor(v5, 0, 0LL);
  if ( !v5 )
    sub_B0D97C(v6);
  v5->fields.__4__this = this;
  sub_B0D840(&v5->fields.__4__this, this);
  v5->fields.actionData = actionData;
  sub_B0D840(&v5->fields.actionData, actionData);
  return (System_Collections_IEnumerator_o *)v5;
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__CorFieldCallServant(
        BattleLogic_o *this,
        BattleActionData_o *actionData,
        const MethodInfo *method)
{
  BattleLogic__CorFieldCallServant_d__330_o *v5; // x21
  __int64 v6; // x0

  if ( (byte_42118D4 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__CorFieldCallServant_d__330_TypeInfo, actionData);
    byte_42118D4 = 1;
  }
  v5 = (BattleLogic__CorFieldCallServant_d__330_o *)sub_B0D974(
                                                      BattleLogic__CorFieldCallServant_d__330_TypeInfo,
                                                      actionData,
                                                      method);
  BattleLogic__CorFieldCallServant_d__330___ctor(v5, 0, 0LL);
  if ( !v5 )
    sub_B0D97C(v6);
  v5->fields.__4__this = this;
  sub_B0D840(&v5->fields.__4__this, this);
  v5->fields.actionData = actionData;
  sub_B0D840(&v5->fields.actionData, actionData);
  return (System_Collections_IEnumerator_o *)v5;
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__CoroutineCheckAssistSkill(
        BattleLogic_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x2
  BattleLogic__CoroutineCheckAssistSkill_d__345_o *v4; // x20
  __int64 v5; // x0

  if ( (byte_42118D8 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__CoroutineCheckAssistSkill_d__345_TypeInfo, method);
    byte_42118D8 = 1;
  }
  v4 = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)sub_B0D974(
                                                            BattleLogic__CoroutineCheckAssistSkill_d__345_TypeInfo,
                                                            method,
                                                            v2);
  BattleLogic__CoroutineCheckAssistSkill_d__345___ctor(v4, 0, 0LL);
  if ( !v4 )
    sub_B0D97C(v5);
  v4->fields.__4__this = this;
  sub_B0D840(&v4->fields.__4__this, this);
  return (System_Collections_IEnumerator_o *)v4;
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__CoroutineCheckStageCutinSkill(
        BattleLogic_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x2
  BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *v4; // x20
  __int64 v5; // x0

  if ( (byte_42118D9 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__CoroutineCheckStageCutinSkill_d__347_TypeInfo, method);
    byte_42118D9 = 1;
  }
  v4 = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)sub_B0D974(
                                                                BattleLogic__CoroutineCheckStageCutinSkill_d__347_TypeInfo,
                                                                method,
                                                                v2);
  BattleLogic__CoroutineCheckStageCutinSkill_d__347___ctor(v4, 0, 0LL);
  if ( !v4 )
    sub_B0D97C(v5);
  v4->fields.__4__this = this;
  sub_B0D840(&v4->fields.__4__this, this);
  return (System_Collections_IEnumerator_o *)v4;
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__CoroutineInitQuest(
        BattleLogic_o *this,
        System_Action_o *finishCallback,
        const MethodInfo *method)
{
  BattleLogic__CoroutineInitQuest_d__317_o *v5; // x21
  __int64 v6; // x0

  if ( (byte_42118CD & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__CoroutineInitQuest_d__317_TypeInfo, finishCallback);
    byte_42118CD = 1;
  }
  v5 = (BattleLogic__CoroutineInitQuest_d__317_o *)sub_B0D974(
                                                     BattleLogic__CoroutineInitQuest_d__317_TypeInfo,
                                                     finishCallback,
                                                     method);
  BattleLogic__CoroutineInitQuest_d__317___ctor(v5, 0, 0LL);
  if ( !v5 )
    sub_B0D97C(v6);
  v5->fields.__4__this = this;
  sub_B0D840(&v5->fields.__4__this, this);
  v5->fields.finishCallback = finishCallback;
  sub_B0D840(&v5->fields.finishCallback, finishCallback);
  return (System_Collections_IEnumerator_o *)v5;
}


BattleActionData_o *__fastcall BattleLogic__CreateActionDataTaskSide(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  if ( !task )
    sub_B0D97C(this);
  return (BattleActionData_o *)((__int64 (__fastcall *)(BattleLogicTask_o *, BattleLogic_o *, Il2CppMethodPointer))task->klass->vtable._6_MakeActionData.method)(
                                 task,
                                 this,
                                 task->klass->vtable._7_AfterCreateAction.methodPtr);
}


BattleActionData_o *__fastcall BattleLogic__CreateCommonFieldPlayMotion(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        BattleActionData_o *actiondata,
        const MethodInfo *method)
{
  struct System_String_o *motionName; // x1
  struct System_String_o *motionMessage; // x1
  struct UnityEngine_GameObject_o *targetObject; // x1

  if ( !actiondata || (BattleActionData__setStateField(actiondata, 0LL), !task) )
    sub_B0D97C(this);
  actiondata->fields.isForcedSpeedOne = task->fields.isForcedSpeedOne;
  motionName = task->fields.motionName;
  actiondata->fields.motionname = motionName;
  sub_B0D840(&actiondata->fields.motionname, motionName);
  motionMessage = task->fields.motionMessage;
  actiondata->fields.motionMessage = motionMessage;
  sub_B0D840(&actiondata->fields.motionMessage, motionMessage);
  targetObject = task->fields.targetObject;
  actiondata->fields.targetObject = targetObject;
  sub_B0D840(&actiondata->fields.targetObject, targetObject);
  return actiondata;
}


BattleActionData_o *__fastcall BattleLogic__CreateFieldPlayMotion(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  BattleActionData_o *v4; // x20
  BattleLogic_o *v5; // x0
  const MethodInfo *v6; // x3

  if ( (byte_4211867 & 1) == 0 )
  {
    sub_B0D8A4(&BattleActionData_TypeInfo, task);
    byte_4211867 = 1;
  }
  v4 = (BattleActionData_o *)sub_B0D974(BattleActionData_TypeInfo, task, method);
  BattleActionData___ctor(v4, 0LL);
  return BattleLogic__CreateCommonFieldPlayMotion(v5, task, v4, v6);
}


void __fastcall BattleLogic__DelayForceResetTimeForSkip(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0
  float v4; // s0

  if ( (byte_421184F & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_6766/*"ForceResetTimeAcceleration"*/, method);
    byte_421184F = 1;
  }
  perf = this->fields.perf;
  if ( !perf || (perf = (BattlePerformance_o *)BattlePerformance__get_MotionSkip(perf, 0LL)) == 0LL )
    sub_B0D97C(perf);
  v4 = ((float (__fastcall *)(BattlePerformance_o *, void *))perf->klass[1]._1.namespaze)(
         perf,
         perf->klass[1]._1.byval_arg.data);
  UnityEngine_MonoBehaviour__Invoke((UnityEngine_MonoBehaviour_o *)this, (System_String_o *)StringLiteral_6766/*"ForceResetTimeAcceleration"*/, v4, 0LL);
}


void __fastcall BattleLogic__DoUpdateFieldBuff(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  BattleLogic_c *v3; // x0
  UnityEngine_Object_o *Instance; // x19
  BattleLogic_c *v5; // x0
  BattleLogic_o *v6; // x0
  const MethodInfo *v7; // x1

  if ( (byte_421182C & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, v1);
    sub_B0D8A4(&UnityEngine_Object_TypeInfo, v2);
    byte_421182C = 1;
  }
  v3 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
  Instance = (UnityEngine_Object_o *)BattleLogic__get_Instance((const MethodInfo *)v3);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  if ( !UnityEngine_Object__op_Equality(Instance, 0LL, 0LL) )
  {
    v5 = BattleLogic_TypeInfo;
    if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v6 = BattleLogic__get_Instance((const MethodInfo *)v5);
    if ( !v6 )
      sub_B0D97C(0LL);
    BattleLogic__updateFieldBuff(v6, v7);
  }
}


void __fastcall BattleLogic__DropItemCollection(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0
  const MethodInfo *v4; // x1
  System_Collections_IEnumerator_o *v5; // x1

  if ( (byte_4211841 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, method);
    byte_4211841 = 1;
  }
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_8;
  if ( BattlePerformance__IsItemDrop(perf, 0LL) )
  {
    v5 = BattleLogic__DropItemCollectionCoroutine(this, v4);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v5, 0LL);
    return;
  }
  perf = (BattlePerformance_o *)this->fields.fsm;
  if ( !perf )
LABEL_8:
    sub_B0D97C(perf);
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)perf, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__DropItemCollectionCoroutine(
        BattleLogic_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x2
  BattleLogic__DropItemCollectionCoroutine_d__94_o *v4; // x20
  __int64 v5; // x0

  if ( (byte_4211842 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__DropItemCollectionCoroutine_d__94_TypeInfo, method);
    byte_4211842 = 1;
  }
  v4 = (BattleLogic__DropItemCollectionCoroutine_d__94_o *)sub_B0D974(
                                                             BattleLogic__DropItemCollectionCoroutine_d__94_TypeInfo,
                                                             method,
                                                             v2);
  BattleLogic__DropItemCollectionCoroutine_d__94___ctor(v4, 0, 0LL);
  if ( !v4 )
    sub_B0D97C(v5);
  v4->fields.__4__this = this;
  sub_B0D840(&v4->fields.__4__this, this);
  return (System_Collections_IEnumerator_o *)v4;
}


void __fastcall BattleLogic__EndRequestBattleUseItem(
        BattleLogic_o *this,
        System_String_o *result,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  BattlePerformanceMaster_o *masterPerf; // x0
  CommonUI_o *Instance; // x20
  System_String_o *v17; // x21
  System_String_o *v18; // x22
  __int64 v19; // x1
  __int64 v20; // x2
  NotificationDialog_ClickDelegate_o *v21; // x23
  struct BattlePerformance_o *perf; // x8
  struct BattlePerformanceStatus_o *statusPerf; // x8
  struct BattleData_o *data; // x8
  __int64 *v25; // x8

  if ( (byte_421189D & 1) == 0 )
  {
    sub_B0D8A4(&BattleData_TypeInfo, result);
    sub_B0D8A4(&Method_BattleLogic_requestBattleUseItemErrorDialog__, v5);
    sub_B0D8A4(&NotificationDialog_ClickDelegate_TypeInfo, v6);
    sub_B0D8A4(&LocalizationManager_TypeInfo, v7);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, v8);
    sub_B0D8A4(&StringLiteral_13502/*"TUTORIAL"*/, v9);
    sub_B0D8A4(&StringLiteral_2424/*"BATTLE_DIALOG_BATTLEUSEITEM_ERROR_TITLE"*/, v10);
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v11);
    sub_B0D8A4(&StringLiteral_21137/*"ng"*/, v12);
    sub_B0D8A4(&StringLiteral_2423/*"BATTLE_DIALOG_BATTLEUSEITEM_ERROR_CONF"*/, v13);
    sub_B0D8A4(&StringLiteral_1/*""*/, v14);
    byte_421189D = 1;
  }
  masterPerf = (BattlePerformanceMaster_o *)System_String__op_Equality(
                                              result,
                                              (System_String_o *)StringLiteral_21137/*"ng"*/,
                                              0LL);
  if ( ((unsigned __int8)masterPerf & 1) != 0 )
  {
    Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
    if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !LocalizationManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
    }
    v17 = LocalizationManager__Get((System_String_o *)StringLiteral_2424/*"BATTLE_DIALOG_BATTLEUSEITEM_ERROR_TITLE"*/, 0LL);
    v18 = LocalizationManager__Get((System_String_o *)StringLiteral_2423/*"BATTLE_DIALOG_BATTLEUSEITEM_ERROR_CONF"*/, 0LL);
    v21 = (NotificationDialog_ClickDelegate_o *)sub_B0D974(NotificationDialog_ClickDelegate_TypeInfo, v19, v20);
    NotificationDialog_ClickDelegate___ctor(
      v21,
      (Il2CppObject *)this,
      Method_BattleLogic_requestBattleUseItemErrorDialog__,
      0LL);
    if ( Instance )
    {
      CommonUI__OpenNotificationDialog_17019096(
        Instance,
        v17,
        v18,
        v21,
        -1,
        0,
        0,
        0,
        0,
        1,
        0LL,
        0LL,
        0,
        0,
        0LL,
        1,
        0LL,
        0LL,
        0LL,
        0LL);
      return;
    }
LABEL_23:
    sub_B0D97C(masterPerf);
  }
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_23;
  statusPerf = perf->fields.statusPerf;
  if ( !statusPerf )
    goto LABEL_23;
  masterPerf = statusPerf->fields.masterPerf;
  if ( !masterPerf )
    goto LABEL_23;
  BattlePerformanceMaster__updateSkillIcon(masterPerf, 0LL);
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  BattleData__SaveBattleUseItemParameter((System_String_o *)StringLiteral_1/*""*/, 0, 0LL);
  BattleData__setContinueBattleFlg(0, 1, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_23;
  if ( data->fields.tutorialId == 2 && data->fields.tutorialState == 5 )
  {
    data->fields.tutorialState = 10;
    masterPerf = (BattlePerformanceMaster_o *)this->fields.fsm;
    if ( !masterPerf )
      goto LABEL_23;
    v25 = &StringLiteral_13502/*"TUTORIAL"*/;
  }
  else
  {
    masterPerf = (BattlePerformanceMaster_o *)this->fields.fsm;
    if ( !masterPerf )
      goto LABEL_23;
    v25 = &StringLiteral_5512/*"END_PROC"*/;
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)masterPerf, (System_String_o *)*v25, 0LL);
}


void __fastcall BattleLogic__EnemyDropItem(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x3
  struct BattlePerformance_o *perf; // x8
  BattleLogic_o *v4; // x19
  unsigned __int64 v5; // x20
  struct UnityEngine_GameObject_array *e_actorlist; // x8
  unsigned __int64 max_length; // x9
  __int64 v8; // x0
  BattleActorControl_o *actor; // [xsp+8h] [xbp-18h] BYREF

  actor = 0LL;
  perf = this->fields.perf;
  if ( !perf )
LABEL_10:
    sub_B0D97C(this);
  v4 = this;
  v5 = 0LL;
  while ( 1 )
  {
    e_actorlist = perf->fields.e_actorlist;
    if ( !e_actorlist )
      goto LABEL_10;
    max_length = e_actorlist->max_length;
    if ( (__int64)v5 >= (int)max_length )
      break;
    actor = 0LL;
    if ( v5 >= max_length )
    {
      v8 = sub_B0D9A8(this);
      sub_B0D948(v8, 0LL);
    }
    this = (BattleLogic_o *)BattleLogic__CheckEnemyDropItem(v4, e_actorlist->m_Items[v5], &actor, v2);
    if ( ((unsigned __int8)this & 1) != 0 )
    {
      this = (BattleLogic_o *)actor;
      if ( !actor )
        goto LABEL_10;
      BattleActorControl__startDropItem(actor, 0, 0LL);
    }
    perf = v4->fields.perf;
    ++v5;
    if ( !perf )
      goto LABEL_10;
  }
}


// local variable allocation has failed, the output may be wrong!
UnityEngine_Vector2_o __fastcall BattleLogic__FSTuArrow(BattleLogic_o *this, int32_t tuState, const MethodInfo *method)
{
  BattleLogic_o *v4; // x20
  struct UnityEngine_Vector2_array *TuArrow; // x8
  float *v6; // x8
  float v7; // s8
  float v8; // s9
  bool IsUnderVista; // w0
  float v10; // s0
  float v11; // s0
  float v12; // s1
  __int64 v13; // x0
  UnityEngine_Vector2_o result; // 0:s0.4,4:s1.4

  v4 = this;
  if ( (byte_42118C0 & 1) == 0 )
  {
    this = (BattleLogic_o *)sub_B0D8A4(&FSUtility_TypeInfo, *(_QWORD *)&tuState);
    byte_42118C0 = 1;
  }
  TuArrow = v4->fields.TuArrow;
  if ( !TuArrow )
    sub_B0D97C(this);
  if ( TuArrow->max_length <= tuState )
  {
    v13 = sub_B0D9A8(this);
    sub_B0D948(v13, 0LL);
  }
  v6 = (float *)(&TuArrow->obj.klass + tuState);
  v8 = v6[8];
  v7 = v6[9];
  if ( tuState == 1 )
  {
    if ( (BYTE3(FSUtility_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !FSUtility_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(FSUtility_TypeInfo);
    v8 = v8 - FSUtility__GetOffsetX(40.0, 0, 0LL);
    IsUnderVista = FSUtility__IsUnderVista(0LL);
    v10 = 17.0;
    if ( IsUnderVista )
      v10 = 0.0;
    v7 = v7 + v10;
  }
  else if ( !tuState )
  {
    if ( (BYTE3(FSUtility_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !FSUtility_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(FSUtility_TypeInfo);
    v8 = v8 + FSUtility__GetOffsetX(68.0, 0, 0LL);
  }
  v11 = v8;
  v12 = v7;
  result.fields.y = v12;
  result.fields.x = v11;
  return result;
}


// local variable allocation has failed, the output may be wrong!
UnityEngine_Rect_o __fastcall BattleLogic__FSTuSquare(BattleLogic_o *this, int32_t tuState, const MethodInfo *method)
{
  int v3; // s1
  BattleLogic_o *v7; // x20
  struct UnityEngine_Rect_array *TuSquare; // x8
  __int128 v9; // q0
  float v10; // s8
  float v11; // s4
  float x; // s8
  float v13; // s4
  float y; // s8
  bool IsUnderVista; // w0
  float v18; // s4
  float v19; // s0
  int v20; // s1
  float v21; // s0
  float v22; // s0
  float v23; // s1
  float v24; // s2
  float v25; // s3
  __int64 v26; // x0
  __int128 v27; // [xsp+0h] [xbp-30h] BYREF
  UnityEngine_Rect_o v28; // 0:s0.4,4:s1.4,8:s2.4,12:s3.4
  UnityEngine_Rect_o v29; // 0:s0.4,4:s1.4,8:s2.4,12:s3.4
  UnityEngine_Rect_o v30; // 0:s0.4,4:s1.4,8:s2.4,12:s3.4
  UnityEngine_Rect_o result; // 0:s0.4,4:s1.4,8:s2.4,12:s3.4

  v7 = this;
  if ( (byte_42118C1 & 1) == 0 )
  {
    this = (BattleLogic_o *)sub_B0D8A4(&FSUtility_TypeInfo, *(_QWORD *)&tuState);
    byte_42118C1 = 1;
  }
  v27 = 0uLL;
  TuSquare = v7->fields.TuSquare;
  if ( !TuSquare )
    sub_B0D97C(this);
  if ( TuSquare->max_length <= tuState )
  {
    v26 = sub_B0D9A8(this);
    sub_B0D948(v26, 0LL);
  }
  v9 = *(_OWORD *)&TuSquare->m_Items[tuState].fields.m_YMin;
  v27 = v9;
  if ( tuState == 1 )
  {
    x = UnityEngine_Rect__get_x(*(UnityEngine_Rect_o *)(&v3 - 1), (const MethodInfo *)&v27);
    if ( (BYTE3(FSUtility_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !FSUtility_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(FSUtility_TypeInfo);
    v29.fields.m_XMin = x - FSUtility__GetOffsetX(40.0, 0, 0LL);
    UnityEngine_Rect__set_x(v29, v13, (const MethodInfo *)&v27);
    y = UnityEngine_Rect__get_y(v30, (const MethodInfo *)&v27);
    IsUnderVista = FSUtility__IsUnderVista(0LL);
    v19 = 17.0;
    v20 = 0;
    if ( IsUnderVista )
      v19 = 0.0;
    v21 = y + v19;
    UnityEngine_Rect__set_y(*(UnityEngine_Rect_o *)(&v20 - 1), v18, (const MethodInfo *)&v27);
  }
  else if ( !tuState )
  {
    v10 = UnityEngine_Rect__get_x(*(UnityEngine_Rect_o *)(&v3 - 1), (const MethodInfo *)&v27);
    if ( (BYTE3(FSUtility_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !FSUtility_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(FSUtility_TypeInfo);
    v28.fields.m_XMin = v10 + FSUtility__GetOffsetX(68.0, 0, 0LL);
    UnityEngine_Rect__set_x(v28, v11, (const MethodInfo *)&v27);
  }
  v23 = *((float *)&v27 + 1);
  v22 = *(float *)&v27;
  v25 = *((float *)&v27 + 3);
  v24 = *((float *)&v27 + 2);
  result.fields.m_Height = v25;
  result.fields.m_Width = v24;
  result.fields.m_YMin = v23;
  result.fields.m_XMin = v22;
  return result;
}


void __fastcall BattleLogic__FieldCallServant(
        BattleLogic_o *this,
        BattleActionData_o *actionData,
        const MethodInfo *method)
{
  System_Collections_IEnumerator_o *v4; // x1

  v4 = BattleLogic__CorFieldCallServant(this, actionData, method);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v4, 0LL);
}


void __fastcall BattleLogic__ForceResetTimeAcceleration(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  perf = this->fields.perf;
  if ( !perf )
    sub_B0D97C(0LL);
  BattlePerformance__SetTimeScale(perf, 1.0, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__GetBuffTaskArray(
        BattleLogic_o *this,
        BattleServantData_array *servantArray,
        int32_t actionType,
        const MethodInfo *method)
{
  int32_t v4; // w26
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v13; // x22
  __int64 isAlive; // x0
  const MethodInfo *v15; // x3
  signed int max_length; // w8
  unsigned int v17; // w27
  Il2CppClass **v18; // x8
  BattleServantData_o *v19; // x23
  __int64 v20; // x1
  __int64 v21; // x2
  BattleBuffData_o *buffData; // x24
  BattleBuffData_CheckIndividualitiesData_o *v23; // x25
  __int64 v24; // x1
  __int64 v25; // x2
  __int64 v26; // x8
  __int64 v27; // x24
  char v28; // w28
  __int64 v29; // x20
  __int64 v30; // x26
  BattleSkillInfoData_o *v31; // x25
  __int64 v32; // x8
  __int64 v33; // x8
  BattleLogicSkill_o *logicSkill; // x26
  __int64 v35; // x25
  char v36; // w26
  __int64 v38; // x0
  int32_t v39; // [xsp+Ch] [xbp-54h]

  v4 = actionType;
  if ( (byte_42118DF & 1) == 0 )
  {
    sub_B0D8A4(&BattleSkillInfoData_TypeInfo, servantArray);
    sub_B0D8A4(&BattleBuffData_CheckIndividualitiesData_TypeInfo, v7);
    sub_B0D8A4(&int___TypeInfo, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v11);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v12);
    byte_42118DF = 1;
  }
  v13 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                  servantArray,
                                                                                                  *(_QWORD *)&actionType);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v13,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  if ( !servantArray )
    goto LABEL_41;
  max_length = servantArray->max_length;
  if ( max_length >= 1 )
  {
    v17 = 0;
    v39 = v4;
    do
    {
      if ( v17 >= max_length )
      {
LABEL_42:
        v38 = sub_B0D9A8(isAlive);
        sub_B0D948(v38, 0LL);
      }
      v18 = &servantArray->obj.klass + (int)v17;
      v19 = (BattleServantData_o *)v18[4];
      if ( !v19 )
        goto LABEL_41;
      isAlive = BattleServantData__isAlive((BattleServantData_o *)v18[4], 0, 0LL);
      if ( (isAlive & 1) != 0 )
      {
        buffData = v19->fields.buffData;
        v23 = (BattleBuffData_CheckIndividualitiesData_o *)sub_B0D974(
                                                             BattleBuffData_CheckIndividualitiesData_TypeInfo,
                                                             v20,
                                                             v21);
        BattleBuffData_CheckIndividualitiesData___ctor(v23, v19, 0LL, 0LL, 0LL, 0LL, 0LL);
        if ( !buffData )
          goto LABEL_41;
        isAlive = (__int64)BattleBuffData__getBuffList_30806472(buffData, v4, v23, 1, 0, 0LL, 0LL);
        if ( isAlive )
        {
          v26 = *(_QWORD *)(isAlive + 24);
          v27 = isAlive;
          if ( v26 )
          {
            if ( (int)v26 >= 1 )
            {
              v28 = 1;
              v29 = 4LL;
              while ( 1 )
              {
                if ( (int)v29 - 4 >= (unsigned int)v26 )
                  goto LABEL_42;
                v30 = *(_QWORD *)(v27 + 8 * v29);
                if ( !v30 )
                  goto LABEL_41;
                if ( !*(_BYTE *)(v30 + 370) )
                  break;
LABEL_35:
                if ( (int)++v29 - 4 >= (int)v26 )
                  goto LABEL_36;
              }
              v31 = (BattleSkillInfoData_o *)sub_B0D974(BattleSkillInfoData_TypeInfo, v24, v25);
              BattleSkillInfoData___ctor(v31, 0LL);
              if ( !v31 )
                goto LABEL_41;
              v31->fields.svtUniqueId = v19->fields.uniqueId;
              v32 = *(_QWORD *)(v30 + 40);
              if ( !v32 )
                goto LABEL_41;
              if ( !*(_DWORD *)(v32 + 24) )
                goto LABEL_42;
              isAlive = ((__int64 (__fastcall *)(BattleSkillInfoData_o *, _QWORD, Il2CppMethodPointer))v31->klass->vtable._4_set_skillId.method)(
                          v31,
                          *(unsigned int *)(v32 + 32),
                          v31->klass->vtable._5_get_skillId.methodPtr);
              v33 = *(_QWORD *)(v30 + 40);
              if ( !v33 )
                goto LABEL_41;
              if ( *(_DWORD *)(v33 + 24) <= 1u )
                goto LABEL_42;
              v31->fields.skilllv = *(_DWORD *)(v33 + 36);
              logicSkill = this->fields.logicSkill;
              isAlive = sub_B0D8BC(int___TypeInfo, 1LL);
              if ( !isAlive )
                goto LABEL_41;
              if ( !*(_DWORD *)(isAlive + 24) )
                goto LABEL_42;
              *(_DWORD *)(isAlive + 32) = v19->fields.uniqueId;
              if ( !logicSkill )
                goto LABEL_41;
              isAlive = (__int64)BattleLogicSkill__taskSkill(
                                   logicSkill,
                                   v31,
                                   (System_Int32_array *)isAlive,
                                   0LL,
                                   0,
                                   0,
                                   0,
                                   0LL);
              v35 = isAlive;
              v36 = 0;
              if ( (v28 & 1) != 0 )
              {
                isAlive = BasicHelper__IsNullOrEmpty((System_Collections_ICollection_o *)isAlive, 0LL);
                if ( (isAlive & 1) != 0 )
                {
                  v36 = 1;
                  if ( !v13 )
                    goto LABEL_41;
LABEL_34:
                  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
                    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v13,
                    (System_Collections_Generic_IEnumerable_T__o *)v35,
                    (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
                  v26 = *(_QWORD *)(v27 + 24);
                  v28 = v36;
                  goto LABEL_35;
                }
                if ( !v35 )
                  goto LABEL_41;
                if ( !*(_DWORD *)(v35 + 24) )
                  goto LABEL_42;
                isAlive = *(_QWORD *)(v35 + 32);
                if ( !isAlive )
                  goto LABEL_41;
                BattleLogicTask__SetDisplayTriggerIntervalBuff(
                  (BattleLogicTask_o *)isAlive,
                  v19,
                  (BattleBuffData_BuffData_array *)v27,
                  0LL);
                v36 = 0;
              }
              if ( !v13 )
                goto LABEL_41;
              goto LABEL_34;
            }
LABEL_36:
            isAlive = (__int64)v19->fields.buffData;
            if ( !isAlive )
              goto LABEL_41;
            isAlive = (__int64)BattleBuffData__usedProgressing((BattleBuffData_o *)isAlive, 0LL);
            v4 = v39;
          }
        }
      }
      max_length = servantArray->max_length;
    }
    while ( (int)++v17 < max_length );
  }
  BattleLogic__AddUnExecutedUpdateIntervalBuffTasks(
    this,
    (System_Collections_Generic_List_BattleLogicTask__o *)v13,
    1,
    v15);
  if ( !v13 )
LABEL_41:
    sub_B0D97C(isAlive);
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v13,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
System_String_o *__fastcall BattleLogic__GetCommandSpellAssetName(
        BattleLogic_o *this,
        int32_t id,
        const MethodInfo *method)
{
  __int64 v4; // x1
  BattleLogic_c *v5; // x0
  System_String_o *COMMAND_SPELL_EFFECT_ASSETNAME; // x20
  Il2CppObject *v7; // x0
  int32_t v9; // [xsp+Ch] [xbp-14h] BYREF

  if ( (byte_42118A9 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, *(_QWORD *)&id);
    sub_B0D8A4(&int_TypeInfo, v4);
    byte_42118A9 = 1;
  }
  v5 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v5 = BattleLogic_TypeInfo;
  }
  COMMAND_SPELL_EFFECT_ASSETNAME = v5->static_fields->COMMAND_SPELL_EFFECT_ASSETNAME;
  v9 = id;
  v7 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v9);
  return System_String__Format(COMMAND_SPELL_EFFECT_ASSETNAME, v7, 0LL);
}


// local variable allocation has failed, the output may be wrong!
System_String_o *__fastcall BattleLogic__GetCommandSpellPrefabName(
        BattleLogic_o *this,
        int32_t id,
        const MethodInfo *method)
{
  __int64 v4; // x1
  BattleLogic_c *v5; // x0
  System_String_o *COMMAND_SPELL_EFFECT_PREFABNAME; // x20
  Il2CppObject *v7; // x0
  int32_t v9; // [xsp+Ch] [xbp-14h] BYREF

  if ( (byte_42118AA & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, *(_QWORD *)&id);
    sub_B0D8A4(&int_TypeInfo, v4);
    byte_42118AA = 1;
  }
  v5 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v5 = BattleLogic_TypeInfo;
  }
  COMMAND_SPELL_EFFECT_PREFABNAME = v5->static_fields->COMMAND_SPELL_EFFECT_PREFABNAME;
  v9 = id;
  v7 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v9);
  return System_String__Format(COMMAND_SPELL_EFFECT_PREFABNAME, v7, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleCommandData_o *__fastcall BattleLogic__GetDeadAttackCommand(
        BattleLogic_o *this,
        int32_t targetUniqueId,
        const MethodInfo *method)
{
  struct System_Collections_Generic_Dictionary_int__BattleCommandData__o *deadAttackCommandDictionary; // x0
  WarBoardEvalValueSquare_CalcEval_o *value; // [xsp+8h] [xbp-18h] BYREF

  if ( (byte_421182E & 1) == 0 )
  {
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_int__BattleCommandData__TryGetValue__,
      *(_QWORD *)&targetUniqueId);
    byte_421182E = 1;
  }
  value = 0LL;
  deadAttackCommandDictionary = this->fields.deadAttackCommandDictionary;
  if ( !deadAttackCommandDictionary )
    sub_B0D97C(0LL);
  if ( System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_CalcEval___TryGetValue(
         (System_Collections_Generic_Dictionary_int__WarBoardEvalValueSquare_CalcEval__o *)deadAttackCommandDictionary,
         targetUniqueId,
         &value,
         (const MethodInfo_2E9214C *)Method_System_Collections_Generic_Dictionary_int__BattleCommandData__TryGetValue__) )
  {
    return (BattleCommandData_o *)value;
  }
  else
  {
    return 0LL;
  }
}


System_String_o *__fastcall BattleLogic__GetDefaultBgmName(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogic_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  struct BattleData_o *data; // x8
  StageEntity_o *StageEntityAtWave; // x0
  System_String_o *v8; // x19
  int32_t bgmId; // w20
  WarEntity_o *entity; // [xsp+8h] [xbp-18h] BYREF

  v2 = this;
  if ( (byte_4211834 & 1) == 0 )
  {
    sub_B0D8A4(&Method_DataManager_GetMasterData_BgmMaster___, method);
    sub_B0D8A4(&Method_DataMasterBase_BgmMaster__BgmEntity__int__TryGetEntity__, v3);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v4);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_2560/*"BGM_BATTLE_1"*/, v5);
    byte_4211834 = 1;
  }
  entity = 0LL;
  data = v2->fields.data;
  if ( !data )
    goto LABEL_12;
  this = (BattleLogic_o *)data->fields.battle_ent;
  if ( !this )
    goto LABEL_12;
  StageEntityAtWave = BattleEntity__GetStageEntityAtWave((BattleEntity_o *)this, data->fields.wavecount, 0LL);
  v8 = (System_String_o *)StringLiteral_2560/*"BGM_BATTLE_1"*/;
  if ( StageEntityAtWave )
  {
    bgmId = StageEntityAtWave->fields.bgmId;
    this = (BattleLogic_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
    if ( !this )
      goto LABEL_12;
    this = (BattleLogic_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                              (DataManager_o *)this,
                              (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_BgmMaster___);
    if ( !this )
      goto LABEL_12;
    this = (BattleLogic_o *)DataMasterBase_WarMaster__WarEntity__int___TryGetEntity(
                              (DataMasterBase_WarMaster__WarEntity__int__o *)this,
                              &entity,
                              bgmId,
                              (const MethodInfo_2669C30 *)Method_DataMasterBase_BgmMaster__BgmEntity__int__TryGetEntity__);
    if ( ((unsigned __int8)this & 1) != 0 )
    {
      if ( entity )
        return entity->fields.age;
LABEL_12:
      sub_B0D97C(this);
    }
  }
  return v8;
}


int32_t __fastcall BattleLogic__GetLogicType(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8
  BattleAttackManager_o *battleAtkManager; // x8

  data = this->fields.data;
  if ( !data || (battleAtkManager = data->fields.battleAtkManager) == 0LL )
    sub_B0D97C(this);
  return BattleAttackManager__GetLogicType(battleAtkManager, this->fields.logicindex, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__GetTaskArrayByType(
        BattleLogic_o *this,
        int32_t type,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *funclist; // x0

  if ( (byte_421185A & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask___TypeInfo, *(_QWORD *)&type);
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__ContainsKey__,
      v5);
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__get_Item__,
      v6);
    byte_421185A = 1;
  }
  funclist = (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)this->fields.funclist;
  if ( !funclist )
    goto LABEL_9;
  if ( System_Collections_Generic_Dictionary_Voice_BATTLE__string___ContainsKey(
         funclist,
         type,
         (const MethodInfo_2EA6F34 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__ContainsKey__) )
  {
    funclist = (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)this->fields.funclist;
    if ( funclist )
    {
      funclist = (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)System_Collections_Generic_Dictionary_Voice_BATTLE__string___get_Item(
                                                                                    funclist,
                                                                                    type,
                                                                                    (const MethodInfo_2EA6BFC *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__get_Item__);
      if ( funclist )
        return BattleLogic_taskFunction__Invoke((BattleLogic_taskFunction_o *)funclist, type, this->fields.data, 0LL);
    }
LABEL_9:
    sub_B0D97C(funclist);
  }
  return (BattleLogicTask_array *)sub_B0D8BC(BattleLogicTask___TypeInfo, 0LL);
}


BattleLogicTask_array *__fastcall BattleLogic__GetTurnStartTaskArray(
        BattleLogic_o *this,
        bool isPlayer,
        const MethodInfo *method)
{
  BattleData_o *data; // x0
  BattleServantData_array *FieldPlayerServantList; // x0
  const MethodInfo *v6; // x3

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  if ( isPlayer )
    FieldPlayerServantList = BattleData__getFieldPlayerServantList(data, 0LL);
  else
    FieldPlayerServantList = BattleData__getFieldEnemyServantList(data, 0, 0LL);
  return BattleLogic__GetBuffTaskArray(this, FieldPlayerServantList, 108, v6);
}


void __fastcall BattleLogic__InitBuffProgress(BattleLogic_o *this, const MethodInfo *method)
{
  void *data; // x0
  int v4; // w9
  unsigned int v5; // w8
  __int64 v6; // x9
  int v7; // w9
  unsigned int v8; // w8
  __int64 v9; // x9
  __int64 v10; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_17;
  data = BattleData__getPlayerServantList((BattleData_o *)data, 0LL);
  if ( !data )
    goto LABEL_17;
  v4 = *((_DWORD *)data + 6);
  if ( v4 >= 1 )
  {
    v5 = 0;
    while ( v5 < v4 )
    {
      v6 = *((_QWORD *)data + (int)v5 + 4);
      if ( !v6 )
        goto LABEL_17;
      *(_BYTE *)(v6 + 516) = 0;
      v4 = *((_DWORD *)data + 6);
      if ( (int)++v5 >= v4 )
        goto LABEL_8;
    }
LABEL_16:
    v10 = sub_B0D9A8(data);
    sub_B0D948(v10, 0LL);
  }
LABEL_8:
  data = this->fields.data;
  if ( !data || (data = BattleData__getEnemyServantList((BattleData_o *)data, 0LL)) == 0LL )
LABEL_17:
    sub_B0D97C(data);
  v7 = *((_DWORD *)data + 6);
  if ( v7 >= 1 )
  {
    v8 = 0;
    while ( v8 < v7 )
    {
      v9 = *((_QWORD *)data + (int)v8 + 4);
      if ( !v9 )
        goto LABEL_17;
      *(_BYTE *)(v9 + 516) = 0;
      v7 = *((_DWORD *)data + 6);
      if ( (int)++v8 >= v7 )
        return;
    }
    goto LABEL_16;
  }
}


void __fastcall BattleLogic__Initialize(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  __int64 v31; // x1
  __int64 v32; // x1
  __int64 v33; // x1
  __int64 v34; // x1
  __int64 v35; // x1
  __int64 v36; // x1
  __int64 v37; // x1
  __int64 v38; // x1
  __int64 v39; // x1
  __int64 v40; // x1
  __int64 v41; // x1
  __int64 v42; // x1
  __int64 v43; // x1
  __int64 v44; // x1
  __int64 v45; // x1
  __int64 v46; // x1
  __int64 v47; // x1
  __int64 v48; // x1
  __int64 v49; // x1
  __int64 v50; // x1
  __int64 v51; // x1
  __int64 v52; // x1
  __int64 v53; // x1
  __int64 v54; // x1
  __int64 v55; // x1
  __int64 v56; // x1
  __int64 v57; // x1
  __int64 v58; // x1
  __int64 v59; // x1
  __int64 v60; // x1
  __int64 v61; // x1
  __int64 v62; // x1
  __int64 v63; // x1
  __int64 v64; // x1
  __int64 v65; // x1
  __int64 v66; // x1
  __int64 v67; // x1
  __int64 v68; // x1
  __int64 v69; // x1
  __int64 v70; // x1
  __int64 v71; // x1
  __int64 v72; // x1
  __int64 v73; // x1
  __int64 v74; // x1
  __int64 v75; // x1
  __int64 v76; // x1
  __int64 v77; // x1
  __int64 v78; // x1
  __int64 v79; // x1
  __int64 v80; // x1
  __int64 v81; // x1
  __int64 v82; // x1
  __int64 v83; // x1
  __int64 v84; // x1
  __int64 v85; // x1
  __int64 v86; // x1
  __int64 v87; // x1
  __int64 v88; // x1
  __int64 v89; // x1
  __int64 v90; // x1
  __int64 v91; // x1
  __int64 v92; // x1
  __int64 v93; // x1
  __int64 v94; // x1
  __int64 v95; // x1
  __int64 v96; // x1
  __int64 v97; // x1
  BattleLogicTarget_o *v98; // x20
  struct BattleLogicTarget_o **p_logictarget; // x23
  __int64 v100; // x1
  __int64 v101; // x2
  BattleLogicEnemyAi_o *v102; // x21
  __int64 v103; // x1
  __int64 v104; // x2
  BattleLogicFieldAi_o *v105; // x21
  __int64 v106; // x1
  __int64 v107; // x2
  BattleLogicFunction_o *v108; // x21
  __int64 v109; // x1
  __int64 v110; // x2
  BattleLogicNomal_o *v111; // x21
  __int64 v112; // x1
  __int64 v113; // x2
  BattleLogicSpecial_o *v114; // x21
  __int64 v115; // x1
  __int64 v116; // x2
  BattleLogicSkill_o *v117; // x21
  __int64 v118; // x1
  __int64 v119; // x2
  BattleLogicReaction_o *v120; // x21
  struct BattleLogicReaction_o **p_logicReaction; // x24
  __int64 v122; // x1
  __int64 v123; // x2
  BattleLogicClassRelation_o *v124; // x21
  __int64 v125; // x1
  __int64 v126; // x2
  BattleLogicNpcAi_o *v127; // x21
  __int64 v128; // x1
  __int64 v129; // x2
  BattleLogicPlayerAi_o *v130; // x21
  UnityEngine_GameObject_o *gameObject; // x0
  Firebase_Unity_UnitySynchronizationContext_SynchronizationContextBehavoir_o *v132; // x0
  __int64 v133; // x1
  __int64 v134; // x2
  System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *v135; // x26
  Il2CppObject *logicnomal; // x27
  __int64 v137; // x1
  __int64 v138; // x2
  BattleLogic_taskFunction_o *v139; // x21
  Il2CppObject *v140; // x21
  __int64 v141; // x1
  __int64 v142; // x2
  BattleLogic_taskFunction_o *v143; // x27
  Il2CppObject *v144; // x21
  __int64 v145; // x1
  __int64 v146; // x2
  BattleLogic_taskFunction_o *v147; // x27
  Il2CppObject *v148; // x21
  __int64 v149; // x1
  __int64 v150; // x2
  BattleLogic_taskFunction_o *v151; // x27
  Il2CppObject *v152; // x21
  __int64 v153; // x1
  __int64 v154; // x2
  BattleLogic_taskFunction_o *v155; // x27
  Il2CppObject *v156; // x21
  __int64 v157; // x1
  __int64 v158; // x2
  BattleLogic_taskFunction_o *v159; // x27
  Il2CppObject *logicEnemyAi; // x21
  __int64 v161; // x1
  __int64 v162; // x2
  BattleLogic_taskFunction_o *v163; // x27
  Il2CppObject *v164; // x21
  __int64 v165; // x1
  __int64 v166; // x2
  BattleLogic_taskFunction_o *v167; // x27
  Il2CppObject *v168; // x21
  __int64 v169; // x1
  __int64 v170; // x2
  BattleLogic_taskFunction_o *v171; // x27
  Il2CppObject *logicspecial; // x21
  __int64 v173; // x1
  __int64 v174; // x2
  BattleLogic_taskFunction_o *v175; // x27
  Il2CppObject *v176; // x21
  __int64 v177; // x1
  __int64 v178; // x2
  BattleLogic_taskFunction_o *v179; // x27
  Il2CppObject *v180; // x21
  __int64 v181; // x1
  __int64 v182; // x2
  BattleLogic_taskFunction_o *v183; // x27
  Il2CppObject *v184; // x21
  __int64 v185; // x1
  __int64 v186; // x2
  BattleLogic_taskFunction_o *v187; // x27
  Il2CppObject *v188; // x21
  __int64 v189; // x1
  __int64 v190; // x2
  BattleLogic_taskFunction_o *v191; // x27
  Il2CppObject *v192; // x21
  __int64 v193; // x1
  __int64 v194; // x2
  BattleLogic_taskFunction_o *v195; // x27
  Il2CppObject *v196; // x21
  __int64 v197; // x1
  __int64 v198; // x2
  BattleLogic_taskFunction_o *v199; // x27
  Il2CppObject *v200; // x21
  __int64 v201; // x1
  __int64 v202; // x2
  BattleLogic_taskFunction_o *v203; // x27
  Il2CppObject *v204; // x21
  __int64 v205; // x1
  __int64 v206; // x2
  BattleLogic_taskFunction_o *v207; // x27
  Il2CppObject *v208; // x21
  __int64 v209; // x1
  __int64 v210; // x2
  BattleLogic_taskFunction_o *v211; // x27
  Il2CppObject *v212; // x21
  __int64 v213; // x1
  __int64 v214; // x2
  BattleLogic_taskFunction_o *v215; // x27
  Il2CppObject *v216; // x21
  __int64 v217; // x1
  __int64 v218; // x2
  BattleLogic_taskFunction_o *v219; // x27
  __int64 v220; // x1
  __int64 v221; // x2
  BattleLogic_taskFunction_o *v222; // x21
  __int64 v223; // x1
  __int64 v224; // x2
  BattleLogic_taskFunction_o *v225; // x21
  __int64 v226; // x1
  __int64 v227; // x2
  BattleLogic_taskFunction_o *v228; // x21
  __int64 v229; // x1
  __int64 v230; // x2
  BattleLogic_taskFunction_o *v231; // x21
  __int64 v232; // x1
  __int64 v233; // x2
  BattleLogic_taskFunction_o *v234; // x21
  __int64 v235; // x1
  __int64 v236; // x2
  BattleLogic_taskFunction_o *v237; // x21
  Il2CppObject *logicReaction; // x21
  __int64 v239; // x1
  __int64 v240; // x2
  BattleLogic_taskFunction_o *v241; // x27
  Il2CppObject *v242; // x21
  __int64 v243; // x1
  __int64 v244; // x2
  BattleLogic_taskFunction_o *v245; // x27
  Il2CppObject *v246; // x21
  __int64 v247; // x1
  __int64 v248; // x2
  BattleLogic_taskFunction_o *v249; // x27
  __int64 v250; // x1
  __int64 v251; // x2
  BattleLogic_taskFunction_o *v252; // x21
  __int64 v253; // x1
  __int64 v254; // x2
  BattleLogic_taskFunction_o *v255; // x21
  __int64 v256; // x1
  __int64 v257; // x2
  BattleLogic_taskFunction_o *v258; // x21
  Il2CppObject *v259; // x21
  __int64 v260; // x1
  __int64 v261; // x2
  BattleLogic_taskFunction_o *v262; // x27
  Il2CppObject *v263; // x21
  __int64 v264; // x1
  __int64 v265; // x2
  BattleLogic_taskFunction_o *v266; // x27
  Il2CppObject *v267; // x21
  __int64 v268; // x1
  __int64 v269; // x2
  BattleLogic_taskFunction_o *v270; // x27
  Il2CppObject *v271; // x21
  __int64 v272; // x1
  __int64 v273; // x2
  BattleLogic_taskFunction_o *v274; // x27
  Il2CppObject *v275; // x21
  __int64 v276; // x1
  __int64 v277; // x2
  BattleLogic_taskFunction_o *v278; // x27
  Il2CppObject *logicFieldAi; // x21
  __int64 v280; // x1
  __int64 v281; // x2
  BattleLogic_taskFunction_o *v282; // x27
  Il2CppObject *v283; // x21
  __int64 v284; // x1
  __int64 v285; // x2
  BattleLogic_taskFunction_o *v286; // x27
  Il2CppObject *v287; // x21
  __int64 v288; // x1
  __int64 v289; // x2
  BattleLogic_taskFunction_o *v290; // x27
  Il2CppObject *v291; // x21
  __int64 v292; // x1
  __int64 v293; // x2
  BattleLogic_taskFunction_o *v294; // x27
  Il2CppObject *v295; // x21
  __int64 v296; // x1
  __int64 v297; // x2
  BattleLogic_taskFunction_o *v298; // x27
  __int64 v299; // x1
  __int64 v300; // x2
  BattleLogic_taskFunction_o *v301; // x21
  __int64 v302; // x1
  __int64 v303; // x2
  BattleLogic_taskFunction_o *v304; // x21
  __int64 v305; // x1
  __int64 v306; // x2
  BattleLogic_taskFunction_o *v307; // x21
  __int64 v308; // x1
  __int64 v309; // x2
  BattleLogic_taskFunction_o *v310; // x21
  Il2CppObject *v311; // x21
  __int64 v312; // x1
  __int64 v313; // x2
  BattleLogic_taskFunction_o *v314; // x27
  Il2CppObject *v315; // x21
  __int64 v316; // x1
  __int64 v317; // x2
  BattleLogic_taskFunction_o *v318; // x27
  Il2CppObject *v319; // x21
  __int64 v320; // x1
  __int64 v321; // x2
  BattleLogic_taskFunction_o *v322; // x27
  Il2CppObject *v323; // x21
  __int64 v324; // x1
  __int64 v325; // x2
  BattleLogic_taskFunction_o *v326; // x27
  __int64 v327; // x1
  __int64 v328; // x2
  BattleLogic_taskFunction_o *v329; // x21
  __int64 v330; // x1
  __int64 v331; // x2
  BattleLogic_taskFunction_o *v332; // x21
  Il2CppObject *v333; // x21
  __int64 v334; // x1
  __int64 v335; // x2
  BattleLogic_taskFunction_o *v336; // x27
  Il2CppObject *v337; // x21
  __int64 v338; // x1
  __int64 v339; // x2
  BattleLogic_taskFunction_o *v340; // x27
  Il2CppObject *v341; // x21
  __int64 v342; // x1
  __int64 v343; // x2
  BattleLogic_taskFunction_o *v344; // x27
  Il2CppObject *v345; // x21
  __int64 v346; // x1
  __int64 v347; // x2
  BattleLogic_taskFunction_o *v348; // x27
  Il2CppObject *v349; // x21
  __int64 v350; // x1
  __int64 v351; // x2
  BattleLogic_taskFunction_o *v352; // x27
  Il2CppObject *v353; // x21
  __int64 v354; // x1
  __int64 v355; // x2
  BattleLogic_taskFunction_o *v356; // x27
  __int64 v357; // x1
  __int64 v358; // x2
  System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *v359; // x26
  Il2CppObject *v360; // x27
  __int64 v361; // x1
  __int64 v362; // x2
  BattleLogic_createActionBattle_o *v363; // x21
  Il2CppObject *v364; // x21
  __int64 v365; // x1
  __int64 v366; // x2
  BattleLogic_createActionBattle_o *v367; // x27
  Il2CppObject *logicSkill; // x21
  __int64 v369; // x1
  __int64 v370; // x2
  BattleLogic_createActionBattle_o *v371; // x27
  Il2CppObject *v372; // x21
  __int64 v373; // x1
  __int64 v374; // x2
  BattleLogic_createActionBattle_o *v375; // x27
  Il2CppObject *v376; // x21
  __int64 v377; // x1
  __int64 v378; // x2
  BattleLogic_createActionBattle_o *v379; // x27
  __int64 v380; // x1
  __int64 v381; // x2
  BattleLogic_createActionBattle_o *v382; // x21
  __int64 v383; // x1
  __int64 v384; // x2
  BattleLogic_createActionBattle_o *v385; // x21
  Il2CppObject *v386; // x21
  __int64 v387; // x1
  __int64 v388; // x2
  BattleLogic_createActionBattle_o *v389; // x27
  Il2CppObject *v390; // x21
  __int64 v391; // x1
  __int64 v392; // x2
  BattleLogic_createActionBattle_o *v393; // x27
  Il2CppObject *v394; // x21
  __int64 v395; // x1
  __int64 v396; // x2
  BattleLogic_createActionBattle_o *v397; // x27
  Il2CppObject *v398; // x21
  __int64 v399; // x1
  __int64 v400; // x2
  BattleLogic_createActionBattle_o *v401; // x27
  Il2CppObject *v402; // x21
  __int64 v403; // x1
  __int64 v404; // x2
  BattleLogic_createActionBattle_o *v405; // x27
  Il2CppObject *v406; // x21
  __int64 v407; // x1
  __int64 v408; // x2
  BattleLogic_createActionBattle_o *v409; // x27
  Il2CppObject *v410; // x21
  __int64 v411; // x1
  __int64 v412; // x2
  BattleLogic_createActionBattle_o *v413; // x27
  Il2CppObject *v414; // x21
  __int64 v415; // x1
  __int64 v416; // x2
  BattleLogic_createActionBattle_o *v417; // x27
  Il2CppObject *v418; // x21
  __int64 v419; // x1
  __int64 v420; // x2
  BattleLogic_createActionBattle_o *v421; // x27
  Il2CppObject *v422; // x21
  __int64 v423; // x1
  __int64 v424; // x2
  BattleLogic_createActionBattle_o *v425; // x27
  Il2CppObject *v426; // x21
  __int64 v427; // x1
  __int64 v428; // x2
  BattleLogic_createActionBattle_o *v429; // x27
  __int64 v430; // x1
  __int64 v431; // x2
  BattleLogic_createActionBattle_o *v432; // x21
  __int64 v433; // x1
  __int64 v434; // x2
  BattleLogic_createActionBattle_o *v435; // x21
  Il2CppObject *v436; // x21
  __int64 v437; // x1
  __int64 v438; // x2
  BattleLogic_createActionBattle_o *v439; // x27
  Il2CppObject *v440; // x21
  __int64 v441; // x1
  __int64 v442; // x2
  BattleLogic_createActionBattle_o *v443; // x27
  Il2CppObject *v444; // x21
  __int64 v445; // x1
  __int64 v446; // x2
  BattleLogic_createActionBattle_o *v447; // x27
  __int64 v448; // x1
  __int64 v449; // x2
  BattleLogic_createActionBattle_o *v450; // x21
  __int64 v451; // x1
  __int64 v452; // x2
  BattleLogic_createActionBattle_o *v453; // x21
  __int64 v454; // x1
  __int64 v455; // x2
  BattleLogic_createActionBattle_o *v456; // x21
  __int64 v457; // x1
  __int64 v458; // x2
  BattleLogic_createActionBattle_o *v459; // x21
  __int64 v460; // x1
  __int64 v461; // x2
  BattleLogic_createActionBattle_o *v462; // x21
  __int64 v463; // x1
  __int64 v464; // x2
  BattleLogic_createActionBattle_o *v465; // x21
  Il2CppObject *v466; // x21
  __int64 v467; // x1
  __int64 v468; // x2
  BattleLogic_createActionBattle_o *v469; // x27
  Il2CppObject *v470; // x21
  __int64 v471; // x1
  __int64 v472; // x2
  BattleLogic_createActionBattle_o *v473; // x27
  Il2CppObject *v474; // x21
  __int64 v475; // x1
  __int64 v476; // x2
  BattleLogic_createActionBattle_o *v477; // x27
  __int64 v478; // x1
  __int64 v479; // x2
  System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *v480; // x27
  System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction__o **p_reactionlist; // x26
  System_Array_o *v482; // x21
  struct BattleData_o *data; // x20
  __int64 v484; // x1
  __int64 v485; // x2
  BattleAttackManager_o *v486; // x21
  struct BattleData_o *v487; // x1
  struct BattleData_o *v488; // x1
  struct BattleLogicTarget_o *v489; // x1
  struct BattleLogicFunction_o *v490; // x1
  struct BattleLogicSkill_o *v491; // x1
  struct BattleData_o *v492; // x1
  struct BattleLogicTarget_o *v493; // x1
  struct BattleLogicNomal_o *v494; // x1
  long double v495; // q0
  struct BattleLogicNomal_o *v496; // x1
  struct AiLogic_o *aiLogic; // x1
  struct BattleData_o *v498; // x1
  struct BattleLogicTarget_o *v499; // x1
  struct BattleData_o *v500; // x1
  struct BattleLogicTarget_o *v501; // x1
  struct BattleLogicFunction_o *v502; // x1
  struct BattleData_o *v503; // x1
  struct BattleLogicTarget_o *v504; // x1
  struct BattleLogicFunction_o *v505; // x1
  struct BattleData_o *v506; // x1
  struct BattlePerformance_o *perf; // x1
  struct BattleLogicSkill_o *v508; // x1
  struct BattleLogicFunction_o *v509; // x1
  struct BattleLogicEnemyAi_o *v510; // x1
  struct BattleLogicFieldAi_o *v511; // x1
  long double v512; // q0
  struct Spawner_o *Instance; // x0
  const MethodInfo *v514; // x2
  struct BattleLogicNomal_o **p_logicnomal; // [xsp+8h] [xbp-88h]
  struct BattleLogicSpecial_o **p_logicspecial; // [xsp+10h] [xbp-80h]
  struct BattleLogicNpcAi_o **p_logicNpcAi; // [xsp+18h] [xbp-78h]
  struct BattleLogicSkill_o **p_logicSkill; // [xsp+20h] [xbp-70h]
  struct BattleLogicFunction_o **p_logicFunction; // [xsp+28h] [xbp-68h]
  struct BattleLogicFieldAi_o **p_logicFieldAi; // [xsp+30h] [xbp-60h]
  struct BattleLogicEnemyAi_o **p_logicEnemyAi; // [xsp+38h] [xbp-58h]
  System_RuntimeFieldHandle_o v522; // 0:w1.4

  if ( (byte_4211831 & 1) == 0 )
  {
    sub_B0D8A4(&BattleAttackManager_TypeInfo, method);
    sub_B0D8A4(&BattleLogicClassRelation_TypeInfo, v4);
    sub_B0D8A4(&Method_BattleLogicEnemyAi_TaskAIAttackEnd__, v5);
    sub_B0D8A4(&Method_BattleLogicEnemyAi_TaskAIAttackPrecheck__, v6);
    sub_B0D8A4(&Method_BattleLogicEnemyAi_TaskAIAttackStart__, v7);
    sub_B0D8A4(&Method_BattleLogicEnemyAi_resetEnemyActList__, v8);
    sub_B0D8A4(&BattleLogicEnemyAi_TypeInfo, v9);
    sub_B0D8A4(&Method_BattleLogicEnemyAi_taskAIAttack__, v10);
    sub_B0D8A4(&Method_BattleLogicFieldAi_checkFieldAiTask__, v11);
    sub_B0D8A4(&BattleLogicFieldAi_TypeInfo, v12);
    sub_B0D8A4(&BattleLogicFunction_TypeInfo, v13);
    sub_B0D8A4(&Method_BattleLogicNomal_CreateDoNotActAction__, v14);
    sub_B0D8A4(&Method_BattleLogicNomal_CreateProgressIntervalTurn__, v15);
    sub_B0D8A4(&Method_BattleLogicNomal_checkReflectionTask__, v16);
    sub_B0D8A4(&Method_BattleLogicNomal_createBuffAddEnemy__, v17);
    sub_B0D8A4(&Method_BattleLogicNomal_createBuffAddPlayer__, v18);
    sub_B0D8A4(&Method_BattleLogicNomal_createComboOrder__, v19);
    sub_B0D8A4(&Method_BattleLogicNomal_createCommandBattle__, v20);
    sub_B0D8A4(&Method_BattleLogicNomal_createEndTurnEnemy__, v21);
    sub_B0D8A4(&Method_BattleLogicNomal_createEndTurnPlayer__, v22);
    sub_B0D8A4(&Method_BattleLogicNomal_createPlayMotion__, v23);
    sub_B0D8A4(&Method_BattleLogicNomal_createShiftGuts__, v24);
    sub_B0D8A4(&Method_BattleLogicNomal_createShiftServant__, v25);
    sub_B0D8A4(&Method_BattleLogicNomal_createStartEnemyTurn__, v26);
    sub_B0D8A4(&Method_BattleLogicNomal_createStartTurn__, v27);
    sub_B0D8A4(&BattleLogicNomal_TypeInfo, v28);
    sub_B0D8A4(&Method_BattleLogicNomal_taskAddCommandAttack__, v29);
    sub_B0D8A4(&Method_BattleLogicNomal_taskBuffAdd__, v30);
    sub_B0D8A4(&Method_BattleLogicNomal_taskCheckShiftServants__, v31);
    sub_B0D8A4(&Method_BattleLogicNomal_taskComboOrderAfter__, v32);
    sub_B0D8A4(&Method_BattleLogicNomal_taskComboOrderBefore__, v33);
    sub_B0D8A4(&Method_BattleLogicNomal_taskCommandAttack__, v34);
    sub_B0D8A4(&Method_BattleLogicNomal_taskCounterFuncEnemy__, v35);
    sub_B0D8A4(&Method_BattleLogicNomal_taskCounterFuncPlayer__, v36);
    sub_B0D8A4(&BattleLogicNpcAi_TypeInfo, v37);
    sub_B0D8A4(&BattleLogicPlayerAi_TypeInfo, v38);
    sub_B0D8A4(&Method_BattleLogicReaction_CheckEnemyPlayerTurnEndAfter__, v39);
    sub_B0D8A4(&Method_BattleLogicReaction_CheckEnemyShiftAfter__, v40);
    sub_B0D8A4(&Method_BattleLogicReaction_CheckPlayerActionStart__, v41);
    sub_B0D8A4(&Method_BattleLogicReaction_checkEnemyEndTurn__, v42);
    sub_B0D8A4(&Method_BattleLogicReaction_checkEnemyStartTurn__, v43);
    sub_B0D8A4(&Method_BattleLogicReaction_checkPlayerActionEnd__, v44);
    sub_B0D8A4(&Method_BattleLogicReaction_createChangeApp__, v45);
    sub_B0D8A4(&Method_BattleLogicReaction_createDeadMotion__, v46);
    sub_B0D8A4(&Method_BattleLogicReaction_createResurrection__, v47);
    sub_B0D8A4(&Method_BattleLogicReaction_createWithdraw__, v48);
    sub_B0D8A4(&BattleLogicReaction_TypeInfo, v49);
    sub_B0D8A4(&Method_BattleLogicSkill_createCommandSpell__, v50);
    sub_B0D8A4(&Method_BattleLogicSkill_createSkillData__, v51);
    sub_B0D8A4(&BattleLogicSkill_TypeInfo, v52);
    sub_B0D8A4(&Method_BattleLogicSpecial_createCounterOverwriteSpecialData__, v53);
    sub_B0D8A4(&Method_BattleLogicSpecial_createSpecialData__, v54);
    sub_B0D8A4(&BattleLogicSpecial_TypeInfo, v55);
    sub_B0D8A4(&Method_BattleLogicSpecial_taskEnemyTresureDvcAlways__, v56);
    sub_B0D8A4(&Method_BattleLogicSpecial_taskEnemyTresureDvc__, v57);
    sub_B0D8A4(&Method_BattleLogicSpecial_taskTresureDvcAlways__, v58);
    sub_B0D8A4(&Method_BattleLogicSpecial_taskTresureDvc__, v59);
    sub_B0D8A4(&BattleLogicTarget_TypeInfo, v60);
    sub_B0D8A4(&Method_BattleLogic_CreateActionDataTaskSide__, v61);
    sub_B0D8A4(&Method_BattleLogic_CreateFieldPlayMotion__, v62);
    sub_B0D8A4(&Method_BattleLogic_afterImmediateEntry__, v63);
    sub_B0D8A4(&Method_BattleLogic_breakOnBattle__, v64);
    sub_B0D8A4(&Method_BattleLogic_checkImmediateEntry__, v65);
    sub_B0D8A4(&Method_BattleLogic_checkOverKill__, v66);
    sub_B0D8A4(&Method_BattleLogic_createCamera__, v67);
    sub_B0D8A4(&Method_BattleLogic_createEnemyCutIn__, v68);
    sub_B0D8A4(&Method_BattleLogic_createLastActorBackStep__, v69);
    sub_B0D8A4(&Method_BattleLogic_createLoadImmediateEntryServant__, v70);
    sub_B0D8A4(&Method_BattleLogic_createSystem__, v71);
    sub_B0D8A4(&Method_BattleLogic_startImmediateEntry__, v72);
    sub_B0D8A4(&Method_BattleLogic_taskCommandWait__, v73);
    sub_B0D8A4(&Method_BattleLogic_taskEndEnemyTurn__, v74);
    sub_B0D8A4(&Method_BattleLogic_taskEndPlayerTurn__, v75);
    sub_B0D8A4(&Method_BattleLogic_taskEnemyAttackTerm__, v76);
    sub_B0D8A4(&Method_BattleLogic_taskEnemyEndWait__, v77);
    sub_B0D8A4(&Method_BattleLogic_taskGetCriticalPoint__, v78);
    sub_B0D8A4(&Method_BattleLogic_taskLastActorBackStep__, v79);
    sub_B0D8A4(&Method_BattleLogic_taskPlayerAttackTerm__, v80);
    sub_B0D8A4(&Method_BattleLogic_taskStartEnemyTurn__, v81);
    sub_B0D8A4(&Method_BattleLogic_taskStartPlayerTurn__, v82);
    sub_B0D8A4(&Method_BattleLogic_taskStartTactical__, v83);
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__,
      v84);
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__,
      v85);
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction___ctor__,
      v86);
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle___ctor__,
      v87);
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction___ctor__,
      v88);
    sub_B0D8A4(&System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__TypeInfo, v89);
    sub_B0D8A4(
      &System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction__TypeInfo,
      v90);
    sub_B0D8A4(
      &System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__TypeInfo,
      v91);
    sub_B0D8A4(&Method_UnityEngine_GameObject_AddComponent_BattleRandom___, v92);
    sub_B0D8A4(&BattleLogic_LOGICTYPE___TypeInfo, v93);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_Spawner__get_Instance__, v94);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__DB39FF3B88E189830F9C70F92523E675741F8CF01931BA55459EE4852D9A9451,
      v95);
    sub_B0D8A4(&BattleLogic_createActionBattle_TypeInfo, v96);
    sub_B0D8A4(&BattleLogic_taskFunction_TypeInfo, v97);
    byte_4211831 = 1;
  }
  v98 = (BattleLogicTarget_o *)sub_B0D974(BattleLogicTarget_TypeInfo, method, v2);
  BattleLogicTarget___ctor(v98, 0LL);
  this->fields.logictarget = v98;
  p_logictarget = &this->fields.logictarget;
  sub_B0D840(&this->fields.logictarget, v98);
  v102 = (BattleLogicEnemyAi_o *)sub_B0D974(BattleLogicEnemyAi_TypeInfo, v100, v101);
  BattleLogicEnemyAi___ctor(v102, 0LL);
  this->fields.logicEnemyAi = v102;
  sub_B0D840(&this->fields.logicEnemyAi, v102);
  v105 = (BattleLogicFieldAi_o *)sub_B0D974(BattleLogicFieldAi_TypeInfo, v103, v104);
  BattleLogicFieldAi___ctor(v105, 0LL);
  this->fields.logicFieldAi = v105;
  sub_B0D840(&this->fields.logicFieldAi, v105);
  v108 = (BattleLogicFunction_o *)sub_B0D974(BattleLogicFunction_TypeInfo, v106, v107);
  BattleLogicFunction___ctor(v108, 0LL);
  this->fields.logicFunction = v108;
  p_logicFunction = &this->fields.logicFunction;
  sub_B0D840(&this->fields.logicFunction, v108);
  v111 = (BattleLogicNomal_o *)sub_B0D974(BattleLogicNomal_TypeInfo, v109, v110);
  BattleLogicNomal___ctor(v111, 0LL);
  this->fields.logicnomal = v111;
  sub_B0D840(&this->fields.logicnomal, v111);
  v114 = (BattleLogicSpecial_o *)sub_B0D974(BattleLogicSpecial_TypeInfo, v112, v113);
  BattleLogicSpecial___ctor(v114, 0LL);
  this->fields.logicspecial = v114;
  p_logicspecial = &this->fields.logicspecial;
  sub_B0D840(&this->fields.logicspecial, v114);
  v117 = (BattleLogicSkill_o *)sub_B0D974(BattleLogicSkill_TypeInfo, v115, v116);
  BattleLogicSkill___ctor(v117, 0LL);
  this->fields.logicSkill = v117;
  p_logicSkill = &this->fields.logicSkill;
  sub_B0D840(&this->fields.logicSkill, v117);
  v120 = (BattleLogicReaction_o *)sub_B0D974(BattleLogicReaction_TypeInfo, v118, v119);
  BattleLogicReaction___ctor(v120, 0LL);
  p_logicReaction = &this->fields.logicReaction;
  this->fields.logicReaction = v120;
  sub_B0D840(&this->fields.logicReaction, v120);
  v124 = (BattleLogicClassRelation_o *)sub_B0D974(BattleLogicClassRelation_TypeInfo, v122, v123);
  BattleLogicClassRelation___ctor(v124, 0LL);
  this->fields.logicClassRelation = v124;
  sub_B0D840(&this->fields.logicClassRelation, v124);
  v127 = (BattleLogicNpcAi_o *)sub_B0D974(BattleLogicNpcAi_TypeInfo, v125, v126);
  BattleLogicNpcAi___ctor(v127, 0LL);
  this->fields.logicNpcAi = v127;
  sub_B0D840(&this->fields.logicNpcAi, v127);
  v130 = (BattleLogicPlayerAi_o *)sub_B0D974(BattleLogicPlayerAi_TypeInfo, v128, v129);
  BattleLogicPlayerAi___ctor(v130, 0LL);
  this->fields.logicPlayerAi = v130;
  sub_B0D840(&this->fields.logicPlayerAi, v130);
  gameObject = UnityEngine_Component__get_gameObject((UnityEngine_Component_o *)this, 0LL);
  if ( !gameObject )
    goto LABEL_48;
  p_logicNpcAi = &this->fields.logicNpcAi;
  p_logicFieldAi = &this->fields.logicFieldAi;
  p_logicEnemyAi = &this->fields.logicEnemyAi;
  v132 = UnityEngine_GameObject__AddComponent_UnitySynchronizationContext_SynchronizationContextBehavoir_(
           gameObject,
           (const MethodInfo_1B62AAC *)Method_UnityEngine_GameObject_AddComponent_BattleRandom___);
  this->fields.brandom = (struct BattleRandom_o *)v132;
  sub_B0D840(&this->fields.brandom, v132);
  v135 = (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)sub_B0D974(
                                                                            System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__TypeInfo,
                                                                            v133,
                                                                            v134);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string____ctor(
    v135,
    (const MethodInfo_2EA610C *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction___ctor__);
  logicnomal = (Il2CppObject *)this->fields.logicnomal;
  v139 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v137, v138);
  BattleLogic_taskFunction___ctor(v139, logicnomal, Method_BattleLogicNomal_taskComboOrderBefore__, 0LL);
  if ( !v135 )
    goto LABEL_48;
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    0,
    (System_String_o *)v139,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v140 = (Il2CppObject *)this->fields.logicnomal;
  v143 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v141, v142);
  BattleLogic_taskFunction___ctor(v143, v140, Method_BattleLogicNomal_taskCommandAttack__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    1,
    (System_String_o *)v143,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v144 = (Il2CppObject *)this->fields.logicnomal;
  v147 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v145, v146);
  BattleLogic_taskFunction___ctor(v147, v144, Method_BattleLogicNomal_taskCommandAttack__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    2,
    (System_String_o *)v147,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v148 = (Il2CppObject *)this->fields.logicnomal;
  v151 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v149, v150);
  BattleLogic_taskFunction___ctor(v151, v148, Method_BattleLogicNomal_taskCommandAttack__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    3,
    (System_String_o *)v151,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v152 = (Il2CppObject *)this->fields.logicnomal;
  v155 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v153, v154);
  BattleLogic_taskFunction___ctor(v155, v152, Method_BattleLogicNomal_taskComboOrderAfter__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    5,
    (System_String_o *)v155,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v156 = (Il2CppObject *)this->fields.logicnomal;
  v159 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v157, v158);
  BattleLogic_taskFunction___ctor(v159, v156, Method_BattleLogicNomal_taskAddCommandAttack__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    4,
    (System_String_o *)v159,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  logicEnemyAi = (Il2CppObject *)this->fields.logicEnemyAi;
  v163 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v161, v162);
  BattleLogic_taskFunction___ctor(v163, logicEnemyAi, Method_BattleLogicEnemyAi_taskAIAttack__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    10,
    (System_String_o *)v163,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v164 = (Il2CppObject *)this->fields.logicEnemyAi;
  v167 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v165, v166);
  BattleLogic_taskFunction___ctor(v167, v164, Method_BattleLogicEnemyAi_taskAIAttack__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    11,
    (System_String_o *)v167,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v168 = (Il2CppObject *)this->fields.logicEnemyAi;
  v171 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v169, v170);
  BattleLogic_taskFunction___ctor(v171, v168, Method_BattleLogicEnemyAi_taskAIAttack__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    12,
    (System_String_o *)v171,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  logicspecial = (Il2CppObject *)this->fields.logicspecial;
  v175 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v173, v174);
  BattleLogic_taskFunction___ctor(v175, logicspecial, Method_BattleLogicSpecial_taskTresureDvc__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    6,
    (System_String_o *)v175,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v176 = (Il2CppObject *)this->fields.logicspecial;
  v179 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v177, v178);
  BattleLogic_taskFunction___ctor(v179, v176, Method_BattleLogicSpecial_taskTresureDvc__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    7,
    (System_String_o *)v179,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v180 = (Il2CppObject *)this->fields.logicspecial;
  v183 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v181, v182);
  BattleLogic_taskFunction___ctor(v183, v180, Method_BattleLogicSpecial_taskTresureDvc__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    8,
    (System_String_o *)v183,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v184 = (Il2CppObject *)this->fields.logicspecial;
  v187 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v185, v186);
  BattleLogic_taskFunction___ctor(v187, v184, Method_BattleLogicSpecial_taskEnemyTresureDvc__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    14,
    (System_String_o *)v187,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v188 = (Il2CppObject *)this->fields.logicspecial;
  v191 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v189, v190);
  BattleLogic_taskFunction___ctor(v191, v188, Method_BattleLogicSpecial_taskEnemyTresureDvc__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    15,
    (System_String_o *)v191,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v192 = (Il2CppObject *)this->fields.logicspecial;
  v195 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v193, v194);
  BattleLogic_taskFunction___ctor(v195, v192, Method_BattleLogicSpecial_taskEnemyTresureDvc__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    16,
    (System_String_o *)v195,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v196 = (Il2CppObject *)this->fields.logicspecial;
  v199 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v197, v198);
  BattleLogic_taskFunction___ctor(v199, v196, Method_BattleLogicSpecial_taskTresureDvcAlways__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    18,
    (System_String_o *)v199,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v200 = (Il2CppObject *)this->fields.logicspecial;
  v203 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v201, v202);
  BattleLogic_taskFunction___ctor(v203, v200, Method_BattleLogicSpecial_taskTresureDvcAlways__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    19,
    (System_String_o *)v203,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v204 = (Il2CppObject *)this->fields.logicspecial;
  v207 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v205, v206);
  BattleLogic_taskFunction___ctor(v207, v204, Method_BattleLogicSpecial_taskTresureDvcAlways__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    20,
    (System_String_o *)v207,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v208 = (Il2CppObject *)this->fields.logicspecial;
  v211 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v209, v210);
  BattleLogic_taskFunction___ctor(v211, v208, Method_BattleLogicSpecial_taskEnemyTresureDvcAlways__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    21,
    (System_String_o *)v211,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v212 = (Il2CppObject *)this->fields.logicspecial;
  v215 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v213, v214);
  BattleLogic_taskFunction___ctor(v215, v212, Method_BattleLogicSpecial_taskEnemyTresureDvcAlways__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    22,
    (System_String_o *)v215,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v216 = (Il2CppObject *)this->fields.logicspecial;
  v219 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v217, v218);
  BattleLogic_taskFunction___ctor(v219, v216, Method_BattleLogicSpecial_taskEnemyTresureDvcAlways__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    23,
    (System_String_o *)v219,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v222 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v220, v221);
  BattleLogic_taskFunction___ctor(v222, (Il2CppObject *)this, Method_BattleLogic_taskCommandWait__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    9,
    (System_String_o *)v222,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v225 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v223, v224);
  BattleLogic_taskFunction___ctor(v225, (Il2CppObject *)this, Method_BattleLogic_taskLastActorBackStep__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    13,
    (System_String_o *)v225,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v228 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v226, v227);
  BattleLogic_taskFunction___ctor(v228, (Il2CppObject *)this, Method_BattleLogic_taskGetCriticalPoint__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    24,
    (System_String_o *)v228,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v231 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v229, v230);
  BattleLogic_taskFunction___ctor(v231, (Il2CppObject *)this, Method_BattleLogic_taskEndPlayerTurn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    25,
    (System_String_o *)v231,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v234 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v232, v233);
  BattleLogic_taskFunction___ctor(v234, (Il2CppObject *)this, Method_BattleLogic_taskEndEnemyTurn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    26,
    (System_String_o *)v234,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v237 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v235, v236);
  BattleLogic_taskFunction___ctor(v237, (Il2CppObject *)this, Method_BattleLogic_taskEnemyEndWait__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    32,
    (System_String_o *)v237,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  logicReaction = (Il2CppObject *)this->fields.logicReaction;
  v241 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v239, v240);
  BattleLogic_taskFunction___ctor(v241, logicReaction, Method_BattleLogicReaction_checkPlayerActionEnd__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    33,
    (System_String_o *)v241,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v242 = (Il2CppObject *)this->fields.logicnomal;
  v245 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v243, v244);
  BattleLogic_taskFunction___ctor(v245, v242, Method_BattleLogicNomal_taskBuffAdd__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    34,
    (System_String_o *)v245,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v246 = (Il2CppObject *)this->fields.logicnomal;
  v249 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v247, v248);
  BattleLogic_taskFunction___ctor(v249, v246, Method_BattleLogicNomal_taskBuffAdd__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    35,
    (System_String_o *)v249,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v252 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v250, v251);
  BattleLogic_taskFunction___ctor(v252, (Il2CppObject *)this, Method_BattleLogic_taskStartPlayerTurn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    36,
    (System_String_o *)v252,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v255 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v253, v254);
  BattleLogic_taskFunction___ctor(v255, (Il2CppObject *)this, Method_BattleLogic_taskStartEnemyTurn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    37,
    (System_String_o *)v255,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v258 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v256, v257);
  BattleLogic_taskFunction___ctor(v258, (Il2CppObject *)this, Method_BattleLogic_taskStartTactical__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    38,
    (System_String_o *)v258,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v259 = (Il2CppObject *)this->fields.logicReaction;
  v262 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v260, v261);
  BattleLogic_taskFunction___ctor(v262, v259, Method_BattleLogicReaction_checkEnemyStartTurn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    30,
    (System_String_o *)v262,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v263 = (Il2CppObject *)this->fields.logicReaction;
  v266 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v264, v265);
  BattleLogic_taskFunction___ctor(v266, v263, Method_BattleLogicReaction_checkEnemyEndTurn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    31,
    (System_String_o *)v266,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v267 = (Il2CppObject *)this->fields.logicnomal;
  v270 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v268, v269);
  BattleLogic_taskFunction___ctor(v270, v267, Method_BattleLogicNomal_checkReflectionTask__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    41,
    (System_String_o *)v270,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v271 = (Il2CppObject *)this->fields.logicnomal;
  v274 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v272, v273);
  BattleLogic_taskFunction___ctor(v274, v271, Method_BattleLogicNomal_checkReflectionTask__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    40,
    (System_String_o *)v274,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v275 = (Il2CppObject *)this->fields.logicEnemyAi;
  v278 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v276, v277);
  BattleLogic_taskFunction___ctor(v278, v275, Method_BattleLogicEnemyAi_taskAIAttack__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    42,
    (System_String_o *)v278,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  logicFieldAi = (Il2CppObject *)this->fields.logicFieldAi;
  v282 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v280, v281);
  BattleLogic_taskFunction___ctor(v282, logicFieldAi, Method_BattleLogicFieldAi_checkFieldAiTask__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    48,
    (System_String_o *)v282,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v283 = (Il2CppObject *)this->fields.logicFieldAi;
  v286 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v284, v285);
  BattleLogic_taskFunction___ctor(v286, v283, Method_BattleLogicFieldAi_checkFieldAiTask__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    49,
    (System_String_o *)v286,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v287 = (Il2CppObject *)this->fields.logicFieldAi;
  v290 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v288, v289);
  BattleLogic_taskFunction___ctor(v290, v287, Method_BattleLogicFieldAi_checkFieldAiTask__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    46,
    (System_String_o *)v290,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v291 = (Il2CppObject *)this->fields.logicFieldAi;
  v294 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v292, v293);
  BattleLogic_taskFunction___ctor(v294, v291, Method_BattleLogicFieldAi_checkFieldAiTask__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    47,
    (System_String_o *)v294,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v295 = (Il2CppObject *)this->fields.logicFieldAi;
  v298 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v296, v297);
  BattleLogic_taskFunction___ctor(v298, v295, Method_BattleLogicFieldAi_checkFieldAiTask__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    44,
    (System_String_o *)v298,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v301 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v299, v300);
  BattleLogic_taskFunction___ctor(v301, (Il2CppObject *)this, Method_BattleLogic_checkOverKill__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    50,
    (System_String_o *)v301,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v304 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v302, v303);
  BattleLogic_taskFunction___ctor(v304, (Il2CppObject *)this, Method_BattleLogic_checkImmediateEntry__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    51,
    (System_String_o *)v304,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v307 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v305, v306);
  BattleLogic_taskFunction___ctor(v307, (Il2CppObject *)this, Method_BattleLogic_startImmediateEntry__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    52,
    (System_String_o *)v307,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v310 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v308, v309);
  BattleLogic_taskFunction___ctor(v310, (Il2CppObject *)this, Method_BattleLogic_afterImmediateEntry__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    53,
    (System_String_o *)v310,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v311 = (Il2CppObject *)this->fields.logicEnemyAi;
  v314 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v312, v313);
  BattleLogic_taskFunction___ctor(v314, v311, Method_BattleLogicEnemyAi_resetEnemyActList__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    54,
    (System_String_o *)v314,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v315 = (Il2CppObject *)this->fields.logicnomal;
  v318 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v316, v317);
  BattleLogic_taskFunction___ctor(v318, v315, Method_BattleLogicNomal_taskCheckShiftServants__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    55,
    (System_String_o *)v318,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v319 = (Il2CppObject *)this->fields.logicReaction;
  v322 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v320, v321);
  BattleLogic_taskFunction___ctor(v322, v319, Method_BattleLogicReaction_CheckEnemyShiftAfter__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    73,
    (System_String_o *)v322,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v323 = (Il2CppObject *)this->fields.logicReaction;
  v326 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v324, v325);
  BattleLogic_taskFunction___ctor(v326, v323, Method_BattleLogicReaction_CheckEnemyPlayerTurnEndAfter__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    57,
    (System_String_o *)v326,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v329 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v327, v328);
  BattleLogic_taskFunction___ctor(v329, (Il2CppObject *)this, Method_BattleLogic_taskPlayerAttackTerm__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    58,
    (System_String_o *)v329,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v332 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v330, v331);
  BattleLogic_taskFunction___ctor(v332, (Il2CppObject *)this, Method_BattleLogic_taskEnemyAttackTerm__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    59,
    (System_String_o *)v332,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v333 = (Il2CppObject *)this->fields.logicnomal;
  v336 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v334, v335);
  BattleLogic_taskFunction___ctor(v336, v333, Method_BattleLogicNomal_taskCounterFuncPlayer__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    67,
    (System_String_o *)v336,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v337 = (Il2CppObject *)this->fields.logicnomal;
  v340 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v338, v339);
  BattleLogic_taskFunction___ctor(v340, v337, Method_BattleLogicNomal_taskCounterFuncEnemy__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    68,
    (System_String_o *)v340,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v341 = (Il2CppObject *)this->fields.logicEnemyAi;
  v344 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v342, v343);
  BattleLogic_taskFunction___ctor(v344, v341, Method_BattleLogicEnemyAi_TaskAIAttackStart__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    69,
    (System_String_o *)v344,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v345 = (Il2CppObject *)this->fields.logicEnemyAi;
  v348 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v346, v347);
  BattleLogic_taskFunction___ctor(v348, v345, Method_BattleLogicEnemyAi_TaskAIAttackEnd__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    70,
    (System_String_o *)v348,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v349 = (Il2CppObject *)this->fields.logicEnemyAi;
  v352 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v350, v351);
  BattleLogic_taskFunction___ctor(v352, v349, Method_BattleLogicEnemyAi_TaskAIAttackPrecheck__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    71,
    (System_String_o *)v352,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  v353 = (Il2CppObject *)this->fields.logicReaction;
  v356 = (BattleLogic_taskFunction_o *)sub_B0D974(BattleLogic_taskFunction_TypeInfo, v354, v355);
  BattleLogic_taskFunction___ctor(v356, v353, Method_BattleLogicReaction_CheckPlayerActionStart__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v135,
    72,
    (System_String_o *)v356,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__Add__);
  this->fields.funclist = (struct System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__o *)v135;
  sub_B0D840(&this->fields.funclist, v135);
  v359 = (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)sub_B0D974(
                                                                            System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__TypeInfo,
                                                                            v357,
                                                                            v358);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string____ctor(
    v359,
    (const MethodInfo_2EA610C *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle___ctor__);
  v360 = (Il2CppObject *)this->fields.logicnomal;
  v363 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v361, v362);
  BattleLogic_createActionBattle___ctor(v363, v360, Method_BattleLogicNomal_createCommandBattle__, 0LL);
  if ( !v359 )
    goto LABEL_48;
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    1,
    (System_String_o *)v363,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v364 = (Il2CppObject *)this->fields.logicnomal;
  v367 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v365, v366);
  BattleLogic_createActionBattle___ctor(v367, v364, Method_BattleLogicNomal_createCommandBattle__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    2,
    (System_String_o *)v367,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  logicSkill = (Il2CppObject *)this->fields.logicSkill;
  v371 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v369, v370);
  BattleLogic_createActionBattle___ctor(v371, logicSkill, Method_BattleLogicSkill_createSkillData__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    3,
    (System_String_o *)v371,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v372 = (Il2CppObject *)this->fields.logicspecial;
  v375 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v373, v374);
  BattleLogic_createActionBattle___ctor(v375, v372, Method_BattleLogicSpecial_createSpecialData__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    4,
    (System_String_o *)v375,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v376 = (Il2CppObject *)this->fields.logicspecial;
  v379 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v377, v378);
  BattleLogic_createActionBattle___ctor(v379, v376, Method_BattleLogicSpecial_createCounterOverwriteSpecialData__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    5,
    (System_String_o *)v379,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v382 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v380, v381);
  BattleLogic_createActionBattle___ctor(v382, (Il2CppObject *)this, Method_BattleLogic_createLastActorBackStep__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    6,
    (System_String_o *)v382,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v385 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v383, v384);
  BattleLogic_createActionBattle___ctor(v385, (Il2CppObject *)this, Method_BattleLogic_createSystem__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    7,
    (System_String_o *)v385,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v386 = (Il2CppObject *)this->fields.logicnomal;
  v389 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v387, v388);
  BattleLogic_createActionBattle___ctor(v389, v386, Method_BattleLogicNomal_createComboOrder__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    8,
    (System_String_o *)v389,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v390 = (Il2CppObject *)this->fields.logicSkill;
  v393 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v391, v392);
  BattleLogic_createActionBattle___ctor(v393, v390, Method_BattleLogicSkill_createCommandSpell__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    9,
    (System_String_o *)v393,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v394 = (Il2CppObject *)this->fields.logicnomal;
  v397 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v395, v396);
  BattleLogic_createActionBattle___ctor(v397, v394, Method_BattleLogicNomal_createPlayMotion__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    10,
    (System_String_o *)v397,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v398 = (Il2CppObject *)this->fields.logicnomal;
  v401 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v399, v400);
  BattleLogic_createActionBattle___ctor(v401, v398, Method_BattleLogicNomal_createEndTurnPlayer__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    11,
    (System_String_o *)v401,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v402 = (Il2CppObject *)this->fields.logicnomal;
  v405 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v403, v404);
  BattleLogic_createActionBattle___ctor(v405, v402, Method_BattleLogicNomal_createEndTurnEnemy__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    12,
    (System_String_o *)v405,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v406 = (Il2CppObject *)this->fields.logicReaction;
  v409 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v407, v408);
  BattleLogic_createActionBattle___ctor(v409, v406, Method_BattleLogicReaction_createResurrection__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    13,
    (System_String_o *)v409,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v410 = (Il2CppObject *)this->fields.logicReaction;
  v413 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v411, v412);
  BattleLogic_createActionBattle___ctor(v413, v410, Method_BattleLogicReaction_createDeadMotion__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    14,
    (System_String_o *)v413,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v414 = (Il2CppObject *)this->fields.logicnomal;
  v417 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v415, v416);
  BattleLogic_createActionBattle___ctor(v417, v414, Method_BattleLogicNomal_createBuffAddPlayer__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    18,
    (System_String_o *)v417,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v418 = (Il2CppObject *)this->fields.logicnomal;
  v421 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v419, v420);
  BattleLogic_createActionBattle___ctor(v421, v418, Method_BattleLogicNomal_createBuffAddEnemy__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    19,
    (System_String_o *)v421,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v422 = (Il2CppObject *)this->fields.logicnomal;
  v425 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v423, v424);
  BattleLogic_createActionBattle___ctor(v425, v422, Method_BattleLogicNomal_createStartTurn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    20,
    (System_String_o *)v425,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v426 = (Il2CppObject *)this->fields.logicnomal;
  v429 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v427, v428);
  BattleLogic_createActionBattle___ctor(v429, v426, Method_BattleLogicNomal_createStartEnemyTurn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    21,
    (System_String_o *)v429,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v432 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v430, v431);
  BattleLogic_createActionBattle___ctor(v432, (Il2CppObject *)this, Method_BattleLogic_createCamera__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    27,
    (System_String_o *)v432,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v435 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v433, v434);
  BattleLogic_createActionBattle___ctor(v435, (Il2CppObject *)this, Method_BattleLogic_breakOnBattle__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    35,
    (System_String_o *)v435,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v436 = (Il2CppObject *)this->fields.logicnomal;
  v439 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v437, v438);
  BattleLogic_createActionBattle___ctor(v439, v436, Method_BattleLogicNomal_createShiftServant__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    37,
    (System_String_o *)v439,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v440 = (Il2CppObject *)this->fields.logicReaction;
  v443 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v441, v442);
  BattleLogic_createActionBattle___ctor(v443, v440, Method_BattleLogicReaction_createWithdraw__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    38,
    (System_String_o *)v443,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v444 = (Il2CppObject *)this->fields.logicReaction;
  v447 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v445, v446);
  BattleLogic_createActionBattle___ctor(v447, v444, Method_BattleLogicReaction_createChangeApp__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    40,
    (System_String_o *)v447,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v450 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v448, v449);
  BattleLogic_createActionBattle___ctor(v450, (Il2CppObject *)this, Method_BattleLogic_createEnemyCutIn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    41,
    (System_String_o *)v450,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v453 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v451, v452);
  BattleLogic_createActionBattle___ctor(
    v453,
    (Il2CppObject *)this,
    Method_BattleLogic_createLoadImmediateEntryServant__,
    0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    42,
    (System_String_o *)v453,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v456 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v454, v455);
  BattleLogic_createActionBattle___ctor(v456, (Il2CppObject *)this, Method_BattleLogic_CreateFieldPlayMotion__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    44,
    (System_String_o *)v456,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v459 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v457, v458);
  BattleLogic_createActionBattle___ctor(v459, (Il2CppObject *)this, Method_BattleLogic_CreateActionDataTaskSide__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    56,
    (System_String_o *)v459,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v462 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v460, v461);
  BattleLogic_createActionBattle___ctor(v462, (Il2CppObject *)this, Method_BattleLogic_CreateActionDataTaskSide__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    58,
    (System_String_o *)v462,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v465 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v463, v464);
  BattleLogic_createActionBattle___ctor(v465, (Il2CppObject *)this, Method_BattleLogic_CreateActionDataTaskSide__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    61,
    (System_String_o *)v465,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v466 = (Il2CppObject *)this->fields.logicnomal;
  v469 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v467, v468);
  BattleLogic_createActionBattle___ctor(v469, v466, Method_BattleLogicNomal_createShiftGuts__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    62,
    (System_String_o *)v469,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v470 = (Il2CppObject *)this->fields.logicnomal;
  v473 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v471, v472);
  BattleLogic_createActionBattle___ctor(v473, v470, Method_BattleLogicNomal_CreateProgressIntervalTurn__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    65,
    (System_String_o *)v473,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  v474 = (Il2CppObject *)this->fields.logicnomal;
  v477 = (BattleLogic_createActionBattle_o *)sub_B0D974(BattleLogic_createActionBattle_TypeInfo, v475, v476);
  BattleLogic_createActionBattle___ctor(v477, v474, Method_BattleLogicNomal_CreateDoNotActAction__, 0LL);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string___Add(
    v359,
    69,
    (System_String_o *)v477,
    (const MethodInfo_2EA6CC0 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__Add__);
  this->fields.actionBattleList = (struct System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__o *)v359;
  sub_B0D840(&this->fields.actionBattleList, v359);
  v480 = (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)sub_B0D974(
                                                                            System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction__TypeInfo,
                                                                            v478,
                                                                            v479);
  System_Collections_Generic_Dictionary_Voice_BATTLE__string____ctor(
    v480,
    (const MethodInfo_2EA610C *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction___ctor__);
  p_reactionlist = &this->fields.reactionlist;
  this->fields.reactionlist = (struct System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction__o *)v480;
  sub_B0D840(&this->fields.reactionlist, v480);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicnomal;
  if ( !gameObject )
    goto LABEL_48;
  BattleLogicNomal__setReactionFunction((BattleLogicNomal_o *)gameObject, *p_reactionlist, 0LL);
  p_logicnomal = &this->fields.logicnomal;
  gameObject = (UnityEngine_GameObject_o *)*p_logicFieldAi;
  if ( !*p_logicFieldAi )
    goto LABEL_48;
  BattleLogicFieldAi__setReactionFunction((BattleLogicFieldAi_o *)gameObject, *p_reactionlist, 0LL);
  gameObject = (UnityEngine_GameObject_o *)*p_logicNpcAi;
  if ( !*p_logicNpcAi )
    goto LABEL_48;
  BattleLogicNpcAi__SetReactionFunction((BattleLogicNpcAi_o *)gameObject, *p_reactionlist, 0LL);
  gameObject = (UnityEngine_GameObject_o *)*p_logicReaction;
  if ( !*p_logicReaction )
    goto LABEL_48;
  BattleLogicReaction__SetReactionFunction((BattleLogicReaction_o *)gameObject, this->fields.reactionlist, 0LL);
  v482 = (System_Array_o *)sub_B0D8BC(BattleLogic_LOGICTYPE___TypeInfo, 174LL);
  v522.fields.value = Field__PrivateImplementationDetails__DB39FF3B88E189830F9C70F92523E675741F8CF01931BA55459EE4852D9A9451;
  System_Runtime_CompilerServices_RuntimeHelpers__InitializeArray_42880004(v482, v522, 0LL);
  this->fields.logiclist = (struct BattleLogic_LOGICTYPE_array *)v482;
  sub_B0D840(&this->fields.logiclist, v482);
  data = this->fields.data;
  v486 = (BattleAttackManager_o *)sub_B0D974(BattleAttackManager_TypeInfo, v484, v485);
  BattleAttackManager___ctor(v486, 0LL);
  if ( !v486 )
    goto LABEL_48;
  gameObject = (UnityEngine_GameObject_o *)((__int64 (__fastcall *)(BattleAttackManager_o *, struct BattleLogic_LOGICTYPE_array *, Il2CppMethodPointer))v486->klass->vtable._5_Init.method)(
                                             v486,
                                             this->fields.logiclist,
                                             v486->klass->vtable._6_Reset.methodPtr);
  if ( !data )
    goto LABEL_48;
  data->fields.battleAtkManager = (struct BattleAttackManager_o *)gameObject;
  sub_B0D840(&data->fields.battleAtkManager, gameObject);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logictarget;
  if ( !gameObject )
    goto LABEL_48;
  v487 = this->fields.data;
  *(_QWORD *)&gameObject->fields.m_CachedPtr = v487;
  sub_B0D840(&gameObject->fields, v487);
  gameObject = (UnityEngine_GameObject_o *)*p_logicnomal;
  if ( !*p_logicnomal )
    goto LABEL_48;
  gameObject[1].klass = (UnityEngine_GameObject_c *)this;
  sub_B0D840(&gameObject[1], this);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicnomal;
  if ( !gameObject )
    goto LABEL_48;
  v488 = this->fields.data;
  *(_QWORD *)&gameObject->fields.m_CachedPtr = v488;
  sub_B0D840(&gameObject->fields, v488);
  gameObject = (UnityEngine_GameObject_o *)*p_logicnomal;
  if ( !*p_logicnomal )
    goto LABEL_48;
  v489 = *p_logictarget;
  *(_QWORD *)&gameObject[1].fields.m_CachedPtr = *p_logictarget;
  sub_B0D840(&gameObject[1].fields, v489);
  gameObject = (UnityEngine_GameObject_o *)*p_logicnomal;
  if ( !*p_logicnomal )
    goto LABEL_48;
  v490 = *p_logicFunction;
  gameObject[2].klass = (UnityEngine_GameObject_c *)*p_logicFunction;
  sub_B0D840(&gameObject[2], v490);
  gameObject = (UnityEngine_GameObject_o *)*p_logicnomal;
  if ( !*p_logicnomal )
    goto LABEL_48;
  v491 = *p_logicSkill;
  gameObject[1].monitor = *p_logicSkill;
  sub_B0D840(&gameObject[1].monitor, v491);
  gameObject = (UnityEngine_GameObject_o *)*p_logicEnemyAi;
  if ( !*p_logicEnemyAi )
    goto LABEL_48;
  gameObject[1].klass = (UnityEngine_GameObject_c *)this;
  sub_B0D840(&gameObject[1], this);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicEnemyAi;
  if ( !gameObject )
    goto LABEL_48;
  v492 = this->fields.data;
  *(_QWORD *)&gameObject->fields.m_CachedPtr = v492;
  sub_B0D840(&gameObject->fields, v492);
  gameObject = (UnityEngine_GameObject_o *)*p_logicEnemyAi;
  if ( !*p_logicEnemyAi )
    goto LABEL_48;
  v493 = *p_logictarget;
  gameObject[1].monitor = *p_logictarget;
  sub_B0D840(&gameObject[1].monitor, v493);
  gameObject = (UnityEngine_GameObject_o *)*p_logicEnemyAi;
  if ( !*p_logicEnemyAi )
    goto LABEL_48;
  v494 = *p_logicnomal;
  gameObject[3].monitor = *p_logicnomal;
  *(__n128 *)&v495 = sub_B0D840(&gameObject[3].monitor, v494);
  gameObject = (UnityEngine_GameObject_o *)*p_logicEnemyAi;
  if ( !*p_logicEnemyAi )
    goto LABEL_48;
  (*(void (__fastcall **)(UnityEngine_GameObject_o *, struct BattleData_o *, Il2CppClass *, long double))&gameObject->klass[1]._1.this_arg.bits)(
    gameObject,
    this->fields.data,
    gameObject->klass[1]._1.element_class,
    v495);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicPlayerAi;
  if ( !gameObject )
    goto LABEL_48;
  (*(void (__fastcall **)(UnityEngine_GameObject_o *, struct BattleData_o *, Il2CppClass *))&gameObject->klass[1]._1.this_arg.bits)(
    gameObject,
    this->fields.data,
    gameObject->klass[1]._1.element_class);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicFieldAi;
  if ( !gameObject )
    goto LABEL_48;
  (*(void (__fastcall **)(UnityEngine_GameObject_o *, struct BattleData_o *, Il2CppClass *))&gameObject->klass[1]._1.this_arg.bits)(
    gameObject,
    this->fields.data,
    gameObject->klass[1]._1.element_class);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicFieldAi;
  if ( !gameObject )
    goto LABEL_48;
  v496 = this->fields.logicnomal;
  gameObject[3].monitor = v496;
  sub_B0D840(&gameObject[3].monitor, v496);
  if ( !*p_logicEnemyAi )
    goto LABEL_48;
  gameObject = (UnityEngine_GameObject_o *)*p_logicFieldAi;
  if ( !*p_logicFieldAi )
    goto LABEL_48;
  aiLogic = (*p_logicEnemyAi)->fields.aiLogic;
  *(_QWORD *)&gameObject[1].fields.m_CachedPtr = aiLogic;
  sub_B0D840(&gameObject[1].fields, aiLogic);
  gameObject = (UnityEngine_GameObject_o *)*p_logicFunction;
  if ( !*p_logicFunction )
    goto LABEL_48;
  gameObject[1].klass = (UnityEngine_GameObject_c *)this;
  sub_B0D840(&gameObject[1], this);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicFunction;
  if ( !gameObject )
    goto LABEL_48;
  v498 = this->fields.data;
  *(_QWORD *)&gameObject->fields.m_CachedPtr = v498;
  sub_B0D840(&gameObject->fields, v498);
  gameObject = (UnityEngine_GameObject_o *)*p_logicFunction;
  if ( !*p_logicFunction )
    goto LABEL_48;
  v499 = *p_logictarget;
  gameObject[1].monitor = *p_logictarget;
  sub_B0D840(&gameObject[1].monitor, v499);
  gameObject = (UnityEngine_GameObject_o *)*p_logicSkill;
  if ( !*p_logicSkill )
    goto LABEL_48;
  gameObject[1].klass = (UnityEngine_GameObject_c *)this;
  sub_B0D840(&gameObject[1], this);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicSkill;
  if ( !gameObject )
    goto LABEL_48;
  v500 = this->fields.data;
  *(_QWORD *)&gameObject->fields.m_CachedPtr = v500;
  sub_B0D840(&gameObject->fields, v500);
  gameObject = (UnityEngine_GameObject_o *)*p_logicSkill;
  if ( !*p_logicSkill )
    goto LABEL_48;
  v501 = *p_logictarget;
  gameObject[1].monitor = *p_logictarget;
  sub_B0D840(&gameObject[1].monitor, v501);
  gameObject = (UnityEngine_GameObject_o *)*p_logicSkill;
  if ( !*p_logicSkill )
    goto LABEL_48;
  v502 = *p_logicFunction;
  *(_QWORD *)&gameObject[1].fields.m_CachedPtr = *p_logicFunction;
  sub_B0D840(&gameObject[1].fields, v502);
  gameObject = (UnityEngine_GameObject_o *)*p_logicspecial;
  if ( !*p_logicspecial )
    goto LABEL_48;
  gameObject[1].klass = (UnityEngine_GameObject_c *)this;
  sub_B0D840(&gameObject[1], this);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicspecial;
  if ( !gameObject )
    goto LABEL_48;
  v503 = this->fields.data;
  *(_QWORD *)&gameObject->fields.m_CachedPtr = v503;
  sub_B0D840(&gameObject->fields, v503);
  gameObject = (UnityEngine_GameObject_o *)*p_logicspecial;
  if ( !*p_logicspecial )
    goto LABEL_48;
  v504 = *p_logictarget;
  gameObject[1].monitor = *p_logictarget;
  sub_B0D840(&gameObject[1].monitor, v504);
  gameObject = (UnityEngine_GameObject_o *)*p_logicspecial;
  if ( !*p_logicspecial )
    goto LABEL_48;
  v505 = *p_logicFunction;
  *(_QWORD *)&gameObject[1].fields.m_CachedPtr = *p_logicFunction;
  sub_B0D840(&gameObject[1].fields, v505);
  gameObject = (UnityEngine_GameObject_o *)*p_logicReaction;
  if ( !*p_logicReaction )
    goto LABEL_48;
  gameObject[1].klass = (UnityEngine_GameObject_c *)this;
  sub_B0D840(&gameObject[1], this);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicReaction;
  if ( !gameObject )
    goto LABEL_48;
  v506 = this->fields.data;
  *(_QWORD *)&gameObject->fields.m_CachedPtr = v506;
  sub_B0D840(&gameObject->fields, v506);
  gameObject = (UnityEngine_GameObject_o *)this->fields.logicReaction;
  if ( !gameObject )
    goto LABEL_48;
  perf = this->fields.perf;
  gameObject[1].monitor = perf;
  sub_B0D840(&gameObject[1].monitor, perf);
  gameObject = (UnityEngine_GameObject_o *)*p_logicReaction;
  if ( !*p_logicReaction )
    goto LABEL_48;
  v508 = *p_logicSkill;
  *(_QWORD *)&gameObject[1].fields.m_CachedPtr = *p_logicSkill;
  sub_B0D840(&gameObject[1].fields, v508);
  gameObject = (UnityEngine_GameObject_o *)*p_logicReaction;
  if ( !*p_logicReaction )
    goto LABEL_48;
  v509 = *p_logicFunction;
  gameObject[2].klass = (UnityEngine_GameObject_c *)*p_logicFunction;
  sub_B0D840(&gameObject[2], v509);
  gameObject = (UnityEngine_GameObject_o *)*p_logicReaction;
  if ( !*p_logicReaction )
    goto LABEL_48;
  v510 = *p_logicEnemyAi;
  gameObject[2].monitor = *p_logicEnemyAi;
  sub_B0D840(&gameObject[2].monitor, v510);
  gameObject = (UnityEngine_GameObject_o *)*p_logicReaction;
  if ( !*p_logicReaction
    || (v511 = *p_logicFieldAi,
        *(_QWORD *)&gameObject[2].fields.m_CachedPtr = *p_logicFieldAi,
        *(__n128 *)&v512 = sub_B0D840(&gameObject[2].fields, v511),
        (gameObject = (UnityEngine_GameObject_o *)*p_logicNpcAi) == 0LL) )
  {
LABEL_48:
    sub_B0D97C(gameObject);
  }
  (*(void (__fastcall **)(UnityEngine_GameObject_o *, struct BattleData_o *, Il2CppClass *, long double))&gameObject->klass[1]._1.this_arg.bits)(
    gameObject,
    this->fields.data,
    gameObject->klass[1]._1.element_class,
    v512);
  Instance = (struct Spawner_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_Spawner__get_Instance__);
  this->fields.spawner = Instance;
  sub_B0D840(&this->fields.spawner, Instance);
  BattleLogic__setActiviteUnusedGameobject(this, 0, v514);
  this->fields.prevFirstScaleTime = 0.0;
}


void __fastcall BattleLogic__InitializeWaveRestart(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  BattleData_o *data; // x0
  struct BattlePerformance_o *perf; // x8
  struct BattlePerformanceStatus_o *statusPerf; // x8
  struct BattlePerformancePlayer_o *playerPerf; // x8
  struct BattleServantParamComponent_array *list_param; // x21
  __int64 v11; // x8
  unsigned __int64 v12; // x22
  BattleServantParamComponent_o **m_Items; // x23
  UnityEngine_Object_o *v14; // x20
  struct BattlePerformance_o *v15; // x8
  struct BattlePerformanceStatus_o *v16; // x8
  struct BattlePerformanceMaster_o *masterPerf; // x8
  struct BattlePerformance_o *v18; // x8
  struct BattlePerformanceStatus_o *v19; // x8
  struct BattlePerformance_o *v20; // x8
  const MethodInfo *v21; // x1
  __int64 v22; // x1
  __int64 v23; // x2
  struct BattleData_o *v24; // x8
  System_Collections_Generic_IEnumerable_T__o *draw_commandlist; // x22
  BattlePerformance_o *v26; // x20
  System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *v27; // x21
  struct BattleData_o *v28; // x8
  __int64 v29; // x0

  if ( (byte_42118E6 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData___ctor___67874064, method);
    sub_B0D8A4(&System_Collections_Generic_List_BattleCommandData__TypeInfo, v3);
    sub_B0D8A4(&UnityEngine_Object_TypeInfo, v4);
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v5);
    byte_42118E6 = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_36;
  BattleData__InitializeWaveRestart(data, 0LL);
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_36;
  statusPerf = perf->fields.statusPerf;
  if ( !statusPerf )
    goto LABEL_36;
  playerPerf = statusPerf->fields.playerPerf;
  if ( !playerPerf )
    goto LABEL_36;
  list_param = playerPerf->fields.list_param;
  if ( !list_param )
    goto LABEL_36;
  v11 = *(_QWORD *)&list_param->max_length;
  if ( (int)v11 >= 1 )
  {
    v12 = 0LL;
    m_Items = list_param->m_Items;
    do
    {
      if ( v12 >= (unsigned int)v11 )
      {
LABEL_35:
        v29 = sub_B0D9A8(data);
        sub_B0D948(v29, 0LL);
      }
      v14 = (UnityEngine_Object_o *)m_Items[v12];
      if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
      }
      data = (BattleData_o *)UnityEngine_Object__op_Equality(v14, 0LL, 0LL);
      if ( ((unsigned __int8)data & 1) == 0 )
      {
        if ( v12 >= list_param->max_length )
          goto LABEL_35;
        data = (BattleData_o *)m_Items[v12];
        if ( !data )
          goto LABEL_36;
        BattleServantParamComponent__setCloseMode((BattleServantParamComponent_o *)data, 0LL);
      }
      LODWORD(v11) = list_param->max_length;
    }
    while ( (__int64)++v12 < (int)v11 );
  }
  v15 = this->fields.perf;
  if ( !v15 )
    goto LABEL_36;
  v16 = v15->fields.statusPerf;
  if ( !v16 )
    goto LABEL_36;
  masterPerf = v16->fields.masterPerf;
  if ( !masterPerf )
    goto LABEL_36;
  data = (BattleData_o *)masterPerf->fields.master_root;
  if ( !data )
    goto LABEL_36;
  UnityEngine_GameObject__SetActive((UnityEngine_GameObject_o *)data, 0, 0LL);
  data = (BattleData_o *)this->fields.perf;
  if ( !data )
    goto LABEL_36;
  BattlePerformance__changeAttackButton((BattlePerformance_o *)data, 0, 0, 0, 0LL);
  data = (BattleData_o *)this->fields.perf;
  if ( !data )
    goto LABEL_36;
  BattlePerformance__updateDropItemCount((BattlePerformance_o *)data, 0, 0LL);
  v18 = this->fields.perf;
  if ( !v18 )
    goto LABEL_36;
  v19 = v18->fields.statusPerf;
  if ( !v19 )
    goto LABEL_36;
  data = (BattleData_o *)v19->fields.masterPerf;
  if ( !data )
    goto LABEL_36;
  BattlePerformanceMaster__updateCommandSpellIcon((BattlePerformanceMaster_o *)data, 0LL);
  v20 = this->fields.perf;
  if ( !v20 )
    goto LABEL_36;
  data = (BattleData_o *)v20->fields.bgPerf;
  if ( !data )
    goto LABEL_36;
  BattlePerformanceBg__ResetBgAnimation((BattlePerformanceBg_o *)data, 0LL);
  BattleLogic__ResetWaveMovieFlag(this, v21);
  v24 = this->fields.data;
  if ( !v24 )
    goto LABEL_36;
  draw_commandlist = (System_Collections_Generic_IEnumerable_T__o *)v24->fields.draw_commandlist;
  v26 = this->fields.perf;
  v27 = (System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *)sub_B0D974(
                                                                          System_Collections_Generic_List_BattleCommandData__TypeInfo,
                                                                          v22,
                                                                          v23);
  System_Collections_Generic_List_WarBoardAIRoute_RouteData____ctor(
    v27,
    draw_commandlist,
    (const MethodInfo_2FC4C1C *)Method_System_Collections_Generic_List_BattleCommandData___ctor___67874064);
  if ( !v26
    || (BattlePerformance__SetBaseCommandCardData(v26, (System_Collections_Generic_List_BattleCommandData__o *)v27, 0LL),
        (v28 = this->fields.data) == 0LL)
    || (v28->fields.isCalcCritical = 1, (data = (BattleData_o *)this->fields.fsm) == 0LL) )
  {
LABEL_36:
    sub_B0D97C(data);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


bool __fastcall BattleLogic__IsBattleFinishByTurnExpiration(
        BattleLogic_o *this,
        bool isEndOfCurrentTurn,
        const MethodInfo *method)
{
  struct BattleData_o *data; // x8
  int32_t limitTurnCount; // w9
  int32_t turnCount; // w10
  struct BattleAttackManager_o *battleAtkManager; // x8
  bool IsTurnEnd_k__BackingField; // w8

  data = this->fields.data;
  if ( !data )
    goto LABEL_15;
  limitTurnCount = data->fields.limitTurnCount;
  if ( !limitTurnCount || !data->fields.limitAct )
    return 0;
  turnCount = data->fields.turnCount;
  if ( isEndOfCurrentTurn )
    turnCount -= data->fields.initturn == 1;
  if ( limitTurnCount < turnCount )
    return 1;
  if ( limitTurnCount == turnCount )
  {
    battleAtkManager = data->fields.battleAtkManager;
    if ( battleAtkManager )
    {
      IsTurnEnd_k__BackingField = battleAtkManager->fields._IsTurnEnd_k__BackingField;
      return IsTurnEnd_k__BackingField && isEndOfCurrentTurn;
    }
LABEL_15:
    sub_B0D97C(this);
  }
  IsTurnEnd_k__BackingField = 0;
  return IsTurnEnd_k__BackingField && isEndOfCurrentTurn;
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleLogic__IsFirstTimeId(
        BattleLogic_o *this,
        System_String_o *key,
        int32_t id,
        System_Collections_Generic_List_int__o *idList,
        System_Collections_Generic_List_int__o *thisTurnList,
        const MethodInfo *method)
{
  __int64 v10; // x1
  System_Collections_Generic_List_int__o *EncryptedPlayerPrefsIdList; // x0

  if ( (byte_42118E8 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Add__, key);
    this = (BattleLogic_o *)sub_B0D8A4(&Method_System_Collections_Generic_List_int__Contains__, v10);
    byte_42118E8 = 1;
  }
  if ( !idList )
  {
    EncryptedPlayerPrefsIdList = BattleLogic__LoadEncryptedPlayerPrefsIdList(this, key, *(const MethodInfo **)&id);
    idList = EncryptedPlayerPrefsIdList;
    if ( !EncryptedPlayerPrefsIdList )
      goto LABEL_11;
  }
  EncryptedPlayerPrefsIdList = (System_Collections_Generic_List_int__o *)System_Collections_Generic_List_int___Contains(
                                                                           idList,
                                                                           id,
                                                                           (const MethodInfo_2FB0354 *)Method_System_Collections_Generic_List_int__Contains__);
  if ( ((unsigned __int8)EncryptedPlayerPrefsIdList & 1) != 0 )
    return 0;
  if ( !thisTurnList )
LABEL_11:
    sub_B0D97C(EncryptedPlayerPrefsIdList);
  if ( !System_Collections_Generic_List_int___Contains(
          thisTurnList,
          id,
          (const MethodInfo_2FB0354 *)Method_System_Collections_Generic_List_int__Contains__) )
    System_Collections_Generic_List_int___Add(
      thisTurnList,
      id,
      (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
  return 1;
}


bool __fastcall BattleLogic__IsSafeCounterAttack(
        BattleLogic_o *this,
        BattleServantData_o *target,
        const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  if ( !target )
    goto LABEL_7;
  if ( target->fields.isEnemy )
    return BattleServantData__isShiftableServant(target, 0LL);
  data = this->fields.data;
  if ( !data || (this = (BattleLogic_o *)data->fields.changePhaseNotify) == 0LL )
LABEL_7:
    sub_B0D97C(this);
  return ChangeBattlePhaseNotify__get_Phase((ChangeBattlePhaseNotify_o *)this, 0LL) == 1;
}


bool __fastcall BattleLogic__IsTimeAccelerationFirst(BattleLogic_o *this, const MethodInfo *method)
{
  return UnityEngine_Time__get_timeScale(0LL) == 1.0;
}


System_Collections_Generic_List_int__o *__fastcall BattleLogic__LoadEncryptedPlayerPrefsIdList(
        BattleLogic_o *this,
        System_String_o *key,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  System_String_o *String; // x19
  __int64 v14; // x1
  __int64 v15; // x2
  System_Collections_Generic_List_int__o *v16; // x19
  System_Char_array *v17; // x0
  __int64 v18; // x1
  __int64 v19; // x2
  System_Collections_Generic_IEnumerable_TSource__o *v20; // x19
  BattleLogic___c_c *v21; // x0
  struct BattleLogic___c_StaticFields *static_fields; // x8
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__371_0; // x20
  Il2CppObject *v24; // x21
  struct BattleLogic___c_StaticFields *v25; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v26; // x0
  __int64 v28; // x0

  if ( (byte_42118E9 & 1) == 0 )
  {
    sub_B0D8A4(&char___TypeInfo, key);
    sub_B0D8A4(&EncryptedPlayerPrefs_TypeInfo, v4);
    sub_B0D8A4(&Method_System_Linq_Enumerable_Select_string__int___, v5);
    sub_B0D8A4(&Method_System_Linq_Enumerable_ToList_int___, v6);
    sub_B0D8A4(&Method_System_Func_string__int___ctor__, v7);
    sub_B0D8A4(&System_Func_string__int__TypeInfo, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int___ctor__, v9);
    sub_B0D8A4(&System_Collections_Generic_List_int__TypeInfo, v10);
    sub_B0D8A4(&Method_BattleLogic___c__LoadEncryptedPlayerPrefsIdList_b__371_0__, v11);
    sub_B0D8A4(&BattleLogic___c_TypeInfo, v12);
    byte_42118E9 = 1;
  }
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  String = EncryptedPlayerPrefs__GetString(key, 0LL);
  if ( System_String__IsNullOrEmpty(String, 0LL) )
  {
    v16 = (System_Collections_Generic_List_int__o *)sub_B0D974(System_Collections_Generic_List_int__TypeInfo, v14, v15);
    System_Collections_Generic_List_int____ctor(
      v16,
      (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
  }
  else
  {
    v17 = (System_Char_array *)sub_B0D8BC(char___TypeInfo, 1LL);
    if ( !v17 )
      sub_B0D97C(0LL);
    if ( !v17->max_length )
    {
      v28 = sub_B0D9A8(v17);
      sub_B0D948(v28, 0LL);
    }
    v17->m_Items[2] = 44;
    if ( !String )
      sub_B0D97C(v17);
    v20 = (System_Collections_Generic_IEnumerable_TSource__o *)System_String__Split(String, v17, 0LL);
    v21 = BattleLogic___c_TypeInfo;
    if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleLogic___c_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
      v21 = BattleLogic___c_TypeInfo;
    }
    static_fields = v21->static_fields;
    _9__371_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)static_fields->__9__371_0;
    if ( !_9__371_0 )
    {
      if ( (BYTE3(v21->vtable._0_Equals.methodPtr) & 4) != 0 && !v21->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v21);
        static_fields = BattleLogic___c_TypeInfo->static_fields;
      }
      v24 = (Il2CppObject *)static_fields->__9;
      _9__371_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B0D974(
                                                                                    System_Func_string__int__TypeInfo,
                                                                                    v18,
                                                                                    v19);
      System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
        _9__371_0,
        v24,
        Method_BattleLogic___c__LoadEncryptedPlayerPrefsIdList_b__371_0__,
        (const MethodInfo_2619564 *)Method_System_Func_string__int___ctor__);
      v25 = BattleLogic___c_TypeInfo->static_fields;
      v25->__9__371_0 = (struct System_Func_string__int__o *)_9__371_0;
      sub_B0D840(&v25->__9__371_0, _9__371_0);
    }
    v26 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__Select_BattleLogicBuff_ReduceHpProcess_BuffInfo__int_(
                                                                 v20,
                                                                 (System_Func_TSource__TResult__o *)_9__371_0,
                                                                 (const MethodInfo_1B51AB4 *)Method_System_Linq_Enumerable_Select_string__int___);
    return (System_Collections_Generic_List_int__o *)System_Linq_Enumerable__ToList_int_(
                                                       v26,
                                                       (const MethodInfo_1B58FA0 *)Method_System_Linq_Enumerable_ToList_int___);
  }
  return v16;
}


void __fastcall BattleLogic__LoadNStagePlayer(BattleLogic_o *this, System_String_o *endproc, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleLogic___c__DisplayClass363_0_o *v9; // x20
  BattleData_o *data; // x0
  struct BattleData_o *v11; // x8
  __int64 v12; // x1
  __int64 v13; // x2
  System_Action_o *v14; // x21
  struct BattlePerformance_o *perf; // x8
  BattlePerformance_o *v16; // x21
  __int64 v17; // x1
  __int64 v18; // x2
  System_Action_o *v19; // x22
  System_Collections_IEnumerator_o *NStagePlayer; // x1

  if ( (byte_42118E3 & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, endproc);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, v5);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass363_0__LoadNStagePlayer_b__0__, v6);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass363_0__LoadNStagePlayer_b__1__, v7);
    sub_B0D8A4(&BattleLogic___c__DisplayClass363_0_TypeInfo, v8);
    byte_42118E3 = 1;
  }
  v9 = (BattleLogic___c__DisplayClass363_0_o *)sub_B0D974(BattleLogic___c__DisplayClass363_0_TypeInfo, endproc, method);
  BattleLogic___c__DisplayClass363_0___ctor(v9, 0LL);
  if ( !v9 )
    goto LABEL_15;
  v9->fields.__4__this = this;
  sub_B0D840(&v9->fields, this);
  v9->fields.endproc = endproc;
  sub_B0D840(&v9->fields.endproc, endproc);
  data = this->fields.data;
  if ( !data )
    goto LABEL_15;
  data = (BattleData_o *)BattleData__LoadNStagePlayer(data, 0LL);
  if ( ((unsigned __int8)data & 1) != 0 )
    goto LABEL_8;
  v11 = this->fields.data;
  if ( !v11 )
    goto LABEL_15;
  if ( v11->fields.isWaveRestartInitialize )
  {
LABEL_8:
    data = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
    if ( data )
    {
      CommonUI__SetLoadMode((CommonUI_o *)data, 1, 0LL);
      v14 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v12, v13);
      System_Action___ctor(
        v14,
        (Il2CppObject *)v9,
        Method_BattleLogic___c__DisplayClass363_0__LoadNStagePlayer_b__0__,
        0LL);
      this->fields.loadingIconcallback = v14;
      sub_B0D840(&this->fields.loadingIconcallback, v14);
      perf = this->fields.perf;
      if ( perf )
      {
        data = (BattleData_o *)perf->fields.commandPerf;
        if ( data )
        {
          BattlePerformanceCommandCard__ResetNoblePhantasmCard((BattlePerformanceCommandCard_o *)data, 0LL);
          v16 = this->fields.perf;
          v19 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v17, v18);
          System_Action___ctor(
            v19,
            (Il2CppObject *)v9,
            Method_BattleLogic___c__DisplayClass363_0__LoadNStagePlayer_b__1__,
            0LL);
          if ( v16 )
          {
            NStagePlayer = BattlePerformance__CoLoadNStagePlayer(v16, v19, 0LL);
            UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, NStagePlayer, 0LL);
            return;
          }
        }
      }
    }
LABEL_15:
    sub_B0D97C(data);
  }
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_15;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, v9->fields.endproc, 0LL);
}


void __fastcall BattleLogic__OnDestroy(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2

  BattleLogic__setActiviteUnusedGameobject(this, 1, v2);
}


void __fastcall BattleLogic__OnPhaseTactical(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8
  BattleLogic_o *v3; // x19
  const MethodInfo *v4; // x2

  data = this->fields.data;
  if ( !data
    || (data->fields.isResumeWaveStart = 0, v3 = this, (this = (BattleLogic_o *)this->fields.perf) == 0LL)
    || (BattlePerformance__SetActiveTutorialDialogMask((BattlePerformance_o *)this, 0, 0LL),
        BattleLogic__ChangePhase(v3, 1, v4),
        (this = (BattleLogic_o *)v3->fields.perf) == 0LL)
    || (this = (BattleLogic_o *)BattlePerformance__get_MotionSkipManager((BattlePerformance_o *)this, 0LL)) == 0LL )
  {
    sub_B0D97C(this);
  }
  BattleMotionSkipManager__ReleaseMotionSkip((BattleMotionSkipManager_o *)this, 0LL);
}


void __fastcall BattleLogic__OnWaitTutorial(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  perf = this->fields.perf;
  if ( !perf || (perf = (BattlePerformance_o *)BattlePerformance__get_MotionSkipManager(perf, 0LL)) == 0LL )
    sub_B0D97C(perf);
  BattleMotionSkipManager__ReleaseMotionSkip((BattleMotionSkipManager_o *)perf, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__OpenBattleLoseDlg(
        BattleLogic_o *this,
        bool isContinueable,
        bool isSelf,
        NotificationDialog_ClickDelegate_o *callback,
        bool isFromContinue,
        const MethodInfo *method)
{
  _BOOL4 v8; // w22
  _BOOL4 v9; // w24
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 *v22; // x8
  System_String_o *v23; // x21
  System_String_o *v24; // x26
  BattleData_o *Instance; // x0
  struct BattleData_o *data; // x8
  struct BattleDefenceTargetData_o *defenceTargetData; // x8
  System_String_o *v28; // x25
  Il2CppObject *v29; // x0
  System_String_o *Empty; // x27
  Il2CppObject *v31; // x27
  Il2CppObject *v32; // x0
  int v33; // w24
  System_String_o *v34; // x0
  System_String_o *v35; // x22
  const MethodInfo *v36; // x1
  Il2CppObject *v37; // x0
  int32_t Phase; // [xsp+64h] [xbp-5Ch] BYREF
  int32_t QuestId; // [xsp+68h] [xbp-58h] BYREF
  int32_t uiId; // [xsp+6Ch] [xbp-54h] BYREF

  v8 = isSelf;
  v9 = isContinueable;
  if ( (byte_421184D & 1) == 0 )
  {
    sub_B0D8A4(&int_TypeInfo, isContinueable);
    sub_B0D8A4(&LocalizationManager_TypeInfo, v11);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_ServantAssetLoadManager__get_Instance__, v12);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, v13);
    sub_B0D8A4(&string_TypeInfo, v14);
    sub_B0D8A4(&StringLiteral_2480/*"BATTLE_RAID_DIALOG_RETIRE_TITLE"*/, v15);
    sub_B0D8A4(&StringLiteral_23721/*"{0}_{1}"*/, v16);
    sub_B0D8A4(&StringLiteral_23723/*"{0}_{1}_{2}"*/, v17);
    sub_B0D8A4(&StringLiteral_2434/*"BATTLE_DIALOG_RETIRE_TITLE"*/, v18);
    sub_B0D8A4(&StringLiteral_2479/*"BATTLE_RAID_DIALOG_RETIRE_CONF"*/, v19);
    sub_B0D8A4(&StringLiteral_2433/*"BATTLE_DIALOG_RETIRE_ONLY_NPC"*/, v20);
    sub_B0D8A4(&StringLiteral_2432/*"BATTLE_DIALOG_RETIRE_CONF"*/, v21);
    byte_421184D = 1;
  }
  if ( v9 )
  {
    if ( (WORD1(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 0x400) != 0
      && !LocalizationManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
    }
    v22 = &StringLiteral_2434/*"BATTLE_DIALOG_RETIRE_TITLE"*/;
  }
  else
  {
    if ( (WORD1(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 0x400) != 0
      && !LocalizationManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
    }
    v22 = &StringLiteral_2480/*"BATTLE_RAID_DIALOG_RETIRE_TITLE"*/;
  }
  v23 = LocalizationManager__Get((System_String_o *)*v22, 0LL);
  v24 = (System_String_o *)StringLiteral_2432/*"BATTLE_DIALOG_RETIRE_CONF"*/;
  if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !LocalizationManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
  }
  Instance = (BattleData_o *)LocalizationManager__Get(v24, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_54;
  defenceTargetData = data->fields.defenceTargetData;
  v28 = (System_String_o *)Instance;
  if ( defenceTargetData )
  {
    uiId = defenceTargetData->fields.uiId;
    v29 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &uiId);
    Empty = System_String__Format_43845440((System_String_o *)StringLiteral_23721/*"{0}_{1}"*/, (Il2CppObject *)v24, v29, 0LL);
  }
  else
  {
    Empty = string_TypeInfo->static_fields->Empty;
  }
  if ( System_String__IsNullOrEmpty(Empty, 0LL) )
    goto LABEL_24;
  if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !LocalizationManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
  }
  if ( !LocalizationManager__ContainsKey(Empty, 0LL) )
  {
LABEL_24:
    Instance = this->fields.data;
    if ( !Instance )
      goto LABEL_54;
    QuestId = BattleData__getQuestId(Instance, 0LL);
    Instance = (BattleData_o *)j_il2cpp_value_box_0(int_TypeInfo, &QuestId);
    if ( !this->fields.data )
      goto LABEL_54;
    v31 = (Il2CppObject *)Instance;
    Phase = BattleData__getPhase(this->fields.data, 0LL);
    v32 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &Phase);
    Empty = System_String__Format_43850968((System_String_o *)StringLiteral_23723/*"{0}_{1}_{2}"*/, (Il2CppObject *)v24, v31, v32, 0LL);
  }
  v33 = !v9;
  if ( (v33 & 1) != 0 || isFromContinue )
  {
    if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !LocalizationManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
    }
    if ( LocalizationManager__ContainsKey(Empty, 0LL) )
    {
      if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !LocalizationManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
      }
      v28 = LocalizationManager__Get(Empty, 0LL);
    }
  }
  Instance = this->fields.data;
  if ( !Instance )
LABEL_54:
    sub_B0D97C(Instance);
  if ( BattleData__IsDeckNoUserSvt(Instance, 0LL) )
  {
    if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !LocalizationManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
    }
    v34 = LocalizationManager__Get((System_String_o *)StringLiteral_2433/*"BATTLE_DIALOG_RETIRE_ONLY_NPC"*/, 0LL);
LABEL_43:
    v28 = v34;
    goto LABEL_51;
  }
  if ( ((v33 | v8) & 1) != 0 )
  {
    Instance = this->fields.data;
    if ( !Instance )
      goto LABEL_54;
    if ( BattleData__isRaidBattle(Instance, 0LL) )
    {
      if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !LocalizationManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
      }
      v35 = LocalizationManager__Get((System_String_o *)StringLiteral_2479/*"BATTLE_RAID_DIALOG_RETIRE_CONF"*/, 0LL);
      v37 = (Il2CppObject *)BattleLogic__raidBossName(this, v36);
      v34 = System_String__Format(v35, v37, 0LL);
      goto LABEL_43;
    }
  }
LABEL_51:
  Instance = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_ServantAssetLoadManager__get_Instance__);
  if ( !Instance )
    goto LABEL_54;
  ServantAssetLoadManager__EndRetryTransition((ServantAssetLoadManager_o *)Instance, 0LL);
  Instance = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  if ( !Instance )
    goto LABEL_54;
  CommonUI__OpenNotificationDialog_17019096(
    (CommonUI_o *)Instance,
    v23,
    v28,
    callback,
    -1,
    0,
    0,
    0,
    0,
    0,
    0LL,
    0LL,
    0,
    0,
    0LL,
    1,
    0LL,
    0LL,
    0LL,
    0LL);
}


void __fastcall BattleLogic__PlayCurrentBgm(BattleLogic_o *this, float fadeTime, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  System_String_o *CurrentBgmName; // x20
  System_String_o *DefaultBgmName; // x0
  BattlePerformance_o *perf; // x0
  __int64 v15; // x1
  __int64 v16; // x2
  struct BattleData_o *data; // x8
  char v18; // w21
  OverwriteBattleBgmData_o *overwriteBgmData_k__BackingField; // x0
  _BOOL4 v20; // w23
  System_String_o *v21; // x22
  MainBgmPlayArgs_o *v22; // x0
  MainBgmPlayArgs_o *v23; // x20
  __int64 v24; // x1
  __int64 v25; // x2
  BattleData_o *v26; // x21
  BattlePerformance_o *v27; // x8
  int32_t v28; // w19
  SubBgmPlayArgs_array *SubBgmPlayArgsArray; // x21
  BgmPlayArgsGroup_o *v30; // x19
  BattlePerformance_c *klass; // x8
  BattlePerformance_o *v32; // x20
  unsigned __int64 v33; // x10
  int32_t *p_offset; // x11
  __int64 v35; // x0
  __int64 v36; // x20
  __int64 v37; // x8
  unsigned __int64 v38; // x10
  int *v39; // x11
  __int64 v40; // x0
  __int64 v41; // x8
  unsigned __int64 v42; // x10
  int *v43; // x11
  __int64 v44; // x0
  BgmPlayArgs_o *v45; // x21
  __int64 v46; // x0
  __int64 v47; // x8
  unsigned __int64 v48; // x10
  int *v49; // x11
  __int64 v50; // x0
  System_Nullable_float__o fadeTimea; // [xsp+8h] [xbp-48h] BYREF
  __int64 v52; // [xsp+18h] [xbp-38h]
  System_Nullable_float__o p_fadeTimea; // 0:x0.8
  System_Nullable_float__o v54; // 0:x1.8
  System_Nullable_float__o v55; // 0:x2.8
  System_Nullable_float__o v56; // 0:x2.8
  System_Nullable_long__o v57; // 0:x3.16

  if ( (byte_4211835 & 1) == 0 )
  {
    sub_B0D8A4(&BgmManager_TypeInfo, method);
    sub_B0D8A4(&BgmPlayArgsGroup_TypeInfo, v5);
    sub_B0D8A4(&System_IDisposable_TypeInfo, v6);
    sub_B0D8A4(&System_Collections_Generic_IEnumerable_BgmPlayArgs__TypeInfo, v7);
    sub_B0D8A4(&System_Collections_Generic_IEnumerator_BgmPlayArgs__TypeInfo, v8);
    sub_B0D8A4(&System_Collections_IEnumerator_TypeInfo, v9);
    sub_B0D8A4(&MainBgmPlayArgs_TypeInfo, v10);
    sub_B0D8A4(&Method_System_Nullable_float___ctor__, v11);
    byte_4211835 = 1;
  }
  HIDWORD(v52) = 0;
  CurrentBgmName = this->fields._CurrentBgmName;
  DefaultBgmName = BattleLogic__GetDefaultBgmName(this, method);
  perf = (BattlePerformance_o *)System_String__op_Equality(CurrentBgmName, DefaultBgmName, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_53;
  v18 = (char)perf;
  overwriteBgmData_k__BackingField = data->fields._overwriteBgmData_k__BackingField;
  v20 = overwriteBgmData_k__BackingField
     && OverwriteBattleBgmData__get_allowSubBgmPlaying(overwriteBgmData_k__BackingField, 0LL);
  v21 = this->fields._CurrentBgmName;
  v22 = (MainBgmPlayArgs_o *)sub_B0D974(MainBgmPlayArgs_TypeInfo, v15, v16);
  v55 = 0LL;
  v23 = v22;
  MainBgmPlayArgs___ctor(v22, v21, v55, 0.0, 0LL, 0LL);
  if ( v20 | v18 & 1 )
  {
    perf = this->fields.perf;
    if ( !perf )
      goto LABEL_53;
    v26 = this->fields.data;
    perf = (BattlePerformance_o *)BattlePerformance__get_CurrentGroundNo(perf, 0LL);
    v27 = this->fields.perf;
    if ( !v27 )
      goto LABEL_53;
    v28 = (int)perf;
    perf = (BattlePerformance_o *)BattlePerformance__get_CurrentGroundType(v27, 0LL);
    if ( !v26 )
      goto LABEL_53;
    SubBgmPlayArgsArray = BattleData__GetSubBgmPlayArgsArray(v26, v28, (int32_t)perf, 0LL);
  }
  else
  {
    SubBgmPlayArgsArray = 0LL;
  }
  v30 = (BgmPlayArgsGroup_o *)sub_B0D974(BgmPlayArgsGroup_TypeInfo, v24, v25);
  BgmPlayArgsGroup___ctor(v30, v23, (BgmPlayArgs_array *)SubBgmPlayArgsArray, 0LL);
  if ( fadeTime <= 0.0 )
    goto LABEL_48;
  if ( !v30 || (perf = (BattlePerformance_o *)BgmPlayArgsGroup__AllArgsListNullExcluded(v30, 0LL)) == 0LL )
LABEL_53:
    sub_B0D97C(perf);
  klass = perf->klass;
  v32 = perf;
  if ( *(_WORD *)&perf->klass->_2.bitflags1 )
  {
    v33 = 0LL;
    p_offset = &klass->_1.interfaceOffsets->offset;
    while ( *((System_Collections_Generic_IEnumerable_BgmPlayArgs__c **)p_offset - 1) != System_Collections_Generic_IEnumerable_BgmPlayArgs__TypeInfo )
    {
      ++v33;
      p_offset += 4;
      if ( v33 >= *(unsigned __int16 *)&perf->klass->_2.bitflags1 )
        goto LABEL_20;
    }
    v35 = (__int64)(&klass->vtable._0_Equals.method + 2 * *p_offset);
  }
  else
  {
LABEL_20:
    v35 = sub_AA67A0(perf, System_Collections_Generic_IEnumerable_BgmPlayArgs__TypeInfo, 0LL);
  }
  v36 = (*(__int64 (__fastcall **)(BattlePerformance_o *, _QWORD))v35)(v32, *(_QWORD *)(v35 + 8));
  if ( !v36 )
    sub_B0D97C(0LL);
  while ( 1 )
  {
    v37 = *(_QWORD *)v36;
    if ( *(_WORD *)(*(_QWORD *)v36 + 298LL) )
    {
      v38 = 0LL;
      v39 = (int *)(*(_QWORD *)(v37 + 176) + 8LL);
      while ( *((System_Collections_IEnumerator_c **)v39 - 1) != System_Collections_IEnumerator_TypeInfo )
      {
        ++v38;
        v39 += 4;
        if ( v38 >= *(unsigned __int16 *)(*(_QWORD *)v36 + 298LL) )
          goto LABEL_27;
      }
      v40 = v37 + 16LL * *v39 + 312;
    }
    else
    {
LABEL_27:
      v40 = sub_AA67A0(v36, System_Collections_IEnumerator_TypeInfo, 0LL);
    }
    if ( ((*(__int64 (__fastcall **)(__int64, _QWORD))v40)(v36, *(_QWORD *)(v40 + 8)) & 1) == 0 )
      break;
    v41 = *(_QWORD *)v36;
    if ( *(_WORD *)(*(_QWORD *)v36 + 298LL) )
    {
      v42 = 0LL;
      v43 = (int *)(*(_QWORD *)(v41 + 176) + 8LL);
      while ( *((System_Collections_Generic_IEnumerator_BgmPlayArgs__c **)v43 - 1) != System_Collections_Generic_IEnumerator_BgmPlayArgs__TypeInfo )
      {
        ++v42;
        v43 += 4;
        if ( v42 >= *(unsigned __int16 *)(*(_QWORD *)v36 + 298LL) )
          goto LABEL_34;
      }
      v44 = v41 + 16LL * *v43 + 312;
    }
    else
    {
LABEL_34:
      v44 = sub_AA67A0(v36, System_Collections_Generic_IEnumerator_BgmPlayArgs__TypeInfo, 0LL);
    }
    v45 = (BgmPlayArgs_o *)(*(__int64 (__fastcall **)(__int64, _QWORD))v44)(v36, *(_QWORD *)(v44 + 8));
    fadeTimea = 0LL;
    p_fadeTimea = (System_Nullable_float__o)&fadeTimea;
    System_Nullable_float____ctor(
      p_fadeTimea,
      fadeTime,
      (const MethodInfo_2981438 *)Method_System_Nullable_float___ctor__);
    if ( !v45 )
      sub_B0D97C(v46);
    v56 = fadeTimea;
    v54 = 0LL;
    v57.fields.value = 0LL;
    *(_QWORD *)&v57.fields.has_value = 0LL;
    BgmPlayArgs__Update(v45, v54, v56, v57, 0LL);
  }
  v52 = 0x1000000D4LL;
  v47 = *(_QWORD *)v36;
  if ( *(_WORD *)(*(_QWORD *)v36 + 298LL) )
  {
    v48 = 0LL;
    v49 = (int *)(*(_QWORD *)(v47 + 176) + 8LL);
    while ( *((System_IDisposable_c **)v49 - 1) != System_IDisposable_TypeInfo )
    {
      ++v48;
      v49 += 4;
      if ( v48 >= *(unsigned __int16 *)(*(_QWORD *)v36 + 298LL) )
        goto LABEL_43;
    }
    v50 = v47 + 16LL * *v49 + 312;
  }
  else
  {
LABEL_43:
    v50 = sub_AA67A0(v36, System_IDisposable_TypeInfo, 0LL);
  }
  (*(void (__fastcall **)(__int64, _QWORD))v50)(v36, *(_QWORD *)(v50 + 8));
  if ( (_DWORD)v52 == 212 )
    v52 = 212LL;
LABEL_48:
  if ( (BYTE3(BgmManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BgmManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BgmManager_TypeInfo);
  BgmManager__PlayBgm_23846644(v30, 0LL, 0LL);
}


void __fastcall BattleLogic__PreLoadSummonServant(
        BattleLogic_o *this,
        BattleActionData_SummonServant_array *summonServantArray,
        System_Collections_Generic_List_BattleLogic_SummonInfo__o *summonInfoList,
        const MethodInfo *method)
{
  BattleLogic_o *v6; // x21
  signed int max_length; // w8
  unsigned int v8; // w24
  BattleActionData_SummonServant_o *v9; // x26
  BattleLogic_o *v10; // x22
  struct BattleData_o *data; // x8
  unsigned __int64 v12; // x23
  struct System_Int32_array *e_entryid; // x8
  unsigned __int64 v14; // x9
  int32_t unloadUniqueId; // w1
  __int64 v16; // x0
  BattleLogic_SummonInfo_o v17; // 0:x1.8

  v6 = this;
  if ( (byte_42118D3 & 1) == 0 )
  {
    this = (BattleLogic_o *)sub_B0D8A4(
                              &Method_System_Collections_Generic_List_BattleLogic_SummonInfo__Add__,
                              summonServantArray);
    byte_42118D3 = 1;
  }
  if ( !summonServantArray )
    goto LABEL_26;
  max_length = summonServantArray->max_length;
  if ( max_length >= 1 )
  {
    v8 = 0;
    while ( 1 )
    {
      if ( v8 >= max_length )
      {
LABEL_27:
        v16 = sub_B0D9A8(this);
        sub_B0D948(v16, 0LL);
      }
      v9 = summonServantArray->m_Items[v8];
      if ( !v9 )
        break;
      this = (BattleLogic_o *)v6->fields.data;
      if ( !this )
        break;
      this = (BattleLogic_o *)BattleData__getServantData((BattleData_o *)this, v9->fields.uniqueId, 0LL);
      if ( !v6->fields.perf )
        break;
      v10 = this;
      BattlePerformance__preLoadServantSet(v6->fields.perf, (BattleServantData_o *)this, 0LL);
      data = v6->fields.data;
      if ( !data )
        break;
      v12 = 0LL;
      while ( 1 )
      {
        e_entryid = data->fields.e_entryid;
        if ( !e_entryid )
          goto LABEL_26;
        v14 = e_entryid->max_length;
        if ( (__int64)v12 >= (int)v14 )
          break;
        if ( !v10 )
          goto LABEL_26;
        if ( v12 >= v14 )
          goto LABEL_27;
        if ( LODWORD(v10->fields.fsm) == e_entryid->m_Items[v12 + 1] )
        {
          if ( !summonInfoList )
            goto LABEL_26;
          v17 = (BattleLogic_SummonInfo_o)(v12 | ((unsigned __int64)v9->fields.isEffectSummon << 32));
          System_Collections_Generic_List_BattleLogic_SummonInfo___Add(
            summonInfoList,
            v17,
            (const MethodInfo_2EEA9F4 *)Method_System_Collections_Generic_List_BattleLogic_SummonInfo__Add__);
          unloadUniqueId = v9->fields.unloadUniqueId;
          if ( unloadUniqueId != -1 )
          {
            this = (BattleLogic_o *)v6->fields.data;
            if ( !this )
              goto LABEL_26;
            this = (BattleLogic_o *)BattleData__getServantData((BattleData_o *)this, unloadUniqueId, 0LL);
            if ( !v6->fields.perf )
              goto LABEL_26;
            BattlePerformance__unloadDeckActor(v6->fields.perf, v12, (BattleServantData_o *)this, 0LL);
          }
        }
        data = v6->fields.data;
        ++v12;
        if ( !data )
          goto LABEL_26;
      }
      max_length = summonServantArray->max_length;
      if ( (int)++v8 >= max_length )
        return;
    }
LABEL_26:
    sub_B0D97C(this);
  }
}


void __fastcall BattleLogic__PreloadAndEntryServant(
        BattleLogic_o *this,
        int32_t deckIndex,
        BattleServantData_o *subdata,
        int32_t repopOrder,
        const MethodInfo *method)
{
  BattleData_o *data; // x0

  data = this->fields.data;
  if ( !data
    || (data = (BattleData_o *)BattleData__SetEntry(data, subdata, deckIndex, 0LL), !subdata)
    || (subdata->fields.repopOrder = repopOrder,
        subdata->fields.isBuffProgressFlg = 1,
        (data = (BattleData_o *)this->fields.perf) == 0LL) )
  {
    sub_B0D97C(data);
  }
  BattlePerformance__preLoadServantSet((BattlePerformance_o *)data, subdata, 0LL);
}


BattleActionData_o *__fastcall BattleLogic__PrevReturnCreateActionData(
        BattleLogic_o *this,
        BattleActionData_o *resActData,
        BattleActionData_o *baseActData,
        const MethodInfo *method)
{
  BattleActionData_o *v5; // x20
  BattleLogic_o *v6; // x21
  __int64 v7; // x1
  __int64 v8; // x2

  v5 = resActData;
  v6 = this;
  if ( (byte_42118D5 & 1) == 0 )
  {
    this = (BattleLogic_o *)sub_B0D8A4(&UpdateViewIntervalBuffActionData_TypeInfo, resActData);
    byte_42118D5 = 1;
  }
  if ( !baseActData )
    sub_B0D97C(this);
  ((void (__fastcall *)(BattleActionData_o *, struct BattleData_o *, Il2CppMethodPointer, const MethodInfo *))baseActData->klass->vtable._8_FixDisplayWaitingIntervalBuff.method)(
    baseActData,
    v6->fields.data,
    baseActData->klass->vtable._9_ExecAction.methodPtr,
    method);
  if ( !v5 )
  {
    if ( (((__int64 (__fastcall *)(BattleActionData_o *, Il2CppMethodPointer))baseActData->klass->vtable._5_get_ExistUpdateIntervalBuff.method)(
            baseActData,
            baseActData->klass->vtable._6_UpdateIntervalBuff.methodPtr) & 1) != 0 )
    {
      v5 = (BattleActionData_o *)sub_B0D974(UpdateViewIntervalBuffActionData_TypeInfo, v7, v8);
      UpdateViewIntervalBuffActionData___ctor((UpdateViewIntervalBuffActionData_o *)v5, baseActData, 0LL);
    }
    else
    {
      return 0LL;
    }
  }
  return v5;
}


void __fastcall BattleLogic__ProcWaveRestart(BattleLogic_o *this, const MethodInfo *method)
{
  PlayMakerFSM_o *fsm; // x0

  if ( (byte_42118E7 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_10556/*"PROC_WAVE_RESTART"*/, method);
    byte_42118E7 = 1;
  }
  fsm = this->fields.fsm;
  if ( !fsm )
    sub_B0D97C(0LL);
  PlayMakerFSM__SendEvent(fsm, (System_String_o *)StringLiteral_10556/*"PROC_WAVE_RESTART"*/, 0LL);
}


void __fastcall BattleLogic__ProgressIntervalTurn(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  PlayMakerFSM_o *data; // x0
  BattleLogicTask_array *v6; // x20
  __int64 v7; // x1
  __int64 v8; // x2
  BattleLogicTask_o *v9; // x21
  __int64 v10; // x0
  const MethodInfo *v11; // x3
  System_Collections_IEnumerator_o *v12; // x1
  __int64 v13; // x0
  __int64 v14; // x0

  if ( (byte_42118E1 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask___TypeInfo, method);
    sub_B0D8A4(&BattleLogicTask_TypeInfo, v3);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v4);
    byte_42118E1 = 1;
  }
  data = (PlayMakerFSM_o *)this->fields.data;
  if ( !data )
    goto LABEL_13;
  if ( !BattleData__checkProgressflg((BattleData_o *)data, 0x10000, 0LL) )
  {
    data = this->fields.fsm;
    if ( data )
    {
      PlayMakerFSM__SendEvent(data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
      return;
    }
LABEL_13:
    sub_B0D97C(data);
  }
  data = (PlayMakerFSM_o *)this->fields.data;
  if ( !data )
    goto LABEL_13;
  BattleData__offProgressflg((BattleData_o *)data, 0x10000, 0LL);
  v6 = (BattleLogicTask_array *)sub_B0D8BC(BattleLogicTask___TypeInfo, 1LL);
  v9 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v7, v8);
  BattleLogicTask___ctor(v9, 0LL);
  if ( !v9 )
    goto LABEL_13;
  v9->fields.actiontype = 65;
  if ( !v6 )
    goto LABEL_13;
  v10 = sub_B0D964(v9, v6->obj.klass->_1.element_class);
  if ( !v10 )
  {
    v13 = sub_B0D99C();
    sub_B0D948(v13, 0LL);
  }
  if ( !v6->max_length )
  {
    v14 = sub_B0D9A8(v10);
    sub_B0D948(v14, 0LL);
  }
  v6->m_Items[0] = v9;
  sub_B0D840(v6->m_Items, v9);
  v12 = BattleLogic__waitWaveStep(this, v6, 0x10000, v11);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v12, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__RemoveDeadAttackCommand(
        BattleLogic_o *this,
        int32_t targetUniqueId,
        const MethodInfo *method)
{
  struct System_Collections_Generic_Dictionary_int__BattleCommandData__o *deadAttackCommandDictionary; // x0

  if ( (byte_421182F & 1) == 0 )
  {
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_int__BattleCommandData__Remove__,
      *(_QWORD *)&targetUniqueId);
    byte_421182F = 1;
  }
  if ( !BasicHelper__IsNullOrEmpty((System_Collections_ICollection_o *)this->fields.deadAttackCommandDictionary, 0LL) )
  {
    deadAttackCommandDictionary = this->fields.deadAttackCommandDictionary;
    if ( !deadAttackCommandDictionary )
      sub_B0D97C(0LL);
    System_Collections_Generic_Dictionary_int__WarBoardAIRoute_PiecePersonality___Remove(
      (System_Collections_Generic_Dictionary_int__WarBoardAIRoute_PiecePersonality__o *)deadAttackCommandDictionary,
      targetUniqueId,
      (const MethodInfo_2E91E04 *)Method_System_Collections_Generic_Dictionary_int__BattleCommandData__Remove__);
  }
}


void __fastcall BattleLogic__RemoveLoadingIcon(BattleLogic_o *this, const MethodInfo *method)
{
  CommonUI_o *Instance; // x0

  if ( (byte_42118E4 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, method);
    byte_42118E4 = 1;
  }
  Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  if ( !Instance )
    sub_B0D97C(0LL);
  CommonUI__SetLoadMode(Instance, 0, 0LL);
}


void __fastcall BattleLogic__ResetEffectTimeScale(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  perf = this->fields.perf;
  if ( !perf )
    sub_B0D97C(0LL);
  BattlePerformance__SetTimeScale(perf, this->fields.prevEffectTimeScale, 0LL);
}


void __fastcall BattleLogic__ResetPartActiontTimeAcceleration(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  perf = this->fields.perf;
  if ( !perf )
    sub_B0D97C(0LL);
  BattlePerformance__SetTimeScale(perf, this->fields.prevPartActiontScaleTime, 0LL);
}


void __fastcall BattleLogic__ResetWaveMovieFlag(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattlePerformance_o *perf; // x8
  struct BattlePerformance_o *v3; // x8

  perf = this->fields.perf;
  if ( !perf
    || (perf->fields.waitMovieEnd = 0, (v3 = this->fields.perf) == 0LL)
    || (v3->fields.isMovieRebootSkip = 0, (this = (BattleLogic_o *)this->fields.data) == 0LL) )
  {
    sub_B0D97C(this);
  }
  BattleData__DeleteResumeCheckPlayedMovieSaveKey((BattleData_o *)this, 0LL);
}


void __fastcall BattleLogic__SaveCutinFirstIdList(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x4
  BattleLogic_c *v4; // x0

  if ( (byte_4211853 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, method);
    byte_4211853 = 1;
  }
  v4 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v4 = BattleLogic_TypeInfo;
  }
  BattleLogic__SaveEncryptedPlayerPrefsIdList(
    this,
    v4->static_fields->CUTIN_FIRST_ID_LIST_KEY,
    this->fields.cutinFirstIdList,
    this->fields.cutinFirstIdListThisTurn,
    v2);
}


void __fastcall BattleLogic__SaveEffectFirstIdList(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x4
  BattleLogic_c *v4; // x0

  if ( (byte_42118DB & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, method);
    byte_42118DB = 1;
  }
  v4 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v4 = BattleLogic_TypeInfo;
  }
  BattleLogic__SaveEncryptedPlayerPrefsIdList(
    this,
    v4->static_fields->EFFECT_FIRST_ID_LIST_KEY,
    this->fields.effectFirstIdList,
    this->fields.effectFirstIdListThisTurn,
    v2);
}


void __fastcall BattleLogic__SaveEncryptedPlayerPrefsIdList(
        BattleLogic_o *this,
        System_String_o *key,
        System_Collections_Generic_List_int__o *idList,
        System_Collections_Generic_List_int__o *thisTurnList,
        const MethodInfo *method)
{
  System_Collections_Generic_List_int__o *EncryptedPlayerPrefsIdList; // x21
  BattleLogic_o *v8; // x22
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  _BOOL8 v19; // x0
  int32_t current; // w22
  __int64 v21; // x1
  __int64 v22; // x2
  System_Text_StringBuilder_o *v23; // x22
  _BOOL8 v24; // x0
  int v25; // w21
  int32_t Length; // w0
  System_String_o *v27; // x21
  System_Collections_Generic_List_Enumerator_int__o v28; // [xsp+8h] [xbp-88h] BYREF
  int v29[2]; // [xsp+20h] [xbp-70h]
  int v30; // [xsp+28h] [xbp-68h]
  System_Collections_Generic_List_Enumerator_int__o v31; // [xsp+30h] [xbp-60h] BYREF

  EncryptedPlayerPrefsIdList = idList;
  v8 = this;
  if ( (byte_42118EA & 1) == 0 )
  {
    sub_B0D8A4(&EncryptedPlayerPrefs_TypeInfo, key);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__Dispose__, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__MoveNext__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__get_Current__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Add__, v12);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Clear__, v13);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Contains__, v14);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__GetEnumerator__, v15);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__get_Count__, v16);
    sub_B0D8A4(&System_Text_StringBuilder_TypeInfo, v17);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_705/*","*/, v18);
    byte_42118EA = 1;
  }
  memset(&v31, 0, sizeof(v31));
  v30 = 0;
  if ( !thisTurnList )
    goto LABEL_30;
  if ( !thisTurnList->fields._size )
    return;
  if ( !v8->fields.effectFirstIdList )
    EncryptedPlayerPrefsIdList = BattleLogic__LoadEncryptedPlayerPrefsIdList(this, key, (const MethodInfo *)idList);
  System_Collections_Generic_List_int___GetEnumerator(
    (System_Collections_Generic_List_Enumerator_T__o *)&v28,
    thisTurnList,
    (const MethodInfo_2FB0D44 *)Method_System_Collections_Generic_List_int__GetEnumerator__);
  v31 = v28;
  while ( 1 )
  {
    v19 = System_Collections_Generic_List_Enumerator_int___MoveNext(
            &v31,
            (const MethodInfo_210FFE4 *)Method_System_Collections_Generic_List_Enumerator_int__MoveNext__);
    if ( !v19 )
      break;
    if ( !EncryptedPlayerPrefsIdList )
      sub_B0D97C(v19);
    current = v31.fields.current;
    if ( !System_Collections_Generic_List_int___Contains(
            EncryptedPlayerPrefsIdList,
            v31.fields.current,
            (const MethodInfo_2FB0354 *)Method_System_Collections_Generic_List_int__Contains__) )
      System_Collections_Generic_List_int___Add(
        EncryptedPlayerPrefsIdList,
        current,
        (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
  }
  v29[0] = 84;
  v30 = 1;
  System_Collections_Generic_List_Enumerator_int___Dispose(
    &v31,
    (const MethodInfo_210FFE0 *)Method_System_Collections_Generic_List_Enumerator_int__Dispose__);
  v30 = 0;
  v23 = (System_Text_StringBuilder_o *)sub_B0D974(System_Text_StringBuilder_TypeInfo, v21, v22);
  System_Text_StringBuilder___ctor(v23, 0LL);
  if ( !EncryptedPlayerPrefsIdList )
    goto LABEL_30;
  System_Collections_Generic_List_int___GetEnumerator(
    (System_Collections_Generic_List_Enumerator_T__o *)&v28,
    EncryptedPlayerPrefsIdList,
    (const MethodInfo_2FB0D44 *)Method_System_Collections_Generic_List_int__GetEnumerator__);
  v31 = v28;
  while ( 1 )
  {
    v24 = System_Collections_Generic_List_Enumerator_int___MoveNext(
            &v31,
            (const MethodInfo_210FFE4 *)Method_System_Collections_Generic_List_Enumerator_int__MoveNext__);
    if ( !v24 )
      break;
    if ( !v23 )
      sub_B0D97C(v24);
    System_Text_StringBuilder__Append_42158740(v23, v31.fields.current, 0LL);
    System_Text_StringBuilder__Append_42155400(v23, (System_String_o *)StringLiteral_705/*","*/, 0LL);
  }
  v29[0] = 152;
  v25 = ++v30;
  System_Collections_Generic_List_Enumerator_int___Dispose(
    &v31,
    (const MethodInfo_210FFE0 *)Method_System_Collections_Generic_List_Enumerator_int__Dispose__);
  if ( v25 && v29[v25 - 1] == 152 )
    v30 = v25 - 1;
  if ( !v23 )
LABEL_30:
    sub_B0D97C(this);
  if ( System_Text_StringBuilder__get_Length(v23, 0LL) >= 1 )
  {
    Length = System_Text_StringBuilder__get_Length(v23, 0LL);
    System_Text_StringBuilder__Remove(v23, Length - 1, 1, 0LL);
  }
  v27 = (System_String_o *)((__int64 (__fastcall *)(System_Text_StringBuilder_o *, Il2CppMethodPointer))v23->klass->vtable._3_ToString.method)(
                             v23,
                             v23->klass->vtable._4_System_Runtime_Serialization_ISerializable_GetObjectData.methodPtr);
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__SetString(key, v27, 0LL);
  System_Collections_Generic_List_int___Clear(
    thisTurnList,
    (const MethodInfo_2FB030C *)Method_System_Collections_Generic_List_int__Clear__);
}


void __fastcall BattleLogic__SavePartActiontTimeAcceleration(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  BattlePerformance_o *Master_WarQuestSelectionMaster; // x0
  float timeScale; // s0
  _BOOL4 isEnableSkipAssistSkill; // w8
  struct BattlePerformance_o *perf; // x8
  struct BattleActionData_o *nowAction; // x20
  struct BattleSkillInfoData_o *skillInfo; // x8
  DataMasterBase_WarMaster__WarEntity__int__o *v11; // x20
  SkillEntity_o *Entity; // x0
  SkillEntity_o *v13; // x20
  int32_t CutinFirstId; // w0
  const MethodInfo *v15; // x2

  if ( (byte_4211851 & 1) == 0 )
  {
    sub_B0D8A4(&Method_DataManager_GetMaster_SkillMaster___, method);
    sub_B0D8A4(&DataManager_TypeInfo, v3);
    sub_B0D8A4(&Method_DataMasterBase_SkillMaster__SkillEntity__int__GetEntity__, v4);
    byte_4211851 = 1;
  }
  timeScale = UnityEngine_Time__get_timeScale(0LL);
  isEnableSkipAssistSkill = this->fields.isEnableSkipAssistSkill;
  this->fields.prevPartActiontScaleTime = timeScale;
  if ( isEnableSkipAssistSkill )
  {
    this->fields.isEnableSkipAssistSkill = 0;
    return;
  }
  perf = this->fields.perf;
  if ( !perf )
LABEL_20:
    sub_B0D97C(Master_WarQuestSelectionMaster);
  nowAction = perf->fields.nowAction;
  if ( !nowAction || !nowAction->fields.skillInfo )
    goto LABEL_18;
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = (BattlePerformance_o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_1714548 *)Method_DataManager_GetMaster_SkillMaster___);
  skillInfo = nowAction->fields.skillInfo;
  if ( !skillInfo )
    goto LABEL_20;
  v11 = (DataMasterBase_WarMaster__WarEntity__int__o *)Master_WarQuestSelectionMaster;
  Master_WarQuestSelectionMaster = (BattlePerformance_o *)((__int64 (__fastcall *)(struct BattleSkillInfoData_o *, Il2CppMethodPointer))skillInfo->klass->vtable._5_get_skillId.method)(
                                                            skillInfo,
                                                            skillInfo->klass->vtable._6_get_IndividualityArray.methodPtr);
  if ( !v11 )
    goto LABEL_20;
  Entity = (SkillEntity_o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                              v11,
                              (int32_t)Master_WarQuestSelectionMaster,
                              (const MethodInfo_2669BD4 *)Method_DataMasterBase_SkillMaster__SkillEntity__int__GetEntity__);
  if ( !Entity
    || (v13 = Entity, !SkillEntity__getSkillCutInId(Entity, 0LL))
    || (CutinFirstId = SkillEntity__GetCutinFirstId(v13, 0LL)) == 0
    || BattleLogic__CheckCutinFirstId(this, CutinFirstId, v15) )
  {
LABEL_18:
    Master_WarQuestSelectionMaster = this->fields.perf;
    if ( Master_WarQuestSelectionMaster )
    {
      BattlePerformance__SetTimeScale(Master_WarQuestSelectionMaster, 1.0, 0LL);
      return;
    }
    goto LABEL_20;
  }
}


void __fastcall BattleLogic__SendFsmEventForPreCheckEndBattle(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  BattleData_o *data; // x0
  char v5; // w20
  struct BattleData_o *v6; // x8
  __int64 *v7; // x8

  if ( (byte_42118DD & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, method);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v3);
    byte_42118DD = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_12;
  data = (BattleData_o *)BattleData__checkProgressflg(data, 2048, 0LL);
  if ( !this->fields.data )
    goto LABEL_12;
  v5 = (char)data;
  BattleData__offProgressflg(this->fields.data, 2048, 0LL);
  v6 = this->fields.data;
  if ( !v6 )
    goto LABEL_12;
  data = (BattleData_o *)this->fields.fsm;
  if ( v6->fields.initturn != 1 || (v5 & 1) == 0 )
  {
    if ( data )
    {
      v7 = &StringLiteral_12295/*"SKIP"*/;
      goto LABEL_11;
    }
LABEL_12:
    sub_B0D97C(data);
  }
  if ( !data )
    goto LABEL_12;
  v7 = &StringLiteral_5512/*"END_PROC"*/;
LABEL_11:
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)*v7, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__SetEffectFirstTimeScale(BattleLogic_o *this, int32_t effectId, const MethodInfo *method)
{
  const MethodInfo *v5; // x5
  BattleLogic_c *v6; // x0
  BattlePerformance_o *perf; // x0

  if ( (byte_42118DA & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, *(_QWORD *)&effectId);
    byte_42118DA = 1;
  }
  this->fields.prevEffectTimeScale = UnityEngine_Time__get_timeScale(0LL);
  v6 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v6 = BattleLogic_TypeInfo;
  }
  if ( BattleLogic__IsFirstTimeId(
         this,
         v6->static_fields->EFFECT_FIRST_ID_LIST_KEY,
         effectId,
         this->fields.effectFirstIdList,
         this->fields.effectFirstIdListThisTurn,
         v5) )
  {
    perf = this->fields.perf;
    if ( !perf )
      sub_B0D97C(0LL);
    BattlePerformance__SetTimeScale(perf, 1.0, 0LL);
  }
}


void __fastcall BattleLogic__SetFirstDisplayTriggerIntervalBuffArray(
        BattleLogic_o *this,
        bool *isFirstAdd,
        BattleServantData_o *svtData,
        BattleBuffData_BuffData_array *buffArray,
        BattleLogicTask_array *invokeTasks,
        const MethodInfo *method)
{
  BattleLogicTask_o *IsNullOrEmpty; // x0
  __int64 v11; // x0

  if ( *isFirstAdd )
  {
    IsNullOrEmpty = (BattleLogicTask_o *)BasicHelper__IsNullOrEmpty(
                                           (System_Collections_ICollection_o *)invokeTasks,
                                           0LL);
    if ( ((unsigned __int8)IsNullOrEmpty & 1) == 0 )
    {
      *isFirstAdd = 0;
      if ( !invokeTasks )
        goto LABEL_8;
      if ( !invokeTasks->max_length )
      {
        v11 = sub_B0D9A8(IsNullOrEmpty);
        sub_B0D948(v11, 0LL);
      }
      IsNullOrEmpty = invokeTasks->m_Items[0];
      if ( !IsNullOrEmpty )
LABEL_8:
        sub_B0D97C(IsNullOrEmpty);
      BattleLogicTask__SetDisplayTriggerIntervalBuff(IsNullOrEmpty, svtData, buffArray, 0LL);
    }
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__SetTimeAccelerationCheckDelayReset(
        BattleLogic_o *this,
        bool skip,
        const MethodInfo *method)
{
  const MethodInfo *v5; // x2
  const MethodInfo *v6; // x1

  if ( (byte_421184E & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_6766/*"ForceResetTimeAcceleration"*/, skip);
    byte_421184E = 1;
  }
  if ( UnityEngine_MonoBehaviour__IsInvoking_34929536(
         (UnityEngine_MonoBehaviour_o *)this,
         (System_String_o *)StringLiteral_6766/*"ForceResetTimeAcceleration"*/,
         0LL) )
  {
    UnityEngine_MonoBehaviour__CancelInvoke_34929376(
      (UnityEngine_MonoBehaviour_o *)this,
      (System_String_o *)StringLiteral_6766/*"ForceResetTimeAcceleration"*/,
      0LL);
    BattleLogic__ForceResetTimeAcceleration(this, v6);
  }
  BattleLogic__setTimeAcceleration(this, skip, v5);
}


void __fastcall BattleLogic__SetTimeAccelerationDifferent(BattleLogic_o *this, bool skip, const MethodInfo *method)
{
  float timeScale; // s0
  BattleData_o *data; // x0
  const MethodInfo *v7; // x2

  timeScale = UnityEngine_Time__get_timeScale(0LL);
  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  if ( timeScale != BattleData__get_AccelSystemTimeScale(data, 0LL) )
    BattleLogic__setTimeAcceleration(this, skip, v7);
}


void __fastcall BattleLogic__SetTimeAccelerationFirst(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0
  float timeScale; // s0

  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_8;
  perf = (BattlePerformance_o *)BattlePerformance__get_MotionSkipManager(perf, 0LL);
  if ( !perf )
    goto LABEL_8;
  perf = (BattlePerformance_o *)BattleMotionSkipManager__get_Current((BattleMotionSkipManager_o *)perf, 0LL);
  if ( !perf )
    goto LABEL_8;
  ((void (__fastcall *)(BattlePerformance_o *, Il2CppClass *))perf->klass[1]._1.castClass)(
    perf,
    perf->klass[1]._1.declaringType);
  if ( this->fields.prevFirstScaleTime == 0.0 || UnityEngine_Time__get_timeScale(0LL) != 1.0 )
  {
    timeScale = UnityEngine_Time__get_timeScale(0LL);
    perf = this->fields.perf;
    this->fields.prevFirstScaleTime = timeScale;
    if ( perf )
    {
      BattlePerformance__SetTimeScale(perf, 1.0, 0LL);
      return;
    }
LABEL_8:
    sub_B0D97C(perf);
  }
}


void __fastcall BattleLogic__SetTimeAccelerationFix(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  void *Instance; // x0
  UnityEngine_Object_o *v6; // x20
  const MethodInfo *v7; // x2
  _QWORD *v8; // x20
  BattlePerformance_o *perf; // x8
  float v10; // s0

  if ( (byte_4211850 & 1) == 0 )
  {
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_BattleActorControl___, method);
    sub_B0D8A4(&UnityEngine_Object_TypeInfo, v3);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__, v4);
    byte_4211850 = 1;
  }
  this->fields.prevFixScaleTime = UnityEngine_Time__get_timeScale(0LL);
  Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
  if ( !Instance )
    goto LABEL_20;
  v6 = (UnityEngine_Object_o *)*((_QWORD *)Instance + 11);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  if ( !UnityEngine_Object__op_Inequality(v6, 0LL, 0LL) )
    goto LABEL_17;
  Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
  if ( !Instance
    || (Instance = (void *)*((_QWORD *)Instance + 11)) == 0LL
    || (Instance = UnityEngine_GameObject__GetComponent_srcLineSprite_(
                     (UnityEngine_GameObject_o *)Instance,
                     (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_BattleActorControl___)) == 0LL
    || (v8 = Instance, (Instance = (void *)*((_QWORD *)Instance + 55)) == 0LL) )
  {
LABEL_20:
    sub_B0D97C(Instance);
  }
  if ( !BattleServantData__IsNpEffectSpeedFix((BattleServantData_o *)Instance, 0LL) )
  {
LABEL_17:
    BattleLogic__setTimeAcceleration(this, 0, v7);
    return;
  }
  Instance = (void *)v8[55];
  if ( !Instance )
    goto LABEL_20;
  Instance = (void *)BattleServantData__IsNpDoubleSpeed((BattleServantData_o *)Instance, 0LL);
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_20;
  if ( ((unsigned __int8)Instance & 1) != 0 )
    v10 = 2.0;
  else
    v10 = 1.0;
  BattlePerformance__SetTimeScale(perf, v10, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__SkipCommandSpellRequest(
        BattleLogic_o *this,
        int32_t commandSpellId,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  void *Instance; // x0

  if ( (byte_42118DE & 1) == 0 )
  {
    sub_B0D8A4(&BattleData_TypeInfo, *(_QWORD *)&commandSpellId);
    sub_B0D8A4(&Method_DataManager_GetMasterData_CommandSpellMaster___, v5);
    sub_B0D8A4(&Method_DataMasterBase_CommandSpellMaster__CommandSpellEntity__int__GetEntity__, v6);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v7);
    sub_B0D8A4(&StringLiteral_9768/*"OK"*/, v8);
    byte_42118DE = 1;
  }
  Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_12;
  Instance = DataManager__GetMasterData_WarQuestSelectionMaster_(
               (DataManager_o *)Instance,
               (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_CommandSpellMaster___);
  if ( !Instance )
    goto LABEL_12;
  Instance = DataMasterBase_WarMaster__WarEntity__int___GetEntity(
               (DataMasterBase_WarMaster__WarEntity__int__o *)Instance,
               commandSpellId,
               (const MethodInfo_2669BD4 *)Method_DataMasterBase_CommandSpellMaster__CommandSpellEntity__int__GetEntity__);
  if ( !Instance || !this->fields.data )
    goto LABEL_12;
  BattleData__LossTemporaryCommandSpell(this->fields.data, *((_DWORD *)Instance + 5), 0LL);
  this->fields.connCammdSpellRetryFlg = 0;
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  BattleData__setCommandSpellIdBattle(0, 0, 0LL);
  BattleData__setContinueBattleFlg(0, 1, 0LL);
  Instance = this->fields.fsm;
  if ( !Instance )
LABEL_12:
    sub_B0D97C(Instance);
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)Instance, (System_String_o *)StringLiteral_9768/*"OK"*/, 0LL);
}


void __fastcall BattleLogic__StartContinueWaveRestart(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *data; // x0

  if ( (byte_42118E5 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_9324/*"NG"*/, method);
    byte_42118E5 = 1;
  }
  data = (BattlePerformance_o *)this->fields.data;
  if ( !data )
    goto LABEL_11;
  if ( BattleData__IsContinueWaveRestart((BattleData_o *)data, 0LL) )
  {
    data = (BattlePerformance_o *)this->fields.data;
    if ( !data )
      goto LABEL_11;
    if ( BattleData__HasWaveRestartData((BattleData_o *)data, 0LL) )
    {
      data = this->fields.perf;
      if ( data )
      {
        BattlePerformance__StartContinueWaveRestart(data, 0LL);
        return;
      }
LABEL_11:
      sub_B0D97C(data);
    }
  }
  data = (BattlePerformance_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_11;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_9324/*"NG"*/, 0LL);
}


void __fastcall BattleLogic__StartEnemyCommandSpellEffect(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  Il2CppObject *v3; // x19
  __int64 v4; // x1
  __int64 v5; // x1
  Il2CppClass *klass; // x8
  Il2CppRuntimeInterfaceOffsetPair *interfaceOffsets; // x8
  System_String_o *CommandSpellAssetName; // x20
  __int64 v9; // x1
  __int64 v10; // x2
  AssetLoader_LoadEndDataHandler_o *v11; // x21

  v3 = (Il2CppObject *)this;
  if ( (byte_42118A7 & 1) == 0 )
  {
    sub_B0D8A4(&AssetManager_TypeInfo, method);
    sub_B0D8A4(&Method_BattleLogic_endLoadEnemyCommandSpell__, v4);
    this = (BattleLogic_o *)sub_B0D8A4(&AssetLoader_LoadEndDataHandler_TypeInfo, v5);
    byte_42118A7 = 1;
  }
  klass = v3[2].klass;
  if ( !klass || (interfaceOffsets = klass->_1.interfaceOffsets) == 0LL )
    sub_B0D97C(this);
  CommandSpellAssetName = BattleLogic__GetCommandSpellAssetName(this, *(&interfaceOffsets[1].offset + 1), v2);
  v11 = (AssetLoader_LoadEndDataHandler_o *)sub_B0D974(AssetLoader_LoadEndDataHandler_TypeInfo, v9, v10);
  AssetLoader_LoadEndDataHandler___ctor(v11, v3, Method_BattleLogic_endLoadEnemyCommandSpell__, 0LL);
  if ( (BYTE3(AssetManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !AssetManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(AssetManager_TypeInfo);
  AssetManager__loadAssetStorage(CommandSpellAssetName, v11, 1, 0LL);
}


void __fastcall BattleLogic__StartResultRequest(
        BattleLogic_o *this,
        System_String_o *endEvent,
        const MethodInfo *method)
{
  BattleLogic_o *v3; // x19
  __int64 v4; // x1
  __int64 v5; // x1
  struct BattleData_o *data; // x8
  struct BattleEntity_o *battle_ent; // x8
  int32_t questId; // w20

  v3 = this;
  if ( (byte_4211845 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_AdManager__get_Instance__, endEvent);
    sub_B0D8A4(&StringLiteral_13572/*"TUTORIAL_QUEST_ID1"*/, v4);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v5);
    byte_4211845 = 1;
  }
  data = v3->fields.data;
  if ( !data )
    goto LABEL_10;
  battle_ent = data->fields.battle_ent;
  if ( !battle_ent )
    goto LABEL_10;
  questId = battle_ent->fields.questId;
  if ( questId == ConstantMaster__getValue((System_String_o *)StringLiteral_13572/*"TUTORIAL_QUEST_ID1"*/, 0LL) )
  {
    this = (BattleLogic_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_AdManager__get_Instance__);
    if ( !this )
      goto LABEL_10;
    AdManager__TrackEvent((AdManager_o *)this, 2, 4, -1, -1, 0LL, 0LL);
  }
  this = (BattleLogic_o *)v3->fields.fsm;
  if ( !this )
LABEL_10:
    sub_B0D97C(this);
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


void __fastcall BattleLogic__StartShowResult(BattleLogic_o *this, System_String_o *endEvent, const MethodInfo *method)
{
  BattleData_o *data; // x0
  struct BattleData_o *v6; // x8
  const MethodInfo *v7; // x3
  BattlePerformance_o *perf; // x21
  System_String_o *resultstring; // x22
  System_Collections_IEnumerator_o *v10; // x1

  data = this->fields.data;
  if ( !data )
    goto LABEL_17;
  data = (BattleData_o *)BattleData__isTutorial(data, 0LL);
  v6 = this->fields.data;
  if ( ((unsigned __int8)data & 1) == 0 )
  {
    if ( !v6 )
      goto LABEL_17;
LABEL_7:
    if ( !BattleData__isResultWin(this->fields.data, 0LL) )
    {
      data = this->fields.data;
      if ( !data )
        goto LABEL_17;
      if ( !BattleData__isDispLoseResult(data, 0LL) )
      {
        if ( BattleLogic__CheckEventDataLostBattle(this, this->fields.resultstring, endEvent, v7) )
          return;
        goto LABEL_15;
      }
    }
    data = (BattleData_o *)this->fields.perf;
    if ( data )
    {
      BattlePerformance__resetPopObject((BattlePerformance_o *)data, 0LL);
      perf = this->fields.perf;
      resultstring = this->fields.resultstring;
      data = (BattleData_o *)UnityEngine_Component__get_gameObject((UnityEngine_Component_o *)this, 0LL);
      if ( perf )
      {
        BattlePerformance__setResultData(perf, resultstring, (UnityEngine_GameObject_o *)data, endEvent, 0LL);
        data = (BattleData_o *)this->fields.perf;
        if ( data )
        {
          v10 = BattlePerformance__showBattleResultWait((BattlePerformance_o *)data, 0LL);
          UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v10, 0LL);
          return;
        }
      }
    }
LABEL_17:
    sub_B0D97C(data);
  }
  if ( !v6 )
    goto LABEL_17;
  if ( v6->fields.tutorialId != 1 )
    goto LABEL_7;
LABEL_15:
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_17;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, endEvent, 0LL);
}


void __fastcall BattleLogic__TurnStartFunction(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x2
  BattleLogicTask_array *TurnStartTaskArray; // x0
  const MethodInfo *v6; // x3
  System_Collections_IEnumerator_o *v7; // x1

  if ( (byte_42118E0 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, method);
    byte_42118E0 = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_11;
  if ( BattleData__checkProgressflg(data, 0x2000, 0LL) )
  {
    data = this->fields.data;
    if ( !data )
      goto LABEL_11;
    BattleData__offProgressflg(data, 0x2000, 0LL);
    TurnStartTaskArray = BattleLogic__GetTurnStartTaskArray(this, 1, v4);
    if ( TurnStartTaskArray && *(_QWORD *)&TurnStartTaskArray->max_length )
    {
      v7 = BattleLogic__waitWaveStep(this, TurnStartTaskArray, 0x2000, v6);
      UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v7, 0LL);
      return;
    }
  }
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
LABEL_11:
    sub_B0D97C(data);
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleLogic__UnloadDeadDeckActorsAndFreeEntry(
        BattleLogic_o *this,
        bool isEnemy,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  BattleLogic___c__DisplayClass82_0_o *v12; // x20
  BattleData_o *data; // x0
  __int64 v14; // x1
  __int64 v15; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v16; // x21
  System_Collections_Generic_IEnumerable_T__o *EntryIdArray; // x19
  __int64 v18; // x1
  __int64 v19; // x2
  System_Action_int__int__o *v20; // x21

  if ( (byte_421183A & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Action_int__int___ctor__, isEnemy);
    sub_B0D8A4(&System_Action_int__int__TypeInfo, v5);
    sub_B0D8A4(&Method_BasicHelper_ForEach_int____67955392, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_BattleServantData__TypeInfo, v9);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass82_0__UnloadDeadDeckActorsAndFreeEntry_b__0__, v10);
    sub_B0D8A4(&BattleLogic___c__DisplayClass82_0_TypeInfo, v11);
    byte_421183A = 1;
  }
  v12 = (BattleLogic___c__DisplayClass82_0_o *)sub_B0D974(BattleLogic___c__DisplayClass82_0_TypeInfo, isEnemy, method);
  BattleLogic___c__DisplayClass82_0___ctor(v12, 0LL);
  if ( !v12 )
    goto LABEL_7;
  v12->fields.__4__this = this;
  sub_B0D840(&v12->fields, this);
  v12->fields.isEnemy = isEnemy;
  v16 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleServantData__TypeInfo,
                                                                                                  v14,
                                                                                                  v15);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v16,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  v12->fields.result = (struct System_Collections_Generic_List_BattleServantData__o *)v16;
  sub_B0D840(&v12->fields.result, v16);
  data = this->fields.data;
  if ( !data
    || (EntryIdArray = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getEntryIdArray(
                                                                        data,
                                                                        v12->fields.isEnemy,
                                                                        0LL),
        v20 = (System_Action_int__int__o *)sub_B0D974(System_Action_int__int__TypeInfo, v18, v19),
        System_Action_int__int____ctor(
          v20,
          (Il2CppObject *)v12,
          Method_BattleLogic___c__DisplayClass82_0__UnloadDeadDeckActorsAndFreeEntry_b__0__,
          (const MethodInfo_247B3E4 *)Method_System_Action_int__int___ctor__),
        BasicHelper__ForEach_int__24150300(
          EntryIdArray,
          (System_Action_int__T__o *)v20,
          (const MethodInfo_170811C *)Method_BasicHelper_ForEach_int____67955392),
        (data = (BattleData_o *)v12->fields.result) == 0LL) )
  {
LABEL_7:
    sub_B0D97C(data);
  }
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)data,
                                      (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleServantData_array *__fastcall BattleLogic__UnloadMoveToSubMemberDeckActors(
        BattleLogic_o *this,
        bool isEnemy,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  BattleLogic___c__DisplayClass83_0_o *v18; // x20
  BattleData_o *data; // x0
  __int64 v20; // x1
  __int64 v21; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v22; // x19
  System_Collections_IEnumerable_o *RestockServantLogicList; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v24; // x22
  __int64 v25; // x1
  __int64 v26; // x2
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *v27; // x23
  BattleData_c *klass; // x8
  BattleData_o *v29; // x20
  unsigned __int64 v30; // x10
  int32_t *p_offset; // x11
  __int64 v32; // x0
  __int64 v33; // x20
  __int64 v34; // x8
  unsigned __int64 v35; // x10
  int *v36; // x11
  __int64 v37; // x0
  __int64 v38; // x8
  unsigned __int64 v39; // x10
  int *v40; // x11
  __int64 v41; // x0
  __int64 v42; // x22
  BattleData_o *v43; // x0
  BattleServantData_o *ServantData; // x0
  BattleServantData_o *v45; // x23
  BattlePerformance_o *perf; // x0
  BattlePerformance_o *v47; // x0
  __int64 v48; // x0
  __int64 v49; // x8
  unsigned __int64 v50; // x10
  int *v51; // x11
  __int64 v52; // x0

  if ( (byte_421183B & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Linq_Enumerable_OfType_RestockServantLogicByMoveToSubMember___, isEnemy);
    sub_B0D8A4(&Method_System_Linq_Enumerable_Where_RestockServantLogicByMoveToSubMember___, v5);
    sub_B0D8A4(&Method_System_Func_RestockServantLogicByMoveToSubMember__bool___ctor__, v6);
    sub_B0D8A4(&System_Func_RestockServantLogicByMoveToSubMember__bool__TypeInfo, v7);
    sub_B0D8A4(&System_IDisposable_TypeInfo, v8);
    sub_B0D8A4(&System_Collections_Generic_IEnumerable_RestockServantLogicByMoveToSubMember__TypeInfo, v9);
    sub_B0D8A4(&System_Collections_Generic_IEnumerator_RestockServantLogicByMoveToSubMember__TypeInfo, v10);
    sub_B0D8A4(&System_Collections_IEnumerator_TypeInfo, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData__Add__, v12);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData__ToArray__, v13);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData___ctor__, v14);
    sub_B0D8A4(&System_Collections_Generic_List_BattleServantData__TypeInfo, v15);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass83_0__UnloadMoveToSubMemberDeckActors_b__0__, v16);
    sub_B0D8A4(&BattleLogic___c__DisplayClass83_0_TypeInfo, v17);
    byte_421183B = 1;
  }
  v18 = (BattleLogic___c__DisplayClass83_0_o *)sub_B0D974(BattleLogic___c__DisplayClass83_0_TypeInfo, isEnemy, method);
  BattleLogic___c__DisplayClass83_0___ctor(v18, 0LL);
  if ( !v18 )
    goto LABEL_47;
  v18->fields.isEnemy = isEnemy;
  v22 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleServantData__TypeInfo,
                                                                                                  v20,
                                                                                                  v21);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v22,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleServantData___ctor__);
  data = this->fields.data;
  if ( !data )
    goto LABEL_47;
  RestockServantLogicList = (System_Collections_IEnumerable_o *)BattleData__GetRestockServantLogicList(data, 0LL);
  v24 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__OfType_WarBoardPartySkillEntity_(
                                                               RestockServantLogicList,
                                                               (const MethodInfo_1B4E6FC *)Method_System_Linq_Enumerable_OfType_RestockServantLogicByMoveToSubMember___);
  v27 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B0D974(
                                                                             System_Func_RestockServantLogicByMoveToSubMember__bool__TypeInfo,
                                                                             v25,
                                                                             v26);
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
    v27,
    (Il2CppObject *)v18,
    Method_BattleLogic___c__DisplayClass83_0__UnloadMoveToSubMemberDeckActors_b__0__,
    (const MethodInfo_26189B8 *)Method_System_Func_RestockServantLogicByMoveToSubMember__bool___ctor__);
  data = (BattleData_o *)System_Linq_Enumerable__Where_WarBoardManager_WarBoardOnboardSkillTarget_(
                           v24,
                           (System_Func_TSource__bool__o *)v27,
                           (const MethodInfo_1B5A6B0 *)Method_System_Linq_Enumerable_Where_RestockServantLogicByMoveToSubMember___);
  if ( !data )
    goto LABEL_47;
  klass = data->klass;
  v29 = data;
  if ( *(_WORD *)&data->klass->_2.bitflags1 )
  {
    v30 = 0LL;
    p_offset = &klass->_1.interfaceOffsets->offset;
    while ( *((System_Collections_Generic_IEnumerable_RestockServantLogicByMoveToSubMember__c **)p_offset - 1) != System_Collections_Generic_IEnumerable_RestockServantLogicByMoveToSubMember__TypeInfo )
    {
      ++v30;
      p_offset += 4;
      if ( v30 >= *(unsigned __int16 *)&data->klass->_2.bitflags1 )
        goto LABEL_10;
    }
    v32 = (__int64)(&klass->vtable._0_Equals.method + 2 * *p_offset);
  }
  else
  {
LABEL_10:
    v32 = sub_AA67A0(data, System_Collections_Generic_IEnumerable_RestockServantLogicByMoveToSubMember__TypeInfo, 0LL);
  }
  v33 = (*(__int64 (__fastcall **)(BattleData_o *, _QWORD))v32)(v29, *(_QWORD *)(v32 + 8));
  if ( !v33 )
    sub_B0D97C(0LL);
  while ( 1 )
  {
    v34 = *(_QWORD *)v33;
    if ( *(_WORD *)(*(_QWORD *)v33 + 298LL) )
    {
      v35 = 0LL;
      v36 = (int *)(*(_QWORD *)(v34 + 176) + 8LL);
      while ( *((System_Collections_IEnumerator_c **)v36 - 1) != System_Collections_IEnumerator_TypeInfo )
      {
        ++v35;
        v36 += 4;
        if ( v35 >= *(unsigned __int16 *)(*(_QWORD *)v33 + 298LL) )
          goto LABEL_17;
      }
      v37 = v34 + 16LL * *v36 + 312;
    }
    else
    {
LABEL_17:
      v37 = sub_AA67A0(v33, System_Collections_IEnumerator_TypeInfo, 0LL);
    }
    if ( ((*(__int64 (__fastcall **)(__int64, _QWORD))v37)(v33, *(_QWORD *)(v37 + 8)) & 1) == 0 )
      break;
    v38 = *(_QWORD *)v33;
    if ( *(_WORD *)(*(_QWORD *)v33 + 298LL) )
    {
      v39 = 0LL;
      v40 = (int *)(*(_QWORD *)(v38 + 176) + 8LL);
      while ( *((System_Collections_Generic_IEnumerator_RestockServantLogicByMoveToSubMember__c **)v40 - 1) != System_Collections_Generic_IEnumerator_RestockServantLogicByMoveToSubMember__TypeInfo )
      {
        ++v39;
        v40 += 4;
        if ( v39 >= *(unsigned __int16 *)(*(_QWORD *)v33 + 298LL) )
          goto LABEL_24;
      }
      v41 = v38 + 16LL * *v40 + 312;
    }
    else
    {
LABEL_24:
      v41 = sub_AA67A0(v33, System_Collections_Generic_IEnumerator_RestockServantLogicByMoveToSubMember__TypeInfo, 0LL);
    }
    v42 = (*(__int64 (__fastcall **)(__int64, _QWORD))v41)(v33, *(_QWORD *)(v41 + 8));
    if ( !v42 )
      sub_B0D97C(0LL);
    v43 = this->fields.data;
    if ( !v43 )
      sub_B0D97C(0LL);
    ServantData = BattleData__getServantData(v43, *(_DWORD *)(v42 + 28), 0LL);
    v45 = ServantData;
    if ( ServantData && !ServantData->fields.isEntry )
    {
      perf = this->fields.perf;
      if ( !perf )
        sub_B0D97C(0LL);
      BattlePerformance__SetActorPartAnimationData(perf, v45->fields.uniqueId, 0LL);
      v47 = this->fields.perf;
      if ( !v47 )
        sub_B0D97C(0LL);
      BattlePerformance__unloadDeckActor(v47, *(_DWORD *)(v42 + 20), v45, 0LL);
      if ( !v22 )
        sub_B0D97C(v48);
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
        v22,
        (EventMissionProgressRequest_Argument_ProgressData_o *)v45,
        (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
    }
  }
  v49 = *(_QWORD *)v33;
  if ( *(_WORD *)(*(_QWORD *)v33 + 298LL) )
  {
    v50 = 0LL;
    v51 = (int *)(*(_QWORD *)(v49 + 176) + 8LL);
    while ( *((System_IDisposable_c **)v51 - 1) != System_IDisposable_TypeInfo )
    {
      ++v50;
      v51 += 4;
      if ( v50 >= *(unsigned __int16 *)(*(_QWORD *)v33 + 298LL) )
        goto LABEL_38;
    }
    v52 = v49 + 16LL * *v51 + 312;
  }
  else
  {
LABEL_38:
    v52 = sub_AA67A0(v33, System_IDisposable_TypeInfo, 0LL);
  }
  data = (BattleData_o *)(*(__int64 (__fastcall **)(__int64, _QWORD))v52)(v33, *(_QWORD *)(v52 + 8));
  if ( !v22 )
LABEL_47:
    sub_B0D97C(data);
  return (BattleServantData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v22,
                                      (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleServantData__ToArray__);
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__UnloadUnusedAssetsAndWaitFinish(
        BattleLogic_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x2
  BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_o *v3; // x19

  if ( (byte_4211836 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_TypeInfo, method);
    byte_4211836 = 1;
  }
  v3 = (BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_o *)sub_B0D974(
                                                                 BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_TypeInfo,
                                                                 method,
                                                                 v2);
  BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78___ctor(v3, 0, 0LL);
  return (System_Collections_IEnumerator_o *)v3;
}


void __fastcall BattleLogic__WaitDropItemCollect(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  BattlePerformance_o *perf; // x20
  System_Action_o *v6; // x21
  __int64 v7; // x0

  if ( (byte_42118EB & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, method);
    sub_B0D8A4(&Method_BattleLogic__WaitDropItemCollect_b__373_0__, v4);
    byte_42118EB = 1;
  }
  perf = this->fields.perf;
  v6 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, method, v2);
  System_Action___ctor(v6, (Il2CppObject *)this, Method_BattleLogic__WaitDropItemCollect_b__373_0__, 0LL);
  if ( !perf )
    sub_B0D97C(v7);
  BattlePerformance__WaitDropItemCollect(perf, v6, 0LL);
}


void __fastcall BattleLogic___WaitDropItemCollect_b__373_0(BattleLogic_o *this, const MethodInfo *method)
{
  PlayMakerFSM_o *fsm; // x0

  if ( (byte_42118F1 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, method);
    byte_42118F1 = 1;
  }
  fsm = this->fields.fsm;
  if ( !fsm )
    sub_B0D97C(0LL);
  PlayMakerFSM__SendEvent(fsm, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


void __fastcall BattleLogic___checkEndBattle_b__184_0(BattleLogic_o *this, const MethodInfo *method)
{
  PlayMakerFSM_o *fsm; // x0

  if ( (byte_42118EF & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5662/*"EVENT_LOSE"*/, method);
    byte_42118EF = 1;
  }
  fsm = this->fields.fsm;
  if ( !fsm )
    sub_B0D97C(0LL);
  PlayMakerFSM__SendEvent(fsm, (System_String_o *)StringLiteral_5662/*"EVENT_LOSE"*/, 0LL);
}


void __fastcall BattleLogic___loadSaveBattle_b__316_0(BattleLogic_o *this, const MethodInfo *method)
{
  PlayMakerFSM_o *fsm; // x0

  if ( (byte_42118F0 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, method);
    byte_42118F0 = 1;
  }
  fsm = this->fields.fsm;
  if ( !fsm )
    sub_B0D97C(0LL);
  PlayMakerFSM__SendEvent(fsm, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


void __fastcall BattleLogic__actBattleTask(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x1

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  BattleData__clearLastActionActor(data, 0LL);
  this->fields.acttype = 1;
  BattleLogic__checkBattleTask(this, v4);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__actClassPassiveSkill(BattleLogic_o *this, int32_t uniqueId, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v16; // x20
  void *data; // x0
  BattleServantData_o *ServantData; // x0
  EventMissionProgressRequest_Argument_ProgressData_o *v19; // x1
  __int64 v20; // x2
  int v21; // w8
  void *v22; // x21
  unsigned int v23; // w22
  BattleLogic___c_c *v24; // x0
  struct BattleLogic___c_StaticFields *static_fields; // x8
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__263_0; // x21
  Il2CppObject *v27; // x22
  struct BattleLogic___c_StaticFields *v28; // x0
  BattleLogicSkill_o *logicSkill; // x0
  __int64 v30; // x0
  System_Collections_Generic_List_Enumerator_T__o v31; // [xsp+8h] [xbp-48h] BYREF

  if ( (byte_42118AE & 1) == 0 )
  {
    sub_B0D8A4(&Method_BasicHelper_StableSort_BattleSkillInfoData___, *(_QWORD *)&uniqueId);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__get_Current__, v7);
    sub_B0D8A4(&Method_System_Func_BattleSkillInfoData__int___ctor__, v8);
    sub_B0D8A4(&System_Func_BattleSkillInfoData__int__TypeInfo, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData__Add__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__, v12);
    sub_B0D8A4(&System_Collections_Generic_List_BattleSkillInfoData__TypeInfo, v13);
    sub_B0D8A4(&Method_BattleLogic___c__actClassPassiveSkill_b__263_0__, v14);
    sub_B0D8A4(&BattleLogic___c_TypeInfo, v15);
    byte_42118AE = 1;
  }
  memset(&v31, 0, sizeof(v31));
  v16 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleSkillInfoData__TypeInfo,
                                                                                                  *(_QWORD *)&uniqueId,
                                                                                                  method);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v16,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__);
  data = this->fields.data;
  if ( !data )
    goto LABEL_29;
  ServantData = BattleData__getServantData((BattleData_o *)data, uniqueId, 0LL);
  if ( ServantData )
  {
    data = BattleServantData__getPassiveSkills(ServantData, 0LL);
    if ( !data )
      goto LABEL_29;
    v21 = *((_DWORD *)data + 6);
    v22 = data;
    if ( v21 >= 1 )
    {
      v23 = 0;
      while ( 1 )
      {
        if ( v23 >= v21 )
        {
          v30 = sub_B0D9A8(data);
          sub_B0D948(v30, 0LL);
        }
        v19 = (EventMissionProgressRequest_Argument_ProgressData_o *)*((_QWORD *)v22 + (int)v23 + 4);
        if ( !v19 )
          break;
        if ( v19->fields.missionTargetId == 10 )
        {
          if ( !v16 )
            break;
          System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
            v16,
            v19,
            (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleSkillInfoData__Add__);
        }
        v21 = *((_DWORD *)v22 + 6);
        if ( (int)++v23 >= v21 )
          goto LABEL_14;
      }
LABEL_29:
      sub_B0D97C(data);
    }
LABEL_14:
    v24 = BattleLogic___c_TypeInfo;
    if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleLogic___c_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
      v24 = BattleLogic___c_TypeInfo;
    }
    static_fields = v24->static_fields;
    _9__263_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)static_fields->__9__263_0;
    if ( !_9__263_0 )
    {
      if ( (BYTE3(v24->vtable._0_Equals.methodPtr) & 4) != 0 && !v24->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v24);
        static_fields = BattleLogic___c_TypeInfo->static_fields;
      }
      v27 = (Il2CppObject *)static_fields->__9;
      _9__263_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B0D974(
                                                                                    System_Func_BattleSkillInfoData__int__TypeInfo,
                                                                                    v19,
                                                                                    v20);
      System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
        _9__263_0,
        v27,
        Method_BattleLogic___c__actClassPassiveSkill_b__263_0__,
        (const MethodInfo_2619564 *)Method_System_Func_BattleSkillInfoData__int___ctor__);
      v28 = BattleLogic___c_TypeInfo->static_fields;
      v28->__9__263_0 = (struct System_Func_BattleSkillInfoData__int__o *)_9__263_0;
      sub_B0D840(&v28->__9__263_0, _9__263_0);
    }
    data = BasicHelper__StableSort_QuestScriptMaterialOverwriteEntity_(
             (System_Collections_Generic_List_T__o *)v16,
             (System_Func_T__int__o *)_9__263_0,
             0,
             (const MethodInfo_1709E04 *)Method_BasicHelper_StableSort_BattleSkillInfoData___);
    if ( !v16 )
      goto LABEL_29;
    System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
      &v31,
      (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v16,
      (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__);
    while ( System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
              &v31,
              (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__) )
    {
      logicSkill = this->fields.logicSkill;
      if ( !logicSkill )
        sub_B0D97C(0LL);
      BattleLogicSkill__actPassiveSkill(logicSkill, (BattleSkillInfoData_o *)v31.fields.current, 0, 0, 0LL);
    }
    System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
      &v31,
      (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__);
  }
}


void __fastcall BattleLogic__actCommandSpell(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleLogic_CommandSpellData_o *tmp_usecommandspell; // x1
  BattlePerformance_o *perf; // x0
  const MethodInfo *v5; // x1

  tmp_usecommandspell = this->fields.tmp_usecommandspell;
  this->fields.actData = tmp_usecommandspell;
  sub_B0D840(&this->fields.actData, tmp_usecommandspell);
  perf = this->fields.perf;
  if ( !perf )
    sub_B0D97C(0LL);
  BattlePerformance__playActionSkill(perf, 0LL);
  BattleLogic__startCommandSpellEffect(this, v5);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__actEnemyPassiveSkill(BattleLogic_o *this, int32_t uniqueId, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v16; // x20
  BattleData_o *data; // x0
  BattleServantData_o *ServantData; // x0
  __int64 v19; // x1
  __int64 v20; // x2
  BattleLogic___c_c *v21; // x0
  struct BattleLogic___c_StaticFields *static_fields; // x8
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__262_0; // x21
  Il2CppObject *v24; // x22
  struct BattleLogic___c_StaticFields *v25; // x0
  BattleLogicSkill_o *logicSkill; // x0
  System_Collections_Generic_List_Enumerator_T__o v27; // [xsp+8h] [xbp-48h] BYREF

  if ( (byte_42118AD & 1) == 0 )
  {
    sub_B0D8A4(&Method_BasicHelper_StableSort_BattleSkillInfoData___, *(_QWORD *)&uniqueId);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__get_Current__, v7);
    sub_B0D8A4(&Method_System_Func_BattleSkillInfoData__int___ctor__, v8);
    sub_B0D8A4(&System_Func_BattleSkillInfoData__int__TypeInfo, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData__AddRange__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__, v12);
    sub_B0D8A4(&System_Collections_Generic_List_BattleSkillInfoData__TypeInfo, v13);
    sub_B0D8A4(&Method_BattleLogic___c__actEnemyPassiveSkill_b__262_0__, v14);
    sub_B0D8A4(&BattleLogic___c_TypeInfo, v15);
    byte_42118AD = 1;
  }
  memset(&v27, 0, sizeof(v27));
  v16 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleSkillInfoData__TypeInfo,
                                                                                                  *(_QWORD *)&uniqueId,
                                                                                                  method);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v16,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__);
  data = this->fields.data;
  if ( !data )
    goto LABEL_21;
  ServantData = BattleData__getServantData(data, uniqueId, 0LL);
  if ( !ServantData )
    return;
  data = (BattleData_o *)BattleServantData__getPassiveSkills(ServantData, 0LL);
  if ( !v16 )
LABEL_21:
    sub_B0D97C(data);
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v16,
    (System_Collections_Generic_IEnumerable_T__o *)data,
    (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleSkillInfoData__AddRange__);
  v21 = BattleLogic___c_TypeInfo;
  if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleLogic___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
    v21 = BattleLogic___c_TypeInfo;
  }
  static_fields = v21->static_fields;
  _9__262_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)static_fields->__9__262_0;
  if ( !_9__262_0 )
  {
    if ( (BYTE3(v21->vtable._0_Equals.methodPtr) & 4) != 0 && !v21->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v21);
      static_fields = BattleLogic___c_TypeInfo->static_fields;
    }
    v24 = (Il2CppObject *)static_fields->__9;
    _9__262_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B0D974(
                                                                                  System_Func_BattleSkillInfoData__int__TypeInfo,
                                                                                  v19,
                                                                                  v20);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      _9__262_0,
      v24,
      Method_BattleLogic___c__actEnemyPassiveSkill_b__262_0__,
      (const MethodInfo_2619564 *)Method_System_Func_BattleSkillInfoData__int___ctor__);
    v25 = BattleLogic___c_TypeInfo->static_fields;
    v25->__9__262_0 = (struct System_Func_BattleSkillInfoData__int__o *)_9__262_0;
    sub_B0D840(&v25->__9__262_0, _9__262_0);
  }
  BasicHelper__StableSort_QuestScriptMaterialOverwriteEntity_(
    (System_Collections_Generic_List_T__o *)v16,
    (System_Func_T__int__o *)_9__262_0,
    0,
    (const MethodInfo_1709E04 *)Method_BasicHelper_StableSort_BattleSkillInfoData___);
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v27,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v16,
    (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__);
  while ( System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v27,
            (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__) )
  {
    logicSkill = this->fields.logicSkill;
    if ( !logicSkill )
      sub_B0D97C(0LL);
    BattleLogicSkill__actPassiveSkill(logicSkill, (BattleSkillInfoData_o *)v27.fields.current, 0, 0, 0LL);
  }
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v27,
    (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__actEnemyPtPassiveSkill(
        BattleLogic_o *this,
        int32_t actUniqueId,
        bool isShift,
        bool isDataload,
        const MethodInfo *method)
{
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v22; // x23
  System_Collections_Generic_List_int__o *ServantData; // x0
  System_Collections_Generic_List_int__o *v24; // x20
  System_Collections_Generic_List_int__o *v25; // x24
  __int64 v26; // x1
  __int64 v27; // x2
  int size; // w8
  unsigned int v29; // w24
  BattleLogic___c_c *v30; // x0
  struct BattleLogic___c_StaticFields *static_fields; // x8
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__261_0; // x24
  Il2CppObject *v33; // x25
  struct BattleLogic___c_StaticFields *v34; // x0
  bool v35; // w22
  _BOOL8 v36; // x0
  Il2CppObject *current; // x23
  struct BattleData_o *data; // x8
  struct BaseBattleEvent_o *battleEvent; // x0
  BattleLogicSkill_o *logicSkill; // x0
  int v41; // w8
  __int64 v42; // x21
  __int64 v43; // x8
  __int64 v44; // x8
  int v45; // w8
  System_Collections_Generic_List_int__o *v46; // x19
  unsigned int v47; // w20
  __int64 v48; // x8
  __int64 v49; // x8
  __int64 v50; // x0
  __int64 v51; // x0
  System_Collections_Generic_List_Enumerator_T__o v52; // [xsp+8h] [xbp-78h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v53; // [xsp+20h] [xbp-60h] BYREF

  if ( (byte_42118AC & 1) == 0 )
  {
    sub_B0D8A4(&Method_BasicHelper_StableSort_BattleSkillInfoData___, *(_QWORD *)&actUniqueId);
    sub_B0D8A4(&BattleServantData___TypeInfo, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__get_Current__, v12);
    sub_B0D8A4(&Method_System_Func_BattleSkillInfoData__int___ctor__, v13);
    sub_B0D8A4(&System_Func_BattleSkillInfoData__int__TypeInfo, v14);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData__AddRange__, v15);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Clear__, v16);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__, v17);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__, v18);
    sub_B0D8A4(&System_Collections_Generic_List_BattleSkillInfoData__TypeInfo, v19);
    sub_B0D8A4(&Method_BattleLogic___c__actEnemyPtPassiveSkill_b__261_0__, v20);
    sub_B0D8A4(&BattleLogic___c_TypeInfo, v21);
    byte_42118AC = 1;
  }
  memset(&v53, 0, sizeof(v53));
  v22 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleSkillInfoData__TypeInfo,
                                                                                                  *(_QWORD *)&actUniqueId,
                                                                                                  isShift);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v22,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__);
  if ( actUniqueId )
  {
    ServantData = (System_Collections_Generic_List_int__o *)sub_B0D8BC(BattleServantData___TypeInfo, 1LL);
    if ( !this->fields.data )
      goto LABEL_52;
    v24 = ServantData;
    ServantData = (System_Collections_Generic_List_int__o *)BattleData__getServantData(
                                                              this->fields.data,
                                                              actUniqueId,
                                                              0LL);
    if ( !v24 )
      goto LABEL_52;
    v25 = ServantData;
    if ( ServantData )
    {
      ServantData = (System_Collections_Generic_List_int__o *)sub_B0D964(ServantData, v24->klass->_1.element_class);
      if ( !ServantData )
      {
        v51 = sub_B0D99C();
        sub_B0D948(v51, 0LL);
      }
    }
    if ( !v24->fields._size )
      goto LABEL_53;
    v24->fields._syncRoot = (Il2CppObject *)v25;
    sub_B0D840(&v24->fields._syncRoot, v25);
  }
  else
  {
    ServantData = (System_Collections_Generic_List_int__o *)this->fields.data;
    if ( !ServantData )
      goto LABEL_52;
    ServantData = (System_Collections_Generic_List_int__o *)BattleData__getEnemyServantList(
                                                              (BattleData_o *)ServantData,
                                                              0LL);
    v24 = ServantData;
    if ( !ServantData )
      goto LABEL_52;
  }
  size = v24->fields._size;
  if ( size >= 1 )
  {
    v29 = 0;
    while ( v29 < size )
    {
      ServantData = (System_Collections_Generic_List_int__o *)*((_QWORD *)&v24->fields._syncRoot + (int)v29);
      if ( !ServantData )
        goto LABEL_52;
      ServantData = (System_Collections_Generic_List_int__o *)BattleServantData__getPassiveSkills(
                                                                (BattleServantData_o *)ServantData,
                                                                0LL);
      if ( !v22 )
        goto LABEL_52;
      System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
        (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v22,
        (System_Collections_Generic_IEnumerable_T__o *)ServantData,
        (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleSkillInfoData__AddRange__);
      size = v24->fields._size;
      if ( (int)++v29 >= size )
        goto LABEL_18;
    }
LABEL_53:
    v50 = sub_B0D9A8(ServantData);
    sub_B0D948(v50, 0LL);
  }
LABEL_18:
  v30 = BattleLogic___c_TypeInfo;
  if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleLogic___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
    v30 = BattleLogic___c_TypeInfo;
  }
  static_fields = v30->static_fields;
  _9__261_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)static_fields->__9__261_0;
  if ( !_9__261_0 )
  {
    if ( (BYTE3(v30->vtable._0_Equals.methodPtr) & 4) != 0 && !v30->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v30);
      static_fields = BattleLogic___c_TypeInfo->static_fields;
    }
    v33 = (Il2CppObject *)static_fields->__9;
    _9__261_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B0D974(
                                                                                  System_Func_BattleSkillInfoData__int__TypeInfo,
                                                                                  v26,
                                                                                  v27);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      _9__261_0,
      v33,
      Method_BattleLogic___c__actEnemyPtPassiveSkill_b__261_0__,
      (const MethodInfo_2619564 *)Method_System_Func_BattleSkillInfoData__int___ctor__);
    v34 = BattleLogic___c_TypeInfo->static_fields;
    v34->__9__261_0 = (struct System_Func_BattleSkillInfoData__int__o *)_9__261_0;
    sub_B0D840(&v34->__9__261_0, _9__261_0);
  }
  ServantData = (System_Collections_Generic_List_int__o *)BasicHelper__StableSort_QuestScriptMaterialOverwriteEntity_(
                                                            (System_Collections_Generic_List_T__o *)v22,
                                                            (System_Func_T__int__o *)_9__261_0,
                                                            0,
                                                            (const MethodInfo_1709E04 *)Method_BasicHelper_StableSort_BattleSkillInfoData___);
  if ( !v22 )
    goto LABEL_52;
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v52,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v22,
    (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__);
  v53 = v52;
  v35 = isShift;
  while ( 1 )
  {
    v36 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v53,
            (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__);
    if ( !v36 )
      break;
    current = v53.fields.current;
    if ( isDataload )
    {
      data = this->fields.data;
      if ( !data )
        sub_B0D97C(v36);
      battleEvent = data->fields.battleEvent;
      if ( !battleEvent )
        sub_B0D97C(0LL);
      if ( (((__int64 (__fastcall *)(struct BaseBattleEvent_o *, Il2CppObject *, Il2CppMethodPointer))battleEvent->klass->vtable._22_IsActionPassiveSkillOnBattle.method)(
              battleEvent,
              v53.fields.current,
              battleEvent->klass->vtable._23_SetServantDataAfterPassiveAdded.methodPtr) & 1) == 0 )
        continue;
    }
    logicSkill = this->fields.logicSkill;
    if ( !logicSkill )
      sub_B0D97C(0LL);
    BattleLogicSkill__actPassiveSkill(logicSkill, (BattleSkillInfoData_o *)current, v35, isDataload, 0LL);
  }
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v53,
    (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__);
  v41 = v24->fields._size;
  if ( v41 >= 1 )
  {
    v42 = 0LL;
    while ( (unsigned int)v42 < v41 )
    {
      v43 = *((_QWORD *)&v24->fields._syncRoot + v42);
      if ( !v43 )
        goto LABEL_52;
      v44 = *(_QWORD *)(v43 + 760);
      if ( !v44 )
        goto LABEL_52;
      ServantData = *(System_Collections_Generic_List_int__o **)(v44 + 72);
      if ( !ServantData )
        goto LABEL_52;
      System_Collections_Generic_List_int___Clear(
        ServantData,
        (const MethodInfo_2FB030C *)Method_System_Collections_Generic_List_int__Clear__);
      v41 = v24->fields._size;
      if ( (int)++v42 >= v41 )
        goto LABEL_42;
    }
    goto LABEL_53;
  }
LABEL_42:
  ServantData = (System_Collections_Generic_List_int__o *)this->fields.data;
  if ( !ServantData
    || (ServantData = (System_Collections_Generic_List_int__o *)BattleData__getPlayerServantList(
                                                                  (BattleData_o *)ServantData,
                                                                  0LL)) == 0LL )
  {
LABEL_52:
    sub_B0D97C(ServantData);
  }
  v45 = ServantData->fields._size;
  v46 = ServantData;
  if ( v45 >= 1 )
  {
    v47 = 0;
    while ( v47 < v45 )
    {
      v48 = *((_QWORD *)&v46->fields._syncRoot + (int)v47);
      if ( !v48 )
        goto LABEL_52;
      v49 = *(_QWORD *)(v48 + 760);
      if ( !v49 )
        goto LABEL_52;
      ServantData = *(System_Collections_Generic_List_int__o **)(v49 + 72);
      if ( !ServantData )
        goto LABEL_52;
      System_Collections_Generic_List_int___Clear(
        ServantData,
        (const MethodInfo_2FB030C *)Method_System_Collections_Generic_List_int__Clear__);
      v45 = v46->fields._size;
      if ( (int)++v47 >= v45 )
        return;
    }
    goto LABEL_53;
  }
}


void __fastcall BattleLogic__actOneBattleTask(
        BattleLogic_o *this,
        BattleLogicTask_array *tasklist,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x8
  unsigned __int64 v8; // x21
  __int64 v9; // x0

  v4 = this;
  if ( (byte_4211855 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__, tasklist);
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__get_Count__, v5);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v6);
    byte_4211855 = 1;
  }
  v4->fields.acttype = 2;
  if ( !tasklist )
    goto LABEL_14;
  v7 = *(_QWORD *)&tasklist->max_length;
  this = (BattleLogic_o *)v4->fields.list_logic;
  if ( (int)v7 >= 1 )
  {
    v8 = 0LL;
    while ( 1 )
    {
      if ( v8 >= (unsigned int)v7 )
      {
        v9 = sub_B0D9A8(this);
        sub_B0D948(v9, 0LL);
      }
      if ( !this )
        break;
      System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot___AddLast(
        (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this,
        (BattleServantSnapShotGroupBase_SnapShot_o *)tasklist->m_Items[v8],
        (const MethodInfo_2D1CF50 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__);
      LODWORD(v7) = tasklist->max_length;
      this = (BattleLogic_o *)v4->fields.list_logic;
      if ( (__int64)++v8 >= (int)v7 )
        goto LABEL_9;
    }
LABEL_14:
    sub_B0D97C(this);
  }
LABEL_9:
  if ( !this )
    goto LABEL_14;
  if ( SLODWORD(this->fields.fsm) >= 1 )
  {
    this = (BattleLogic_o *)v4->fields.fsm;
    if ( !this )
      goto LABEL_14;
    PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
  }
  BattleLogic__playTaskBattle(v4, (const MethodInfo *)tasklist);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__actPtPassiveSkill(BattleLogic_o *this, bool isAddAiNpc, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v25; // x21
  void *data; // x0
  System_Collections_Generic_IEnumerable_T__o *PlayerServantList; // x23
  __int64 v28; // x1
  __int64 v29; // x2
  System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *v30; // x20
  struct BattleData_o *v31; // x8
  System_Collections_Generic_IEnumerable_T__o *PassiveSkills; // x0
  __int64 v33; // x1
  __int64 v34; // x2
  BattleLogic___c_c *v35; // x0
  struct BattleLogic___c_StaticFields *static_fields; // x8
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__260_0; // x22
  Il2CppObject *v38; // x23
  struct BattleLogic___c_StaticFields *v39; // x0
  _BOOL8 v40; // x0
  struct BattleData_o *v41; // x8
  struct BaseBattleEvent_o *battleEvent; // x0
  Il2CppObject *current; // x21
  BattleLogicSkill_o *logicSkill; // x0
  int v45; // w22
  int v46; // w8
  _BOOL8 v47; // x0
  void *monitor; // x8
  System_Collections_Generic_List_int__o *v49; // x0
  int v50; // w22
  int v51; // w8
  void *v52; // x19
  unsigned int v53; // w20
  __int64 v54; // x8
  __int64 v55; // x8
  __int64 v56; // x0
  System_Collections_Generic_List_Enumerator_T__o v57; // [xsp+8h] [xbp-A8h] BYREF
  int v58[3]; // [xsp+20h] [xbp-90h]
  int v59; // [xsp+2Ch] [xbp-84h]
  System_Collections_Generic_List_Enumerator_T__o v60; // [xsp+30h] [xbp-80h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v61; // [xsp+50h] [xbp-60h] BYREF

  if ( (byte_42118AB & 1) == 0 )
  {
    sub_B0D8A4(&Method_BasicHelper_StableSort_BattleSkillInfoData___, isAddAiNpc);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__get_Current__, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__get_Current__, v10);
    sub_B0D8A4(&Method_System_Func_BattleSkillInfoData__int___ctor__, v11);
    sub_B0D8A4(&System_Func_BattleSkillInfoData__int__TypeInfo, v12);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData__AddRange__, v13);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData__AddRange__, v14);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Clear__, v15);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__, v16);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__, v17);
    sub_B0D8A4(&Method_System_Collections_Generic_List_AiNpcBattleServantData__ToArray__, v18);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData___ctor___67874504, v19);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__, v20);
    sub_B0D8A4(&System_Collections_Generic_List_BattleServantData__TypeInfo, v21);
    sub_B0D8A4(&System_Collections_Generic_List_BattleSkillInfoData__TypeInfo, v22);
    sub_B0D8A4(&Method_BattleLogic___c__actPtPassiveSkill_b__260_0__, v23);
    sub_B0D8A4(&BattleLogic___c_TypeInfo, v24);
    byte_42118AB = 1;
  }
  memset(&v61, 0, sizeof(v61));
  memset(&v60, 0, sizeof(v60));
  v59 = 0;
  v25 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleSkillInfoData__TypeInfo,
                                                                                                  isAddAiNpc,
                                                                                                  method);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v25,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleSkillInfoData___ctor__);
  data = this->fields.data;
  if ( !data )
    goto LABEL_53;
  PlayerServantList = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getPlayerServantList(
                                                                       (BattleData_o *)data,
                                                                       0LL);
  v30 = (System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *)sub_B0D974(
                                                                          System_Collections_Generic_List_BattleServantData__TypeInfo,
                                                                          v28,
                                                                          v29);
  System_Collections_Generic_List_WarBoardAIRoute_RouteData____ctor(
    v30,
    PlayerServantList,
    (const MethodInfo_2FC4C1C *)Method_System_Collections_Generic_List_BattleServantData___ctor___67874504);
  if ( isAddAiNpc )
  {
    v31 = this->fields.data;
    if ( !v31 )
      goto LABEL_53;
    data = v31->fields.aiNpcDataList;
    if ( !data )
      goto LABEL_53;
    data = System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
             (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)data,
             (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_AiNpcBattleServantData__ToArray__);
    if ( !v30 )
      goto LABEL_53;
    System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
      (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v30,
      (System_Collections_Generic_IEnumerable_T__o *)data,
      (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleServantData__AddRange__);
  }
  else if ( !v30 )
  {
    goto LABEL_53;
  }
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v57,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v30,
    (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__);
  v61 = v57;
  while ( System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v61,
            (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__) )
  {
    if ( !v61.fields.current )
      sub_B0D97C(0LL);
    PassiveSkills = (System_Collections_Generic_IEnumerable_T__o *)BattleServantData__getPassiveSkills(
                                                                     (BattleServantData_o *)v61.fields.current,
                                                                     0LL);
    if ( !v25 )
      sub_B0D97C(PassiveSkills);
    System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
      (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v25,
      PassiveSkills,
      (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleSkillInfoData__AddRange__);
  }
  v58[0] = 102;
  v59 = 1;
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v61,
    (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__);
  v59 = 0;
  v35 = BattleLogic___c_TypeInfo;
  if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleLogic___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
    v35 = BattleLogic___c_TypeInfo;
  }
  static_fields = v35->static_fields;
  _9__260_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)static_fields->__9__260_0;
  if ( !_9__260_0 )
  {
    if ( (BYTE3(v35->vtable._0_Equals.methodPtr) & 4) != 0 && !v35->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v35);
      static_fields = BattleLogic___c_TypeInfo->static_fields;
    }
    v38 = (Il2CppObject *)static_fields->__9;
    _9__260_0 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B0D974(
                                                                                  System_Func_BattleSkillInfoData__int__TypeInfo,
                                                                                  v33,
                                                                                  v34);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      _9__260_0,
      v38,
      Method_BattleLogic___c__actPtPassiveSkill_b__260_0__,
      (const MethodInfo_2619564 *)Method_System_Func_BattleSkillInfoData__int___ctor__);
    v39 = BattleLogic___c_TypeInfo->static_fields;
    v39->__9__260_0 = (struct System_Func_BattleSkillInfoData__int__o *)_9__260_0;
    sub_B0D840(&v39->__9__260_0, _9__260_0);
  }
  data = BasicHelper__StableSort_QuestScriptMaterialOverwriteEntity_(
           (System_Collections_Generic_List_T__o *)v25,
           (System_Func_T__int__o *)_9__260_0,
           0,
           (const MethodInfo_1709E04 *)Method_BasicHelper_StableSort_BattleSkillInfoData___);
  if ( !v25 )
    goto LABEL_53;
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v57,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v25,
    (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleSkillInfoData__GetEnumerator__);
  v60 = v57;
  while ( 1 )
  {
    v40 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v60,
            (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__MoveNext__);
    if ( !v40 )
      break;
    v41 = this->fields.data;
    if ( !v41 )
      sub_B0D97C(v40);
    battleEvent = v41->fields.battleEvent;
    if ( !battleEvent )
      sub_B0D97C(0LL);
    current = v60.fields.current;
    if ( (((__int64 (__fastcall *)(struct BaseBattleEvent_o *, Il2CppObject *, Il2CppMethodPointer))battleEvent->klass->vtable._22_IsActionPassiveSkillOnBattle.method)(
            battleEvent,
            v60.fields.current,
            battleEvent->klass->vtable._23_SetServantDataAfterPassiveAdded.methodPtr) & 1) != 0 )
    {
      logicSkill = this->fields.logicSkill;
      if ( !logicSkill )
        sub_B0D97C(0LL);
      BattleLogicSkill__actPassiveSkill(logicSkill, (BattleSkillInfoData_o *)current, 0, 1, 0LL);
    }
  }
  v58[0] = 220;
  v45 = ++v59;
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v60,
    (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleSkillInfoData__Dispose__);
  if ( v45 )
  {
    v46 = v45 - 1;
    if ( v58[v45 - 1] == 220 )
    {
      --v45;
      v59 = v46;
    }
  }
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v57,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v30,
    (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__);
  v61 = v57;
  while ( 1 )
  {
    v47 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v61,
            (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__);
    if ( !v47 )
      break;
    if ( !v61.fields.current )
      sub_B0D97C(v47);
    monitor = v61.fields.current[47].monitor;
    if ( !monitor )
      sub_B0D97C(v47);
    v49 = (System_Collections_Generic_List_int__o *)*((_QWORD *)monitor + 9);
    if ( !v49 )
      sub_B0D97C(0LL);
    System_Collections_Generic_List_int___Clear(
      v49,
      (const MethodInfo_2FB030C *)Method_System_Collections_Generic_List_int__Clear__);
  }
  v58[v45] = 276;
  v50 = ++v59;
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v61,
    (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__);
  if ( v50 && v58[v50 - 1] == 276 )
    v59 = v50 - 1;
  data = this->fields.data;
  if ( !data || (data = BattleData__getEnemyServantList((BattleData_o *)data, 0LL)) == 0LL )
LABEL_53:
    sub_B0D97C(data);
  v51 = *((_DWORD *)data + 6);
  v52 = data;
  if ( v51 >= 1 )
  {
    v53 = 0;
    while ( 1 )
    {
      if ( v53 >= v51 )
      {
        v56 = sub_B0D9A8(data);
        sub_B0D948(v56, 0LL);
      }
      v54 = *((_QWORD *)v52 + (int)v53 + 4);
      if ( !v54 )
        break;
      v55 = *(_QWORD *)(v54 + 760);
      if ( !v55 )
        break;
      data = *(void **)(v55 + 72);
      if ( !data )
        break;
      System_Collections_Generic_List_int___Clear(
        (System_Collections_Generic_List_int__o *)data,
        (const MethodInfo_2FB030C *)Method_System_Collections_Generic_List_int__Clear__);
      v51 = *((_DWORD *)v52 + 6);
      if ( (int)++v53 >= v51 )
        return;
    }
    goto LABEL_53;
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__addBackStepActionData(
        BattleLogic_o *this,
        int32_t actorId,
        float waitTime,
        const MethodInfo *method)
{
  BattleLogicNomal_o *logicnomal; // x0
  BattlePerformance_o *perf; // x21
  BattlePerformance_o *v9; // x19
  __int64 v10; // x1
  __int64 v11; // x2
  BattleLogicTask_o *v12; // x20
  const MethodInfo *v13; // x2

  if ( (byte_4211864 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, *(_QWORD *)&actorId);
    byte_4211864 = 1;
  }
  logicnomal = this->fields.logicnomal;
  if ( !logicnomal )
    goto LABEL_8;
  perf = this->fields.perf;
  logicnomal = (BattleLogicNomal_o *)BattleLogicNomal__createBackStep(logicnomal, actorId, 0LL);
  if ( !perf
    || (BattlePerformance__addActionData_18166504(perf, (BattleActionData_o *)logicnomal, 0LL),
        v9 = this->fields.perf,
        v12 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v10, v11),
        BattleLogicTask___ctor(v12, 0LL),
        !v12)
    || (v12->fields.systemTime = waitTime,
        logicnomal = (BattleLogicNomal_o *)BattleLogic__createSystem((BattleLogic_o *)logicnomal, v12, v13),
        !v9) )
  {
LABEL_8:
    sub_B0D97C(logicnomal);
  }
  BattlePerformance__addActionData_18166504(v9, (BattleActionData_o *)logicnomal, 0LL);
}


void __fastcall BattleLogic__addBattleLogicTask(
        BattleLogic_o *this,
        BattleLogicTask_array *tasklist,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x20
  __int64 v5; // x8
  unsigned __int64 v6; // x21
  __int64 v7; // x0

  v4 = this;
  if ( (byte_4211858 & 1) == 0 )
  {
    this = (BattleLogic_o *)sub_B0D8A4(
                              &Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__,
                              tasklist);
    byte_4211858 = 1;
  }
  if ( !tasklist )
    goto LABEL_11;
  v5 = *(_QWORD *)&tasklist->max_length;
  if ( (int)v5 >= 1 )
  {
    v6 = 0LL;
    while ( 1 )
    {
      if ( v6 >= (unsigned int)v5 )
      {
        v7 = sub_B0D9A8(this);
        sub_B0D948(v7, 0LL);
      }
      this = (BattleLogic_o *)v4->fields.list_logic;
      if ( !this )
        break;
      this = (BattleLogic_o *)System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot___AddLast(
                                (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this,
                                (BattleServantSnapShotGroupBase_SnapShot_o *)tasklist->m_Items[v6],
                                (const MethodInfo_2D1CF50 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__);
      LODWORD(v5) = tasklist->max_length;
      if ( (__int64)++v6 >= (int)v5 )
        return;
    }
LABEL_11:
    sub_B0D97C(this);
  }
}


void __fastcall BattleLogic__addEnemyActPriorityList(
        BattleLogic_o *this,
        BattleServantData_o *svtData,
        const MethodInfo *method)
{
  BattleLogicEnemyAi_o *logicEnemyAi; // x0

  logicEnemyAi = this->fields.logicEnemyAi;
  if ( !logicEnemyAi )
    sub_B0D97C(0LL);
  BattleLogicEnemyAi__addEnemyActPriorityList(logicEnemyAi, svtData, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__afterImmediateEntry(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  struct BattleData_o *v8; // x8
  __int64 v9; // x1
  __int64 v10; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v11; // x20

  v4 = this;
  if ( (byte_4211874 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask___TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v6);
    this = (BattleLogic_o *)sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v7);
    byte_4211874 = 1;
  }
  v8 = v4->fields.data;
  if ( !v8 )
    goto LABEL_11;
  this = (BattleLogic_o *)v8->fields.quest_ent;
  if ( !this )
    goto LABEL_11;
  if ( QuestEntity__HasFlag((QuestEntity_o *)this, 0x40000000000000LL, 0LL) && v4->fields.isPlayImmediateEntry )
  {
    v4->fields.isPlayImmediateEntry = 0;
    v11 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                    System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                    v9,
                                                                                                    v10);
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
      v11,
      (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
    this = (BattleLogic_o *)v4->fields.perf;
    if ( this )
    {
      BattlePerformance__setImmidianteEntryPos((BattlePerformance_o *)this, 0LL);
      if ( v11 )
        return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                          (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v11,
                                          (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
    }
LABEL_11:
    sub_B0D97C(this);
  }
  return (BattleLogicTask_array *)sub_B0D8BC(BattleLogicTask___TypeInfo, 0LL);
}


BattleActionData_o *__fastcall BattleLogic__breakOnBattle(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  BattlePerformance_o *perf; // x21
  UnityEngine_Object_o *ServantGameObject; // x20
  __int64 v9; // x21
  srcLineSprite_o *Component_srcLineSprite; // x20
  struct BattlePerformance_o *v11; // x8
  UnityEngine_GameObject_o *gameObject; // x0
  __int64 v13; // x1
  __int64 v14; // x2

  v4 = this;
  if ( (byte_4211868 & 1) == 0 )
  {
    sub_B0D8A4(&BattleActionData_TypeInfo, task);
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_BattleActorControl___, v5);
    this = (BattleLogic_o *)sub_B0D8A4(&UnityEngine_Object_TypeInfo, v6);
    byte_4211868 = 1;
  }
  if ( !task )
    goto LABEL_23;
  perf = v4->fields.perf;
  this = (BattleLogic_o *)BattleLogicTask__getActorId(task, 0LL);
  if ( !perf )
    goto LABEL_23;
  ServantGameObject = (UnityEngine_Object_o *)BattlePerformance__getServantGameObject(perf, (int32_t)this, 0LL);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  this = (BattleLogic_o *)UnityEngine_Object__op_Inequality(ServantGameObject, 0LL, 0LL);
  v9 = 0LL;
  if ( ((unsigned __int8)this & 1) != 0 )
  {
    if ( !ServantGameObject )
      goto LABEL_23;
    Component_srcLineSprite = UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                (UnityEngine_GameObject_o *)ServantGameObject,
                                (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_BattleActorControl___);
    if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
    }
    this = (BattleLogic_o *)UnityEngine_Object__op_Inequality((UnityEngine_Object_o *)Component_srcLineSprite, 0LL, 0LL);
    v9 = 0LL;
    if ( ((unsigned __int8)this & 1) != 0 )
    {
      if ( Component_srcLineSprite )
      {
        if ( !LOBYTE(Component_srcLineSprite[3].fields.mcTweenAlphaP) )
          return 0LL;
        v11 = v4->fields.perf;
        if ( v11 )
        {
          this = (BattleLogic_o *)v11->fields._fmManager_k__BackingField;
          if ( this )
          {
            this = (BattleLogic_o *)FieldMotionManager__GetTransform((FieldMotionManager_o *)this, 1, -1, 0LL);
            if ( this )
            {
              gameObject = UnityEngine_Component__get_gameObject((UnityEngine_Component_o *)this, 0LL);
              BattleActorControl__motion_BackStep(
                (BattleActorControl_o *)Component_srcLineSprite,
                gameObject,
                0.5,
                0.15,
                2,
                0LL,
                0LL,
                0LL,
                0LL);
              v9 = sub_B0D974(BattleActionData_TypeInfo, v13, v14);
              BattleActionData___ctor((BattleActionData_o *)v9, 0LL);
              if ( v9 )
              {
                *(_DWORD *)(v9 + 16) = 1;
                *(_DWORD *)(v9 + 116) = 1041865114;
                return (BattleActionData_o *)v9;
              }
            }
          }
        }
      }
LABEL_23:
      sub_B0D97C(this);
    }
  }
  return (BattleActionData_o *)v9;
}


void __fastcall BattleLogic__callBackCommandSpell(BattleLogic_o *this, System_String_o *ret, const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 *v9; // x8

  v4 = this;
  if ( (byte_42118A3 & 1) == 0 )
  {
    sub_B0D8A4(&BattleData_TypeInfo, ret);
    sub_B0D8A4(&StringLiteral_9768/*"OK"*/, v5);
    sub_B0D8A4(&StringLiteral_21287/*"ok"*/, v6);
    sub_B0D8A4(&StringLiteral_21137/*"ng"*/, v7);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_9324/*"NG"*/, v8);
    byte_42118A3 = 1;
  }
  if ( !ret )
    goto LABEL_15;
  if ( System_String__Equals_43837244(ret, (System_String_o *)StringLiteral_21287/*"ok"*/, 0LL) )
  {
    v4->fields.connCammdSpellRetryFlg = 0;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    BattleData__setCommandSpellIdBattle(0, 0, 0LL);
    BattleData__setContinueBattleFlg(0, 1, 0LL);
    this = (BattleLogic_o *)v4->fields.fsm;
    if ( this )
    {
      v9 = &StringLiteral_9768/*"OK"*/;
LABEL_13:
      PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)*v9, 0LL);
      return;
    }
    goto LABEL_15;
  }
  if ( System_String__Equals_43837244(ret, (System_String_o *)StringLiteral_21137/*"ng"*/, 0LL) )
  {
    this = (BattleLogic_o *)v4->fields.fsm;
    v4->fields.connCammdSpellRetryFlg = 1;
    if ( this )
    {
      v9 = &StringLiteral_9324/*"NG"*/;
      goto LABEL_13;
    }
LABEL_15:
    sub_B0D97C(this);
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__callBackNoEntity(BattleLogic_o *this, bool flg, const MethodInfo *method)
{
  ManagementManager_o *Instance; // x0

  if ( (byte_42118C5 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_ManagementManager__get_Instance__, flg);
    byte_42118C5 = 1;
  }
  Instance = (ManagementManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_ManagementManager__get_Instance__);
  if ( !Instance )
    sub_B0D97C(0LL);
  ManagementManager__reboot(Instance, 0, 0LL);
}


void __fastcall BattleLogic__callServant(BattleLogic_o *this, BattleActionData_o *actionData, const MethodInfo *method)
{
  System_Collections_IEnumerator_o *v4; // x1

  v4 = BattleLogic__CorCallServant(this, actionData, method);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v4, 0LL);
}


void __fastcall BattleLogic__callbackContinueCommandSpell(
        BattleLogic_o *this,
        System_String_o *ret,
        const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v6; // x2

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  BattleData__SuccessContinue(data, 0LL);
  BattleLogic__callBackCommandSpell(this, ret, v6);
}


void __fastcall BattleLogic__callbackEventTutorialBase(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  if ( (byte_42118C9 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, method);
    byte_42118C9 = 1;
  }
  perf = this->fields.perf;
  if ( !perf
    || (BattlePerformance__SetActiveTutorialDialogMask(perf, 0, 0LL),
        (perf = (BattlePerformance_o *)this->fields.fsm) == 0LL) )
  {
    sub_B0D97C(perf);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)perf, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


void __fastcall BattleLogic__callbackRequest(BattleLogic_o *this, System_String_o *result, const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 *v7; // x8

  v4 = this;
  if ( (byte_4211847 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_9768/*"OK"*/, result);
    sub_B0D8A4(&StringLiteral_21137/*"ng"*/, v5);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_9324/*"NG"*/, v6);
    byte_4211847 = 1;
  }
  if ( !result )
    goto LABEL_10;
  if ( !System_String__Equals_43837244(result, (System_String_o *)StringLiteral_21137/*"ng"*/, 0LL) )
  {
    v4->fields.resultstring = result;
    sub_B0D840(&v4->fields.resultstring, result);
    this = (BattleLogic_o *)v4->fields.fsm;
    if ( this )
    {
      v7 = &StringLiteral_9768/*"OK"*/;
      goto LABEL_9;
    }
LABEL_10:
    sub_B0D97C(this);
  }
  this = (BattleLogic_o *)v4->fields.fsm;
  if ( !this )
    goto LABEL_10;
  v7 = &StringLiteral_9324/*"NG"*/;
LABEL_9:
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)*v7, 0LL);
}


void __fastcall BattleLogic__callbackResumeLimitTurnEffect(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogic_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  struct BattlePerformance_o *perf; // x8
  UnityEngine_Object_o *objLimitTurnEffect; // x20
  struct BattlePerformance_o *v7; // x8
  srcLineSprite_o *Component_srcLineSprite; // x20

  v2 = this;
  if ( (byte_42118C8 & 1) == 0 )
  {
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_BattleRaidTurnStartEffect___, method);
    sub_B0D8A4(&UnityEngine_Object_TypeInfo, v3);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v4);
    byte_42118C8 = 1;
  }
  perf = v2->fields.perf;
  if ( !perf )
    goto LABEL_19;
  objLimitTurnEffect = (UnityEngine_Object_o *)perf->fields.objLimitTurnEffect;
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  this = (BattleLogic_o *)UnityEngine_Object__op_Inequality(objLimitTurnEffect, 0LL, 0LL);
  if ( ((unsigned __int8)this & 1) == 0 )
    goto LABEL_16;
  v7 = v2->fields.perf;
  if ( !v7 || (this = (BattleLogic_o *)v7->fields.objLimitTurnEffect) == 0LL )
LABEL_19:
    sub_B0D97C(this);
  Component_srcLineSprite = UnityEngine_GameObject__GetComponent_srcLineSprite_(
                              (UnityEngine_GameObject_o *)this,
                              (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_BattleRaidTurnStartEffect___);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  this = (BattleLogic_o *)UnityEngine_Object__op_Inequality((UnityEngine_Object_o *)Component_srcLineSprite, 0LL, 0LL);
  if ( ((unsigned __int8)this & 1) != 0 )
  {
    if ( !Component_srcLineSprite )
      goto LABEL_19;
    LOBYTE(Component_srcLineSprite->fields.mFSM) = 0;
    BattleRaidTurnStartEffect__resumeLimitTurnEffect((BattleRaidTurnStartEffect_o *)Component_srcLineSprite, 0LL);
  }
LABEL_16:
  this = (BattleLogic_o *)v2->fields.perf;
  if ( !this )
    goto LABEL_19;
  BattlePerformance__SetActiveTutorialDialogMask((BattlePerformance_o *)this, 0, 0LL);
  this = (BattleLogic_o *)v2->fields.fsm;
  if ( !this )
    goto LABEL_19;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


void __fastcall BattleLogic__callbackTutorialAttack02(BattleLogic_o *this, const MethodInfo *method)
{
  void *data; // x0
  BattleServantData_o *v4; // x20
  struct BattleData_o *v5; // x8
  __int64 v6; // x0

  if ( (byte_42118C4 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_6553/*"FULL_TD_POINT"*/, method);
    byte_42118C4 = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_9;
  data = BattleData__getFieldPlayerServantList((BattleData_o *)data, 0LL);
  if ( !data )
    goto LABEL_9;
  if ( !*((_DWORD *)data + 6) )
  {
    v6 = sub_B0D9A8(data);
    sub_B0D948(v6, 0LL);
  }
  v4 = (BattleServantData_o *)*((_QWORD *)data + 4);
  data = (void *)ConstantMaster__getValue((System_String_o *)StringLiteral_6553/*"FULL_TD_POINT"*/, 0LL);
  if ( !v4 || (data = (void *)BattleServantData__addNp(v4, (int32_t)data, 1, 0LL), (v5 = this->fields.data) == 0LL) )
LABEL_9:
    sub_B0D97C(data);
  v5->fields.tutorialState = 10;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__callbackTutorialSelectEnemyNext(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  CommonUI_o *Instance; // x19
  const MethodInfo *v5; // x2
  UnityEngine_Vector2_o v6; // kr00_8
  const MethodInfo *v7; // x2
  __int64 v8; // x0
  float v9; // s0
  float v10; // s1
  float v11; // s2
  float v12; // s3
  float v13; // s7
  float v14; // s16
  UnityEngine_Rect_o v15; // 0:s2.4,4:s3.4,8:s4.4,12:s5.4

  if ( (byte_42118C7 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, method);
    sub_B0D8A4(&StringLiteral_1/*""*/, v3);
    byte_42118C7 = 1;
  }
  Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  v6 = BattleLogic__FSTuArrow(this, 0, v5);
  *(UnityEngine_Rect_o *)&v9 = BattleLogic__FSTuSquare(this, 0, v7);
  if ( !Instance )
    sub_B0D97C(v8);
  v13 = v11;
  v14 = v12;
  v15.fields.m_XMin = v9;
  v15.fields.m_YMin = v10;
  v15.fields.m_Width = v13;
  v15.fields.m_Height = v14;
  CommonUI__OpenTutorialNotificationDialogArrow(
    Instance,
    (System_String_o *)StringLiteral_1/*""*/,
    v6,
    v15,
    0.0,
    0LL,
    -1,
    0LL,
    0LL);
}


void __fastcall BattleLogic__checkBattleTask(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogic_o *i; // x19
  struct BattleData_o *data; // x8
  int32_t v4; // w25
  struct PlayMakerFSM_o *fsm; // x8
  BattleLogic_o *v6; // x25
  unsigned __int64 v7; // x28
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  struct System_Collections_Generic_LinkedList_BattleLogicTask__o *list_logic; // x8
  struct BattleData_o *v13; // x8
  __int64 v14; // x0

  for ( i = this; ; ++i->fields.logicindex )
  {
    if ( (byte_4211859 & 1) == 0 )
    {
      sub_B0D8A4(
        &Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__ContainsKey__,
        method);
      sub_B0D8A4(
        &Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__get_Item__,
        v8);
      sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__, v9);
      sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__get_Count__, v10);
      this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_5517/*"END_TASK"*/, v11);
      byte_4211859 = 1;
    }
    list_logic = i->fields.list_logic;
    if ( !list_logic )
      goto LABEL_25;
    if ( list_logic->fields.count > 0 )
    {
      BattleLogic__playTaskBattle(i, method);
      return;
    }
    data = i->fields.data;
    if ( !data )
      goto LABEL_25;
    this = (BattleLogic_o *)data->fields.battleAtkManager;
    if ( !this )
      goto LABEL_25;
    this = (BattleLogic_o *)BattleAttackManager__GetLogicType((BattleAttackManager_o *)this, i->fields.logicindex, 0LL);
    if ( (_DWORD)this == 76 )
      break;
    v4 = (int)this;
    this = (BattleLogic_o *)i->fields.funclist;
    if ( !this )
      goto LABEL_25;
    this = (BattleLogic_o *)System_Collections_Generic_Dictionary_Voice_BATTLE__string___ContainsKey(
                              (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)this,
                              v4,
                              (const MethodInfo_2EA6F34 *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__ContainsKey__);
    if ( ((unsigned __int8)this & 1) != 0 )
    {
      this = (BattleLogic_o *)i->fields.funclist;
      if ( !this )
        goto LABEL_25;
      this = (BattleLogic_o *)System_Collections_Generic_Dictionary_Voice_BATTLE__string___get_Item(
                                (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)this,
                                v4,
                                (const MethodInfo_2EA6BFC *)Method_System_Collections_Generic_Dictionary_BattleLogic_LOGICTYPE__BattleLogic_taskFunction__get_Item__);
      if ( !this )
        goto LABEL_25;
      this = (BattleLogic_o *)BattleLogic_taskFunction__Invoke(
                                (BattleLogic_taskFunction_o *)this,
                                v4,
                                i->fields.data,
                                0LL);
      if ( this )
      {
        fsm = this->fields.fsm;
        v6 = this;
        if ( (int)fsm >= 1 )
        {
          v7 = 0LL;
          while ( 1 )
          {
            if ( v7 >= (unsigned int)fsm )
            {
              v14 = sub_B0D9A8(this);
              sub_B0D948(v14, 0LL);
            }
            this = (BattleLogic_o *)i->fields.list_logic;
            if ( !this )
              break;
            this = (BattleLogic_o *)System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot___AddLast(
                                      (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this,
                                      *((BattleServantSnapShotGroupBase_SnapShot_o **)&v6->fields.data + v7),
                                      (const MethodInfo_2D1CF50 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__);
            LODWORD(fsm) = v6->fields.fsm;
            if ( (__int64)++v7 >= (int)fsm )
              goto LABEL_15;
          }
LABEL_25:
          sub_B0D97C(this);
        }
      }
    }
LABEL_15:
    ;
  }
  v13 = i->fields.data;
  if ( !v13 )
    goto LABEL_25;
  this = (BattleLogic_o *)v13->fields.battleAtkManager;
  if ( !this )
    goto LABEL_25;
  BattleAttackManager__Next((BattleAttackManager_o *)this, 0LL);
  this = (BattleLogic_o *)i->fields.fsm;
  if ( !this )
    goto LABEL_25;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5517/*"END_TASK"*/, 0LL);
}


void __fastcall BattleLogic__checkBoostItem(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 data; // x0
  BattleSkillInfoData_o *BoostSkillInfo; // x0
  BattleSkillInfoData_o *v6; // x20
  int v7; // w8
  __int64 v8; // x21
  unsigned int v9; // w23
  __int64 v10; // x8
  __int64 v11; // x22
  BattleLogicSkill_o *logicSkill; // x21
  BattleLogicTask_array *v13; // x0
  const MethodInfo *v14; // x3
  System_Collections_IEnumerator_o *v15; // x1
  __int64 v16; // x0

  if ( (byte_421188C & 1) == 0 )
  {
    sub_B0D8A4(&int___TypeInfo, method);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v3);
    byte_421188C = 1;
  }
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_27;
  if ( !BattleData__checkProgressflg((BattleData_o *)data, 2, 0LL) )
    goto LABEL_25;
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_27;
  BattleData__offProgressflg((BattleData_o *)data, 2, 0LL);
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_27;
  if ( BattleData__isFirstStage((BattleData_o *)data, 0LL) )
  {
    data = (__int64)this->fields.data;
    if ( !data )
      goto LABEL_27;
    BoostSkillInfo = BattleData__getBoostSkillInfo((BattleData_o *)data, 0, 0LL);
    if ( BoostSkillInfo )
    {
      BoostSkillInfo->fields.svtUniqueId = -1;
      v6 = BoostSkillInfo;
      data = (__int64)this->fields.data;
      if ( data )
      {
        data = (__int64)BattleData__getFieldServantList((BattleData_o *)data, 0, 0LL);
        if ( data )
        {
          v7 = *(_DWORD *)(data + 24);
          v8 = data;
          if ( v7 < 1 )
            goto LABEL_25;
          v9 = 0;
          while ( 1 )
          {
            if ( v9 >= v7 )
              goto LABEL_28;
            v10 = v8 + 8LL * (int)v9;
            v11 = *(_QWORD *)(v10 + 32);
            if ( !v11 )
              goto LABEL_27;
            data = BattleServantData__isAlive(*(BattleServantData_o **)(v10 + 32), 0, 0LL);
            if ( (data & 1) != 0 )
              break;
            v7 = *(_DWORD *)(v8 + 24);
            if ( (int)++v9 >= v7 )
              goto LABEL_25;
          }
          logicSkill = this->fields.logicSkill;
          data = sub_B0D8BC(int___TypeInfo, 1LL);
          if ( data )
          {
            if ( !*(_DWORD *)(data + 24) )
            {
LABEL_28:
              v16 = sub_B0D9A8(data);
              sub_B0D948(v16, 0LL);
            }
            *(_DWORD *)(data + 32) = *(_DWORD *)(v11 + 24);
            if ( logicSkill )
            {
              v13 = BattleLogicSkill__taskSkill(logicSkill, v6, (System_Int32_array *)data, 0LL, 0, 0, 0, 0LL);
              if ( v13 && *(_QWORD *)&v13->max_length )
              {
                v15 = BattleLogic__waitWaveStep(this, v13, 2, v14);
                UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v15, 0LL);
                return;
              }
              goto LABEL_25;
            }
          }
        }
      }
LABEL_27:
      sub_B0D97C(data);
    }
  }
LABEL_25:
  data = (__int64)this->fields.fsm;
  if ( !data )
    goto LABEL_27;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


void __fastcall BattleLogic__checkCombo(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x1
  struct BattleData_o *data; // x8
  struct BattleCommandData_array *selectcommandlist; // x24
  System_Int32_array *v5; // x20
  __int64 v6; // x19
  System_Boolean_array *v7; // x22
  char v8; // w23
  struct BattleData_o **p_data; // x25
  _DWORD *v10; // x26
  int32_t *v11; // x27
  BattleLogic_o **m_Items; // x28
  unsigned int v13; // w19
  il2cpp_array_size_t v14; // w21
  const MethodInfo *v15; // x5
  BattleServantData_o *v16; // x23
  _BOOL4 v17; // w8
  struct BattleData_o *v18; // x8
  __int64 v19; // x0
  BattleLogic_o *v20; // [xsp+0h] [xbp-60h]
  System_Int32_array *typeid; // [xsp+8h] [xbp-58h]

  v20 = this;
  if ( (byte_4211886 & 1) == 0 )
  {
    sub_B0D8A4(&bool___TypeInfo, method);
    this = (BattleLogic_o *)sub_B0D8A4(&int___TypeInfo, v2);
    byte_4211886 = 1;
  }
  data = v20->fields.data;
  if ( !data )
    goto LABEL_32;
  selectcommandlist = data->fields.selectcommandlist;
  v5 = (System_Int32_array *)sub_B0D8BC(int___TypeInfo, 3LL);
  v6 = sub_B0D8BC(int___TypeInfo, 3LL);
  this = (BattleLogic_o *)sub_B0D8BC(bool___TypeInfo, 3LL);
  if ( !selectcommandlist )
    goto LABEL_32;
  v7 = (System_Boolean_array *)this;
  v8 = 0;
  p_data = &this->fields.data;
  typeid = (System_Int32_array *)v6;
  v10 = (_DWORD *)(v6 + 32);
  v11 = &v5->m_Items[1];
  m_Items = (BattleLogic_o **)selectcommandlist->m_Items;
  v13 = -1;
  do
  {
    v14 = v13 + 1;
    if ( v13 + 1 >= selectcommandlist->max_length )
    {
LABEL_31:
      v19 = sub_B0D9A8(this);
      sub_B0D948(v19, 0LL);
    }
    if ( !*m_Items || !v5 )
      goto LABEL_32;
    if ( v14 >= v5->max_length )
      goto LABEL_31;
    *v11 = (int32_t)(*m_Items)->fields.proc;
    if ( v14 >= selectcommandlist->max_length )
      goto LABEL_31;
    this = *m_Items;
    if ( !*m_Items )
      goto LABEL_32;
    this = (BattleLogic_o *)BattleCommandData__getCommandType((BattleCommandData_o *)this, 0LL);
    if ( !typeid )
      goto LABEL_32;
    if ( v14 >= typeid->max_length )
      goto LABEL_31;
    *v10 = (_DWORD)this;
    if ( v14 >= selectcommandlist->max_length )
      goto LABEL_31;
    this = *m_Items;
    if ( !*m_Items )
      goto LABEL_32;
    this = (BattleLogic_o *)BattleCommandData__isTreasureDvc((BattleCommandData_o *)this, 0LL);
    if ( !v7 )
      goto LABEL_32;
    if ( v14 >= v7->max_length )
      goto LABEL_31;
    *(_BYTE *)p_data = (unsigned __int8)this & 1;
    if ( (v8 & 1) != 0 )
    {
      v8 = 1;
    }
    else
    {
      if ( v14 >= v5->max_length )
        goto LABEL_31;
      this = (BattleLogic_o *)v20->fields.data;
      if ( !this )
        goto LABEL_32;
      this = (BattleLogic_o *)BattleData__getServantData((BattleData_o *)this, *v11, 0LL);
      if ( !this )
        goto LABEL_32;
      v16 = (BattleServantData_o *)this;
      this = (BattleLogic_o *)BattleServantData__isAction((BattleServantData_o *)this, 0LL);
      if ( ((unsigned __int8)this & 1) != 0 )
      {
        if ( v14 >= selectcommandlist->max_length )
          goto LABEL_31;
        this = (BattleLogic_o *)BattleServantData__isCardTypeAction(v16, (BattleCommandData_o *)*m_Items, 0LL);
        v17 = ((unsigned __int8)this & 1) == 0;
      }
      else
      {
        v17 = 1;
      }
      v8 = v17;
    }
    ++v13;
    p_data = (struct BattleData_o **)((char *)p_data + 1);
    ++v10;
    ++v11;
    ++m_Items;
  }
  while ( v13 < 2 );
  this = (BattleLogic_o *)BattleLogic__checkCommandCombo(this, v5, typeid, v7, v8, v15);
  v18 = v20->fields.data;
  if ( !v18 )
LABEL_32:
    sub_B0D97C(this);
  v18->fields.combodata = (struct BattleComboData_o *)this;
  sub_B0D840(&v18->fields.combodata, this);
}


BattleComboData_o *__fastcall BattleLogic__checkCommandCombo(
        BattleLogic_o *this,
        System_Int32_array *svtid,
        System_Int32_array *typeid,
        System_Boolean_array *isTreasureDvc,
        bool withSealedCard,
        const MethodInfo *method)
{
  BattleComboData_o *v10; // x19
  _BOOL8 isBLANK; // x0
  il2cpp_array_size_t max_length; // w8
  unsigned __int64 v13; // x25
  int32_t v14; // w9
  il2cpp_array_size_t v15; // w9
  int32_t v16; // w8
  int32_t v17; // w10
  struct System_Boolean_array *v18; // x8
  struct System_Boolean_array *v19; // x8
  int32_t v20; // w9
  struct System_Boolean_array *v21; // x8
  bool *v22; // x8
  struct System_Boolean_array *sameflg; // x8
  struct System_Boolean_array *v24; // x8
  il2cpp_array_size_t v25; // w8
  int32_t v26; // w9
  int32_t v27; // w10
  int32_t v28; // w8
  il2cpp_array_size_t v29; // w8
  bool v30; // w8
  struct System_Boolean_array *v31; // x8
  __int64 v32; // x1
  __int64 v33; // x2
  __int64 v35; // x0

  if ( (byte_42118AF & 1) == 0 )
  {
    sub_B0D8A4(&BattleComboData_TypeInfo, svtid);
    byte_42118AF = 1;
  }
  v10 = (BattleComboData_o *)sub_B0D974(BattleComboData_TypeInfo, svtid, typeid);
  BattleComboData___ctor(v10, 0LL);
  if ( !typeid )
    goto LABEL_67;
  max_length = *(_QWORD *)&typeid->max_length;
  if ( (int)max_length >= 1 )
  {
    v13 = 0LL;
    while ( v13 < max_length )
    {
      isBLANK = BattleCommand__isBLANK(typeid->m_Items[v13 + 1], 0LL);
      if ( isBLANK )
        return v10;
      max_length = typeid->max_length;
      if ( (__int64)++v13 >= (int)max_length )
        goto LABEL_9;
    }
LABEL_66:
    v35 = sub_B0D9A8(isBLANK);
    sub_B0D948(v35, 0LL);
  }
LABEL_9:
  if ( max_length < 2 )
    goto LABEL_66;
  v14 = typeid->m_Items[1];
  if ( v14 != typeid->m_Items[2] )
    goto LABEL_16;
  if ( max_length <= 2 )
    goto LABEL_66;
  if ( v14 == typeid->m_Items[3] )
  {
    if ( !v10 )
      goto LABEL_67;
    v10->fields.flash = 1;
    if ( !typeid->max_length )
      goto LABEL_66;
    v10->fields.flashtype = typeid->m_Items[1];
  }
  else
  {
LABEL_16:
    if ( !v10 )
      goto LABEL_67;
  }
  v10->fields.samecount = 1;
  if ( !svtid )
LABEL_67:
    sub_B0D97C(isBLANK);
  v15 = svtid->max_length;
  if ( v15 < 2 )
    goto LABEL_66;
  v16 = svtid->m_Items[1];
  v17 = svtid->m_Items[2];
  if ( v16 == v17 )
  {
    if ( v15 <= 2 )
      goto LABEL_66;
    if ( v16 != svtid->m_Items[3] )
    {
      sameflg = v10->fields.sameflg;
      v10->fields.samecount = 2;
      if ( !sameflg )
        goto LABEL_67;
      if ( !sameflg->max_length )
        goto LABEL_66;
      sameflg->m_Items[4] = 1;
      v24 = v10->fields.sameflg;
      if ( !v24 )
        goto LABEL_67;
      if ( v24->max_length <= 1 )
        goto LABEL_66;
      v22 = &v24->m_Items[5];
      goto LABEL_39;
    }
    v18 = v10->fields.sameflg;
    v10->fields.samecount = 3;
    if ( !v18 )
      goto LABEL_67;
    if ( !v18->max_length )
      goto LABEL_66;
    v18->m_Items[4] = 1;
    v19 = v10->fields.sameflg;
    if ( !v19 )
      goto LABEL_67;
    goto LABEL_29;
  }
  if ( v15 <= 2 )
    goto LABEL_66;
  v20 = svtid->m_Items[3];
  if ( v17 == v20 )
  {
    v19 = v10->fields.sameflg;
    v10->fields.samecount = 2;
    if ( !v19 )
      goto LABEL_67;
LABEL_29:
    if ( v19->max_length <= 1 )
      goto LABEL_66;
    v19->m_Items[5] = 1;
LABEL_31:
    v21 = v10->fields.sameflg;
    if ( !v21 )
      goto LABEL_67;
    if ( v21->max_length <= 2 )
      goto LABEL_66;
    v22 = &v21->m_Items[6];
LABEL_39:
    *v22 = 1;
    goto LABEL_40;
  }
  if ( v16 == v20 )
  {
    v31 = v10->fields.sameflg;
    v10->fields.samecount = 2;
    if ( !v31 )
      goto LABEL_67;
    if ( !v31->max_length )
      goto LABEL_66;
    v31->m_Items[4] = 1;
    goto LABEL_31;
  }
LABEL_40:
  v25 = typeid->max_length;
  if ( v25 < 2 )
    goto LABEL_66;
  v27 = typeid->m_Items[1];
  v26 = typeid->m_Items[2];
  if ( v27 != v26 )
  {
    if ( v25 <= 2 )
      goto LABEL_66;
    v28 = typeid->m_Items[3];
    if ( v27 != v28 && v26 != v28 )
      v10->fields.isMighty = 1;
  }
  if ( !isTreasureDvc )
    goto LABEL_67;
  v29 = isTreasureDvc->max_length;
  if ( !v29 )
    goto LABEL_66;
  if ( isTreasureDvc->m_Items[4] )
  {
    if ( v29 == 1 )
      goto LABEL_66;
    if ( isTreasureDvc->m_Items[5] )
    {
      v30 = 1;
      goto LABEL_61;
    }
  }
  else if ( v29 == 1 )
  {
    goto LABEL_66;
  }
  if ( isTreasureDvc->m_Items[5] )
  {
    if ( v29 <= 2 )
      goto LABEL_66;
    v30 = isTreasureDvc->m_Items[6];
  }
  else
  {
    v30 = 0;
  }
LABEL_61:
  v10->fields.isTreasureDvc = v30;
  if ( BattleComboData__AchieveAnyChain(v10, 0LL) && withSealedCard )
  {
    v10 = (BattleComboData_o *)sub_B0D974(BattleComboData_TypeInfo, v32, v33);
    BattleComboData___ctor(v10, 0LL);
    if ( !v10 )
      goto LABEL_67;
    v10->fields.chainError = 1;
  }
  return v10;
}


void __fastcall BattleLogic__checkEndBattle(
        BattleLogic_o *this,
        System_String_o *endproc,
        bool isEndOfCurrentTurn,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  BattlePerformance_o *perf; // x0
  const MethodInfo *v12; // x2
  struct BattlePerformance_o *v13; // x8
  const MethodInfo *v14; // x1
  int32_t ForceEndWinReason; // w1
  const MethodInfo *v16; // x2
  const MethodInfo *v17; // x1
  __int64 v18; // x1
  __int64 v19; // x2
  System_Action_o *v20; // x20
  const MethodInfo *v21; // x2
  System_Collections_IEnumerator_o *v22; // x1
  const MethodInfo *v23; // x1
  struct BattleData_o *data; // x8
  struct BattleData_o *v25; // x8
  int32_t limitAct; // w8
  System_String_o *v27; // x1

  if ( (byte_4211877 & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, endproc);
    sub_B0D8A4(&Method_BattleLogic__checkEndBattle_b__184_0__, v7);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_AvalonSceneManager__get_Instance__, v8);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__, v9);
    sub_B0D8A4(&StringLiteral_5662/*"EVENT_LOSE"*/, v10);
    byte_4211877 = 1;
  }
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_43;
  BattlePerformance__SetActiveTutorialDialogMask(perf, 0, 0LL);
  BattleLogic__resetTimeAcceleration(this, 0, v12);
  v13 = this->fields.perf;
  if ( !v13 )
    goto LABEL_43;
  v13->fields.isTargetChange = 1;
  perf = (BattlePerformance_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
  if ( !perf )
    goto LABEL_43;
  if ( BYTE5(perf->fields.logic) )
  {
    perf = this->fields.perf;
    if ( perf )
    {
      BattlePerformance__procEndQuest(perf, 0LL);
      perf = (BattlePerformance_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_AvalonSceneManager__get_Instance__);
      if ( perf )
      {
        AvalonSceneManager__transitionSceneRefresh((AvalonSceneManager_o *)perf, 4, 1, 0LL, 0, 0LL);
        return;
      }
    }
LABEL_43:
    sub_B0D97C(perf);
  }
  perf = (BattlePerformance_o *)this->fields.data;
  if ( !perf )
    goto LABEL_43;
  if ( BYTE5(perf->fields.masterBuffEffectList) )
    goto LABEL_12;
  perf = (BattlePerformance_o *)BattleData__checkAlivePlayers((BattleData_o *)perf, 0LL);
  if ( !this->fields.data )
    goto LABEL_43;
  if ( ((unsigned __int8)perf & 1) == 0 )
  {
    if ( BattleData__checkAliveEnemys(this->fields.data, 0LL) )
      goto LABEL_24;
    perf = (BattlePerformance_o *)this->fields.data;
    if ( !perf )
      goto LABEL_43;
    if ( !BattleData__isSuperBossBattle((BattleData_o *)perf, 0LL) )
    {
LABEL_24:
      if ( BattleLogic__CheckEnemyDropItemAll(this, v17) )
      {
        v20 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v18, v19);
        System_Action___ctor(v20, (Il2CppObject *)this, Method_BattleLogic__checkEndBattle_b__184_0__, 0LL);
        v22 = BattleLogic__dropItemCoroutine(this, v20, v21);
        UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v22, 0LL);
        return;
      }
      perf = (BattlePerformance_o *)this->fields.data;
      if ( !perf )
        goto LABEL_43;
      if ( BattleData__isBattleResultLoseQuestClear((BattleData_o *)perf, 0LL) )
      {
        BattleLogic__sendLoseRetireClearEvent(this, v23);
        return;
      }
      goto LABEL_36;
    }
    goto LABEL_39;
  }
  if ( BattleData__CheckDefenceTargetBroken(this->fields.data, 0LL) )
    goto LABEL_36;
  perf = (BattlePerformance_o *)this->fields.data;
  if ( !perf )
    goto LABEL_43;
  if ( BYTE1(perf->fields.root_field) )
  {
    if ( !BYTE2(perf->fields.root_field) )
    {
LABEL_12:
      ForceEndWinReason = BattleLogic__getForceEndWinReason(this, v14);
LABEL_13:
      BattleLogic__sendWinBattleEvent(this, ForceEndWinReason, v16);
      return;
    }
    goto LABEL_36;
  }
  if ( !BattleData__checkAliveEnemys((BattleData_o *)perf, 0LL) )
  {
LABEL_39:
    ForceEndWinReason = 1;
    goto LABEL_13;
  }
  perf = (BattlePerformance_o *)BattleLogic__IsBattleFinishByTurnExpiration(this, isEndOfCurrentTurn, v16);
  if ( ((unsigned __int8)perf & 1) == 0 )
  {
LABEL_40:
    perf = this->fields.perf;
    if ( !perf )
      goto LABEL_43;
    BattlePerformance__SetActiveTutorialDialogMask(perf, 1, 0LL);
    perf = (BattlePerformance_o *)this->fields.fsm;
    if ( !perf )
      goto LABEL_43;
    v27 = endproc;
    goto LABEL_38;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_43;
  data->fields.isTurnElapsedEndBattle = data->fields.turnElapsedEndBattleFlag;
  v25 = this->fields.data;
  if ( !v25 )
    goto LABEL_43;
  limitAct = v25->fields.limitAct;
  if ( limitAct != 2 )
  {
    if ( limitAct == 1 )
    {
      ForceEndWinReason = 2;
      goto LABEL_13;
    }
    goto LABEL_40;
  }
LABEL_36:
  perf = (BattlePerformance_o *)this->fields.fsm;
  if ( !perf )
    goto LABEL_43;
  v27 = (System_String_o *)StringLiteral_5662/*"EVENT_LOSE"*/;
LABEL_38:
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)perf, v27, 0LL);
}


bool __fastcall BattleLogic__checkEnemyTargetFunction(
        BattleLogic_o *this,
        System_Int32_array *funclist,
        DataVals_array *dataValsArray,
        const MethodInfo *method)
{
  __int64 v7; // x1
  __int64 v8; // x1
  void *Instance; // x0
  __int64 v10; // x8
  DataMasterBase_WarMaster__WarEntity__int__o *v11; // x22
  unsigned __int64 v12; // x25
  _DWORD *v13; // x23
  DataVals_o *v14; // x24
  System_Int32_array *DependFuncIdArray; // x0
  const MethodInfo *v16; // x3
  __int64 v18; // x0

  if ( (byte_42118BA & 1) == 0 )
  {
    sub_B0D8A4(&Method_DataManager_GetMasterData_FunctionMaster___, funclist);
    sub_B0D8A4(&Method_DataMasterBase_FunctionMaster__FunctionEntity__int__GetEntity__, v7);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v8);
    byte_42118BA = 1;
  }
  Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance
    || (Instance = DataManager__GetMasterData_WarQuestSelectionMaster_(
                     (DataManager_o *)Instance,
                     (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_FunctionMaster___),
        !funclist) )
  {
LABEL_18:
    sub_B0D97C(Instance);
  }
  v10 = *(_QWORD *)&funclist->max_length;
  if ( (int)v10 < 1 )
    return 0;
  v11 = (DataMasterBase_WarMaster__WarEntity__int__o *)Instance;
  v12 = 0LL;
  while ( 1 )
  {
    if ( v12 >= (unsigned int)v10 )
    {
LABEL_19:
      v18 = sub_B0D9A8(Instance);
      sub_B0D948(v18, 0LL);
    }
    if ( !v11 )
      goto LABEL_18;
    Instance = DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                 v11,
                 funclist->m_Items[v12 + 1],
                 (const MethodInfo_2669BD4 *)Method_DataMasterBase_FunctionMaster__FunctionEntity__int__GetEntity__);
    if ( !Instance )
      goto LABEL_18;
    v13 = Instance;
    Instance = (void *)Target__isEnemy(*((_DWORD *)Instance + 7), 0LL);
    if ( ((unsigned __int8)Instance & 1) != 0 )
      return 1;
    if ( dataValsArray )
    {
      if ( v12 >= dataValsArray->max_length )
        goto LABEL_19;
      v14 = dataValsArray->m_Items[v12];
      if ( !v14 )
        goto LABEL_18;
      DataVals__SetTempType(dataValsArray->m_Items[v12], (FunctionMaster_o *)v11, v13[6], 0LL);
      DependFuncIdArray = DataVals__GetDependFuncIdArray(v14, 0LL);
      Instance = (void *)BattleLogic__checkEnemyTargetFunction(this, DependFuncIdArray, 0LL, v16);
      if ( ((unsigned __int8)Instance & 1) != 0 )
        return 1;
    }
    LODWORD(v10) = funclist->max_length;
    if ( (__int64)++v12 >= (int)v10 )
      return 0;
  }
}


void __fastcall BattleLogic__checkEntryMember(
        BattleLogic_o *this,
        System_String_o *endproc,
        bool isTactical,
        bool isEventBonusCheck,
        const MethodInfo *method)
{
  System_Collections_IEnumerator_o *v6; // x1

  v6 = BattleLogic__coroutineEntrySubMember(this, endproc, isTactical, isEventBonusCheck, method);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v6, 0LL);
}


void __fastcall BattleLogic__checkFieldAIEntry(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x3
  System_Collections_IEnumerator_o *v5; // x1

  if ( (byte_42118DC & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, method);
    byte_42118DC = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_12;
  if ( !BattleData__checkProgressflg(data, 1024, 0LL) )
    goto LABEL_10;
  data = this->fields.data;
  if ( !data
    || (BattleData__offProgressflg(data, 1024, 0LL), (data = (BattleData_o *)this->fields.logicFieldAi) == 0LL)
    || (data = (BattleData_o *)BattleLogicFieldAi__checkFieldAiEntry((BattleLogicFieldAi_o *)data, 0LL)) == 0LL )
  {
LABEL_12:
    sub_B0D97C(data);
  }
  if ( data->fields.rootfsm )
  {
    v5 = BattleLogic__waitWaveStep(this, (BattleLogicTask_array *)data, 1024, v4);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v5, 0LL);
    return;
  }
LABEL_10:
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_12;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


void __fastcall BattleLogic__checkFieldAIStartTurn(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x3
  System_Collections_IEnumerator_o *v5; // x1

  if ( (byte_4211889 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, method);
    byte_4211889 = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_12;
  if ( !BattleData__checkProgressflg(data, 32, 0LL) )
    goto LABEL_10;
  data = this->fields.data;
  if ( !data
    || (BattleData__offProgressflg(data, 32, 0LL), (data = (BattleData_o *)this->fields.logicFieldAi) == 0LL)
    || (data = (BattleData_o *)BattleLogicFieldAi__checkFieldAiStartTurn((BattleLogicFieldAi_o *)data, 0LL)) == 0LL )
  {
LABEL_12:
    sub_B0D97C(data);
  }
  if ( data->fields.rootfsm )
  {
    v5 = BattleLogic__waitWaveStep(this, (BattleLogicTask_array *)data, 32, v4);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v5, 0LL);
    return;
  }
LABEL_10:
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_12;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


void __fastcall BattleLogic__checkFieldAIStartWave(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x3
  System_Collections_IEnumerator_o *v5; // x1

  if ( (byte_421188A & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, method);
    byte_421188A = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_12;
  if ( !BattleData__checkProgressflg(data, 1, 0LL) )
    goto LABEL_10;
  data = this->fields.data;
  if ( !data
    || (BattleData__offProgressflg(data, 1, 0LL), (data = (BattleData_o *)this->fields.logicFieldAi) == 0LL)
    || (data = (BattleData_o *)BattleLogicFieldAi__checkFieldAiStartWave((BattleLogicFieldAi_o *)data, 0LL)) == 0LL )
  {
LABEL_12:
    sub_B0D97C(data);
  }
  if ( data->fields.rootfsm )
  {
    v5 = BattleLogic__waitWaveStep(this, (BattleLogicTask_array *)data, 1, v4);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v5, 0LL);
    return;
  }
LABEL_10:
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_12;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


void __fastcall BattleLogic__checkFirstEntry(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 data; // x0
  __int64 v12; // x1
  __int64 v13; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v14; // x20
  int v15; // w8
  __int64 v16; // x25
  unsigned int v17; // w26
  __int64 v18; // x8
  BattleServantData_o *v19; // x22
  __int64 v20; // x1
  __int64 v21; // x2
  BattleBuffData_o *buffData; // x23
  BattleBuffData_CheckIndividualitiesData_o *v23; // x24
  __int64 v24; // x1
  __int64 v25; // x2
  int v26; // w8
  __int64 v27; // x23
  unsigned int v28; // w28
  __int64 v29; // x25
  BattleSkillInfoData_o *v30; // x24
  __int64 v31; // x8
  __int64 v32; // x8
  BattleLogicSkill_o *logicSkill; // x25
  BattleLogicTask_array *v34; // x0
  const MethodInfo *v35; // x3
  System_Collections_IEnumerator_o *v36; // x1
  __int64 v37; // x0
  __int64 v38; // [xsp+8h] [xbp-58h]

  if ( (byte_4211891 & 1) == 0 )
  {
    sub_B0D8A4(&BattleSkillInfoData_TypeInfo, method);
    sub_B0D8A4(&BattleBuffData_CheckIndividualitiesData_TypeInfo, v3);
    sub_B0D8A4(&int___TypeInfo, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__get_Count__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v9);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v10);
    byte_4211891 = 1;
  }
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_38;
  if ( !BattleData__checkProgressflg((BattleData_o *)data, 8, 0LL) )
    goto LABEL_36;
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_38;
  BattleData__offProgressflg((BattleData_o *)data, 8, 0LL);
  v14 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                  v12,
                                                                                                  v13);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v14,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_38;
  data = (__int64)BattleData__getFieldServantList((BattleData_o *)data, 0, 0LL);
  if ( !data )
    goto LABEL_38;
  v15 = *(_DWORD *)(data + 24);
  v16 = data;
  if ( v15 >= 1 )
  {
    v17 = 0;
    v38 = data;
    do
    {
      if ( v17 >= v15 )
        goto LABEL_39;
      v18 = v16 + 8LL * (int)v17;
      v19 = *(BattleServantData_o **)(v18 + 32);
      if ( !v19 )
        goto LABEL_38;
      data = BattleServantData__isAlive(*(BattleServantData_o **)(v18 + 32), 0, 0LL);
      if ( (data & 1) != 0 && v19->fields.flgEntryFunction )
      {
        v19->fields.flgEntryFunction = 0;
        buffData = v19->fields.buffData;
        v23 = (BattleBuffData_CheckIndividualitiesData_o *)sub_B0D974(
                                                             BattleBuffData_CheckIndividualitiesData_TypeInfo,
                                                             v20,
                                                             v21);
        BattleBuffData_CheckIndividualitiesData___ctor(v23, v19, 0LL, 0LL, 0LL, 0LL, 0LL);
        if ( !buffData )
          goto LABEL_38;
        data = (__int64)BattleBuffData__getBuffList_30806472(buffData, 59, v23, 1, 0, 0LL, 0LL);
        if ( !data )
          goto LABEL_38;
        v26 = *(_DWORD *)(data + 24);
        v27 = data;
        if ( v26 >= 1 )
        {
          v28 = 0;
          while ( v28 < v26 )
          {
            v29 = *(_QWORD *)(v27 + 8LL * (int)v28 + 32);
            v30 = (BattleSkillInfoData_o *)sub_B0D974(BattleSkillInfoData_TypeInfo, v24, v25);
            BattleSkillInfoData___ctor(v30, 0LL);
            if ( !v30 )
              goto LABEL_38;
            v30->fields.svtUniqueId = v19->fields.uniqueId;
            if ( !v29 )
              goto LABEL_38;
            v31 = *(_QWORD *)(v29 + 40);
            if ( !v31 )
              goto LABEL_38;
            if ( !*(_DWORD *)(v31 + 24) )
              break;
            data = ((__int64 (__fastcall *)(BattleSkillInfoData_o *, _QWORD, Il2CppMethodPointer))v30->klass->vtable._4_set_skillId.method)(
                     v30,
                     *(unsigned int *)(v31 + 32),
                     v30->klass->vtable._5_get_skillId.methodPtr);
            v32 = *(_QWORD *)(v29 + 40);
            if ( !v32 )
              goto LABEL_38;
            if ( *(_DWORD *)(v32 + 24) <= 1u )
              break;
            v30->fields.skilllv = *(_DWORD *)(v32 + 36);
            logicSkill = this->fields.logicSkill;
            data = sub_B0D8BC(int___TypeInfo, 1LL);
            if ( !data )
              goto LABEL_38;
            if ( !*(_DWORD *)(data + 24) )
              break;
            *(_DWORD *)(data + 32) = v19->fields.uniqueId;
            if ( !logicSkill )
              goto LABEL_38;
            data = (__int64)BattleLogicSkill__taskSkill(logicSkill, v30, (System_Int32_array *)data, 0LL, 0, 0, 0, 0LL);
            if ( !v14 )
              goto LABEL_38;
            System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
              (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v14,
              (System_Collections_Generic_IEnumerable_T__o *)data,
              (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
            v26 = *(_DWORD *)(v27 + 24);
            if ( (int)++v28 >= v26 )
              goto LABEL_30;
          }
LABEL_39:
          v37 = sub_B0D9A8(data);
          sub_B0D948(v37, 0LL);
        }
LABEL_30:
        data = (__int64)v19->fields.buffData;
        if ( !data )
          goto LABEL_38;
        data = (__int64)BattleBuffData__usedProgressing((BattleBuffData_o *)data, 0LL);
        v16 = v38;
      }
      v15 = *(_DWORD *)(v16 + 24);
    }
    while ( (int)++v17 < v15 );
  }
  if ( !v14 )
LABEL_38:
    sub_B0D97C(data);
  if ( v14->fields._size >= 1 )
  {
    v34 = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                     (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v14,
                                     (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
    v36 = BattleLogic__waitWaveStep(this, v34, 8, v35);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v36, 0LL);
    return;
  }
LABEL_36:
  data = (__int64)this->fields.fsm;
  if ( !data )
    goto LABEL_38;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


bool __fastcall BattleLogic__checkFunctionTargetsAvailable(
        BattleLogic_o *this,
        System_Int32_array *funclist,
        int32_t actorUniqueId,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  DataManager_o *Instance; // x0
  __int64 v8; // x8
  DataMasterBase_WarMaster__WarEntity__int__o *v9; // x22
  int v10; // w26
  unsigned __int64 v11; // x27
  char v12; // w24
  int v13; // w25
  int v14; // w28
  int v15; // w19
  DataManager_o *v16; // x23
  __int64 v18; // x0

  if ( (byte_42118BC & 1) == 0 )
  {
    sub_B0D8A4(&Method_DataManager_GetMasterData_FunctionMaster___, funclist);
    sub_B0D8A4(&Method_DataMasterBase_FunctionMaster__FunctionEntity__int__GetEntity__, v5);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v6);
    byte_42118BC = 1;
  }
  Instance = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance )
    goto LABEL_33;
  Instance = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                Instance,
                                (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_FunctionMaster___);
  if ( !funclist )
    goto LABEL_33;
  v8 = *(_QWORD *)&funclist->max_length;
  if ( (int)v8 < 1 )
    return 1;
  v9 = (DataMasterBase_WarMaster__WarEntity__int__o *)Instance;
  v10 = 0;
  v11 = 0LL;
  v12 = 1;
  v13 = 1;
  v14 = 1;
  v15 = 1;
  do
  {
    if ( v11 >= (unsigned int)v8 )
    {
      v18 = sub_B0D9A8(Instance);
      sub_B0D948(v18, 0LL);
    }
    if ( !v9 )
      goto LABEL_33;
    Instance = (DataManager_o *)DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                                  v9,
                                  funclist->m_Items[v11 + 1],
                                  (const MethodInfo_2669BD4 *)Method_DataMasterBase_FunctionMaster__FunctionEntity__int__GetEntity__);
    if ( !Instance )
      goto LABEL_33;
    v16 = Instance;
    Instance = (DataManager_o *)this->fields.logicFunction;
    if ( !Instance )
      goto LABEL_33;
    Instance = (DataManager_o *)BattleLogicFunction__getFunctionTypeProcess(
                                  (BattleLogicFunction_o *)Instance,
                                  (int32_t)v16->fields.datalist,
                                  0LL);
    if ( !Instance )
      goto LABEL_33;
    v10 |= ((__int64 (__fastcall *)(DataManager_o *, DataManager_o *, _QWORD, void *))Instance->klass[1]._1.namespaze)(
             Instance,
             v16,
             (unsigned int)actorUniqueId,
             Instance->klass[1]._1.byval_arg.data);
    v15 &= Target__isFieldPlayer(HIDWORD(v16->fields.datalist), 0LL);
    v14 &= Target__isPlayer(HIDWORD(v16->fields.datalist), 0LL);
    v13 &= Target__isFieldEnemy(HIDWORD(v16->fields.datalist), 0LL);
    Instance = (DataManager_o *)Target__isEnemy(HIDWORD(v16->fields.datalist), 0LL);
    LODWORD(v8) = funclist->max_length;
    ++v11;
    v12 &= (unsigned __int8)Instance;
  }
  while ( (__int64)v11 < (int)v8 );
  if ( (v10 & 1) == 0 )
    return 1;
  if ( (v15 & 1) != 0 )
  {
    Instance = (DataManager_o *)this->fields.data;
    if ( !Instance )
      goto LABEL_33;
    Instance = (DataManager_o *)BattleData__getAliveFieldPlayerServantIDList((BattleData_o *)Instance, 0LL, 0LL);
    if ( !Instance )
      goto LABEL_33;
    if ( !Instance->fields.datalist )
      return 0;
  }
  else if ( (v14 & 1) != 0 )
  {
    Instance = (DataManager_o *)this->fields.data;
    if ( !Instance )
      goto LABEL_33;
    if ( !BattleData__checkAlivePlayers((BattleData_o *)Instance, 0LL) )
      return 0;
  }
  if ( (v13 & 1) != 0 )
  {
    Instance = (DataManager_o *)this->fields.data;
    if ( Instance )
    {
      Instance = (DataManager_o *)BattleData__getAliveFieldEnemyServantIDList((BattleData_o *)Instance, 1, 0LL);
      if ( Instance )
        return Instance->fields.datalist != 0;
    }
    goto LABEL_33;
  }
  if ( (v12 & 1) == 0 )
    return 1;
  Instance = (DataManager_o *)this->fields.data;
  if ( !Instance )
LABEL_33:
    sub_B0D97C(Instance);
  return BattleData__checkAliveEnemys((BattleData_o *)Instance, 0LL);
}


void __fastcall BattleLogic__checkGimmick(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  BattleLogicTask_array *GimmickTask; // x0
  const MethodInfo *v5; // x3
  System_Collections_IEnumerator_o *v6; // x1

  if ( (byte_421188F & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, method);
    byte_421188F = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_14;
  if ( !BattleData__checkProgressflg(data, 128, 0LL) )
    goto LABEL_12;
  data = this->fields.data;
  if ( !data || (BattleData__offProgressflg(data, 128, 0LL), (data = this->fields.data) == 0LL) )
LABEL_14:
    sub_B0D97C(data);
  if ( BattleData__isFirstStage(data, 0LL) )
  {
    data = (BattleData_o *)this->fields.logicSkill;
    if ( !data )
      goto LABEL_14;
    GimmickTask = BattleLogicSkill__getGimmickTask((BattleLogicSkill_o *)data, 0LL);
    if ( GimmickTask && *(_QWORD *)&GimmickTask->max_length )
    {
      v6 = BattleLogic__waitWaveStep(this, GimmickTask, 128, v5);
      UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v6, 0LL);
      return;
    }
  }
LABEL_12:
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_14;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__checkImmediateEntry(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  struct BattleData_o *v9; // x8
  __int64 v10; // x1
  __int64 v11; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v12; // x20
  const MethodInfo *v13; // x1
  const MethodInfo *v14; // x3
  const MethodInfo *v15; // x1

  v4 = this;
  if ( (byte_4211872 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask___TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    this = (BattleLogic_o *)sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8);
    byte_4211872 = 1;
  }
  v9 = v4->fields.data;
  v4->fields.isPlayImmediateEntry = 0;
  if ( !v9 )
    goto LABEL_13;
  this = (BattleLogic_o *)v9->fields.quest_ent;
  if ( !this )
    goto LABEL_13;
  if ( !QuestEntity__HasFlag((QuestEntity_o *)this, 0x40000000000000LL, 0LL) )
    return (BattleLogicTask_array *)sub_B0D8BC(BattleLogicTask___TypeInfo, 0LL);
  v12 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                  v10,
                                                                                                  v11);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v12,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  this = (BattleLogic_o *)BattleLogic__existOverKillTarget(v4, v13);
  if ( ((unsigned __int8)this & 1) != 0
    || (this = (BattleLogic_o *)BattleLogic__checkImmediateEntrySubMember(v4, 0, 0, v14),
        ((unsigned __int8)this & 1) == 0) )
  {
    if ( v12 )
      return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                        (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v12,
                                        (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
LABEL_13:
    sub_B0D97C(this);
  }
  this = (BattleLogic_o *)BattleLogic__loadImmediateEntryMember(this, v15);
  if ( !v12 )
    goto LABEL_13;
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v12,
    (System_Collections_Generic_IEnumerable_T__o *)this,
    (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v12,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
bool __fastcall BattleLogic__checkImmediateEntrySubMember(
        BattleLogic_o *this,
        bool isTactical,
        bool isEventBonusCheck,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData_o *data; // x0
  unsigned __int64 v10; // x21
  struct System_Int32_array *e_entryid; // x8
  unsigned __int64 max_length; // x9
  BattleServantData_o *EnemyServantData; // x0
  __int64 v14; // x1
  __int64 v15; // x2
  BattleLogic___c_c *v16; // x8
  Il2CppObject *v17; // x22
  struct BattleLogic___c_StaticFields *static_fields; // x9
  System_Predicate_peRenderTexture_ChangeLayerObject__o *_9__80_0; // x23
  Il2CppObject *v20; // x24
  struct BattleLogic___c_StaticFields *v21; // x0
  struct BattleData_o *v22; // x2
  struct System_Boolean_array *enemyAppearValid; // x8
  BattleServantData_o *ImmediateRestockServant; // x0
  __int64 v26; // x0

  if ( (byte_4211838 & 1) == 0 )
  {
    sub_B0D8A4(&Method_BasicHelper_TakeIf_BattleServantData___, isTactical);
    sub_B0D8A4(&Method_System_Predicate_BattleServantData___ctor__, v5);
    sub_B0D8A4(&System_Predicate_BattleServantData__TypeInfo, v6);
    sub_B0D8A4(&Method_BattleLogic___c__checkImmediateEntrySubMember_b__80_0__, v7);
    sub_B0D8A4(&BattleLogic___c_TypeInfo, v8);
    byte_4211838 = 1;
  }
  data = this->fields.data;
  if ( !data )
LABEL_28:
    sub_B0D97C(data);
  v10 = 0LL;
  while ( 1 )
  {
    e_entryid = data->fields.e_entryid;
    if ( !e_entryid )
      goto LABEL_28;
    max_length = e_entryid->max_length;
    if ( (__int64)v10 >= (int)max_length )
      return 0;
    if ( v10 >= max_length )
      goto LABEL_29;
    EnemyServantData = BattleData__getEnemyServantData(data, e_entryid->m_Items[v10 + 1], 0LL);
    v16 = BattleLogic___c_TypeInfo;
    v17 = (Il2CppObject *)EnemyServantData;
    if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattleLogic___c_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
      v16 = BattleLogic___c_TypeInfo;
    }
    static_fields = v16->static_fields;
    _9__80_0 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)static_fields->__9__80_0;
    if ( !_9__80_0 )
    {
      if ( (BYTE3(v16->vtable._0_Equals.methodPtr) & 4) != 0 && !v16->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(v16);
        static_fields = BattleLogic___c_TypeInfo->static_fields;
      }
      v20 = (Il2CppObject *)static_fields->__9;
      _9__80_0 = (System_Predicate_peRenderTexture_ChangeLayerObject__o *)sub_B0D974(
                                                                            System_Predicate_BattleServantData__TypeInfo,
                                                                            v14,
                                                                            v15);
      System_Predicate_peRenderTexture_ChangeLayerObject____ctor(
        _9__80_0,
        v20,
        Method_BattleLogic___c__checkImmediateEntrySubMember_b__80_0__,
        (const MethodInfo_2AF7E30 *)Method_System_Predicate_BattleServantData___ctor__);
      v21 = BattleLogic___c_TypeInfo->static_fields;
      v21->__9__80_0 = (struct System_Predicate_BattleServantData__o *)_9__80_0;
      sub_B0D840(&v21->__9__80_0, _9__80_0);
    }
    data = (BattleData_o *)BasicHelper__TakeIf_object_(
                             v17,
                             (System_Predicate_T__o *)_9__80_0,
                             (const MethodInfo_1709FCC *)Method_BasicHelper_TakeIf_BattleServantData___);
    if ( !data )
    {
      v22 = this->fields.data;
      if ( !v22 )
        goto LABEL_28;
      enemyAppearValid = v22->fields.enemyAppearValid;
      if ( !enemyAppearValid )
        goto LABEL_28;
      if ( v10 >= enemyAppearValid->max_length )
      {
LABEL_29:
        v26 = sub_B0D9A8(data);
        sub_B0D948(v26, 0LL);
      }
      if ( enemyAppearValid->m_Items[v10 + 4] )
      {
        ImmediateRestockServant = RestockServantLogic__GetImmediateRestockServant(v10, 1, v22, 0LL);
        if ( ImmediateRestockServant )
        {
          if ( !isEventBonusCheck || ImmediateRestockServant->fields.isAddition )
            return 1;
        }
      }
    }
    data = this->fields.data;
    ++v10;
    if ( !data )
      goto LABEL_28;
  }
}


bool __fastcall BattleLogic__checkInField(BattleLogic_o *this, int32_t uniqueId, const MethodInfo *method)
{
  void *data; // x0
  int v5; // w8
  _DWORD *v6; // x20
  unsigned int v7; // w22
  char *v8; // x8
  __int64 v9; // x21
  __int64 v11; // x0

  data = this->fields.data;
  if ( !data || (data = BattleData__getFieldServantList((BattleData_o *)data, 0, 0LL)) == 0LL )
LABEL_12:
    sub_B0D97C(data);
  v5 = *((_DWORD *)data + 6);
  v6 = data;
  if ( v5 < 1 )
    return 0;
  v7 = 0;
  while ( 1 )
  {
    if ( v7 >= v5 )
    {
      v11 = sub_B0D9A8(data);
      sub_B0D948(v11, 0LL);
    }
    v8 = (char *)&v6[2 * v7];
    v9 = *((_QWORD *)v8 + 4);
    if ( !v9 )
      goto LABEL_12;
    data = (void *)BattleServantData__isAlive(*((BattleServantData_o **)v8 + 4), 0, 0LL);
    if ( ((unsigned __int8)data & 1) != 0 && *(_DWORD *)(v9 + 24) == uniqueId )
      return 1;
    v5 = v6[6];
    if ( (int)++v7 >= v5 )
      return 0;
  }
}


void __fastcall BattleLogic__checkNextBattle(BattleLogic_o *this, System_String_o *endproc, const MethodInfo *method)
{
  __int64 v4; // x1
  BattleData_o *data; // x0
  __int64 *v6; // x9

  if ( (byte_421187E & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5641/*"EVENT_ENDBATTLE"*/, endproc);
    sub_B0D8A4(&StringLiteral_5664/*"EVENT_NEXTBATTLE"*/, v4);
    byte_421187E = 1;
  }
  data = this->fields.data;
  if ( !data
    || (BattleData__saveKnockdownEachWave(data, 0LL), (data = this->fields.data) == 0LL)
    || (data = (BattleData_o *)BattleData__existsNextBattle(data, 0LL), !this->fields.fsm) )
  {
    sub_B0D97C(data);
  }
  if ( ((unsigned __int8)data & 1) != 0 )
    v6 = &StringLiteral_5664/*"EVENT_NEXTBATTLE"*/;
  else
    v6 = &StringLiteral_5641/*"EVENT_ENDBATTLE"*/;
  PlayMakerFSM__SendEvent(this->fields.fsm, (System_String_o *)*v6, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__checkOverKill(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v9; // x19
  BattleLogicNomal_o *battleEvent; // x0
  struct BattleData_o *v11; // x8
  const MethodInfo *v12; // x1
  __int64 v13; // x1
  __int64 v14; // x2
  __int64 v15; // x20

  if ( (byte_4211871 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8);
    byte_4211871 = 1;
  }
  v9 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 *(_QWORD *)&ltype,
                                                                                                 data);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v9,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v11 = this->fields.data;
  if ( !v11 )
    goto LABEL_14;
  battleEvent = (BattleLogicNomal_o *)v11->fields.battleEvent;
  if ( !battleEvent )
    goto LABEL_14;
  battleEvent = (BattleLogicNomal_o *)(*(__int64 (__fastcall **)(BattleLogicNomal_o *, Il2CppClass *))&battleEvent->klass[2]._1.this_arg.bits)(
                                        battleEvent,
                                        battleEvent->klass[2]._1.element_class);
  if ( ((unsigned __int8)battleEvent & 1) != 0 )
  {
    battleEvent = this->fields.logicnomal;
    if ( !battleEvent )
      goto LABEL_14;
    battleEvent = (BattleLogicNomal_o *)BattleLogicNomal__checkOverKill(battleEvent, 0LL);
    if ( ((unsigned __int8)battleEvent & 1) == 0 )
    {
      BattleLogic__resetOverKill(this, v12);
      v15 = sub_B0D974(BattleLogicTask_TypeInfo, v13, v14);
      BattleLogicTask___ctor((BattleLogicTask_o *)v15, 0LL);
      if ( v15 )
      {
        *(_BYTE *)(v15 + 208) = 1;
        BattleLogicTask__setSystem((BattleLogicTask_o *)v15, 0LL);
        *(_DWORD *)(v15 + 124) = 0;
        if ( v9 )
        {
          System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
            v9,
            (EventMissionProgressRequest_Argument_ProgressData_o *)v15,
            (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
          return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                            (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v9,
                                            (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
        }
      }
LABEL_14:
      sub_B0D97C(battleEvent);
    }
  }
  if ( !v9 )
    goto LABEL_14;
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v9,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


bool __fastcall BattleLogic__checkPtTargetFunction(
        BattleLogic_o *this,
        System_Int32_array *funclist,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  void *Instance; // x0
  __int64 v7; // x8
  DataMasterBase_WarMaster__WarEntity__int__o *v8; // x20
  unsigned __int64 v9; // x21
  __int64 v11; // x0

  if ( (byte_42118BB & 1) == 0 )
  {
    sub_B0D8A4(&Method_DataManager_GetMasterData_FunctionMaster___, funclist);
    sub_B0D8A4(&Method_DataMasterBase_FunctionMaster__FunctionEntity__int__GetEntity__, v4);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v5);
    byte_42118BB = 1;
  }
  Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance
    || (Instance = DataManager__GetMasterData_WarQuestSelectionMaster_(
                     (DataManager_o *)Instance,
                     (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_FunctionMaster___),
        !funclist) )
  {
LABEL_14:
    sub_B0D97C(Instance);
  }
  v7 = *(_QWORD *)&funclist->max_length;
  if ( (int)v7 < 1 )
    return 0;
  v8 = (DataMasterBase_WarMaster__WarEntity__int__o *)Instance;
  v9 = 0LL;
  while ( 1 )
  {
    if ( v9 >= (unsigned int)v7 )
    {
      v11 = sub_B0D9A8(Instance);
      sub_B0D948(v11, 0LL);
    }
    if ( !v8 )
      goto LABEL_14;
    Instance = DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                 v8,
                 funclist->m_Items[v9 + 1],
                 (const MethodInfo_2669BD4 *)Method_DataMasterBase_FunctionMaster__FunctionEntity__int__GetEntity__);
    if ( !Instance )
      goto LABEL_14;
    Instance = (void *)Target__isPlayer(*((_DWORD *)Instance + 7), 0LL);
    if ( ((unsigned __int8)Instance & 1) != 0 )
      return 1;
    LODWORD(v7) = funclist->max_length;
    if ( (__int64)++v9 >= (int)v7 )
      return 0;
  }
}


void __fastcall BattleLogic__checkQuestBehavior(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  BattleLogicTask_array *QuestBehaviorSkillTask; // x0
  const MethodInfo *v5; // x3
  System_Collections_IEnumerator_o *v6; // x1

  if ( (byte_421188E & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, method);
    byte_421188E = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_14;
  if ( !BattleData__checkProgressflg(data, 64, 0LL) )
    goto LABEL_12;
  data = this->fields.data;
  if ( !data || (BattleData__offProgressflg(data, 64, 0LL), (data = this->fields.data) == 0LL) )
LABEL_14:
    sub_B0D97C(data);
  if ( BattleData__isFirstStage(data, 0LL) )
  {
    data = (BattleData_o *)this->fields.logicSkill;
    if ( !data )
      goto LABEL_14;
    QuestBehaviorSkillTask = BattleLogicSkill__getQuestBehaviorSkillTask((BattleLogicSkill_o *)data, 0LL);
    if ( QuestBehaviorSkillTask && *(_QWORD *)&QuestBehaviorSkillTask->max_length )
    {
      v6 = BattleLogic__waitWaveStep(this, QuestBehaviorSkillTask, 64, v5);
      UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v6, 0LL);
      return;
    }
  }
LABEL_12:
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_14;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


bool __fastcall BattleLogic__checkRelationTask(BattleLogic_o *this, BattleLogicTask_o *task, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  System_Collections_Generic_Stack_DtdParser_ParseElementOnlyContent_LocalFrame__o *v12; // x20
  BattleLogicReaction_o *logicReaction; // x0
  struct BattleLogic_o *logic; // x8
  BattleLogicReaction_o *v15; // x22
  unsigned __int64 v16; // x23
  struct BattleLogic_o *v17; // x8
  BattleLogicReaction_o *v18; // x22
  unsigned __int64 v19; // x23
  struct BattleLogic_o *v20; // x8
  BattleLogicReaction_o *v21; // x22
  unsigned __int64 v22; // x23
  const MethodInfo *v23; // x2
  struct BattleLogic_o *v24; // x8
  BattleLogicReaction_o *v25; // x22
  unsigned __int64 v26; // x23
  bool v27; // w0
  BattleLogicTask_o *prevTask; // x1
  BattlePerformance_o *perf; // x22
  BattleLogicNomal_o *logicnomal; // x23
  BattlePerformance_o *v31; // x22
  __int64 v32; // x1
  __int64 v33; // x2
  BattleLogicTask_o *v34; // x23
  const MethodInfo *v35; // x2
  BattlePerformance_o *v36; // x22
  struct BattleLogicTask_o **p_prevTask; // x22
  struct BattleLogicTask_o **v38; // x0
  BattleLogicTask_o *v39; // x1
  struct BattleLogic_o *v40; // x8
  BattleLogicReaction_o *v41; // x21
  unsigned __int64 v42; // x22
  struct System_Collections_Generic_LinkedList_BattleLogicTask__o *list_logic; // x21
  __int64 v45; // x0

  if ( (byte_421185D & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, task);
    sub_B0D8A4(&BattlePerformance_TypeInfo, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddFirst__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_Stack_BattleLogicTask__Pop__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_Stack_BattleLogicTask__Push__, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_Stack_BattleLogicTask___ctor__, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_Stack_BattleLogicTask__get_Count__, v10);
    sub_B0D8A4(&System_Collections_Generic_Stack_BattleLogicTask__TypeInfo, v11);
    byte_421185D = 1;
  }
  v12 = (System_Collections_Generic_Stack_DtdParser_ParseElementOnlyContent_LocalFrame__o *)sub_B0D974(
                                                                                              System_Collections_Generic_Stack_BattleLogicTask__TypeInfo,
                                                                                              task,
                                                                                              method);
  System_Collections_Generic_Stack_DtdParser_ParseElementOnlyContent_LocalFrame____ctor(
    v12,
    (const MethodInfo_2A98B4C *)Method_System_Collections_Generic_Stack_BattleLogicTask___ctor__);
  logicReaction = this->fields.logicReaction;
  if ( !logicReaction )
    goto LABEL_72;
  logicReaction = (BattleLogicReaction_o *)BattleLogicReaction__checkChangeApp(logicReaction, 0LL);
  if ( !logicReaction )
    goto LABEL_72;
  logic = logicReaction->fields.logic;
  v15 = logicReaction;
  if ( logic && (int)logic >= 1 )
  {
    v16 = 0LL;
    while ( v16 < (unsigned int)logic )
    {
      if ( !v12 )
        goto LABEL_72;
      System_Collections_Generic_Stack_DtdParser_ParseElementOnlyContent_LocalFrame___Push(
        v12,
        *((System_Xml_DtdParser_ParseElementOnlyContent_LocalFrame_o **)&v15->fields.perf + v16),
        (const MethodInfo_2A991E0 *)Method_System_Collections_Generic_Stack_BattleLogicTask__Push__);
      LODWORD(logic) = v15->fields.logic;
      if ( (__int64)++v16 >= (int)logic )
        goto LABEL_11;
    }
LABEL_73:
    v45 = sub_B0D9A8(logicReaction);
    sub_B0D948(v45, 0LL);
  }
LABEL_11:
  logicReaction = this->fields.logicReaction;
  if ( !logicReaction )
    goto LABEL_72;
  logicReaction = (BattleLogicReaction_o *)BattleLogicReaction__checkResurrection(logicReaction, 0LL);
  if ( !logicReaction )
    goto LABEL_72;
  v17 = logicReaction->fields.logic;
  v18 = logicReaction;
  if ( v17 && (int)v17 >= 1 )
  {
    v19 = 0LL;
    while ( v19 < (unsigned int)v17 )
    {
      if ( !v12 )
        goto LABEL_72;
      System_Collections_Generic_Stack_DtdParser_ParseElementOnlyContent_LocalFrame___Push(
        v12,
        *((System_Xml_DtdParser_ParseElementOnlyContent_LocalFrame_o **)&v18->fields.perf + v19),
        (const MethodInfo_2A991E0 *)Method_System_Collections_Generic_Stack_BattleLogicTask__Push__);
      LODWORD(v17) = v18->fields.logic;
      if ( (__int64)++v19 >= (int)v17 )
        goto LABEL_19;
    }
    goto LABEL_73;
  }
LABEL_19:
  logicReaction = this->fields.logicReaction;
  if ( !logicReaction )
    goto LABEL_72;
  logicReaction = (BattleLogicReaction_o *)BattleLogicReaction__checkWithdraw(logicReaction, 0LL);
  if ( !logicReaction )
    goto LABEL_72;
  v20 = logicReaction->fields.logic;
  v21 = logicReaction;
  if ( v20 && (int)v20 >= 1 )
  {
    v22 = 0LL;
    while ( v22 < (unsigned int)v20 )
    {
      if ( !v12 )
        goto LABEL_72;
      System_Collections_Generic_Stack_DtdParser_ParseElementOnlyContent_LocalFrame___Push(
        v12,
        *((System_Xml_DtdParser_ParseElementOnlyContent_LocalFrame_o **)&v21->fields.perf + v22),
        (const MethodInfo_2A991E0 *)Method_System_Collections_Generic_Stack_BattleLogicTask__Push__);
      LODWORD(v20) = v21->fields.logic;
      if ( (__int64)++v22 >= (int)v20 )
        goto LABEL_27;
    }
    goto LABEL_73;
  }
LABEL_27:
  logicReaction = this->fields.logicReaction;
  if ( !logicReaction )
    goto LABEL_72;
  logicReaction = (BattleLogicReaction_o *)BattleLogicReaction__checkDead(logicReaction, 0LL);
  if ( !logicReaction )
    goto LABEL_72;
  v24 = logicReaction->fields.logic;
  v25 = logicReaction;
  if ( v24 && (int)v24 >= 1 )
  {
    v26 = 0LL;
    while ( v26 < (unsigned int)v24 )
    {
      if ( !v12 )
        goto LABEL_72;
      System_Collections_Generic_Stack_DtdParser_ParseElementOnlyContent_LocalFrame___Push(
        v12,
        *((System_Xml_DtdParser_ParseElementOnlyContent_LocalFrame_o **)&v25->fields.perf + v26),
        (const MethodInfo_2A991E0 *)Method_System_Collections_Generic_Stack_BattleLogicTask__Push__);
      LODWORD(v24) = v25->fields.logic;
      if ( (__int64)++v26 >= (int)v24 )
        goto LABEL_35;
    }
    goto LABEL_73;
  }
LABEL_35:
  if ( !task )
    goto LABEL_72;
  if ( task->fields.isSkipStep )
    goto LABEL_59;
  v27 = BattleLogicTask__checkActorId(task, this->fields.prevTask, 0LL);
  prevTask = this->fields.prevTask;
  if ( v27 )
  {
    if ( BattleLogicTask__checkTargetId(task, prevTask, 0LL) && !BattleLogicTask__IsDoNotAct(task, 0LL) )
      goto LABEL_54;
    logicReaction = (BattleLogicReaction_o *)this->fields.prevTask;
    if ( logicReaction )
    {
      perf = this->fields.perf;
      logicnomal = this->fields.logicnomal;
      logicReaction = (BattleLogicReaction_o *)BattleLogicTask__getActorId((BattleLogicTask_o *)logicReaction, 0LL);
      if ( logicnomal )
      {
        logicReaction = (BattleLogicReaction_o *)BattleLogicNomal__createBackStep(
                                                   logicnomal,
                                                   (int32_t)logicReaction,
                                                   0LL);
        if ( perf )
        {
          BattlePerformance__addActionData_18166504(perf, (BattleActionData_o *)logicReaction, 0LL);
          v31 = this->fields.perf;
          v34 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v32, v33);
          BattleLogicTask___ctor(v34, 0LL);
          logicReaction = (BattleLogicReaction_o *)BattlePerformance_TypeInfo;
          if ( (BYTE3(BattlePerformance_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !BattlePerformance_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(BattlePerformance_TypeInfo);
          }
          if ( v34 )
          {
            v34->fields.systemTime = BattlePerformance_TypeInfo->static_fields->AFTER_BACK_STEP_INTERVAL;
            logicReaction = (BattleLogicReaction_o *)BattleLogic__createSystem((BattleLogic_o *)logicReaction, v34, v35);
            if ( v31 )
            {
              BattlePerformance__addActionData_18166504(v31, (BattleActionData_o *)logicReaction, 0LL);
              goto LABEL_54;
            }
          }
        }
      }
    }
LABEL_72:
    sub_B0D97C(logicReaction);
  }
  if ( prevTask )
  {
    v36 = this->fields.perf;
    logicReaction = (BattleLogicReaction_o *)BattleLogicTask__getActorId(this->fields.prevTask, 0LL);
    if ( !v36 )
      goto LABEL_72;
    BattlePerformance__playBackStepMotion(v36, (int32_t)logicReaction, 0LL);
  }
  logicReaction = (BattleLogicReaction_o *)this->fields.perf;
  if ( !logicReaction )
    goto LABEL_72;
  BattlePerformance__hideOverKillMessage((BattlePerformance_o *)logicReaction, 0LL);
LABEL_54:
  p_prevTask = &this->fields.prevTask;
  if ( BattleLogicTask__isCommandAction(task, 0LL) || BattleLogicTask__isAddAttack(task, 0LL) )
  {
    *p_prevTask = task;
    v38 = &this->fields.prevTask;
    v39 = task;
  }
  else
  {
    v38 = &this->fields.prevTask;
    v39 = 0LL;
    *p_prevTask = 0LL;
  }
  sub_B0D840(v38, v39);
LABEL_59:
  if ( !v12 )
    goto LABEL_72;
  if ( v12->fields._size > 0 )
    goto LABEL_68;
  logicReaction = (BattleLogicReaction_o *)BattleLogic__taskReaction(this, task, v23);
  if ( logicReaction )
  {
    v40 = logicReaction->fields.logic;
    v41 = logicReaction;
    if ( v40 )
    {
      if ( (int)v40 >= 1 )
      {
        v42 = 0LL;
        while ( v42 < (unsigned int)v40 )
        {
          System_Collections_Generic_Stack_DtdParser_ParseElementOnlyContent_LocalFrame___Push(
            v12,
            *((System_Xml_DtdParser_ParseElementOnlyContent_LocalFrame_o **)&v41->fields.perf + v42),
            (const MethodInfo_2A991E0 *)Method_System_Collections_Generic_Stack_BattleLogicTask__Push__);
          LODWORD(v40) = v41->fields.logic;
          if ( (__int64)++v42 >= (int)v40 )
            goto LABEL_67;
        }
        goto LABEL_73;
      }
    }
  }
LABEL_67:
  if ( v12->fields._size < 1 )
    return 0;
  do
  {
LABEL_68:
    list_logic = this->fields.list_logic;
    logicReaction = (BattleLogicReaction_o *)System_Collections_Generic_Stack_DtdParser_ParseElementOnlyContent_LocalFrame___Pop(
                                               v12,
                                               (const MethodInfo_2A99154 *)Method_System_Collections_Generic_Stack_BattleLogicTask__Pop__);
    if ( !list_logic )
      goto LABEL_72;
    System_Collections_Generic_LinkedList_WebConnection___AddFirst(
      (System_Collections_Generic_LinkedList_WebConnection__o *)list_logic,
      (System_Net_WebConnection_o *)logicReaction,
      (const MethodInfo_2D1CDE4 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddFirst__);
  }
  while ( v12->fields._size > 0 );
  return 1;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__checkSelectEnemyClick(BattleLogic_o *this, int32_t index, const MethodInfo *method)
{
  Il2CppObject *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  Il2CppClass *klass; // x8
  CommonUI_o *Instance; // x20
  __int64 v9; // x1
  __int64 v10; // x2
  System_Action_o *v11; // x21

  v4 = (Il2CppObject *)this;
  if ( (byte_42118C6 & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, *(_QWORD *)&index);
    sub_B0D8A4(&Method_BattleLogic_callbackTutorialSelectEnemyNext__, v5);
    this = (BattleLogic_o *)sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, v6);
    byte_42118C6 = 1;
  }
  klass = v4[2].klass;
  if ( !klass )
    goto LABEL_12;
  if ( LODWORD(klass->vtable[45].method) == 3
    && HIDWORD(klass->static_fields) == 1
    && LODWORD(klass->rgctx_data) == 1
    && index == 1
    && !HIDWORD(klass->vtable[45].method) )
  {
    HIDWORD(klass->vtable[45].method) = 1;
    Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
    v11 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v9, v10);
    System_Action___ctor(v11, v4, Method_BattleLogic_callbackTutorialSelectEnemyNext__, 0LL);
    if ( Instance )
    {
      CommonUI__CloseTutorialNotificationDialogArrow_17042172(Instance, v11, 0LL);
      return;
    }
LABEL_12:
    sub_B0D97C(this);
  }
}


bool __fastcall BattleLogic__checkSelectFunctionTarget(
        BattleLogic_o *this,
        System_Int32_array *funclist,
        bool isCheckCommandType,
        const MethodInfo *method)
{
  __int64 v6; // x1
  __int64 v7; // x1
  void *Instance; // x0
  __int64 v9; // x8
  DataMasterBase_WarMaster__WarEntity__int__o *v10; // x21
  unsigned __int64 v11; // x22
  int32_t v12; // w0
  __int64 v14; // x0

  if ( (byte_42118B9 & 1) == 0 )
  {
    sub_B0D8A4(&Method_DataManager_GetMasterData_FunctionMaster___, funclist);
    sub_B0D8A4(&Method_DataMasterBase_FunctionMaster__FunctionEntity__int__GetEntity__, v6);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v7);
    byte_42118B9 = 1;
  }
  Instance = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !Instance
    || (Instance = DataManager__GetMasterData_WarQuestSelectionMaster_(
                     (DataManager_o *)Instance,
                     (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_FunctionMaster___),
        !funclist) )
  {
LABEL_17:
    sub_B0D97C(Instance);
  }
  v9 = *(_QWORD *)&funclist->max_length;
  if ( (int)v9 < 1 )
    return 0;
  v10 = (DataMasterBase_WarMaster__WarEntity__int__o *)Instance;
  v11 = 0LL;
  while ( 1 )
  {
    if ( v11 >= (unsigned int)v9 )
    {
      v14 = sub_B0D9A8(Instance);
      sub_B0D948(v14, 0LL);
    }
    if ( !v10 )
      goto LABEL_17;
    Instance = DataMasterBase_WarMaster__WarEntity__int___GetEntity(
                 v10,
                 funclist->m_Items[v11 + 1],
                 (const MethodInfo_2669BD4 *)Method_DataMasterBase_FunctionMaster__FunctionEntity__int__GetEntity__);
    if ( !Instance )
      goto LABEL_17;
    v12 = *((_DWORD *)Instance + 7);
    if ( isCheckCommandType )
    {
      Instance = (void *)Target__isCommandType(v12, 0LL);
      if ( ((unsigned __int8)Instance & 1) != 0 )
        return 1;
      goto LABEL_14;
    }
    Instance = (void *)Target__isChoose(v12, 0LL);
    if ( ((unsigned __int8)Instance & 1) != 0 )
      return 1;
LABEL_14:
    LODWORD(v9) = funclist->max_length;
    if ( (__int64)++v11 >= (int)v9 )
      return 0;
  }
}


void __fastcall BattleLogic__checkSkillTarget(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleLogic_UseSkillObject_o *tmp_useSkill; // x1
  struct BattleLogic_UseSkillObject_o **p_act_useSkill; // x20
  BattlePerformance_o *perf; // x0

  if ( (byte_4211899 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, method);
    byte_4211899 = 1;
  }
  tmp_useSkill = this->fields.tmp_useSkill;
  p_act_useSkill = &this->fields.act_useSkill;
  this->fields.act_useSkill = tmp_useSkill;
  sub_B0D840(&this->fields.act_useSkill, tmp_useSkill);
  perf = this->fields.perf;
  if ( !perf
    || (perf = (BattlePerformance_o *)BattlePerformance__get_MotionSkipManager(perf, 0LL), !*p_act_useSkill)
    || !perf
    || (BattleMotionSkipManager__SetMotionSkip(
          (BattleMotionSkipManager_o *)perf,
          (*p_act_useSkill)->fields.skillInfo,
          0LL),
        (perf = (BattlePerformance_o *)this->fields.data) == 0LL)
    || (BattleData__ResetPerformedVals((BattleData_o *)perf, 0LL),
        (perf = (BattlePerformance_o *)this->fields.data) == 0LL)
    || (BattleData__ResetFreshBuffList((BattleData_o *)perf, 0LL),
        (perf = (BattlePerformance_o *)this->fields.fsm) == 0LL) )
  {
    sub_B0D97C(perf);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)perf, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


void __fastcall BattleLogic__checkStarDirection(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogic_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  struct BattleLogic_UseSkillObject_o *act_useSkill; // x8
  struct BattleSkillInfoData_o *skillInfo; // x20
  DataMasterBase_WarMaster__WarEntity__int__o *v14; // x21
  System_String_o *Value; // x20
  BattleLogic_o *v16; // x21
  struct PlayMakerFSM_o *fsm; // x8
  System_Int32_array *v18; // x20
  unsigned __int64 v19; // x23
  struct BattleData_o **p_data; // x22
  __int64 *v21; // x8
  __int64 v22; // x0
  WarEntity_o *entity; // [xsp+8h] [xbp-38h] BYREF

  v2 = this;
  if ( (byte_421189B & 1) == 0 )
  {
    sub_B0D8A4(&char___TypeInfo, method);
    sub_B0D8A4(&Method_DataManager_GetMasterData_SkillMaster___, v3);
    sub_B0D8A4(&Method_DataMasterBase_SkillMaster__SkillEntity__int__TryGetEntity__, v4);
    sub_B0D8A4(&int___TypeInfo, v5);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v6);
    sub_B0D8A4(&StringLiteral_1661/*"ADD_DIRECTION"*/, v7);
    sub_B0D8A4(&StringLiteral_12404/*"STAR_REFRESH_BUFF_TYPE"*/, v8);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v9);
    sub_B0D8A4(&StringLiteral_11089/*"RECOVERY_DIRECTION"*/, v10);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_11091/*"REFRESH_DIRECTION"*/, v11);
    byte_421189B = 1;
  }
  entity = 0LL;
  act_useSkill = v2->fields.act_useSkill;
  if ( !act_useSkill )
    goto LABEL_43;
  skillInfo = act_useSkill->fields.skillInfo;
  entity = 0LL;
  this = (BattleLogic_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !this )
    goto LABEL_43;
  this = (BattleLogic_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                            (DataManager_o *)this,
                            (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_SkillMaster___);
  if ( !skillInfo )
    goto LABEL_43;
  v14 = (DataMasterBase_WarMaster__WarEntity__int__o *)this;
  this = (BattleLogic_o *)((__int64 (__fastcall *)(struct BattleSkillInfoData_o *, Il2CppMethodPointer))skillInfo->klass->vtable._5_get_skillId.method)(
                            skillInfo,
                            skillInfo->klass->vtable._6_get_IndividualityArray.methodPtr);
  if ( !v14 )
    goto LABEL_43;
  if ( !DataMasterBase_WarMaster__WarEntity__int___TryGetEntity(
          v14,
          &entity,
          (int32_t)this,
          (const MethodInfo_2669C30 *)Method_DataMasterBase_SkillMaster__SkillEntity__int__TryGetEntity__) )
    goto LABEL_39;
  Value = ConstantStrMaster__getValue((System_String_o *)StringLiteral_12404/*"STAR_REFRESH_BUFF_TYPE"*/, 0LL);
  this = (BattleLogic_o *)sub_B0D8BC(char___TypeInfo, 1LL);
  if ( !this )
    goto LABEL_43;
  if ( !LODWORD(this->fields.fsm) )
    goto LABEL_42;
  LOWORD(this->fields.data) = 44;
  if ( !Value )
    goto LABEL_43;
  this = (BattleLogic_o *)System_String__Split(Value, (System_Char_array *)this, 0LL);
  if ( !this )
    goto LABEL_43;
  v16 = this;
  this = (BattleLogic_o *)sub_B0D8BC(int___TypeInfo, LODWORD(this->fields.fsm));
  fsm = v16->fields.fsm;
  v18 = (System_Int32_array *)this;
  if ( (int)fsm >= 1 )
  {
    v19 = 0LL;
    p_data = &this->fields.data;
    while ( v19 < (unsigned int)fsm )
    {
      if ( !v18 )
        goto LABEL_43;
      if ( v19 >= v18->max_length )
        break;
      this = (BattleLogic_o *)System_Int32__TryParse(
                                *((System_String_o **)&v16->fields.data + v19),
                                (int32_t *)p_data,
                                0LL);
      LODWORD(fsm) = v16->fields.fsm;
      ++v19;
      p_data = (struct BattleData_o **)((char *)p_data + 4);
      if ( (__int64)v19 >= (int)fsm )
        goto LABEL_18;
    }
LABEL_42:
    v22 = sub_B0D9A8(this);
    sub_B0D948(v22, 0LL);
  }
LABEL_18:
  this = (BattleLogic_o *)v2->fields.data;
  if ( !this )
    goto LABEL_43;
  if ( !BattleData__CheckPerformedFuncType((BattleData_o *)this, 24, 0LL) )
  {
    this = (BattleLogic_o *)v2->fields.data;
    if ( !this )
      goto LABEL_43;
    if ( !BattleData__CheckPerformedFuncType((BattleData_o *)this, 30, 0LL) )
    {
      this = (BattleLogic_o *)v2->fields.data;
      if ( !this )
        goto LABEL_43;
      if ( !BattleData__CheckPerformedFuncType((BattleData_o *)this, 23, 0LL) )
      {
        this = (BattleLogic_o *)v2->fields.data;
        if ( !this )
          goto LABEL_43;
        if ( !BattleData__CheckFreshBuffDataList((BattleData_o *)this, v18, 0LL) )
        {
          this = (BattleLogic_o *)v2->fields.data;
          if ( !this )
            goto LABEL_43;
          if ( BattleData__CheckPerformedFuncType((BattleData_o *)this, 5, 0LL) )
          {
            this = (BattleLogic_o *)v2->fields.perf;
            if ( this )
            {
              BattlePerformance__setRefreshStarsFlg((BattlePerformance_o *)this, 0, 0LL);
              this = (BattleLogic_o *)v2->fields.fsm;
              if ( this )
              {
                v21 = &StringLiteral_1661/*"ADD_DIRECTION"*/;
                goto LABEL_41;
              }
            }
LABEL_43:
            sub_B0D97C(this);
          }
          this = (BattleLogic_o *)v2->fields.data;
          if ( !this )
            goto LABEL_43;
          if ( BattleData__CheckPerformedFuncType((BattleData_o *)this, 31, 0LL) )
          {
            this = (BattleLogic_o *)v2->fields.perf;
            if ( this )
            {
              BattlePerformance__setRefreshStarsFlg((BattlePerformance_o *)this, 0, 0LL);
              this = (BattleLogic_o *)v2->fields.fsm;
              if ( this )
              {
                v21 = &StringLiteral_11089/*"RECOVERY_DIRECTION"*/;
                goto LABEL_41;
              }
            }
            goto LABEL_43;
          }
LABEL_39:
          this = (BattleLogic_o *)v2->fields.fsm;
          if ( this )
          {
            v21 = &StringLiteral_12295/*"SKIP"*/;
            goto LABEL_41;
          }
          goto LABEL_43;
        }
      }
    }
  }
  this = (BattleLogic_o *)v2->fields.perf;
  if ( !this )
    goto LABEL_43;
  BattlePerformance__setRefreshStarsFlg((BattlePerformance_o *)this, 0, 0LL);
  this = (BattleLogic_o *)v2->fields.fsm;
  if ( !this )
    goto LABEL_43;
  v21 = &StringLiteral_11091/*"REFRESH_DIRECTION"*/;
LABEL_41:
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)*v21, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__checkTurnStart(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  BattlePerformance_o *perf; // x0
  struct BattleData_o *data; // x8
  int32_t tutorialId; // w9
  CommonUI_o *Instance; // x20
  System_String_o *v22; // x21
  const MethodInfo *v23; // x2
  float x; // s8
  float y; // s9
  UnityEngine_Vector2_o v26; // kr00_8
  const MethodInfo *v27; // x2
  float v28; // s0
  float v29; // s1
  float v30; // s2
  float v31; // s3
  struct BattleLogic_TutorialStringData_array *v32; // x8
  BattleLogic_TutorialStringData_o *v33; // x8
  int32_t turnCount; // w9
  const MethodInfo *v35; // x2
  UnityEngine_Vector2_o v36; // kr08_8
  const MethodInfo *v37; // x2
  struct BattleLogic_TutorialStringData_array *v38; // x8
  const MethodInfo *v39; // x2
  UnityEngine_Vector2_o v40; // kr10_8
  const MethodInfo *v41; // x2
  struct BattleLogic_TutorialStringData_array *TSD; // x8
  __int64 v43; // x1
  __int64 v44; // x2
  BattleEventTutorial_o *eventTutorial; // x20
  System_Action_o *v46; // x21
  __int64 *v47; // x8
  __int64 v48; // x1
  __int64 v49; // x2
  BattleEventTutorial_o *v50; // x20
  System_Action_o *v51; // x21
  int32_t tutorialState; // w8
  const MethodInfo *v53; // x2
  UnityEngine_Vector2_o v54; // kr18_8
  const MethodInfo *v55; // x2
  struct BattleLogic_TutorialStringData_array *v56; // x8
  const MethodInfo *v57; // x1
  System_Collections_IEnumerator_o *started; // x0
  CommonUI_o *v59; // x20
  System_String_o *v60; // x21
  const MethodInfo *v61; // x2
  UnityEngine_Vector2_o v62; // kr20_8
  const MethodInfo *v63; // x2
  __int64 v64; // x1
  __int64 v65; // x2
  float v66; // s0
  float v67; // s1
  float v68; // s2
  float v69; // s3
  struct BattleLogic_TutorialStringData_array *v70; // x8
  float *v71; // x8
  float v72; // s14
  unsigned int v73; // s15
  unsigned int v74; // s8
  int32_t v75; // w22
  float v76; // s13
  float v77; // s12
  float v78; // s11
  System_Action_o *v79; // x23
  const MethodInfo *v80; // x2
  UnityEngine_Vector2_o v81; // kr28_8
  const MethodInfo *v82; // x2
  struct BattleLogic_TutorialStringData_array *v83; // x8
  const MethodInfo *v84; // x2
  UnityEngine_Vector2_o v85; // kr30_8
  const MethodInfo *v86; // x2
  struct BattleLogic_TutorialStringData_array *v87; // x8
  const MethodInfo *v88; // x2
  UnityEngine_Vector2_o v89; // kr38_8
  const MethodInfo *v90; // x2
  struct BattleLogic_TutorialStringData_array *v91; // x8
  __int64 v92; // x1
  __int64 v93; // x2
  BattleEventTutorial_o *v94; // x20
  System_Action_o *v95; // x21
  const MethodInfo *v96; // x2
  UnityEngine_Vector2_o v97; // kr40_8
  const MethodInfo *v98; // x2
  struct BattleLogic_TutorialStringData_array *v99; // x8
  float v100; // s4
  float v101; // s5
  float v102; // s16
  float v103; // s7
  __int64 v104; // x0
  float v105; // [xsp+5Ch] [xbp-24h]
  UnityEngine_Vector2_o v106; // 0:s0.4,4:s1.4
  UnityEngine_Rect_o v107; // 0:s2.4,4:s3.4,8:s4.4,12:s5.4
  UnityEngine_Rect_o v108; // 0:s2.4,4:s3.4,8:s4.4,12:s5.4

  if ( (byte_42118C2 & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, method);
    sub_B0D8A4(&Method_BattleLogic_callbackEventTutorialBase__, v3);
    sub_B0D8A4(&Method_BattleLogic_callbackTutorialAttack02__, v4);
    sub_B0D8A4(&LocalizationManager_TypeInfo, v5);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, v6);
    sub_B0D8A4(&StringLiteral_13538/*"TUTORIAL_MESSAGE_BATTLE_150"*/, v7);
    sub_B0D8A4(&StringLiteral_13542/*"TUTORIAL_MESSAGE_BATTLE_222"*/, v8);
    sub_B0D8A4(&StringLiteral_9768/*"OK"*/, v9);
    sub_B0D8A4(&StringLiteral_13541/*"TUTORIAL_MESSAGE_BATTLE_220"*/, v10);
    sub_B0D8A4(&StringLiteral_13536/*"TUTORIAL_MESSAGE_BATTLE_140"*/, v11);
    sub_B0D8A4(&StringLiteral_13530/*"TUTORIAL_MESSAGE_BATTLE_110"*/, v12);
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v13);
    sub_B0D8A4(&StringLiteral_13534/*"TUTORIAL_MESSAGE_BATTLE_130"*/, v14);
    sub_B0D8A4(&StringLiteral_13532/*"TUTORIAL_MESSAGE_BATTLE_121"*/, v15);
    sub_B0D8A4(&StringLiteral_13545/*"TUTORIAL_MESSAGE_BATTLE_320"*/, v16);
    sub_B0D8A4(&StringLiteral_13540/*"TUTORIAL_MESSAGE_BATTLE_210"*/, v17);
    byte_42118C2 = 1;
  }
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_108;
  BattlePerformance__SetActiveTutorialDialogMask(perf, 0, 0LL);
  perf = (BattlePerformance_o *)this->fields.eventTutorial;
  if ( !perf )
    goto LABEL_108;
  perf = (BattlePerformance_o *)BattleEventTutorial__isTacticalPhase((BattleEventTutorial_o *)perf, 0LL);
  data = this->fields.data;
  if ( ((unsigned __int8)perf & 1) != 0 )
  {
    if ( !data )
      goto LABEL_108;
  }
  else
  {
    if ( !data )
      goto LABEL_108;
    if ( data->fields.tutorialId == -1 )
    {
      perf = (BattlePerformance_o *)this->fields.fsm;
      if ( !perf )
        goto LABEL_108;
      v47 = &StringLiteral_5512/*"END_PROC"*/;
      goto LABEL_107;
    }
  }
  tutorialId = data->fields.tutorialId;
  switch ( tutorialId )
  {
    case 3:
      if ( data->fields.wavecount != 1 || data->fields.turnCount != 1 )
        goto LABEL_95;
      data->fields.tutorialState = 0;
      Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
      if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !LocalizationManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
      }
      v22 = LocalizationManager__Get((System_String_o *)StringLiteral_13545/*"TUTORIAL_MESSAGE_BATTLE_320"*/, 0LL);
      v40 = BattleLogic__FSTuArrow(this, 2, v39);
      y = v40.fields.y;
      x = v40.fields.x;
      *(UnityEngine_Rect_o *)&v28 = BattleLogic__FSTuSquare(this, 2, v41);
      TSD = this->fields.TSD;
      if ( !TSD )
        goto LABEL_108;
      if ( TSD->max_length <= 8 )
        goto LABEL_109;
      v33 = TSD->m_Items[8];
      if ( !v33 )
        goto LABEL_108;
      goto LABEL_103;
    case 2:
      turnCount = data->fields.turnCount;
      if ( turnCount != 2 )
      {
        if ( turnCount != 1 )
          goto LABEL_95;
        Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
        if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !LocalizationManager_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
        }
        v22 = LocalizationManager__Get((System_String_o *)StringLiteral_13540/*"TUTORIAL_MESSAGE_BATTLE_210"*/, 0LL);
        v36 = BattleLogic__FSTuArrow(this, 0, v35);
        y = v36.fields.y;
        x = v36.fields.x;
        *(UnityEngine_Rect_o *)&v28 = BattleLogic__FSTuSquare(this, 0, v37);
        v38 = this->fields.TSD;
        if ( v38 )
        {
          if ( v38->max_length > 5 )
          {
            v33 = v38->m_Items[5];
            if ( !v33 )
              goto LABEL_108;
            goto LABEL_103;
          }
LABEL_109:
          v104 = sub_B0D9A8(perf);
          sub_B0D948(v104, 0LL);
        }
        goto LABEL_108;
      }
      tutorialState = data->fields.tutorialState;
      if ( tutorialState == 10 )
      {
        Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
        if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !LocalizationManager_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
        }
        v22 = LocalizationManager__Get((System_String_o *)StringLiteral_13542/*"TUTORIAL_MESSAGE_BATTLE_222"*/, 0LL);
        v97 = BattleLogic__FSTuArrow(this, 0, v96);
        y = v97.fields.y;
        x = v97.fields.x;
        *(UnityEngine_Rect_o *)&v28 = BattleLogic__FSTuSquare(this, 0, v98);
        v99 = this->fields.TSD;
        if ( !v99 )
          goto LABEL_108;
        if ( v99->max_length > 7 )
        {
          v33 = v99->m_Items[7];
          if ( !v33 )
            goto LABEL_108;
          goto LABEL_103;
        }
        goto LABEL_109;
      }
      if ( tutorialState != -1 )
        goto LABEL_95;
      Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
      if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !LocalizationManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
      }
      v22 = LocalizationManager__Get((System_String_o *)StringLiteral_13541/*"TUTORIAL_MESSAGE_BATTLE_220"*/, 0LL);
      v54 = BattleLogic__FSTuArrow(this, 1, v53);
      y = v54.fields.y;
      x = v54.fields.x;
      *(UnityEngine_Rect_o *)&v28 = BattleLogic__FSTuSquare(this, 1, v55);
      v56 = this->fields.TSD;
      if ( !v56 )
LABEL_108:
        sub_B0D97C(perf);
      if ( v56->max_length <= 6 )
        goto LABEL_109;
      v33 = v56->m_Items[6];
      if ( !v33 )
        goto LABEL_108;
LABEL_103:
      if ( !Instance )
        goto LABEL_108;
      v100 = v28;
      v101 = v29;
      v102 = v30;
      v103 = v31;
      v106.fields.x = x;
      v106.fields.y = y;
      v108.fields.m_XMin = v100;
      v108.fields.m_YMin = v101;
      v108.fields.m_Width = v102;
      v108.fields.m_Height = v103;
      CommonUI__OpenTutorialNotificationDialogArrow(
        Instance,
        v22,
        v106,
        v108,
        v33->fields.way,
        v33->fields.pos,
        v33->fields.size,
        0LL,
        0LL);
      goto LABEL_105;
    case 1:
      switch ( data->fields.turnCount )
      {
        case 1:
          Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
          if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !LocalizationManager_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
          }
          v22 = LocalizationManager__Get((System_String_o *)StringLiteral_13530/*"TUTORIAL_MESSAGE_BATTLE_110"*/, 0LL);
          v26 = BattleLogic__FSTuArrow(this, 0, v23);
          y = v26.fields.y;
          x = v26.fields.x;
          *(UnityEngine_Rect_o *)&v28 = BattleLogic__FSTuSquare(this, 0, v27);
          v32 = this->fields.TSD;
          if ( !v32 )
            goto LABEL_108;
          if ( !v32->max_length )
            goto LABEL_109;
          v33 = v32->m_Items[0];
          if ( !v33 )
            goto LABEL_108;
          goto LABEL_103;
        case 2:
          Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
          if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !LocalizationManager_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
          }
          v22 = LocalizationManager__Get((System_String_o *)StringLiteral_13532/*"TUTORIAL_MESSAGE_BATTLE_121"*/, 0LL);
          v85 = BattleLogic__FSTuArrow(this, 0, v84);
          y = v85.fields.y;
          x = v85.fields.x;
          *(UnityEngine_Rect_o *)&v28 = BattleLogic__FSTuSquare(this, 0, v86);
          v87 = this->fields.TSD;
          if ( !v87 )
            goto LABEL_108;
          if ( v87->max_length <= 1 )
            goto LABEL_109;
          v33 = v87->m_Items[1];
          if ( !v33 )
            goto LABEL_108;
          goto LABEL_103;
        case 3:
          Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
          if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !LocalizationManager_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
          }
          v22 = LocalizationManager__Get((System_String_o *)StringLiteral_13534/*"TUTORIAL_MESSAGE_BATTLE_130"*/, 0LL);
          v81 = BattleLogic__FSTuArrow(this, 0, v80);
          y = v81.fields.y;
          x = v81.fields.x;
          *(UnityEngine_Rect_o *)&v28 = BattleLogic__FSTuSquare(this, 0, v82);
          v83 = this->fields.TSD;
          if ( !v83 )
            goto LABEL_108;
          if ( v83->max_length <= 2 )
            goto LABEL_109;
          v33 = v83->m_Items[2];
          if ( !v33 )
            goto LABEL_108;
          goto LABEL_103;
        case 4:
          Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
          if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !LocalizationManager_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
          }
          v22 = LocalizationManager__Get((System_String_o *)StringLiteral_13536/*"TUTORIAL_MESSAGE_BATTLE_140"*/, 0LL);
          v89 = BattleLogic__FSTuArrow(this, 0, v88);
          y = v89.fields.y;
          x = v89.fields.x;
          *(UnityEngine_Rect_o *)&v28 = BattleLogic__FSTuSquare(this, 0, v90);
          v91 = this->fields.TSD;
          if ( !v91 )
            goto LABEL_108;
          if ( v91->max_length <= 3 )
            goto LABEL_109;
          v33 = v91->m_Items[3];
          if ( !v33 )
            goto LABEL_108;
          goto LABEL_103;
        case 5:
          v59 = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
          if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !LocalizationManager_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
          }
          v60 = LocalizationManager__Get((System_String_o *)StringLiteral_13538/*"TUTORIAL_MESSAGE_BATTLE_150"*/, 0LL);
          v62 = BattleLogic__FSTuArrow(this, 0, v61);
          *(UnityEngine_Rect_o *)&v66 = BattleLogic__FSTuSquare(this, 0, v63);
          v70 = this->fields.TSD;
          if ( !v70 )
            goto LABEL_108;
          if ( v70->max_length <= 4 )
            goto LABEL_109;
          v71 = (float *)v70->m_Items[4];
          v105 = v69;
          if ( !v71 )
            goto LABEL_108;
          v72 = v71[4];
          v73 = *((_DWORD *)v71 + 5);
          v74 = *((_DWORD *)v71 + 6);
          v75 = *((_DWORD *)v71 + 7);
          v76 = v68;
          v77 = v67;
          v78 = v66;
          v79 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v64, v65);
          System_Action___ctor(v79, (Il2CppObject *)this, Method_BattleLogic_callbackTutorialAttack02__, 0LL);
          if ( !v59 )
            goto LABEL_108;
          v107.fields.m_Height = v105;
          v107.fields.m_XMin = v78;
          v107.fields.m_YMin = v77;
          v107.fields.m_Width = v76;
          CommonUI__OpenTutorialNotificationDialogArrow(
            v59,
            v60,
            v62,
            v107,
            v72,
            (UnityEngine_Vector2_o)__PAIR64__(v74, v73),
            v75,
            v79,
            0LL);
          break;
        default:
          goto LABEL_105;
      }
      goto LABEL_105;
  }
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_108;
  BattlePerformance__SetActiveTutorialDialogMask(perf, 1, 0LL);
  perf = (BattlePerformance_o *)this->fields.eventTutorial;
  if ( !perf )
    goto LABEL_108;
  perf = (BattlePerformance_o *)BattleEventTutorial__isStart((BattleEventTutorial_o *)perf, 0LL);
  eventTutorial = this->fields.eventTutorial;
  if ( ((unsigned __int8)perf & 1) != 0 )
  {
    v46 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v43, v44);
    System_Action___ctor(v46, (Il2CppObject *)this, Method_BattleLogic_callbackEventTutorialBase__, 0LL);
    if ( !eventTutorial )
      goto LABEL_108;
    BattleEventTutorial__callStart(eventTutorial, v46, 0LL);
    goto LABEL_105;
  }
  if ( !eventTutorial )
    goto LABEL_108;
  perf = (BattlePerformance_o *)BattleEventTutorial__isWave(this->fields.eventTutorial, 0LL);
  v50 = this->fields.eventTutorial;
  if ( ((unsigned __int8)perf & 1) != 0 )
  {
    v51 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v48, v49);
    System_Action___ctor(v51, (Il2CppObject *)this, Method_BattleLogic_callbackEventTutorialBase__, 0LL);
    if ( !v50 )
      goto LABEL_108;
    BattleEventTutorial__callWave(v50, v51, 0LL);
    goto LABEL_105;
  }
  if ( !v50 )
    goto LABEL_108;
  if ( !BattleEventTutorial__isTurn(this->fields.eventTutorial, 0LL) )
  {
    perf = (BattlePerformance_o *)this->fields.eventTutorial;
    if ( !perf )
      goto LABEL_108;
    if ( BattleEventTutorial__isBreakGauge((BattleEventTutorial_o *)perf, 0LL) )
    {
      v94 = this->fields.eventTutorial;
      v95 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v92, v93);
      System_Action___ctor(v95, (Il2CppObject *)this, Method_BattleLogic_callbackEventTutorialBase__, 0LL);
      if ( !v94 )
        goto LABEL_108;
      BattleEventTutorial__callBreakGauge(v94, v95, 0LL);
      goto LABEL_105;
    }
LABEL_95:
    perf = (BattlePerformance_o *)this->fields.fsm;
    if ( !perf )
      goto LABEL_108;
    PlayMakerFSM__SendEvent((PlayMakerFSM_o *)perf, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
    goto LABEL_105;
  }
  started = BattleLogic__coroutineStartLimitTurnTutorial(this, v57);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, started, 0LL);
LABEL_105:
  perf = (BattlePerformance_o *)this->fields.fsm;
  if ( !perf )
    goto LABEL_108;
  v47 = &StringLiteral_9768/*"OK"*/;
LABEL_107:
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)perf, (System_String_o *)*v47, 0LL);
}


bool __fastcall BattleLogic__checkUsableTD(BattleLogic_o *this, BattleLogicTask_o *task, const MethodInfo *method)
{
  BattleData_o *data; // x20
  BattleLogic_o *v4; // x19
  BattleServantData_o *v5; // x20

  if ( !task
    || (data = this->fields.data, v4 = this, this = (BattleLogic_o *)BattleLogicTask__getActorId(task, 0LL), !data)
    || (this = (BattleLogic_o *)BattleData__getServantData(data, (int32_t)this, 0LL)) == 0LL )
  {
    sub_B0D97C(this);
  }
  v5 = (BattleServantData_o *)this;
  return !HIBYTE(this[1].fields.data)
      || !BattleServantData__isTDSeraled((BattleServantData_o *)this, 0LL)
      && BattleServantData__checkUseTDvc(v5, v4->fields.data, 1, 0LL);
}


void __fastcall BattleLogic__checkUsedBuff(BattleLogic_o *this, const MethodInfo *method)
{
  void *data; // x0
  int v3; // w8
  void *v4; // x19
  unsigned int v5; // w20
  __int64 v6; // x8
  __int64 v7; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_10;
  data = BattleData__getFieldServantList((BattleData_o *)data, 0, 0LL);
  if ( !data )
    goto LABEL_10;
  v3 = *((_DWORD *)data + 6);
  v4 = data;
  if ( v3 >= 1 )
  {
    v5 = 0;
    while ( 1 )
    {
      if ( v5 >= v3 )
      {
        v7 = sub_B0D9A8(data);
        sub_B0D948(v7, 0LL);
      }
      v6 = *((_QWORD *)v4 + (int)v5 + 4);
      if ( !v6 )
        break;
      data = *(void **)(v6 + 760);
      if ( !data )
        break;
      data = BattleBuffData__usedProgressing((BattleBuffData_o *)data, 0LL);
      v3 = *((_DWORD *)v4 + 6);
      if ( (int)++v5 >= v3 )
        return;
    }
LABEL_10:
    sub_B0D97C(data);
  }
}


void __fastcall BattleLogic__checkUsedGutsBuff(BattleLogic_o *this, int32_t targetId, const MethodInfo *method)
{
  BattleData_o *data; // x0
  BattleServantData_o *ServantData; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_6;
  ServantData = BattleData__getServantData(data, targetId, 0LL);
  if ( ServantData )
  {
    data = (BattleData_o *)ServantData->fields.buffData;
    if ( data )
    {
      BattleBuffData__usedProgressingGuts((BattleBuffData_o *)data, 0LL);
      return;
    }
LABEL_6:
    sub_B0D97C(data);
  }
}


void __fastcall BattleLogic__checkWaveBuff(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 data; // x0
  __int64 v11; // x1
  __int64 v12; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v13; // x20
  const MethodInfo *v14; // x3
  int v15; // w8
  __int64 v16; // x23
  unsigned int v17; // w26
  __int64 v18; // x8
  BattleServantData_o *v19; // x22
  __int64 v20; // x1
  __int64 v21; // x2
  int max_length; // w8
  BattleBuffData_BuffData_array *v23; // x23
  unsigned int v24; // w28
  BattleBuffData_BuffData_o *v25; // x25
  BattleSkillInfoData_o *v26; // x24
  struct System_Int32_array *vals; // x8
  struct System_Int32_array *v28; // x8
  BattleLogicSkill_o *logicSkill; // x25
  BattleLogic_o *v30; // x24
  const MethodInfo *v31; // x5
  BattleLogicTask_array *v32; // x0
  const MethodInfo *v33; // x3
  System_Collections_IEnumerator_o *v34; // x0
  __int64 v35; // x0
  __int64 v36; // [xsp+0h] [xbp-60h]
  bool isFirstAdd; // [xsp+Ch] [xbp-54h] BYREF

  if ( (byte_4211890 & 1) == 0 )
  {
    sub_B0D8A4(&BattleSkillInfoData_TypeInfo, method);
    sub_B0D8A4(&int___TypeInfo, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__get_Count__, v7);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v9);
    byte_4211890 = 1;
  }
  isFirstAdd = 0;
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_37;
  if ( !BattleData__checkProgressflg((BattleData_o *)data, 4, 0LL) )
    goto LABEL_34;
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_37;
  BattleData__offProgressflg((BattleData_o *)data, 4, 0LL);
  v13 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                  v11,
                                                                                                  v12);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v13,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  data = (__int64)this->fields.data;
  if ( !data )
    goto LABEL_37;
  data = (__int64)BattleData__getFieldServantList((BattleData_o *)data, 0, 0LL);
  if ( !data )
    goto LABEL_37;
  v15 = *(_DWORD *)(data + 24);
  v16 = data;
  if ( v15 >= 1 )
  {
    v17 = 0;
    v36 = data;
    do
    {
      if ( v17 >= v15 )
        goto LABEL_38;
      v18 = v16 + 8LL * (int)v17;
      v19 = *(BattleServantData_o **)(v18 + 32);
      if ( !v19 )
        goto LABEL_37;
      data = BattleServantData__isAlive(*(BattleServantData_o **)(v18 + 32), 0, 0LL);
      if ( (data & 1) != 0 )
      {
        isFirstAdd = 1;
        data = (__int64)BattleServantData__getStartWaveBuff(v19, 0LL);
        if ( !data )
          goto LABEL_37;
        max_length = *(_DWORD *)(data + 24);
        v23 = (BattleBuffData_BuffData_array *)data;
        if ( max_length >= 1 )
        {
          v24 = 0;
          while ( v24 < max_length )
          {
            v25 = v23->m_Items[v24];
            v26 = (BattleSkillInfoData_o *)sub_B0D974(BattleSkillInfoData_TypeInfo, v20, v21);
            BattleSkillInfoData___ctor(v26, 0LL);
            if ( !v26 )
              goto LABEL_37;
            v26->fields.svtUniqueId = v19->fields.uniqueId;
            if ( !v25 )
              goto LABEL_37;
            vals = v25->fields.vals;
            if ( !vals )
              goto LABEL_37;
            if ( !vals->max_length )
              break;
            data = ((__int64 (__fastcall *)(BattleSkillInfoData_o *, _QWORD, Il2CppMethodPointer))v26->klass->vtable._4_set_skillId.method)(
                     v26,
                     (unsigned int)vals->m_Items[1],
                     v26->klass->vtable._5_get_skillId.methodPtr);
            v28 = v25->fields.vals;
            if ( !v28 )
              goto LABEL_37;
            if ( v28->max_length <= 1 )
              break;
            v26->fields.skilllv = v28->m_Items[2];
            logicSkill = this->fields.logicSkill;
            data = sub_B0D8BC(int___TypeInfo, 1LL);
            if ( !data )
              goto LABEL_37;
            if ( !*(_DWORD *)(data + 24) )
              break;
            *(_DWORD *)(data + 32) = v19->fields.uniqueId;
            if ( !logicSkill )
              goto LABEL_37;
            v30 = (BattleLogic_o *)BattleLogicSkill__taskSkill(
                                     logicSkill,
                                     v26,
                                     (System_Int32_array *)data,
                                     0LL,
                                     0,
                                     0,
                                     0,
                                     0LL);
            BattleLogic__SetFirstDisplayTriggerIntervalBuffArray(
              v30,
              &isFirstAdd,
              v19,
              v23,
              (BattleLogicTask_array *)v30,
              v31);
            if ( !v13 )
              goto LABEL_37;
            System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
              (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v13,
              (System_Collections_Generic_IEnumerable_T__o *)v30,
              (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
            max_length = v23->max_length;
            if ( (int)++v24 >= max_length )
              goto LABEL_28;
          }
LABEL_38:
          v35 = sub_B0D9A8(data);
          sub_B0D948(v35, 0LL);
        }
LABEL_28:
        data = (__int64)v19->fields.buffData;
        if ( !data )
          goto LABEL_37;
        data = (__int64)BattleBuffData__usedProgressing((BattleBuffData_o *)data, 0LL);
        v16 = v36;
      }
      v15 = *(_DWORD *)(v16 + 24);
    }
    while ( (int)++v17 < v15 );
  }
  BattleLogic__AddUnExecutedUpdateIntervalBuffTasks(
    this,
    (System_Collections_Generic_List_BattleLogicTask__o *)v13,
    1,
    v14);
  if ( !v13 )
LABEL_37:
    sub_B0D97C(data);
  if ( v13->fields._size >= 1 )
  {
    v32 = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                     (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v13,
                                     (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
    v34 = BattleLogic__waitWaveStep(this, v32, 4, v33);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v34, 0LL);
    return;
  }
LABEL_34:
  data = (__int64)this->fields.fsm;
  if ( !data )
    goto LABEL_37;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__colReplaceMember(
        BattleLogic_o *this,
        BattleActionData_ReplaceMember_o *replaceData,
        System_Action_o *endCallBack,
        const MethodInfo *method)
{
  BattleLogic__colReplaceMember_d__88_o *v7; // x22
  __int64 v8; // x0

  if ( (byte_421183D & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__colReplaceMember_d__88_TypeInfo, replaceData);
    byte_421183D = 1;
  }
  v7 = (BattleLogic__colReplaceMember_d__88_o *)sub_B0D974(
                                                  BattleLogic__colReplaceMember_d__88_TypeInfo,
                                                  replaceData,
                                                  endCallBack);
  BattleLogic__colReplaceMember_d__88___ctor(v7, 0, 0LL);
  if ( !v7 )
    sub_B0D97C(v8);
  v7->fields.__4__this = this;
  sub_B0D840(&v7->fields.__4__this, this);
  v7->fields.replaceData = replaceData;
  sub_B0D840(&v7->fields.replaceData, replaceData);
  v7->fields.endCallBack = endCallBack;
  sub_B0D840(&v7->fields.endCallBack, endCallBack);
  return (System_Collections_IEnumerator_o *)v7;
}


void __fastcall BattleLogic__connectBattleResult(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  __int64 v31; // x1
  void *dataLostUniqueIdArray; // x0
  BattleData_o **p_data; // x28
  __int64 v34; // x23
  int32_t WinResult; // w25
  int32_t WarIdByQuestId; // w0
  int32_t v37; // w20
  int32_t v38; // w21
  int32_t v39; // w24
  __int64 v40; // x1
  __int64 v41; // x2
  BattleScriptRootComponent_TalkScriptInfo_o *v42; // x19
  __int64 v43; // x1
  __int64 v44; // x2
  int v45; // w8
  _DWORD *v46; // x19
  unsigned int v47; // w20
  char *v48; // x8
  __int64 v49; // x21
  BattleServantData_array *EnemyServantList; // x25
  __int64 v51; // x1
  __int64 v52; // x2
  __int64 v53; // x1
  __int64 v54; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v55; // x24
  const MethodInfo *v56; // x2
  int max_length; // w8
  unsigned int v58; // w22
  BattleServantData_o *v59; // x26
  int32_t uniqueId; // w21
  BattleData_o **v61; // x24
  int32_t RaidDay; // w27
  int32_t MaxHp; // w28
  int32_t NowHp; // w20
  __int64 v65; // x1
  __int64 v66; // x2
  BattleResultRequest_RaidResult_o *v67; // x19
  int32_t v68; // w19
  int32_t v69; // w19
  __int64 v70; // x1
  const MethodInfo *v71; // x2
  __int64 lowLimitShift; // x20
  bool i; // cc
  struct System_Int32_array *v74; // x8
  int32_t v75; // w20
  int32_t sendDamageForSuperBossId; // w26
  BattleResultRequest_SuperBossResult_o *v77; // x21
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v78; // x0
  EventMissionProgressRequest_Argument_ProgressData_o *v79; // x1
  int64_t SuperBossNokoriHp; // x21
  int32_t v81; // w27
  __int64 v82; // x1
  const MethodInfo *v83; // x2
  struct System_Int32_array *shiftDeckList; // x8
  __int64 shiftDeckIndex; // x19
  __int64 v86; // x20
  int v87; // w9
  int32_t v88; // w20
  int32_t superBossId; // w27
  int32_t v90; // w26
  __int64 v91; // x1
  __int64 v92; // x2
  BattleResultRequest_SuperBossResult_o *v93; // x0
  BattleResultRequest_SuperBossResult_o *v94; // x19
  int32_t v95; // w3
  int32_t v96; // w1
  int32_t v97; // w2
  int32_t v98; // w20
  int32_t v99; // w26
  int32_t v100; // w19
  __int64 v101; // x1
  __int64 v102; // x2
  BattleResultRequest_Argument_o *v103; // x25
  void *v104; // x1
  System_String_o *ActionList; // x0
  System_Int32_array_array *VoicePlayedList; // x0
  WarBoardUiData_SaveData_array *v107; // x0
  WarBoardUiData_SaveData_array *v108; // x0
  struct System_Int32_array *waveClearNeedTurn; // x1
  System_Collections_Generic_Dictionary_string__object__o *QuestRecordJson; // x0
  struct System_Collections_Generic_List_Dictionary_string__object___o *v111; // x1
  struct PlayerServantNoblePhantasmUsageData_o *v112; // x1
  struct System_Collections_Generic_Dictionary_int__int__o *usedEventMasterSkillDict; // x1
  System_Collections_Generic_Dictionary_int__int__o *SavedServantCommonFlagDict; // x0
  System_Int32_array *ItemDroppedSkillShiftUniqueIdArray; // x0
  System_Int64_array *ItemDroppedSkillShiftNpcSvtIdArray; // x0
  System_Int32_array *QuestRouteIdArray; // x0
  __int64 v118; // x1
  __int64 v119; // x2
  struct BaseBattleEvent_o *battleEvent; // x19
  NetworkManager_ResultCallbackFunc_o *v121; // x21
  __int64 v122; // x1
  __int64 v123; // x2
  NetworkManager_ResultCallbackFunc_o *v124; // x19
  BattleData_o *v125; // x8
  int64_t v126; // x19
  int32_t win_lose; // w20
  System_String_o *v128; // x23
  System_Int32_array_array *v129; // x24
  WarBoardUiData_SaveData_array *v130; // x22
  BattleData_o *v131; // x8
  int32_t turnCount; // w25
  System_Int32_array *v133; // x26
  BattleResultRequest_SuperBossResult_array *v134; // x21
  BattleData_o *v135; // x8
  System_Collections_Generic_List_Dictionary_string__object___o *v136; // x27
  System_Collections_Generic_Dictionary_int__int__o *v137; // x25
  System_Int32_array *skillShiftUniqueIdArray; // x26
  BattleResultRequest_RaidResult_array *v139; // x21
  System_Int64_array *v140; // x27
  System_String_o *v141; // x22
  BattleData_o *v142; // x8
  System_Int32_array *calledEnemyUniqueIdArray; // x28
  System_Int32_array *v144; // x23
  __int64 v145; // x0
  System_Collections_Generic_Dictionary_int__int__o *usedEquipSkillDict; // [xsp+80h] [xbp-C0h]
  PlayerServantNoblePhantasmUsageData_o *playerServantNoblePhantasmUsageData; // [xsp+88h] [xbp-B8h]
  System_Collections_Generic_List_Dictionary_string__object___o *firstNpPlayList; // [xsp+90h] [xbp-B0h]
  System_Collections_Generic_Dictionary_string__object__o *recordJson; // [xsp+98h] [xbp-A8h]
  int32_t recordType; // [xsp+A4h] [xbp-9Ch]
  System_Int32_array *usedTurnArray; // [xsp+A8h] [xbp-98h]
  System_Int32_array *AliveEnemys; // [xsp+B0h] [xbp-90h]
  Il2CppObject *v153; // [xsp+B8h] [xbp-88h]
  BattleResultRequest_o *v154; // [xsp+B8h] [xbp-88h]
  int32_t v155; // [xsp+C4h] [xbp-7Ch]
  int32_t v156; // [xsp+C4h] [xbp-7Ch]
  System_Collections_Generic_List_int__o *v157; // [xsp+C8h] [xbp-78h]
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v158; // [xsp+D0h] [xbp-70h]
  int32_t elapsedTurn; // [xsp+D0h] [xbp-70h]
  System_Collections_Generic_List_WarBoardUiData_SaveData__o *v160; // [xsp+D8h] [xbp-68h]
  BattleResultRequest_SuperBossResult_array *superBossResult; // [xsp+D8h] [xbp-68h]
  QuestPhaseEntity_o *entity; // [xsp+E0h] [xbp-60h] BYREF

  if ( (byte_4211846 & 1) == 0 )
  {
    sub_B0D8A4(&BattleResultRequest_Argument_TypeInfo, method);
    sub_B0D8A4(&BattleData_TypeInfo, v3);
    sub_B0D8A4(&Method_BattleLogic_callbackRequest__, v4);
    sub_B0D8A4(&Method_DataManager_GetMasterData_QuestPhaseMaster___, v5);
    sub_B0D8A4(&EncryptedPlayerPrefs_TypeInfo, v6);
    sub_B0D8A4(&Method_System_Linq_Enumerable_ToArray_int___, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleResultRequest_SuperBossResult__Add__, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleResultRequest_RaidResult__Add__, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Add__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleResultRequest_SuperBossResult__ToArray__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__ToArray__, v12);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleResultRequest_RaidResult__ToArray__, v13);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int___ctor__, v14);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleResultRequest_RaidResult___ctor__, v15);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleResultRequest_SuperBossResult___ctor__, v16);
    sub_B0D8A4(&System_Collections_Generic_List_int__TypeInfo, v17);
    sub_B0D8A4(&System_Collections_Generic_List_BattleResultRequest_SuperBossResult__TypeInfo, v18);
    sub_B0D8A4(&System_Collections_Generic_List_BattleResultRequest_RaidResult__TypeInfo, v19);
    sub_B0D8A4(&Method_NetworkManager_getRequest_BattleResultRequest___, v20);
    sub_B0D8A4(&NetworkManager_TypeInfo, v21);
    sub_B0D8A4(&BattleResultRequest_RaidResult_TypeInfo, v22);
    sub_B0D8A4(&NetworkManager_ResultCallbackFunc_TypeInfo, v23);
    sub_B0D8A4(&ScriptManager_TypeInfo, v24);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v25);
    sub_B0D8A4(&BattleResultRequest_SuperBossResult_TypeInfo, v26);
    sub_B0D8A4(&BattleScriptRootComponent_TalkScriptInfo_TypeInfo, v27);
    sub_B0D8A4(&StringLiteral_17929/*"dataLostBattleId"*/, v28);
    sub_B0D8A4(&StringLiteral_21564/*"playWaveStartMovie"*/, v29);
    sub_B0D8A4(&StringLiteral_21785/*"rebootAlreadyPlayMovie"*/, v30);
    sub_B0D8A4(&StringLiteral_1/*""*/, v31);
    byte_4211846 = 1;
  }
  entity = 0LL;
  p_data = &this->fields.data;
  dataLostUniqueIdArray = this->fields.data;
  if ( !dataLostUniqueIdArray )
    goto LABEL_122;
  v34 = *((_QWORD *)dataLostUniqueIdArray + 8);
  WinResult = BattleData__getWinResult((BattleData_o *)dataLostUniqueIdArray, 0LL);
  if ( (BYTE3(EncryptedPlayerPrefs_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !EncryptedPlayerPrefs_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(EncryptedPlayerPrefs_TypeInfo);
  }
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_21785/*"rebootAlreadyPlayMovie"*/, 0LL);
  EncryptedPlayerPrefs__DeleteKey((System_String_o *)StringLiteral_21564/*"playWaveStartMovie"*/, 0LL);
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  if ( BattleData__isResultWin((BattleData_o *)dataLostUniqueIdArray, 0LL) )
  {
    dataLostUniqueIdArray = *p_data;
    if ( !*p_data )
      goto LABEL_122;
    dataLostUniqueIdArray = (void *)BattleData__IsWarBoard((BattleData_o *)dataLostUniqueIdArray, 0LL);
    if ( ((unsigned __int8)dataLostUniqueIdArray & 1) == 0 )
    {
      if ( !v34 )
        goto LABEL_122;
      WarIdByQuestId = QuestMaster__GetWarIdByQuestId(*(_DWORD *)(v34 + 36), 0LL);
      v38 = *(_DWORD *)(v34 + 36);
      v37 = *(_DWORD *)(v34 + 40);
      v39 = WarIdByQuestId;
      v42 = (BattleScriptRootComponent_TalkScriptInfo_o *)sub_B0D974(
                                                            BattleScriptRootComponent_TalkScriptInfo_TypeInfo,
                                                            v40,
                                                            v41);
      BattleScriptRootComponent_TalkScriptInfo___ctor_19677276(v42, v39, v38, v37, 4, 6, 1, WinResult, 0LL);
      if ( (BYTE3(ScriptManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !ScriptManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(ScriptManager_TypeInfo);
      }
      ScriptManager__SaveTalkResumeInfo(v42, 0LL);
    }
  }
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  AliveEnemys = BattleData__getAliveEnemys((BattleData_o *)dataLostUniqueIdArray, 0LL);
  v157 = (System_Collections_Generic_List_int__o *)sub_B0D974(System_Collections_Generic_List_int__TypeInfo, v43, v44);
  System_Collections_Generic_List_int____ctor(
    v157,
    (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
  dataLostUniqueIdArray = SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
  if ( !dataLostUniqueIdArray )
    goto LABEL_122;
  dataLostUniqueIdArray = DataManager__GetMasterData_WarQuestSelectionMaster_(
                            (DataManager_o *)dataLostUniqueIdArray,
                            (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_QuestPhaseMaster___);
  if ( !v34 || !dataLostUniqueIdArray )
    goto LABEL_122;
  if ( QuestPhaseMaster__TryGetEntity(
         (QuestPhaseMaster_o *)dataLostUniqueIdArray,
         &entity,
         *(_DWORD *)(v34 + 36),
         *(_DWORD *)(v34 + 40),
         0LL) )
  {
    dataLostUniqueIdArray = entity;
    if ( !entity )
      goto LABEL_122;
    if ( (QuestPhaseEntity__getScriptIntParam(entity, (System_String_o *)StringLiteral_17929/*"dataLostBattleId"*/, -1, 0LL) & 0x80000000) == 0 )
    {
      dataLostUniqueIdArray = *p_data;
      if ( !*p_data )
        goto LABEL_122;
      dataLostUniqueIdArray = BattleData__getPlayerServantList((BattleData_o *)dataLostUniqueIdArray, 0LL);
      if ( !dataLostUniqueIdArray )
        goto LABEL_122;
      v45 = *((_DWORD *)dataLostUniqueIdArray + 6);
      v46 = dataLostUniqueIdArray;
      if ( v45 >= 1 )
      {
        v47 = 0;
        do
        {
          if ( v47 >= v45 )
          {
LABEL_123:
            v145 = sub_B0D9A8(dataLostUniqueIdArray);
            sub_B0D948(v145, 0LL);
          }
          v48 = (char *)&v46[2 * v47];
          v49 = *((_QWORD *)v48 + 4);
          if ( !v49 )
            goto LABEL_122;
          dataLostUniqueIdArray = (void *)BattleServantData__isDead(*((BattleServantData_o **)v48 + 4), 0LL);
          if ( ((unsigned __int8)dataLostUniqueIdArray & 1) != 0 )
          {
            dataLostUniqueIdArray = v157;
            if ( !v157 )
              goto LABEL_122;
            System_Collections_Generic_List_int___Add(
              v157,
              *(_DWORD *)(v49 + 24),
              (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
          }
          v45 = v46[6];
        }
        while ( (int)++v47 < v45 );
      }
    }
  }
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  v153 = (Il2CppObject *)this;
  v155 = WinResult;
  EnemyServantList = BattleData__getEnemyServantList((BattleData_o *)dataLostUniqueIdArray, 0LL);
  v158 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                   System_Collections_Generic_List_BattleResultRequest_RaidResult__TypeInfo,
                                                                                                   v51,
                                                                                                   v52);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v158,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleResultRequest_RaidResult___ctor__);
  v55 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleResultRequest_SuperBossResult__TypeInfo,
                                                                                                  v53,
                                                                                                  v54);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v55,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleResultRequest_SuperBossResult___ctor__);
  if ( !EnemyServantList )
    goto LABEL_122;
  max_length = EnemyServantList->max_length;
  v160 = (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v55;
  if ( max_length >= 1 )
  {
    v58 = 0;
    while ( 1 )
    {
      if ( v58 >= max_length )
        goto LABEL_123;
      v59 = EnemyServantList->m_Items[v58];
      if ( !v59 )
        goto LABEL_122;
      if ( v59->fields.isRaid )
      {
        dataLostUniqueIdArray = *p_data;
        if ( !*p_data )
          goto LABEL_122;
        uniqueId = v59->fields.uniqueId;
        v61 = p_data;
        RaidDay = BattleData__getRaidDay((BattleData_o *)dataLostUniqueIdArray, uniqueId, 0LL);
        MaxHp = BattleServantData__getMaxHp(v59, 0LL);
        NowHp = BattleServantData__getNowHp(v59, 0LL);
        v67 = (BattleResultRequest_RaidResult_o *)sub_B0D974(BattleResultRequest_RaidResult_TypeInfo, v65, v66);
        BattleResultRequest_RaidResult___ctor(v67, uniqueId, RaidDay, MaxHp - NowHp, 0LL);
        dataLostUniqueIdArray = v158;
        if ( !v158 )
          goto LABEL_122;
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v158,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v67,
          (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleResultRequest_RaidResult__Add__);
        p_data = v61;
        v55 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)v160;
      }
      if ( v59->fields.isSendDamageForSuperBossId )
        break;
      if ( v59->fields.isSuperBoss )
      {
        if ( !*p_data )
          goto LABEL_122;
        dataLostUniqueIdArray = (*p_data)->fields.battle_info;
        if ( !dataLostUniqueIdArray )
          goto LABEL_122;
        SuperBossNokoriHp = BattleInfoData__getSuperBossNokoriHp(
                              (BattleInfoData_o *)dataLostUniqueIdArray,
                              v59->fields.superBossId,
                              v56);
        if ( SuperBossNokoriHp <= BattleServantData__getMaxHp(v59, 0LL) )
        {
          v88 = v59->fields.uniqueId;
          superBossId = v59->fields.superBossId;
          v90 = BattleServantData__getNowHp(v59, 0LL);
          v93 = (BattleResultRequest_SuperBossResult_o *)sub_B0D974(
                                                           BattleResultRequest_SuperBossResult_TypeInfo,
                                                           v91,
                                                           v92);
          v94 = v93;
          v95 = SuperBossNokoriHp - v90;
          v96 = v88;
          v97 = superBossId;
        }
        else
        {
          v81 = BattleServantData__getNowHp(v59, 0LL);
          dataLostUniqueIdArray = (void *)BattleServantData__GetMaxShiftIconCount(v59, 0LL);
          if ( (int)dataLostUniqueIdArray < 1 )
          {
            LODWORD(SuperBossNokoriHp) = BattleServantData__getMaxHp(v59, 0LL);
          }
          else
          {
            shiftDeckList = v59->fields.shiftDeckList;
            if ( !shiftDeckList )
              goto LABEL_122;
            shiftDeckIndex = v59->fields.shiftDeckIndex;
            v86 = 4 * shiftDeckIndex + 32;
            while ( 1 )
            {
              v87 = shiftDeckList->max_length;
              if ( (int)shiftDeckIndex >= v87 )
                break;
              if ( (unsigned int)shiftDeckIndex >= v87 )
                goto LABEL_123;
              dataLostUniqueIdArray = *(void **)(v34 + 16);
              if ( dataLostUniqueIdArray )
              {
                dataLostUniqueIdArray = (void *)BattleInfoData__GetShiftDeckHp(
                                                  (BattleInfoData_o *)dataLostUniqueIdArray,
                                                  *(_DWORD *)((char *)&shiftDeckList->obj.klass + v86),
                                                  v83);
                shiftDeckList = v59->fields.shiftDeckList;
                v81 += (int)dataLostUniqueIdArray;
                LODWORD(shiftDeckIndex) = shiftDeckIndex + 1;
                v86 += 4LL;
                if ( shiftDeckList )
                  continue;
              }
              goto LABEL_122;
            }
          }
          v98 = v59->fields.uniqueId;
          v99 = v59->fields.superBossId;
          v93 = (BattleResultRequest_SuperBossResult_o *)sub_B0D974(
                                                           BattleResultRequest_SuperBossResult_TypeInfo,
                                                           v82,
                                                           v83);
          v94 = v93;
          v95 = SuperBossNokoriHp - v81;
          v96 = v98;
          v97 = v99;
        }
        BattleResultRequest_SuperBossResult___ctor(v93, v96, v97, v95, 0LL);
        v55 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)v160;
        if ( !v160 )
          goto LABEL_122;
        v78 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)v160;
        v79 = (EventMissionProgressRequest_Argument_ProgressData_o *)v94;
        goto LABEL_72;
      }
LABEL_73:
      max_length = EnemyServantList->max_length;
      if ( (int)++v58 >= max_length )
        goto LABEL_74;
    }
    v68 = v59->fields.maxhp;
    v69 = v68 - BattleServantData__getNowHp(v59, 0LL);
    if ( BattleServantData__GetMaxShiftIconCount(v59, 0LL) >= 1
      && v59->fields.lowLimitShift < v59->fields.shiftDeckIndex )
    {
      dataLostUniqueIdArray = *(void **)(v34 + 16);
      if ( !dataLostUniqueIdArray )
        goto LABEL_122;
      dataLostUniqueIdArray = (void *)BattleInfoData__GetEnemyDeckHp(
                                        (BattleInfoData_o *)dataLostUniqueIdArray,
                                        v59->fields.uniqueId,
                                        v71);
      lowLimitShift = v59->fields.lowLimitShift;
      for ( i = (int)lowLimitShift < v59->fields.shiftDeckIndex - 1; ; i = lowLimitShift < v59->fields.shiftDeckIndex
                                                                                         - 1 )
      {
        v69 += (int)dataLostUniqueIdArray;
        if ( !i )
          break;
        v74 = v59->fields.shiftDeckList;
        if ( !v74 )
          goto LABEL_122;
        if ( (unsigned int)lowLimitShift >= v74->max_length )
          goto LABEL_123;
        dataLostUniqueIdArray = *(void **)(v34 + 16);
        if ( !dataLostUniqueIdArray )
          goto LABEL_122;
        dataLostUniqueIdArray = (void *)BattleInfoData__GetShiftDeckHp(
                                          (BattleInfoData_o *)dataLostUniqueIdArray,
                                          v74->m_Items[++lowLimitShift],
                                          v71);
      }
    }
    v75 = v59->fields.uniqueId;
    sendDamageForSuperBossId = v59->fields.sendDamageForSuperBossId;
    v77 = (BattleResultRequest_SuperBossResult_o *)sub_B0D974(BattleResultRequest_SuperBossResult_TypeInfo, v70, v71);
    BattleResultRequest_SuperBossResult___ctor(v77, v75, sendDamageForSuperBossId, v69, 0LL);
    if ( !v55 )
      goto LABEL_122;
    v78 = v55;
    v79 = (EventMissionProgressRequest_Argument_ProgressData_o *)v77;
LABEL_72:
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      v78,
      v79,
      (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleResultRequest_SuperBossResult__Add__);
    goto LABEL_73;
  }
LABEL_74:
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  v100 = v155;
  if ( BattleData__isBattleResultLoseQuestClear((BattleData_o *)dataLostUniqueIdArray, 0LL) )
    goto LABEL_78;
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  if ( BattleData__isBattleRetreatQuestClear((BattleData_o *)dataLostUniqueIdArray, 0LL) )
  {
LABEL_78:
    dataLostUniqueIdArray = *p_data;
    if ( !*p_data )
      goto LABEL_122;
    if ( ((v155 == 3) & BattleData__isResultWin((BattleData_o *)dataLostUniqueIdArray, 0LL)) != 0 )
      v100 = 0;
  }
  v103 = (BattleResultRequest_Argument_o *)sub_B0D974(BattleResultRequest_Argument_TypeInfo, v101, v102);
  BattleResultRequest_Argument___ctor(v103, 0LL);
  if ( !v103 )
    goto LABEL_122;
  v103->fields.battleId = *(_QWORD *)(v34 + 24);
  if ( !*p_data )
    goto LABEL_122;
  v103->fields.battleResult = (*p_data)->fields.win_lose;
  v103->fields.winResult = v100;
  v104 = StringLiteral_1/*""*/;
  v103->fields.scores = (struct System_String_o *)StringLiteral_1/*""*/;
  sub_B0D840(&v103->fields.scores, v104);
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  ActionList = BattleData__getActionList((BattleData_o *)dataLostUniqueIdArray, 0LL);
  v103->fields.action = ActionList;
  sub_B0D840(&v103->fields.action, ActionList);
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  VoicePlayedList = BattleData__get_VoicePlayedList((BattleData_o *)dataLostUniqueIdArray, 0LL);
  v103->fields.voicePlayedArray = VoicePlayedList;
  sub_B0D840(&v103->fields.voicePlayedArray, VoicePlayedList);
  v103->fields.aliveUniqueIds = AliveEnemys;
  sub_B0D840(&v103->fields.aliveUniqueIds, AliveEnemys);
  dataLostUniqueIdArray = v158;
  if ( !v158 )
    goto LABEL_122;
  v156 = v100;
  v107 = System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
           (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v158,
           (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleResultRequest_RaidResult__ToArray__);
  v103->fields.raidResult = (struct BattleResultRequest_RaidResult_array *)v107;
  sub_B0D840(&v103->fields.raidResult, v107);
  if ( !v55 )
    goto LABEL_122;
  v108 = System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
           (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v55,
           (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleResultRequest_SuperBossResult__ToArray__);
  v103->fields.superBossResult = (struct BattleResultRequest_SuperBossResult_array *)v108;
  sub_B0D840(&v103->fields.superBossResult, v108);
  if ( !*p_data )
    goto LABEL_122;
  v103->fields.elapsedTurn = (*p_data)->fields.turnCount;
  if ( !*p_data )
    goto LABEL_122;
  waveClearNeedTurn = (*p_data)->fields.waveClearNeedTurn;
  v103->fields.usedTurnArray = waveClearNeedTurn;
  sub_B0D840(&v103->fields.usedTurnArray, waveClearNeedTurn);
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  v103->fields.recordType = BattleData__getQuestRecordType((BattleData_o *)dataLostUniqueIdArray, 0LL);
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  QuestRecordJson = BattleData__getQuestRecordJson((BattleData_o *)dataLostUniqueIdArray, 0LL);
  v103->fields.recordJson = QuestRecordJson;
  sub_B0D840(&v103->fields.recordJson, QuestRecordJson);
  if ( !*p_data )
    goto LABEL_122;
  v111 = (*p_data)->fields.firstNpPlayList;
  v103->fields.firstNpPlayList = v111;
  sub_B0D840(&v103->fields.firstNpPlayList, v111);
  if ( !*p_data )
    goto LABEL_122;
  v112 = (*p_data)->fields.playerServantNoblePhantasmUsageData;
  v103->fields.playerServantNoblePhantasmUsageData = v112;
  sub_B0D840(&v103->fields.playerServantNoblePhantasmUsageData, v112);
  if ( !*p_data )
    goto LABEL_122;
  usedEventMasterSkillDict = (*p_data)->fields.usedEventMasterSkillDict;
  v103->fields.usedEquipSkillDict = usedEventMasterSkillDict;
  sub_B0D840(&v103->fields.usedEquipSkillDict, usedEventMasterSkillDict);
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  SavedServantCommonFlagDict = BattleData__GetSavedServantCommonFlagDict(0LL);
  v103->fields.svtCommonFlagDict = SavedServantCommonFlagDict;
  sub_B0D840(&v103->fields.svtCommonFlagDict, SavedServantCommonFlagDict);
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  ItemDroppedSkillShiftUniqueIdArray = BattleData__GetItemDroppedSkillShiftUniqueIdArray(
                                         (BattleData_o *)dataLostUniqueIdArray,
                                         0LL);
  v103->fields.skillShiftUniqueIds = ItemDroppedSkillShiftUniqueIdArray;
  sub_B0D840(&v103->fields.skillShiftUniqueIds, ItemDroppedSkillShiftUniqueIdArray);
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data )
    goto LABEL_122;
  ItemDroppedSkillShiftNpcSvtIdArray = BattleData__GetItemDroppedSkillShiftNpcSvtIdArray(
                                         (BattleData_o *)dataLostUniqueIdArray,
                                         0LL);
  v103->fields.skillShiftNpcSvtIds = ItemDroppedSkillShiftNpcSvtIdArray;
  sub_B0D840(&v103->fields.skillShiftNpcSvtIds, ItemDroppedSkillShiftNpcSvtIdArray);
  dataLostUniqueIdArray = *p_data;
  if ( !*p_data
    || (QuestRouteIdArray = BattleData__GetQuestRouteIdArray((BattleData_o *)dataLostUniqueIdArray, 0LL),
        v103->fields.routeSelect = QuestRouteIdArray,
        sub_B0D840(&v103->fields.routeSelect, QuestRouteIdArray),
        !*p_data)
    || (battleEvent = (*p_data)->fields.battleEvent,
        v121 = (NetworkManager_ResultCallbackFunc_o *)sub_B0D974(NetworkManager_ResultCallbackFunc_TypeInfo, v118, v119),
        NetworkManager_ResultCallbackFunc___ctor(v121, v153, Method_BattleLogic_callbackRequest__, 0LL),
        !battleEvent) )
  {
LABEL_122:
    sub_B0D97C(dataLostUniqueIdArray);
  }
  if ( (((__int64 (__fastcall *)(struct BaseBattleEvent_o *, BattleResultRequest_Argument_o *, NetworkManager_ResultCallbackFunc_o *, Il2CppMethodPointer))battleEvent->klass->vtable._14_SendBattleResult.method)(
          battleEvent,
          v103,
          v121,
          battleEvent->klass->vtable._15_InitStartResult.methodPtr) & 1) == 0 )
  {
    v124 = (NetworkManager_ResultCallbackFunc_o *)sub_B0D974(NetworkManager_ResultCallbackFunc_TypeInfo, v122, v123);
    NetworkManager_ResultCallbackFunc___ctor(v124, v153, Method_BattleLogic_callbackRequest__, 0LL);
    if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !NetworkManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
    }
    dataLostUniqueIdArray = NetworkManager__getRequest_WarBoardWallAttackRequest_(
                              v124,
                              (const MethodInfo_2049D98 *)Method_NetworkManager_getRequest_BattleResultRequest___);
    v125 = *p_data;
    v154 = (BattleResultRequest_o *)dataLostUniqueIdArray;
    if ( !*p_data )
      goto LABEL_122;
    v126 = *(_QWORD *)(v34 + 24);
    win_lose = v125->fields.win_lose;
    dataLostUniqueIdArray = BattleData__getActionList(v125, 0LL);
    if ( !*p_data )
      goto LABEL_122;
    v128 = (System_String_o *)dataLostUniqueIdArray;
    v129 = BattleData__get_VoicePlayedList(*p_data, 0LL);
    v130 = System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
             (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v158,
             (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleResultRequest_RaidResult__ToArray__);
    dataLostUniqueIdArray = System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                              v160,
                              (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleResultRequest_SuperBossResult__ToArray__);
    v131 = *p_data;
    if ( !*p_data )
      goto LABEL_122;
    turnCount = v131->fields.turnCount;
    v133 = v131->fields.waveClearNeedTurn;
    v134 = (BattleResultRequest_SuperBossResult_array *)dataLostUniqueIdArray;
    dataLostUniqueIdArray = (void *)BattleData__getQuestRecordType(*p_data, 0LL);
    recordType = (int)dataLostUniqueIdArray;
    if ( !*p_data )
      goto LABEL_122;
    dataLostUniqueIdArray = BattleData__getQuestRecordJson(*p_data, 0LL);
    v135 = *p_data;
    recordJson = (System_Collections_Generic_Dictionary_string__object__o *)dataLostUniqueIdArray;
    if ( !*p_data )
      goto LABEL_122;
    elapsedTurn = turnCount;
    v136 = v135->fields.firstNpPlayList;
    playerServantNoblePhantasmUsageData = v135->fields.playerServantNoblePhantasmUsageData;
    usedEquipSkillDict = v135->fields.usedEventMasterSkillDict;
    if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
    usedTurnArray = v133;
    dataLostUniqueIdArray = BattleData__GetSavedServantCommonFlagDict(0LL);
    if ( !*p_data )
      goto LABEL_122;
    v137 = (System_Collections_Generic_Dictionary_int__int__o *)dataLostUniqueIdArray;
    firstNpPlayList = v136;
    superBossResult = v134;
    dataLostUniqueIdArray = BattleData__GetItemDroppedSkillShiftUniqueIdArray(*p_data, 0LL);
    if ( !*p_data )
      goto LABEL_122;
    skillShiftUniqueIdArray = (System_Int32_array *)dataLostUniqueIdArray;
    v139 = (BattleResultRequest_RaidResult_array *)v130;
    dataLostUniqueIdArray = BattleData__GetItemDroppedSkillShiftNpcSvtIdArray(*p_data, 0LL);
    if ( !*p_data )
      goto LABEL_122;
    v140 = (System_Int64_array *)dataLostUniqueIdArray;
    v141 = v128;
    dataLostUniqueIdArray = System_Linq_Enumerable__ToArray_int_(
                              (System_Collections_Generic_IEnumerable_TSource__o *)(*p_data)->fields.calledEnemyUniqueIdHash,
                              (const MethodInfo_1B560F0 *)Method_System_Linq_Enumerable_ToArray_int___);
    v142 = *p_data;
    if ( !*p_data )
      goto LABEL_122;
    calledEnemyUniqueIdArray = (System_Int32_array *)dataLostUniqueIdArray;
    v144 = BattleData__GetQuestRouteIdArray(v142, 0LL);
    dataLostUniqueIdArray = v157;
    if ( !v157 )
      goto LABEL_122;
    dataLostUniqueIdArray = System_Collections_Generic_List_int___ToArray(
                              v157,
                              (const MethodInfo_2FB200C *)Method_System_Collections_Generic_List_int__ToArray__);
    if ( !v154 )
      goto LABEL_122;
    BattleResultRequest__beginRequest(
      v154,
      v126,
      win_lose,
      v156,
      (System_String_o *)StringLiteral_1/*""*/,
      v141,
      v129,
      AliveEnemys,
      v139,
      superBossResult,
      elapsedTurn,
      usedTurnArray,
      recordType,
      recordJson,
      firstNpPlayList,
      playerServantNoblePhantasmUsageData,
      usedEquipSkillDict,
      v137,
      skillShiftUniqueIdArray,
      v140,
      calledEnemyUniqueIdArray,
      v144,
      (System_Int32_array *)dataLostUniqueIdArray,
      0LL);
  }
}


void __fastcall BattleLogic__connectCommandSpell(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleData_o *data; // x0
  struct BattleLogic_CommandSpellData_o *actData; // x8
  __int64 v11; // x1
  const MethodInfo *v12; // x2
  struct BattleLogic_CommandSpellData_o *v13; // x8
  _BOOL4 connCammdSpellRetryFlg; // w21
  NetworkManager_ResultCallbackFunc_o *v15; // x0
  NetworkManager_ResultCallbackFunc_o *v16; // x20
  struct BattleData_o *v17; // x8
  struct BattleEntity_o *battle_ent; // x9
  struct BattleLogic_CommandSpellData_o *v19; // x10

  if ( (byte_42118A2 & 1) == 0 )
  {
    sub_B0D8A4(&BattleData_TypeInfo, method);
    sub_B0D8A4(&Method_BattleLogic_callBackCommandSpell__, v4);
    sub_B0D8A4(&Method_BattleLogic_callbackContinueCommandSpell__, v5);
    sub_B0D8A4(&Method_NetworkManager_getRequest_BattleCommandSpellRequest___, v6);
    sub_B0D8A4(&NetworkManager_TypeInfo, v7);
    sub_B0D8A4(&NetworkManager_ResultCallbackFunc_TypeInfo, v8);
    byte_42118A2 = 1;
  }
  BattleLogic__resetTimeAcceleration(this, 0, v2);
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  BattleData__setContinueBattleFlg(3, 0, 0LL);
  actData = this->fields.actData;
  if ( !actData )
    goto LABEL_26;
  BattleData__setCommandSpellIdBattle(actData->fields.commandSkillId, 0, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_26;
  BattleData__SaveTurnData(data, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_26;
  data = (BattleData_o *)BattleData__IsUseTemporaryCommandSpell(data, 0LL);
  if ( ((unsigned __int8)data & 1) != 0 )
  {
    v13 = this->fields.actData;
    if ( v13 )
    {
      BattleLogic__SkipCommandSpellRequest(this, v13->fields.commandSkillId, v12);
      return;
    }
LABEL_26:
    sub_B0D97C(data);
  }
  connCammdSpellRetryFlg = this->fields.connCammdSpellRetryFlg;
  v15 = (NetworkManager_ResultCallbackFunc_o *)sub_B0D974(NetworkManager_ResultCallbackFunc_TypeInfo, v11, v12);
  v16 = v15;
  if ( connCammdSpellRetryFlg )
  {
    NetworkManager_ResultCallbackFunc___ctor(v15, (Il2CppObject *)this, Method_BattleLogic_callBackCommandSpell__, 0LL);
    if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !NetworkManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
    }
    data = (BattleData_o *)NetworkManager__getRequest_WarBoardWallAttackRequest_(
                             v16,
                             (const MethodInfo_2049D98 *)Method_NetworkManager_getRequest_BattleCommandSpellRequest___);
    if ( !data )
      goto LABEL_26;
    RequestBase__beginRetryRequest((RequestBase_o *)data, 0, 0LL);
  }
  else
  {
    NetworkManager_ResultCallbackFunc___ctor(
      v15,
      (Il2CppObject *)this,
      Method_BattleLogic_callbackContinueCommandSpell__,
      0LL);
    if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !NetworkManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
    }
    data = (BattleData_o *)NetworkManager__getRequest_WarBoardWallAttackRequest_(
                             v16,
                             (const MethodInfo_2049D98 *)Method_NetworkManager_getRequest_BattleCommandSpellRequest___);
    v17 = this->fields.data;
    if ( !v17 )
      goto LABEL_26;
    battle_ent = v17->fields.battle_ent;
    if ( !battle_ent )
      goto LABEL_26;
    v19 = this->fields.actData;
    if ( !v19 || !data )
      goto LABEL_26;
    BattleCommandSpellRequest__beginRequest(
      (BattleCommandSpellRequest_o *)data,
      battle_ent->fields.id,
      v19->fields.commandSkillId,
      v17->fields.waveClearNeedTurn,
      v17->fields.continueCount,
      1,
      0LL);
  }
}


void __fastcall BattleLogic__connectResultErrorDialog(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  CommonUI_o *Instance; // x20
  System_String_o *v9; // x21
  System_String_o *v10; // x22
  __int64 v11; // x1
  __int64 v12; // x2
  NotificationDialog_ClickDelegate_o *v13; // x23
  __int64 v14; // x0

  if ( (byte_4211848 & 1) == 0 )
  {
    sub_B0D8A4(&Method_BattleLogic_requestResultErrorDialog__, method);
    sub_B0D8A4(&NotificationDialog_ClickDelegate_TypeInfo, v3);
    sub_B0D8A4(&LocalizationManager_TypeInfo, v4);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, v5);
    sub_B0D8A4(&StringLiteral_2431/*"BATTLE_DIALOG_RESULT_ERROR_TITLE"*/, v6);
    sub_B0D8A4(&StringLiteral_2430/*"BATTLE_DIALOG_RESULT_ERROR_CONF"*/, v7);
    byte_4211848 = 1;
  }
  Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !LocalizationManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
  }
  v9 = LocalizationManager__Get((System_String_o *)StringLiteral_2431/*"BATTLE_DIALOG_RESULT_ERROR_TITLE"*/, 0LL);
  v10 = LocalizationManager__Get((System_String_o *)StringLiteral_2430/*"BATTLE_DIALOG_RESULT_ERROR_CONF"*/, 0LL);
  v13 = (NotificationDialog_ClickDelegate_o *)sub_B0D974(NotificationDialog_ClickDelegate_TypeInfo, v11, v12);
  NotificationDialog_ClickDelegate___ctor(v13, (Il2CppObject *)this, Method_BattleLogic_requestResultErrorDialog__, 0LL);
  if ( !Instance )
    sub_B0D97C(v14);
  CommonUI__OpenNotificationDialog_17019096(
    Instance,
    v9,
    v10,
    v13,
    -1,
    0,
    0,
    0,
    0,
    1,
    0LL,
    0LL,
    0,
    0,
    0LL,
    1,
    0LL,
    0LL,
    0LL,
    0LL);
}


// local variable allocation has failed, the output may be wrong!
System_Collections_IEnumerator_o *__fastcall BattleLogic__coroutineContinueMember(
        BattleLogic_o *this,
        System_String_o *endproc,
        bool isTactical,
        const MethodInfo *method)
{
  BattleLogic__coroutineContinueMember_d__92_o *v7; // x22
  __int64 v8; // x0

  if ( (byte_4211840 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__coroutineContinueMember_d__92_TypeInfo, endproc);
    byte_4211840 = 1;
  }
  v7 = (BattleLogic__coroutineContinueMember_d__92_o *)sub_B0D974(
                                                         BattleLogic__coroutineContinueMember_d__92_TypeInfo,
                                                         endproc,
                                                         isTactical);
  BattleLogic__coroutineContinueMember_d__92___ctor(v7, 0, 0LL);
  if ( !v7 )
    sub_B0D97C(v8);
  v7->fields.__4__this = this;
  sub_B0D840(&v7->fields.__4__this, this);
  v7->fields.endproc = endproc;
  sub_B0D840(&v7->fields.endproc, endproc);
  v7->fields.isTactical = isTactical;
  return (System_Collections_IEnumerator_o *)v7;
}


// local variable allocation has failed, the output may be wrong!
System_Collections_IEnumerator_o *__fastcall BattleLogic__coroutineEntrySubMember(
        BattleLogic_o *this,
        System_String_o *endproc,
        bool isTactical,
        bool isEventBonusCheck,
        const MethodInfo *method)
{
  BattleLogic__coroutineEntrySubMember_d__79_o *v9; // x23
  __int64 v10; // x0

  if ( (byte_4211837 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__coroutineEntrySubMember_d__79_TypeInfo, endproc);
    byte_4211837 = 1;
  }
  v9 = (BattleLogic__coroutineEntrySubMember_d__79_o *)sub_B0D974(
                                                         BattleLogic__coroutineEntrySubMember_d__79_TypeInfo,
                                                         endproc,
                                                         isTactical);
  BattleLogic__coroutineEntrySubMember_d__79___ctor(v9, 0, 0LL);
  if ( !v9 )
    sub_B0D97C(v10);
  v9->fields.__4__this = this;
  sub_B0D840(&v9->fields.__4__this, this);
  v9->fields.endproc = endproc;
  sub_B0D840(&v9->fields.endproc, endproc);
  v9->fields.isTactical = isTactical;
  v9->fields.isEventBonusCheck = isEventBonusCheck;
  return (System_Collections_IEnumerator_o *)v9;
}


// local variable allocation has failed, the output may be wrong!
System_Collections_IEnumerator_o *__fastcall BattleLogic__coroutineImmediateEntrySubMember(
        BattleLogic_o *this,
        bool isEventBonusCheck,
        const MethodInfo *method)
{
  BattleLogic__coroutineImmediateEntrySubMember_d__81_o *v5; // x21
  __int64 v6; // x0

  if ( (byte_4211839 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__coroutineImmediateEntrySubMember_d__81_TypeInfo, isEventBonusCheck);
    byte_4211839 = 1;
  }
  v5 = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)sub_B0D974(
                                                                  BattleLogic__coroutineImmediateEntrySubMember_d__81_TypeInfo,
                                                                  isEventBonusCheck,
                                                                  method);
  BattleLogic__coroutineImmediateEntrySubMember_d__81___ctor(v5, 0, 0LL);
  if ( !v5 )
    sub_B0D97C(v6);
  v5->fields.__4__this = this;
  sub_B0D840(&v5->fields.__4__this, this);
  v5->fields.isEventBonusCheck = isEventBonusCheck;
  return (System_Collections_IEnumerator_o *)v5;
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__coroutineInitQuest(
        BattleLogic_o *this,
        System_String_o *endproc,
        const MethodInfo *method)
{
  BattleLogic__coroutineInitQuest_d__315_o *v5; // x21
  __int64 v6; // x0

  if ( (byte_42118CB & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__coroutineInitQuest_d__315_TypeInfo, endproc);
    byte_42118CB = 1;
  }
  v5 = (BattleLogic__coroutineInitQuest_d__315_o *)sub_B0D974(
                                                     BattleLogic__coroutineInitQuest_d__315_TypeInfo,
                                                     endproc,
                                                     method);
  BattleLogic__coroutineInitQuest_d__315___ctor(v5, 0, 0LL);
  if ( !v5 )
    sub_B0D97C(v6);
  v5->fields.__4__this = this;
  sub_B0D840(&v5->fields.__4__this, this);
  v5->fields.endproc = endproc;
  sub_B0D840(&v5->fields.endproc, endproc);
  return (System_Collections_IEnumerator_o *)v5;
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__coroutineLoadNstage(
        BattleLogic_o *this,
        System_Action_o *finishCallback,
        const MethodInfo *method)
{
  BattleLogic__coroutineLoadNstage_d__320_o *v5; // x21
  __int64 v6; // x0

  if ( (byte_42118CF & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__coroutineLoadNstage_d__320_TypeInfo, finishCallback);
    byte_42118CF = 1;
  }
  v5 = (BattleLogic__coroutineLoadNstage_d__320_o *)sub_B0D974(
                                                      BattleLogic__coroutineLoadNstage_d__320_TypeInfo,
                                                      finishCallback,
                                                      method);
  BattleLogic__coroutineLoadNstage_d__320___ctor(v5, 0, 0LL);
  if ( !v5 )
    sub_B0D97C(v6);
  v5->fields.__4__this = this;
  sub_B0D840(&v5->fields.__4__this, this);
  v5->fields.finishCallback = finishCallback;
  sub_B0D840(&v5->fields.finishCallback, finishCallback);
  return (System_Collections_IEnumerator_o *)v5;
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__coroutineLoadSaveWave(
        BattleLogic_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x2
  BattleLogic__coroutineLoadSaveWave_d__322_o *v4; // x20
  __int64 v5; // x0

  if ( (byte_42118D0 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__coroutineLoadSaveWave_d__322_TypeInfo, method);
    byte_42118D0 = 1;
  }
  v4 = (BattleLogic__coroutineLoadSaveWave_d__322_o *)sub_B0D974(
                                                        BattleLogic__coroutineLoadSaveWave_d__322_TypeInfo,
                                                        method,
                                                        v2);
  BattleLogic__coroutineLoadSaveWave_d__322___ctor(v4, 0, 0LL);
  if ( !v4 )
    sub_B0D97C(v5);
  v4->fields.__4__this = this;
  sub_B0D840(&v4->fields.__4__this, this);
  return (System_Collections_IEnumerator_o *)v4;
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__coroutineStartLimitTurnTutorial(
        BattleLogic_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x2
  BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *v4; // x20
  __int64 v5; // x0

  if ( (byte_42118C3 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__coroutineStartLimitTurnTutorial_d__307_TypeInfo, method);
    byte_42118C3 = 1;
  }
  v4 = (BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *)sub_B0D974(
                                                                  BattleLogic__coroutineStartLimitTurnTutorial_d__307_TypeInfo,
                                                                  method,
                                                                  v2);
  BattleLogic__coroutineStartLimitTurnTutorial_d__307___ctor(v4, 0, 0LL);
  if ( !v4 )
    sub_B0D97C(v5);
  v4->fields.__4__this = this;
  sub_B0D840(&v4->fields.__4__this, this);
  return (System_Collections_IEnumerator_o *)v4;
}


BattleActionData_o *__fastcall BattleLogic__createCamera(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  __int64 v4; // x20
  __int64 v5; // x0
  struct System_String_o *endCameraName; // x1

  if ( (byte_4211862 & 1) == 0 )
  {
    sub_B0D8A4(&BattleActionData_TypeInfo, task);
    byte_4211862 = 1;
  }
  v4 = sub_B0D974(BattleActionData_TypeInfo, task, method);
  BattleActionData___ctor((BattleActionData_o *)v4, 0LL);
  if ( !v4 || (*(_DWORD *)(v4 + 16) = 1, *(_DWORD *)(v4 + 116) = 0, !task) )
    sub_B0D97C(v5);
  endCameraName = task->fields.endCameraName;
  *(_QWORD *)(v4 + 24) = endCameraName;
  sub_B0D840(v4 + 24, endCameraName);
  return (BattleActionData_o *)v4;
}


BattleLogicTask_o *__fastcall BattleLogic__createCommandTask(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  BattleLogicTask_o *v3; // x21
  BattleLogic_o *v4; // x20
  BattleData_o *data; // x19
  BattleServantData_o *v6; // x19
  int32_t v7; // w2
  struct BattleCommandData_o *command; // x8
  BattleLogicTask_o *CommandRandomTask; // x0
  BattleLogicEnemyAi_o *logicEnemyAi; // x20
  BattleLogicTask_o *v11; // x22
  BattleLogicTask_array *v12; // x21
  __int64 v14; // x0
  __int64 v15; // x0

  v3 = task;
  v4 = this;
  if ( (byte_421185C & 1) == 0 )
  {
    this = (BattleLogic_o *)sub_B0D8A4(&BattleLogicTask___TypeInfo, task);
    byte_421185C = 1;
  }
  if ( !v3 )
    goto LABEL_20;
  data = v4->fields.data;
  this = (BattleLogic_o *)BattleLogicTask__getActorId(v3, 0LL);
  if ( !data )
    goto LABEL_20;
  this = (BattleLogic_o *)BattleData__getServantData(data, (int32_t)this, 0LL);
  if ( !v4->fields.logictarget )
    goto LABEL_20;
  v6 = (BattleServantData_o *)this;
  this = (BattleLogic_o *)BattleLogicTarget__getTargetBase(v4->fields.logictarget, v3->fields.targetIdlist, 0, 1, 0LL);
  if ( !v6 )
    goto LABEL_20;
  v7 = (int)this;
  if ( (int)this >= 1 && v6->fields.isEnemy )
  {
    command = v3->fields.command;
    if ( command )
    {
      this = (BattleLogic_o *)v4->fields.logicEnemyAi;
      if ( this )
      {
        CommandRandomTask = BattleLogicEnemyAi__createCommandRandomTask(
                              (BattleLogicEnemyAi_o *)this,
                              v6,
                              v7,
                              command->fields.actionIndex,
                              0LL);
        logicEnemyAi = v4->fields.logicEnemyAi;
        v11 = CommandRandomTask;
        this = (BattleLogic_o *)sub_B0D8BC(BattleLogicTask___TypeInfo, 1LL);
        if ( this )
        {
          v12 = (BattleLogicTask_array *)this;
          if ( v11 )
          {
            this = (BattleLogic_o *)sub_B0D964(v11, this->klass->_1.element_class);
            if ( !this )
            {
              v15 = sub_B0D99C();
              sub_B0D948(v15, 0LL);
            }
          }
          if ( !v12->max_length )
            goto LABEL_21;
          v12->m_Items[0] = v11;
          sub_B0D840(v12->m_Items, v11);
          if ( logicEnemyAi )
          {
            this = (BattleLogic_o *)BattleLogicEnemyAi__ReplaceCommandTasksBySealStatus(logicEnemyAi, v6, v12, 0LL);
            if ( this )
            {
              if ( LODWORD(this->fields.fsm) )
                return (BattleLogicTask_o *)this->fields.data;
LABEL_21:
              v14 = sub_B0D9A8(this);
              sub_B0D948(v14, 0LL);
            }
          }
        }
      }
    }
LABEL_20:
    sub_B0D97C(this);
  }
  return v3;
}


BattleActionData_o *__fastcall BattleLogic__createEnemyCutIn(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  BattleActionData_o *v4; // x20
  __int64 v5; // x0
  struct System_String_o *motionName; // x1
  float cutinAdditionalTime; // s0
  struct System_String_o *motionMessage; // x1

  if ( (byte_4211865 & 1) == 0 )
  {
    sub_B0D8A4(&BattleActionData_TypeInfo, task);
    byte_4211865 = 1;
  }
  v4 = (BattleActionData_o *)sub_B0D974(BattleActionData_TypeInfo, task, method);
  BattleActionData___ctor(v4, 0LL);
  if ( !task || !v4 )
    sub_B0D97C(v5);
  BattleActionData__SetTypeEnemyCutIn(v4, task->fields.status, 0LL);
  motionName = task->fields.motionName;
  v4->fields.motionname = motionName;
  sub_B0D840(&v4->fields.motionname, motionName);
  v4->fields.isForcedSpeedOne = task->fields.isForcedSpeedOne;
  cutinAdditionalTime = task->fields.cutinAdditionalTime;
  v4->fields.cutinAdditionalTime = cutinAdditionalTime;
  if ( cutinAdditionalTime > 0.0 )
  {
    motionMessage = task->fields.motionMessage;
    v4->fields.motionMessage = motionMessage;
    sub_B0D840(&v4->fields.motionMessage, motionMessage);
  }
  return v4;
}


BattleActionData_o *__fastcall BattleLogic__createLastActorBackStep(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  BattleData_o *data; // x0
  int32_t lastactorId; // w19
  BattleServantData_o *ServantData; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_7;
  lastactorId = data->fields.lastactorId;
  ServantData = BattleData__getServantData(data, lastactorId, 0LL);
  if ( ServantData && BattleServantData__isAlive(ServantData, 0, 0LL) )
  {
    data = (BattleData_o *)this->fields.logicnomal;
    if ( data )
      return BattleLogicNomal__createBackStep((BattleLogicNomal_o *)data, lastactorId, 0LL);
LABEL_7:
    sub_B0D97C(data);
  }
  return 0LL;
}


BattleActionData_o *__fastcall BattleLogic__createLoadImmediateEntryServant(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  BattleActionData_o *v3; // x19
  __int64 v4; // x0

  if ( (byte_4211866 & 1) == 0 )
  {
    sub_B0D8A4(&BattleActionData_TypeInfo, task);
    byte_4211866 = 1;
  }
  v3 = (BattleActionData_o *)sub_B0D974(BattleActionData_TypeInfo, task, method);
  BattleActionData___ctor(v3, 0LL);
  if ( !v3 )
    sub_B0D97C(v4);
  v3->fields.state = 5;
  return v3;
}


BattleActionData_o *__fastcall BattleLogic__createSystem(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  BattleActionData_o *v4; // x20
  __int64 v5; // x0
  BattleActionData_o *result; // x0

  if ( (byte_4211861 & 1) == 0 )
  {
    sub_B0D8A4(&BattleActionData_TypeInfo, task);
    byte_4211861 = 1;
  }
  v4 = (BattleActionData_o *)sub_B0D974(BattleActionData_TypeInfo, task, method);
  BattleActionData___ctor(v4, 0LL);
  if ( !v4 || (v4->fields.state = 1, !task) )
    sub_B0D97C(v5);
  result = v4;
  v4->fields.systemTime = task->fields.systemTime;
  return result;
}


void __fastcall BattleLogic__drawCommand(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v10; // x20
  System_Collections_Generic_IEnumerable_T__o *data; // x0
  const MethodInfo *v12; // x1
  System_Collections_Generic_IEnumerable_T__o *fixedCommands; // x1
  struct BattleData_o *v14; // x8
  int size; // w8
  unsigned int v16; // w21
  struct BattleData_o *v17; // x21
  struct BattleData_o *v18; // x8
  int v19; // w21

  if ( (byte_4211880 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__AddRange__, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__Add__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData___ctor__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__get_Count__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__get_Item__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_BattleCommandData__TypeInfo, v9);
    byte_4211880 = 1;
  }
  v10 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleCommandData__TypeInfo,
                                                                                                  method,
                                                                                                  v2);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v10,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleCommandData___ctor__);
  data = (System_Collections_Generic_IEnumerable_T__o *)this->fields.data;
  if ( !data )
    goto LABEL_31;
  if ( BattleData__isTutorialCard((BattleData_o *)data, 0LL) )
  {
    data = (System_Collections_Generic_IEnumerable_T__o *)BattleLogic__getTutorialCommandCards(this, v12);
    if ( !v10 )
      goto LABEL_31;
    fixedCommands = data;
  }
  else
  {
    data = (System_Collections_Generic_IEnumerable_T__o *)this->fields.data;
    if ( !data )
      goto LABEL_31;
    data = (System_Collections_Generic_IEnumerable_T__o *)BattleData__IsFixedCommandData((BattleData_o *)data, 0LL);
    v14 = this->fields.data;
    if ( !v14 )
      goto LABEL_31;
    if ( ((unsigned __int8)data & 1) == 0 )
    {
      v19 = -1;
      if ( BattleData__CheckDoNotSelectCommandCard(this->fields.data, 0LL) )
      {
        while ( 1 )
        {
          data = (System_Collections_Generic_IEnumerable_T__o *)this->fields.data;
          if ( !data )
            break;
          data = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getShuffleSelectedCommand(
                                                                  (BattleData_o *)data,
                                                                  0LL);
          if ( !v10 )
            break;
          System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
            v10,
            (EventMissionProgressRequest_Argument_ProgressData_o *)data,
            (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleCommandData__Add__);
          if ( (unsigned int)++v19 > 3 )
            goto LABEL_13;
        }
      }
      else
      {
        while ( 1 )
        {
          data = (System_Collections_Generic_IEnumerable_T__o *)this->fields.data;
          if ( !data )
            break;
          data = (System_Collections_Generic_IEnumerable_T__o *)BattleData__getShuffleCommand((BattleData_o *)data, 0LL);
          if ( !v10 )
            break;
          System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
            v10,
            (EventMissionProgressRequest_Argument_ProgressData_o *)data,
            (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleCommandData__Add__);
          if ( (unsigned int)++v19 >= 4 )
            goto LABEL_13;
        }
      }
LABEL_31:
      sub_B0D97C(data);
    }
    if ( !v10 )
      goto LABEL_31;
    fixedCommands = (System_Collections_Generic_IEnumerable_T__o *)v14->fields.fixedCommands;
  }
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v10,
    fixedCommands,
    (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleCommandData__AddRange__);
LABEL_13:
  size = v10->fields._size;
  if ( size >= 1 )
  {
    v16 = 0;
    do
    {
      if ( size <= v16 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41496008(0LL);
      data = (System_Collections_Generic_IEnumerable_T__o *)v10->fields._items->m_Items[v16];
      if ( !data )
        goto LABEL_31;
      BattleCommandData__ResetSelectedType((BattleCommandData_o *)data, 0LL);
      size = v10->fields._size;
    }
    while ( (int)++v16 < size );
  }
  v17 = this->fields.data;
  data = (System_Collections_Generic_IEnumerable_T__o *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                                          (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v10,
                                                          (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleCommandData__ToArray__);
  if ( !v17 )
    goto LABEL_31;
  v17->fields.draw_commandlist = (struct BattleCommandData_array *)data;
  sub_B0D840(&v17->fields.draw_commandlist, data);
  v18 = this->fields.data;
  if ( !v18 )
    goto LABEL_31;
  v18->fields.isWaitDrawCard = 0;
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__dropItemCoroutine(
        BattleLogic_o *this,
        System_Action_o *callback,
        const MethodInfo *method)
{
  BattleLogic__dropItemCoroutine_d__191_o *v5; // x21
  __int64 v6; // x0

  if ( (byte_421187C & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__dropItemCoroutine_d__191_TypeInfo, callback);
    byte_421187C = 1;
  }
  v5 = (BattleLogic__dropItemCoroutine_d__191_o *)sub_B0D974(
                                                    BattleLogic__dropItemCoroutine_d__191_TypeInfo,
                                                    callback,
                                                    method);
  BattleLogic__dropItemCoroutine_d__191___ctor(v5, 0, 0LL);
  if ( !v5 )
    sub_B0D97C(v6);
  v5->fields.__4__this = this;
  sub_B0D840(&v5->fields.__4__this, this);
  v5->fields.callback = callback;
  sub_B0D840(&v5->fields.callback, callback);
  return (System_Collections_IEnumerator_o *)v5;
}


void __fastcall BattleLogic__endActionData(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogic_o *v2; // x19
  __int64 v3; // x1
  int32_t acttype; // w8
  struct System_Collections_Generic_LinkedList_BattleLogicTask__o *list_logic; // x8

  v2 = this;
  if ( (byte_4211856 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__get_Count__, method);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v3);
    byte_4211856 = 1;
  }
  acttype = v2->fields.acttype;
  if ( acttype == 2 )
  {
    list_logic = v2->fields.list_logic;
    if ( !list_logic )
      goto LABEL_12;
    if ( list_logic->fields.count >= 1 )
    {
      BattleLogic__playTaskBattle(v2, method);
      return;
    }
    this = (BattleLogic_o *)v2->fields.fsm;
    if ( !this )
LABEL_12:
      sub_B0D97C(this);
    PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
  }
  else if ( acttype == 1 )
  {
    BattleLogic__checkBattleTask(v2, method);
  }
}


void __fastcall BattleLogic__endCommandSpell(BattleLogic_o *this, const MethodInfo *method)
{
  System_Collections_IEnumerator_o *v3; // x1

  v3 = BattleLogic__endCommandSpellCoroutine(this, method);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v3, 0LL);
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__endCommandSpellCoroutine(
        BattleLogic_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x2
  BattleLogic__endCommandSpellCoroutine_d__255_o *v4; // x20
  __int64 v5; // x0

  if ( (byte_42118A6 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__endCommandSpellCoroutine_d__255_TypeInfo, method);
    byte_42118A6 = 1;
  }
  v4 = (BattleLogic__endCommandSpellCoroutine_d__255_o *)sub_B0D974(
                                                           BattleLogic__endCommandSpellCoroutine_d__255_TypeInfo,
                                                           method,
                                                           v2);
  BattleLogic__endCommandSpellCoroutine_d__255___ctor(v4, 0, 0LL);
  if ( !v4 )
    sub_B0D97C(v5);
  v4->fields.__4__this = this;
  sub_B0D840(&v4->fields.__4__this, this);
  return (System_Collections_IEnumerator_o *)v4;
}


void __fastcall BattleLogic__endLoadCommandSPell(BattleLogic_o *this, AssetData_o *data, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 SelfUserGame; // x0
  UserGameEntity_o *v12; // x21
  int32_t v13; // w22
  BattleLogic_o *v14; // x0
  int v15; // w21
  const MethodInfo *v16; // x2
  struct BattlePerformance_o *perf; // x8
  UnityEngine_GameObject_o *v18; // x20
  UnityEngine_Object_o *Component_srcLineSprite; // x22
  UnityEngine_Object_o *v20; // x20
  BattleLogic_c *v21; // x8
  System_String_o *COMMAND_SPELL_EFFECT_ANIMNAME; // x23
  Il2CppObject *v23; // x0
  System_String_o *v24; // x21
  const MethodInfo *v25; // x2
  struct BattlePerformance_o *v26; // x8
  struct BattleLogic_CommandSpellData_o *actData; // x8
  int32_t commandSkillId; // w21
  BattleLogicSkill_o *logicSkill; // x20
  struct BattleLogic_CommandSpellData_o *v30; // x8
  BattleLogicTask_array *v31; // x0
  const MethodInfo *v32; // x2
  __int64 v33; // x0
  int v34; // [xsp+Ch] [xbp-24h] BYREF

  if ( (byte_42118A1 & 1) == 0 )
  {
    sub_B0D8A4(&Method_AssetData_GetObject_GameObject____67951440, data);
    sub_B0D8A4(&BattleLogic_TypeInfo, v5);
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_Animation___, v6);
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_SimpleAnimation___, v7);
    sub_B0D8A4(&int___TypeInfo, v8);
    sub_B0D8A4(&int_TypeInfo, v9);
    sub_B0D8A4(&UnityEngine_Object_TypeInfo, v10);
    byte_42118A1 = 1;
  }
  SelfUserGame = (__int64)UserGameMaster__getSelfUserGame(0LL);
  if ( !SelfUserGame )
    goto LABEL_31;
  v12 = (UserGameEntity_o *)SelfUserGame;
  SelfUserGame = UserGameEntity__get_SpellImageIdBattle((UserGameEntity_o *)SelfUserGame, 0LL);
  if ( !this->fields.data )
    goto LABEL_31;
  v13 = SelfUserGame;
  v14 = (BattleLogic_o *)BattleData__CheckCurrentTemporaryCommandSpell(this->fields.data, v12, 0LL);
  v15 = (int)v14;
  SelfUserGame = (__int64)BattleLogic__GetCommandSpellPrefabName(v14, v13, v16);
  if ( !data )
    goto LABEL_31;
  SelfUserGame = (__int64)AssetData__GetObject_WarBoardWaitTimeSetting_(
                            data,
                            (System_String_o *)SelfUserGame,
                            (const MethodInfo_1700DD0 *)Method_AssetData_GetObject_GameObject____67951440);
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_31;
  SelfUserGame = (__int64)BaseMonoBehaviour__createObject(
                            (BaseMonoBehaviour_o *)this,
                            (UnityEngine_GameObject_o *)SelfUserGame,
                            perf->fields.popupTr,
                            0LL,
                            0LL);
  if ( !SelfUserGame )
    goto LABEL_31;
  v18 = (UnityEngine_GameObject_o *)SelfUserGame;
  Component_srcLineSprite = (UnityEngine_Object_o *)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                                      (UnityEngine_GameObject_o *)SelfUserGame,
                                                      (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_SimpleAnimation___);
  v20 = (UnityEngine_Object_o *)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                  v18,
                                  (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_Animation___);
  v21 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v21 = BattleLogic_TypeInfo;
  }
  COMMAND_SPELL_EFFECT_ANIMNAME = v21->static_fields->COMMAND_SPELL_EFFECT_ANIMNAME;
  v34 = v15;
  v23 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &v34);
  v24 = System_String__Format(COMMAND_SPELL_EFFECT_ANIMNAME, v23, 0LL);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  SelfUserGame = UnityEngine_Object__op_Inequality(Component_srcLineSprite, 0LL, 0LL);
  if ( (SelfUserGame & 1) != 0 )
  {
    if ( !Component_srcLineSprite )
      goto LABEL_31;
    SimpleAnimation__Play_50482404((SimpleAnimation_o *)Component_srcLineSprite, v24, 0LL);
  }
  else
  {
    if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
    }
    SelfUserGame = UnityEngine_Object__op_Inequality(v20, 0LL, 0LL);
    if ( (SelfUserGame & 1) != 0 )
    {
      if ( !v20 )
        goto LABEL_31;
      UnityEngine_Animation__Play_50564840((UnityEngine_Animation_o *)v20, v24, 0LL);
    }
  }
  SelfUserGame = (__int64)this->fields.perf;
  if ( !SelfUserGame )
    goto LABEL_31;
  BattlePerformance__playMasterCommandSpellCutIn((BattlePerformance_o *)SelfUserGame, 0LL);
  BattleLogic__SetTimeAccelerationCheckDelayReset(this, 0, v25);
  v26 = this->fields.perf;
  if ( !v26 )
    goto LABEL_31;
  v26->fields.isTargetChange = 0;
  actData = this->fields.actData;
  if ( !actData )
    goto LABEL_31;
  commandSkillId = actData->fields.commandSkillId;
  logicSkill = this->fields.logicSkill;
  SelfUserGame = sub_B0D8BC(int___TypeInfo, 1LL);
  v30 = this->fields.actData;
  if ( !v30 || !SelfUserGame )
    goto LABEL_31;
  if ( !*(_DWORD *)(SelfUserGame + 24) )
  {
    v33 = sub_B0D9A8(SelfUserGame);
    sub_B0D948(v33, 0LL);
  }
  *(_DWORD *)(SelfUserGame + 32) = v30->fields.ptTargetId;
  if ( !logicSkill )
LABEL_31:
    sub_B0D97C(SelfUserGame);
  v31 = BattleLogicSkill__taskCommandSpell(logicSkill, commandSkillId, 1, (System_Int32_array *)SelfUserGame, 0LL);
  BattleLogic__actOneBattleTask(this, v31, v32);
}


void __fastcall BattleLogic__endLoadEnemyCommandSpell(
        BattleLogic_o *this,
        AssetData_o *aData,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  struct BattleData_o *data; // x8
  struct EnemyMstBattleEntity_o *enemyMasterInfo; // x8
  struct BattlePerformance_o *perf; // x8
  UnityEngine_GameObject_o *v13; // x20
  UnityEngine_Object_o *Component_srcLineSprite; // x21
  UnityEngine_Object_o *v15; // x20
  System_String_o *COMMAND_SPELL_EFFECT_ANIMNAME; // x22
  Il2CppObject *v17; // x0
  System_String_o *v18; // x22
  struct BattleData_o *v19; // x8
  int32_t EnemyMasterCommandSpellCnt; // [xsp+Ch] [xbp-24h] BYREF

  v4 = this;
  if ( (byte_42118A8 & 1) == 0 )
  {
    sub_B0D8A4(&Method_AssetData_GetObject_GameObject____67951440, aData);
    sub_B0D8A4(&BattleLogic_TypeInfo, v5);
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_Animation___, v6);
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_SimpleAnimation___, v7);
    sub_B0D8A4(&int_TypeInfo, v8);
    this = (BattleLogic_o *)sub_B0D8A4(&UnityEngine_Object_TypeInfo, v9);
    byte_42118A8 = 1;
  }
  data = v4->fields.data;
  if ( !data )
    goto LABEL_27;
  enemyMasterInfo = data->fields.enemyMasterInfo;
  if ( !enemyMasterInfo )
    goto LABEL_27;
  this = (BattleLogic_o *)BattleLogic__GetCommandSpellPrefabName(
                            this,
                            enemyMasterInfo->fields.commandSpellIconId,
                            method);
  if ( !aData )
    goto LABEL_27;
  this = (BattleLogic_o *)AssetData__GetObject_WarBoardWaitTimeSetting_(
                            aData,
                            (System_String_o *)this,
                            (const MethodInfo_1700DD0 *)Method_AssetData_GetObject_GameObject____67951440);
  perf = v4->fields.perf;
  if ( !perf )
    goto LABEL_27;
  this = (BattleLogic_o *)BaseMonoBehaviour__createObject(
                            (BaseMonoBehaviour_o *)v4,
                            (UnityEngine_GameObject_o *)this,
                            perf->fields.popupTr,
                            0LL,
                            0LL);
  if ( !this )
    goto LABEL_27;
  v13 = (UnityEngine_GameObject_o *)this;
  Component_srcLineSprite = (UnityEngine_Object_o *)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                                      (UnityEngine_GameObject_o *)this,
                                                      (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_SimpleAnimation___);
  v15 = (UnityEngine_Object_o *)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                  v13,
                                  (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_Animation___);
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
  this = (BattleLogic_o *)v4->fields.data;
  if ( !this )
    goto LABEL_27;
  COMMAND_SPELL_EFFECT_ANIMNAME = BattleLogic_TypeInfo->static_fields->COMMAND_SPELL_EFFECT_ANIMNAME;
  EnemyMasterCommandSpellCnt = BattleData__getEnemyMasterCommandSpellCnt((BattleData_o *)this, 0LL);
  v17 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &EnemyMasterCommandSpellCnt);
  v18 = System_String__Format(COMMAND_SPELL_EFFECT_ANIMNAME, v17, 0LL);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  this = (BattleLogic_o *)UnityEngine_Object__op_Inequality(Component_srcLineSprite, 0LL, 0LL);
  if ( ((unsigned __int8)this & 1) != 0 )
  {
    if ( !Component_srcLineSprite )
      goto LABEL_27;
    this = (BattleLogic_o *)SimpleAnimation__Play_50482404((SimpleAnimation_o *)Component_srcLineSprite, v18, 0LL);
  }
  else
  {
    if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
    }
    this = (BattleLogic_o *)UnityEngine_Object__op_Inequality(v15, 0LL, 0LL);
    if ( ((unsigned __int8)this & 1) != 0 )
    {
      if ( !v15 )
        goto LABEL_27;
      this = (BattleLogic_o *)UnityEngine_Animation__Play_50564840((UnityEngine_Animation_o *)v15, v18, 0LL);
    }
  }
  v19 = v4->fields.data;
  if ( !v19 || (++v19->fields.enemyMasterCommandSpellUseCnt, (this = (BattleLogic_o *)v4->fields.perf) == 0LL) )
LABEL_27:
    sub_B0D97C(this);
  BattlePerformance__playEnemyMasterCutIn((BattlePerformance_o *)this, 0LL);
}


void __fastcall BattleLogic__endSelectCommand(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0

  if ( (byte_4211885 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5513/*"END_SELECTCARD"*/, method);
    byte_4211885 = 1;
  }
  BattleLogic__checkCombo(this, method);
  data = this->fields.data;
  if ( !data
    || (BattleData__addLogCommand(data, 0LL), (data = this->fields.data) == 0LL)
    || (BattleData__AddChainCount(data, 0LL), (data = (BattleData_o *)this->fields.fsm) == 0LL) )
  {
    sub_B0D97C(data);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_5513/*"END_SELECTCARD"*/, 0LL);
}


void __fastcall BattleLogic__endSelectSkillFaze(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogic_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  struct BattleData_o *data; // x8
  int32_t tutorialId; // w9
  BattleLogic_o *v7; // x8
  __int64 *v8; // x8

  v2 = this;
  if ( (byte_4211896 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__, method);
    sub_B0D8A4(&StringLiteral_10481/*"PLAY_TREASUREARMS"*/, v3);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_5491/*"END_ABILITYFAZE"*/, v4);
    byte_4211896 = 1;
  }
  data = v2->fields.data;
  if ( !data )
LABEL_21:
    sub_B0D97C(this);
  tutorialId = data->fields.tutorialId;
  if ( tutorialId == 3 )
  {
    if ( data->fields.wavecount == 1 && data->fields.turnCount == 1 && !data->fields.tutorialState )
      return;
  }
  else
  {
    if ( tutorialId == 2 )
    {
      if ( data->fields.turnCount != 2 )
        goto LABEL_15;
    }
    else if ( tutorialId != 1 || data->fields.turnCount != 5 )
    {
      goto LABEL_15;
    }
    if ( data->fields.tutorialState == -1 )
      return;
  }
LABEL_15:
  this = (BattleLogic_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_BattleSequenceManager__get_Instance__);
  if ( !this )
    goto LABEL_21;
  v7 = this;
  this = (BattleLogic_o *)v2->fields.fsm;
  if ( !this )
    goto LABEL_21;
  if ( BYTE4(v7->fields.proc) )
    v8 = &StringLiteral_10481/*"PLAY_TREASUREARMS"*/;
  else
    v8 = &StringLiteral_5491/*"END_ABILITYFAZE"*/;
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)*v8, 0LL);
}


void __fastcall BattleLogic__endSkill(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 perf; // x0
  const MethodInfo *v13; // x1
  struct BattlePerformance_o *v14; // x8
  struct BattleLogic_UseSkillObject_o *act_useSkill; // x8
  struct BattleLogic_UseSkillObject_o *v16; // x8
  struct BattleLogic_UseSkillObject_o *v17; // x8
  Il2CppObject *v18; // x20
  Il2CppObject *v19; // x21
  Il2CppObject *v20; // x0
  System_String_o *v21; // x20
  __int64 v22; // x1
  __int64 v23; // x2
  NetworkManager_ResultCallbackFunc_o *v24; // x20
  struct BattleLogic_UseSkillObject_o *v25; // x8
  BattleUseItemRequest_o *v26; // x20
  struct BattleLogic_UseSkillObject_o *v27; // x8
  int32_t v28; // w21
  BattleData_o *data; // x8
  int32_t v30; // w19
  struct BattleData_o *v31; // x8
  __int64 *v32; // x8
  int32_t eventId; // [xsp+4h] [xbp-2Ch] BYREF
  int32_t CondItemNumber; // [xsp+8h] [xbp-28h] BYREF
  int32_t CondItemId; // [xsp+Ch] [xbp-24h] BYREF

  if ( (byte_421189C & 1) == 0 )
  {
    sub_B0D8A4(&BattleData_TypeInfo, method);
    sub_B0D8A4(&Method_BattleLogic_EndRequestBattleUseItem__, v4);
    sub_B0D8A4(&int_TypeInfo, v5);
    sub_B0D8A4(&Method_NetworkManager_getRequest_BattleUseItemRequest___, v6);
    sub_B0D8A4(&NetworkManager_TypeInfo, v7);
    sub_B0D8A4(&NetworkManager_ResultCallbackFunc_TypeInfo, v8);
    sub_B0D8A4(&StringLiteral_13502/*"TUTORIAL"*/, v9);
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v10);
    sub_B0D8A4(&StringLiteral_23666/*"{0},{1},{2}"*/, v11);
    byte_421189C = 1;
  }
  BattleLogic__updateEnemyTarget(this, 0, v2);
  perf = (__int64)this->fields.perf;
  if ( !perf )
    goto LABEL_37;
  BattlePerformance__updateCommandCard((BattlePerformance_o *)perf, 0LL);
  perf = (__int64)this->fields.perf;
  if ( !perf )
    goto LABEL_37;
  BattlePerformance__checkRedrawCommandCard((BattlePerformance_o *)perf, 0LL);
  perf = (__int64)this->fields.perf;
  if ( !perf )
    goto LABEL_37;
  BattlePerformance__endActionSkill((BattlePerformance_o *)perf, 0LL);
  BattleLogic__DelayForceResetTimeForSkip(this, v13);
  v14 = this->fields.perf;
  if ( !v14 )
    goto LABEL_37;
  v14->fields.isTargetChange = 1;
  perf = (__int64)this->fields.data;
  if ( !perf )
    goto LABEL_37;
  BattleData__SaveTurnData((BattleData_o *)perf, 0LL);
  act_useSkill = this->fields.act_useSkill;
  if ( !act_useSkill )
    goto LABEL_37;
  perf = (__int64)act_useSkill->fields.skillInfo;
  if ( !perf )
    goto LABEL_37;
  perf = BattleSkillInfoData__HasCond((BattleSkillInfoData_o *)perf, 0LL);
  if ( (perf & 1) != 0 )
  {
    v16 = this->fields.act_useSkill;
    if ( v16 )
    {
      perf = (__int64)v16->fields.skillInfo;
      if ( perf )
      {
        CondItemId = BattleSkillInfoData__GetCondItemId((BattleSkillInfoData_o *)perf, 0LL);
        perf = j_il2cpp_value_box_0(int_TypeInfo, &CondItemId);
        v17 = this->fields.act_useSkill;
        if ( v17 )
        {
          v18 = (Il2CppObject *)perf;
          perf = (__int64)v17->fields.skillInfo;
          if ( perf )
          {
            CondItemNumber = BattleSkillInfoData__GetCondItemNumber((BattleSkillInfoData_o *)perf, 0LL);
            perf = j_il2cpp_value_box_0(int_TypeInfo, &CondItemNumber);
            if ( this->fields.data )
            {
              v19 = (Il2CppObject *)perf;
              eventId = BattleData__get_eventId(this->fields.data, 0LL);
              v20 = (Il2CppObject *)j_il2cpp_value_box_0(int_TypeInfo, &eventId);
              v21 = System_String__Format_43850968((System_String_o *)StringLiteral_23666/*"{0},{1},{2}"*/, v18, v19, v20, 0LL);
              if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
                && !BattleData_TypeInfo->_2.cctor_finished )
              {
                j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
              }
              BattleData__SaveBattleUseItemParameter(v21, 0, 0LL);
              BattleData__setContinueBattleFlg(5, 1, 0LL);
              v24 = (NetworkManager_ResultCallbackFunc_o *)sub_B0D974(
                                                             NetworkManager_ResultCallbackFunc_TypeInfo,
                                                             v22,
                                                             v23);
              NetworkManager_ResultCallbackFunc___ctor(
                v24,
                (Il2CppObject *)this,
                Method_BattleLogic_EndRequestBattleUseItem__,
                0LL);
              if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
                && !NetworkManager_TypeInfo->_2.cctor_finished )
              {
                j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
              }
              perf = (__int64)NetworkManager__getRequest_WarBoardWallAttackRequest_(
                                v24,
                                (const MethodInfo_2049D98 *)Method_NetworkManager_getRequest_BattleUseItemRequest___);
              v25 = this->fields.act_useSkill;
              if ( v25 )
              {
                v26 = (BattleUseItemRequest_o *)perf;
                perf = (__int64)v25->fields.skillInfo;
                if ( perf )
                {
                  perf = BattleSkillInfoData__GetCondItemId((BattleSkillInfoData_o *)perf, 0LL);
                  v27 = this->fields.act_useSkill;
                  if ( v27 )
                  {
                    v28 = perf;
                    perf = (__int64)v27->fields.skillInfo;
                    if ( perf )
                    {
                      perf = BattleSkillInfoData__GetCondItemNumber((BattleSkillInfoData_o *)perf, 0LL);
                      data = this->fields.data;
                      if ( data )
                      {
                        v30 = perf;
                        perf = BattleData__get_eventId(data, 0LL);
                        if ( v26 )
                        {
                          BattleUseItemRequest__beginRequest(v26, v28, v30, perf, 0LL);
                          return;
                        }
                      }
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
LABEL_37:
    sub_B0D97C(perf);
  }
  v31 = this->fields.data;
  if ( !v31 )
    goto LABEL_37;
  if ( v31->fields.tutorialId == 2 && v31->fields.tutorialState == 5 )
  {
    v31->fields.tutorialState = 10;
    perf = (__int64)this->fields.fsm;
    if ( !perf )
      goto LABEL_37;
    v32 = &StringLiteral_13502/*"TUTORIAL"*/;
  }
  else
  {
    perf = (__int64)this->fields.fsm;
    if ( !perf )
      goto LABEL_37;
    v32 = &StringLiteral_5512/*"END_PROC"*/;
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)perf, (System_String_o *)*v32, 0LL);
}


void __fastcall BattleLogic__endStartWaveAction(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  BattleLogic__ForceResetTimeAcceleration(this, method);
  perf = this->fields.perf;
  if ( !perf )
    sub_B0D97C(0LL);
  BattlePerformance__setFadeAnimationSpeed(perf, 0LL);
}


bool __fastcall BattleLogic__existOverKillTarget(BattleLogic_o *this, const MethodInfo *method)
{
  void *data; // x0
  int v4; // w8
  unsigned int v5; // w9
  __int64 v6; // x10
  int v7; // w8
  unsigned int v8; // w9
  __int64 v9; // x10
  __int64 v11; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_19;
  data = BattleData__getFieldPlayerServantList((BattleData_o *)data, 0LL);
  if ( !data )
    goto LABEL_19;
  v4 = *((_DWORD *)data + 6);
  if ( v4 >= 1 )
  {
    v5 = 0;
    do
    {
      if ( v5 >= v4 )
        goto LABEL_20;
      v6 = *((_QWORD *)data + (int)v5 + 4);
      if ( !v6 )
        goto LABEL_19;
      if ( (*(_DWORD *)(v6 + 436) & 0x80000000) == 0 )
        return 1;
    }
    while ( (int)++v5 < v4 );
  }
  data = this->fields.data;
  if ( !data || (data = BattleData__getFieldEnemyServantList((BattleData_o *)data, 0, 0LL)) == 0LL )
LABEL_19:
    sub_B0D97C(data);
  v7 = *((_DWORD *)data + 6);
  if ( v7 >= 1 )
  {
    v8 = 0;
    while ( v8 < v7 )
    {
      v9 = *((_QWORD *)data + (int)v8 + 4);
      if ( !v9 )
        goto LABEL_19;
      if ( (*(_DWORD *)(v9 + 436) & 0x80000000) == 0 )
        return 1;
      if ( (int)++v8 >= v7 )
        return 0;
    }
LABEL_20:
    v11 = sub_B0D9A8(data);
    sub_B0D948(v11, 0LL);
  }
  return 0;
}


void __fastcall BattleLogic__finishActionBattle(
        BattleLogic_o *this,
        System_String_o *endproc,
        const MethodInfo *method)
{
  BattleData_o *data; // x0
  unsigned __int64 v6; // x21
  struct System_Int32_array *p_entryid; // x8
  unsigned __int64 max_length; // x9
  int32_t v9; // w1
  struct BattleData_o *v10; // x8
  __int64 v11; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_10;
  v6 = 0LL;
  while ( 1 )
  {
    p_entryid = data->fields.p_entryid;
    if ( !p_entryid )
      goto LABEL_10;
    max_length = p_entryid->max_length;
    if ( (__int64)v6 >= (int)max_length )
      break;
    if ( v6 >= max_length )
    {
      v11 = sub_B0D9A8(data);
      sub_B0D948(v11, 0LL);
    }
    v9 = p_entryid->m_Items[v6 + 1];
    if ( v9 >= 1 )
    {
      data = (BattleData_o *)BattleData__getPlayerServantData(data, v9, 0LL);
      if ( !data )
        goto LABEL_10;
      BattleServantData__refreshActionBattle((BattleServantData_o *)data, 0LL);
      data = this->fields.data;
    }
    ++v6;
    if ( !data )
      goto LABEL_10;
  }
  data = (BattleData_o *)this->fields.perf;
  if ( !data
    || (BattlePerformance__updateStatus((BattlePerformance_o *)data, 0LL),
        (data = (BattleData_o *)this->fields.perf) == 0LL)
    || (BattlePerformance__SetDefenceTargetBattlePhaseEnd((BattlePerformance_o *)data, 1, 0LL),
        (v10 = this->fields.data) == 0LL)
    || (v10->fields.isCommandSelected = 0, (data = (BattleData_o *)this->fields.fsm) == 0LL) )
  {
LABEL_10:
    sub_B0D97C(data);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, endproc, 0LL);
}


void __fastcall BattleLogic__forceDropItem(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  const MethodInfo *v4; // x2
  System_Collections_IEnumerator_o *v5; // x0
  PlayMakerFSM_o *fsm; // x0
  __int64 *v7; // x8

  if ( (byte_421187B & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_9768/*"OK"*/, method);
    sub_B0D8A4(&StringLiteral_9324/*"NG"*/, v3);
    byte_421187B = 1;
  }
  if ( !BattleLogic__CheckEnemyDropItemAll(this, method) )
  {
    fsm = this->fields.fsm;
    if ( fsm )
    {
      v7 = &StringLiteral_9324/*"NG"*/;
      goto LABEL_8;
    }
LABEL_9:
    sub_B0D97C(fsm);
  }
  v5 = BattleLogic__dropItemCoroutine(this, 0LL, v4);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v5, 0LL);
  fsm = this->fields.fsm;
  if ( !fsm )
    goto LABEL_9;
  v7 = &StringLiteral_9768/*"OK"*/;
LABEL_8:
  PlayMakerFSM__SendEvent(fsm, (System_String_o *)*v7, 0LL);
}


int32_t __fastcall BattleLogic__getAttackNp(
        BattleLogic_o *this,
        BattleServantData_o *atkSvt,
        BattleServantData_o *defSvt,
        BattleCommandData_o *command,
        bool critical,
        bool isNoble,
        BattleLogic_DamageProcessArgs_o *processArgs,
        const MethodInfo *method)
{
  int32_t AttackBaseNp; // w24
  float CommandCardNP; // s0
  float v16; // s8
  float v17; // s8

  if ( (byte_42118B4 & 1) == 0 )
  {
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_3455/*"CRITICAL_TD_POINT_RATE"*/, atkSvt);
    byte_42118B4 = 1;
  }
  if ( !atkSvt )
    goto LABEL_12;
  AttackBaseNp = BattleServantData__getAttackBaseNp(atkSvt, command, isNoble, 0LL);
  CommandCardNP = BattleServantData__getCommandCardNP(atkSvt, command, defSvt, 0LL);
  if ( !defSvt )
    goto LABEL_12;
  v16 = (float)(CommandCardNP * (float)AttackBaseNp) * BattleServantData__getTdRate(defSvt, 0LL);
  v17 = v16 * BattleServantData__getUpDownDropNp(atkSvt, command, defSvt, 1, 0LL);
  if ( critical )
    v17 = v17 * ConstantMaster__getRateValue((System_String_o *)StringLiteral_3455/*"CRITICAL_TD_POINT_RATE"*/, 0LL);
  if ( !processArgs )
    goto LABEL_12;
  if ( processArgs->fields._IsNormalAttack_k__BackingField )
  {
    if ( command )
    {
      v17 = v17 * BattleCommandData__GetAttackNpRate(command, 0LL);
      return BattleUtility__FloorToInt(fmaxf(v17, 0.0), 0LL);
    }
LABEL_12:
    sub_B0D97C(this);
  }
  return BattleUtility__FloorToInt(fmaxf(v17, 0.0), 0LL);
}


int32_t __fastcall BattleLogic__getAttackStar(
        BattleLogic_o *this,
        BattleServantData_o *atkSvt,
        BattleServantData_o *defSvt,
        BattleCommandData_o *command,
        bool critical,
        BattleLogic_DamageProcessArgs_o *processArgs,
        const MethodInfo *method)
{
  int32_t BaseStarRate; // w24
  float CommandStar; // s0
  float v14; // s10
  float UpdownDropStar; // s0
  float v16; // s8

  if ( (byte_42118B5 & 1) == 0 )
  {
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_3454/*"CRITICAL_STAR_RATE"*/, atkSvt);
    byte_42118B5 = 1;
  }
  if ( !atkSvt )
    goto LABEL_12;
  BaseStarRate = BattleServantData__getBaseStarRate(atkSvt, 0LL);
  CommandStar = BattleServantData__getCommandStar(atkSvt, command, defSvt, 0LL);
  if ( !defSvt )
    goto LABEL_12;
  v14 = (float)(CommandStar + (float)((float)((float)BaseStarRate / 1000.0) + 0.0))
      + (float)((float)defSvt->fields.downstarrate / 1000.0);
  UpdownDropStar = BattleServantData__getUpdownDropStar(atkSvt, command, defSvt, 1, 0LL);
  v16 = BattleServantData__GetUpDownDropStarDamageTaken(defSvt, command, atkSvt, 0LL) + (float)(UpdownDropStar + v14);
  if ( critical )
  {
    this = (BattleLogic_o *)ConstantMaster__getValue((System_String_o *)StringLiteral_3454/*"CRITICAL_STAR_RATE"*/, 0LL);
    v16 = v16 + (float)((float)(int)this / 1000.0);
  }
  if ( !processArgs )
    goto LABEL_12;
  if ( processArgs->fields._IsNormalAttack_k__BackingField )
  {
    if ( command )
    {
      v16 = v16 * BattleCommandData__GetDropStarRate(command, 0LL);
      return BattleUtility__FloorToInt(fmaxf(v16, 0.0) * 1000.0, 0LL);
    }
LABEL_12:
    sub_B0D97C(this);
  }
  return BattleUtility__FloorToInt(fmaxf(v16, 0.0) * 1000.0, 0LL);
}


System_String_o *__fastcall BattleLogic__getBattleBgmName(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x1
  System_String_o *bgmName; // [xsp+8h] [xbp-8h] BYREF

  bgmName = 0LL;
  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  if ( BattleData__checkAndGetOverrideBgm(data, &bgmName, 0LL) )
    return bgmName;
  else
    return BattleLogic__GetDefaultBgmName(this, v4);
}


float __fastcall BattleLogic__getClassMagnification(
        BattleLogic_o *this,
        BattleCommandData_o *command,
        BattleServantData_o *selfSvt,
        BattleServantData_o *opSvt,
        bool isAct,
        int32_t *atkClassRelationBuffShowState,
        int32_t *defClassRelationBuffShowState,
        const MethodInfo *method)
{
  BattleLogicClassRelation_o *logicClassRelation; // x25
  BattleLogicClassRelation_Argument_o *v16; // x26
  BattleLogicClassRelation_ResultData_o *v17; // x0
  BattleLogicClassRelation_ResultData_o *v18; // x21

  if ( (byte_42118B6 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicClassRelation_Argument_TypeInfo, command);
    byte_42118B6 = 1;
  }
  logicClassRelation = this->fields.logicClassRelation;
  v16 = (BattleLogicClassRelation_Argument_o *)sub_B0D974(BattleLogicClassRelation_Argument_TypeInfo, command, selfSvt);
  BattleLogicClassRelation_Argument___ctor(v16, command, selfSvt, opSvt, isAct, 0LL);
  if ( !logicClassRelation || (v17 = BattleLogicClassRelation__proc(logicClassRelation, v16, 0LL)) == 0LL )
    sub_B0D97C(v17);
  v18 = v17;
  BattleLogicClassRelation_ResultData__getBuffShowState(
    v17,
    v17->fields._AtkRateData_k__BackingField,
    v17->fields._DefRateData_k__BackingField,
    1,
    atkClassRelationBuffShowState,
    0LL);
  BattleLogicClassRelation_ResultData__getBuffShowState(
    v18,
    v18->fields._DefRateData_k__BackingField,
    v18->fields._AtkRateData_k__BackingField,
    0,
    defClassRelationBuffShowState,
    0LL);
  return v18->fields._FixRate_k__BackingField;
}


float __fastcall BattleLogic__getClassMagnification_18983752(
        BattleLogic_o *this,
        BattleCommandData_o *command,
        BattleServantData_o *selfSvt,
        BattleServantData_o *opSvt,
        bool isAct,
        const MethodInfo *method)
{
  const MethodInfo *v6; // x7
  int32_t defClassRelationBuffShowState; // [xsp+Ch] [xbp-4h] BYREF

  defClassRelationBuffShowState = 0;
  return BattleLogic__getClassMagnification(
           this,
           command,
           selfSvt,
           opSvt,
           isAct,
           &defClassRelationBuffShowState,
           &defClassRelationBuffShowState,
           v6);
}


// local variable allocation has failed, the output may be wrong!
BattleCommandData_o *__fastcall BattleLogic__getCommandData(
        BattleLogic_o *this,
        BattleServantData_o *svtData,
        int32_t type,
        const MethodInfo *method)
{
  __int64 v6; // x1
  BattleCommandData_o *v7; // x20
  __int64 v8; // x0
  __int64 v9; // x21
  __int64 v10; // x22
  BattleCommandData_o *result; // x0
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v12; // 0:x0.16

  if ( (byte_42118BE & 1) == 0 )
  {
    sub_B0D8A4(&BattleCommandData_TypeInfo, svtData);
    sub_B0D8A4(&CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo, v6);
    byte_42118BE = 1;
  }
  v7 = (BattleCommandData_o *)sub_B0D974(BattleCommandData_TypeInfo, svtData, *(_QWORD *)&type);
  BattleCommandData___ctor(v7, 0LL);
  if ( !v7 || (v7->fields._type = type, !svtData) )
    sub_B0D97C(v8);
  v10 = *(_QWORD *)&svtData->fields.svtId.fields.currentCryptoKey;
  v9 = *(_QWORD *)&svtData->fields.svtId.fields.fakeValue;
  if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
  }
  *(_QWORD *)&v12.fields.currentCryptoKey = v10;
  *(_QWORD *)&v12.fields.fakeValue = v9;
  v7->fields.svtId = CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44162576(v12, 0LL);
  v7->fields.imageSvtId = BattleServantData__GetCommandImageSvtId(svtData, 0LL);
  v7->fields.svtlimit = BattleServantData__getCommandDispLimitCount(svtData, 0LL);
  v7->fields._loadsvtLimit = BattleServantData__getDispLimitCount(svtData, 1, 0LL);
  v7->fields.uniqueId = svtData->fields.uniqueId;
  v7->fields.attri = BattleServantData__getAttri(svtData, 0LL);
  result = v7;
  v7->fields.follower = svtData->fields.followerType;
  return result;
}


BattleActionData_DamageData_o *__fastcall BattleLogic__getDamagelist(
        BattleLogic_o *this,
        BattleServantData_o *actor,
        BattleServantData_o *target,
        BattleCommandData_o *command,
        BattleLogic_DamageProcessArgs_o *processArgs,
        const MethodInfo *method)
{
  System_Int32_array *v11; // x0
  __int64 v13; // x0
  const MethodInfo *v14; // [xsp+30h] [xbp-40h]

  if ( (byte_42118B0 & 1) == 0 )
  {
    sub_B0D8A4(&int___TypeInfo, actor);
    byte_42118B0 = 1;
  }
  v11 = (System_Int32_array *)sub_B0D8BC(int___TypeInfo, 1LL);
  if ( !v11 )
    sub_B0D97C(0LL);
  if ( !v11->max_length )
  {
    v13 = sub_B0D9A8(v11);
    sub_B0D948(v13, 0LL);
  }
  v11->m_Items[1] = 1000;
  return BattleLogic__getDamagelist_18977004(
           this,
           actor,
           target,
           command,
           0,
           0,
           v11,
           0LL,
           0LL,
           0LL,
           0,
           0,
           0,
           processArgs,
           v14);
}


BattleActionData_DamageData_o *__fastcall BattleLogic__getDamagelist_18977004(
        BattleLogic_o *this,
        BattleServantData_o *actor,
        BattleServantData_o *target,
        BattleCommandData_o *command,
        int32_t nobleType,
        int32_t funcIndex,
        System_Int32_array *perlist,
        System_Int32_array *svtIndv,
        System_Int32_array *buffIndv,
        System_Int32_array *rarityList,
        bool IsIncludeIgnoreIndividuality,
        bool isSafe,
        bool isIgnoreIndivUnreleaseable,
        BattleLogic_DamageProcessArgs_o *processArgs,
        const MethodInfo *method)
{
  BattleLogic_DamageProcessArgs_o *v15; // x27
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  __int64 v31; // x1
  __int64 v32; // x1
  __int64 v33; // x1
  __int64 v34; // x1
  __int64 v35; // x1
  __int64 v36; // x1
  __int64 v37; // x1
  __int64 v38; // x1
  __int64 v39; // x1
  __int64 v40; // x1
  __int64 v41; // x1
  __int64 v42; // x1
  __int64 v43; // x1
  __int64 v44; // x1
  BattleActionData_DamageData_o *v45; // x22
  __int64 v46; // x1
  __int64 v47; // x2
  __int64 AttackRaito; // x0
  __int64 v49; // x1
  __int64 v50; // x2
  struct BattleBuffData_o *buffData; // x8
  const MethodInfo *v52; // x3
  __int64 v53; // x28
  __int64 v54; // x8
  int v55; // w20
  unsigned __int64 v56; // x10
  int v57; // w13
  unsigned __int64 v58; // x8
  unsigned __int64 v59; // x9
  unsigned __int64 v60; // x8
  int v61; // w9
  unsigned __int64 v62; // x10
  int v63; // w13
  float atk; // s0
  float v65; // s0
  BattleLogic_o *v66; // x0
  const MethodInfo *v67; // x3
  float v68; // s8
  int32_t v69; // w20
  float v70; // s0
  float v71; // s0
  int32_t v72; // w20
  float WkHpRatio; // s0
  float v74; // s8
  const MethodInfo *v75; // x7
  float ClassMagnification; // s0
  float v77; // s10
  float v78; // s8
  int32_t Attri; // w20
  int32_t v80; // w0
  int32_t Value; // w20
  int32_t v82; // w0
  float UpDownAtk; // s8
  float UpDownDef; // s0
  float v85; // s8
  _BOOL4 v86; // w23
  float UpDownSpecialDef; // s0
  float v88; // s8
  float v89; // s8
  BattleLogic_o *v90; // x0
  const MethodInfo *v91; // x3
  float UpdownPowerSpecial; // s0
  _BOOL8 isTargetRarity; // x0
  const MethodInfo *v94; // x3
  float v95; // s8
  float v96; // s8
  int32_t v97; // s9
  int32_t commandCardParam; // s10
  float v99; // s0
  int v100; // w0
  int v101; // w0
  struct BattleData_o *data; // x8
  int FixedDamageValue_k__BackingField; // w8
  int32_t v104; // w20
  _BOOL8 isGainNp; // x0
  const MethodInfo *v106; // x7
  BattleLogic_o *DefenseNp; // x0
  const MethodInfo *v108; // x5
  const MethodInfo *v109; // x6
  __int64 v110; // x8
  System_Collections_Generic_List_int__o *v111; // x25
  __int64 v112; // x21
  int v113; // w23
  __int64 v114; // x22
  int32_t v115; // w1
  int32_t uniqueId; // w8
  struct BattleBuffData_o *v117; // x8
  BattleServantData_o *v118; // x22
  BattleBuffData_ShowBuffData_array *RecBuffList; // x0
  BattleBuffData_ShowBuffData_array *v120; // x0
  System_Int32_array *v121; // x0
  __int64 v122; // x0
  __int64 v123; // x0
  __int64 v124; // x0
  struct System_Int32_array **p_starlist; // x20
  BattleCommandData_o *v126; // x25
  bool isLogicResultAlive; // w0
  signed __int64 size; // x8
  char v129; // w27
  unsigned __int64 v130; // x28
  int32_t v131; // w21
  bool v132; // w24
  char v133; // w8
  struct BattleData_o *v134; // x8
  struct System_Int32_array *v135; // x8
  int32_t v136; // w21
  int v137; // w24
  struct System_Int32_array *v138; // x8
  __int64 v139; // x21
  int v140; // w22
  int v141; // w8
  bool v142; // cc
  int32_t v143; // w24
  int32_t v144; // w26
  float RateValue; // s0
  float v146; // s0
  struct System_Int32_array *v147; // x8
  float v148; // s0
  int32_t v149; // w21
  int32_t v150; // w22
  int32_t v151; // w21
  int v152; // w22
  struct System_Int32_array *v153; // x8
  __int64 v154; // x21
  int v155; // w25
  int v156; // w8
  bool v157; // vf
  struct System_Int32_array *atknplist; // x21
  struct System_Int32_array *defnplist; // x21
  int32_t v160; // w20
  int32_t v161; // w21
  int32_t v162; // w22
  bool IsOpponentPTUniqueID; // w0
  BattleServantData_o *v165; // x21
  int32_t SameIndiualityBuffSum; // w20
  BattleServantData_o *v167; // x0
  BattleLogic_o *SameIndiualityServantSum; // x0
  const MethodInfo *v169; // x3
  int v170; // w20
  BattleLogic_o *v171; // x0
  const MethodInfo *v172; // x3
  int v173; // w21
  BattleDataDefine_c *v174; // x8
  float PERMILLAGE_DENOMINATOR; // s8
  BattleLogic_o *v176; // x0
  int v177; // w22
  const MethodInfo *v178; // x3
  BattleLogic_o *v179; // x0
  int32_t v180; // w26
  const MethodInfo *v181; // x3
  int v182; // w0
  float v183; // s9
  int v184; // w8
  float v185; // s8
  float v186; // s9
  BattleDataDefine_c *v187; // x0
  float v188; // s0
  __int64 v189; // x0
  char v190; // [xsp+14h] [xbp-ECh]
  char v191; // [xsp+18h] [xbp-E8h]
  int32_t v192; // [xsp+1Ch] [xbp-E4h]
  int32_t v193; // [xsp+20h] [xbp-E0h]
  bool v194; // [xsp+24h] [xbp-DCh]
  BattleActionData_DamageData_o *damageData; // [xsp+28h] [xbp-D8h]
  int val1; // [xsp+30h] [xbp-D0h]
  int v197; // [xsp+34h] [xbp-CCh]
  System_Int32_array *indv; // [xsp+38h] [xbp-C8h]
  int32_t indva; // [xsp+38h] [xbp-C8h]
  __int64 v201; // [xsp+48h] [xbp-B8h]
  BattleCommandData_o *v202; // [xsp+50h] [xbp-B0h]
  BattleServantData_o *v203; // [xsp+58h] [xbp-A8h]
  System_Collections_Generic_List_int__o *v204; // [xsp+60h] [xbp-A0h]
  int32_t effectId; // [xsp+6Ch] [xbp-94h] BYREF
  int32_t defClassRelationBuffShowState[2]; // [xsp+70h] [xbp-90h] BYREF
  bool minimumDamageFlg; // [xsp+78h] [xbp-88h] BYREF
  float damage; // [xsp+7Ch] [xbp-84h] BYREF
  int32_t multiatk; // [xsp+80h] [xbp-80h] BYREF
  int32_t hitStat[3]; // [xsp+84h] [xbp-7Ch] BYREF

  v15 = processArgs;
  if ( (byte_42118B1 & 1) == 0 )
  {
    sub_B0D8A4(&BattleDataDefine_TypeInfo, actor);
    sub_B0D8A4(&BattleActionData_DamageData_TypeInfo, v23);
    sub_B0D8A4(&BattleLogic_DamageProcessArgs_TypeInfo, v24);
    sub_B0D8A4(&Method_System_Collections_Generic_Dictionary_int__BattleCommandData__set_Item__, v25);
    sub_B0D8A4(&int___TypeInfo, v26);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Add__, v27);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__ToArray__, v28);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int___ctor__, v29);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__get_Count__, v30);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__get_Item__, v31);
    sub_B0D8A4(&System_Collections_Generic_List_int__TypeInfo, v32);
    sub_B0D8A4(&System_Math_TypeInfo, v33);
    sub_B0D8A4(&StringLiteral_12403/*"STAR_RATE_MAX"*/, v34);
    sub_B0D8A4(&StringLiteral_5814/*"EXTRA_ATTACK_RATE_SINGLE"*/, v35);
    sub_B0D8A4(&StringLiteral_3451/*"CRITICAL_ATTACK_RATE"*/, v36);
    sub_B0D8A4(&StringLiteral_9884/*"OVER_KILL_STAR_RATE"*/, v37);
    sub_B0D8A4(&StringLiteral_1754/*"ATTACK_RATE_RANDOM_MAX"*/, v38);
    sub_B0D8A4(&StringLiteral_1753/*"ATTACK_RATE"*/, v39);
    sub_B0D8A4(&StringLiteral_1755/*"ATTACK_RATE_RANDOM_MIN"*/, v40);
    sub_B0D8A4(&StringLiteral_5813/*"EXTRA_ATTACK_RATE_GRAND"*/, v41);
    sub_B0D8A4(&StringLiteral_9883/*"OVER_KILL_STAR_ADD"*/, v42);
    sub_B0D8A4(&StringLiteral_2959/*"CHAINBONUS_BUSTER_RATE"*/, v43);
    sub_B0D8A4(&StringLiteral_9882/*"OVER_KILL_NP_RATE"*/, v44);
    byte_42118B1 = 1;
  }
  hitStat[0] = 0;
  damage = 0.0;
  multiatk = 0;
  minimumDamageFlg = 0;
  *(_QWORD *)defClassRelationBuffShowState = 0LL;
  effectId = 0;
  v45 = (BattleActionData_DamageData_o *)sub_B0D974(BattleActionData_DamageData_TypeInfo, actor, target);
  BattleActionData_DamageData___ctor(v45, 0LL);
  v204 = (System_Collections_Generic_List_int__o *)sub_B0D974(System_Collections_Generic_List_int__TypeInfo, v46, v47);
  System_Collections_Generic_List_int____ctor(
    v204,
    (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
  if ( !processArgs )
  {
    v15 = (BattleLogic_DamageProcessArgs_o *)sub_B0D974(BattleLogic_DamageProcessArgs_TypeInfo, v49, v50);
    BattleLogic_DamageProcessArgs___ctor(v15, 0, -1, 0LL);
  }
  hitStat[0] = 0;
  multiatk = 1;
  if ( !actor )
    goto LABEL_182;
  BattleServantData__setBuffState(actor, 0LL);
  if ( !target )
    goto LABEL_182;
  indv = svtIndv;
  v192 = funcIndex;
  BattleServantData__setBuffState(target, 0LL);
  buffData = target->fields.buffData;
  if ( !buffData )
    goto LABEL_182;
  buffData->fields.isNoDamage = 0;
  BattleServantData__CheckNoDamageBuff(target, this->fields.data, actor, command, v45, 0LL, 0LL);
  BattleServantData__recordUse(actor, 0LL);
  BattleServantData__recordUse(target, 0LL);
  AttackRaito = (__int64)BattleServantData__getAttackRaito(actor, command, target, &multiatk, 0LL);
  if ( nobleType )
    AttackRaito = (__int64)BattleServantData__getTreasureDvcHitRaito(actor, 0LL);
  v53 = AttackRaito;
  if ( !AttackRaito )
    goto LABEL_182;
  v54 = *(_QWORD *)(AttackRaito + 24);
  if ( (__int64)((unsigned __int64)(unsigned int)v54 << 32) >= 1 )
  {
    v55 = 0;
    v56 = 0LL;
    while ( v56 < (unsigned int)v54 )
    {
      v57 = *(_DWORD *)(AttackRaito + 32 + 4 * v56++);
      v55 += v57;
      if ( (__int64)v56 >= (int)v54 )
        goto LABEL_17;
    }
LABEL_181:
    v189 = sub_B0D9A8(AttackRaito);
    sub_B0D948(v189, 0LL);
  }
  v55 = 0;
LABEL_17:
  if ( multiatk >= 2 )
  {
    AttackRaito = sub_B0D8BC(int___TypeInfo, (unsigned int)(multiatk * v54));
    if ( !AttackRaito )
      goto LABEL_182;
    v58 = *(unsigned int *)(AttackRaito + 24);
    if ( (__int64)(v58 << 32) >= 1 )
    {
      v59 = 0LL;
      while ( (unsigned int)((int)v59 / multiatk) < *(_DWORD *)(v53 + 24) && v59 < v58 )
      {
        *(_DWORD *)(AttackRaito + 32 + 4 * v59) = *(_DWORD *)(v53 + 4LL * ((int)v59 / multiatk) + 32);
        if ( (__int64)++v59 >= (int)v58 )
          goto LABEL_24;
      }
      goto LABEL_181;
    }
LABEL_24:
    v53 = AttackRaito;
  }
  v60 = *(unsigned int *)(v53 + 24);
  if ( (__int64)(v60 << 32) < 1 )
  {
    v201 = 0LL;
  }
  else
  {
    v61 = 0;
    v62 = 0LL;
    do
    {
      if ( v62 >= v60 )
        goto LABEL_181;
      v63 = *(_DWORD *)(v53 + 32 + 4 * v62++);
      v61 += v63;
    }
    while ( (__int64)v62 < (int)v60 );
    v201 = v61;
  }
  minimumDamageFlg = 0;
  atk = (float)actor->fields.atk;
  damage = atk;
  if ( !command )
    goto LABEL_182;
  v65 = (double)v55 * (float)(atk + (float)command->fields.commandCardParam) / 100.0;
  damage = v65;
  v66 = (BattleLogic_o *)BattleLogic__getPerlist((BattleLogic_o *)AttackRaito, perlist, 0, v52);
  v68 = (float)(int)v66;
  if ( nobleType == 6 )
  {
    v72 = BattleLogic__getPerlist(v66, perlist, 1, v67);
    WkHpRatio = BattleServantData__GetWkHpRatio(actor, 0LL);
    v71 = (float)(1.0 - WkHpRatio) * (float)v72;
    goto LABEL_36;
  }
  if ( nobleType == 5 )
  {
    v69 = BattleLogic__getPerlist(v66, perlist, 1, v67);
    v70 = BattleServantData__GetWkHpRatio(actor, 0LL);
    v71 = (float)v69 * v70;
LABEL_36:
    v68 = v71 + v68;
  }
  v74 = (float)(damage * (float)(v68 / 1000.0)) * BattleServantData__getCommandCardATK(actor, command, target, 0LL);
  damage = v74;
  if ( !v15 )
    goto LABEL_182;
  if ( v15->fields._IsNormalAttack_k__BackingField )
  {
    v74 = v74 * BattleCommandData__GetNormalAttackDamageRate(command, 0LL);
    damage = v74;
  }
  *(_QWORD *)defClassRelationBuffShowState = 0LL;
  damage = v74 * BattleServantData__getClassAtk(actor, 0LL);
  ClassMagnification = BattleLogic__getClassMagnification(
                         this,
                         command,
                         actor,
                         target,
                         1,
                         &defClassRelationBuffShowState[1],
                         defClassRelationBuffShowState,
                         v75);
  v77 = 1.0;
  if ( ClassMagnification <= 1.0 )
  {
    if ( ClassMagnification < 1.0 )
    {
      v190 = 1;
      v191 = 0;
    }
    else
    {
      v190 = 0;
      v191 = 0;
    }
  }
  else
  {
    v190 = 0;
    v191 = 1;
  }
  damage = ClassMagnification * damage;
  v78 = damage;
  Attri = BattleServantData__getAttri(actor, 0LL);
  v80 = BattleServantData__getAttri(target, 0LL);
  damage = v78 * SvtAttri__getMagnification(Attri, v80, 0LL);
  Value = ConstantMaster__getValue((System_String_o *)StringLiteral_1755/*"ATTACK_RATE_RANDOM_MIN"*/, 0LL);
  v82 = ConstantMaster__getValue((System_String_o *)StringLiteral_1754/*"ATTACK_RATE_RANDOM_MAX"*/, 0LL);
  damage = damage * (float)((float)BattleRandom__getRandom(Value, v82, 0LL) / 1000.0);
  damage = damage * (float)((float)ConstantMaster__getValue((System_String_o *)StringLiteral_1753/*"ATTACK_RATE"*/, 0LL) / 1000.0);
  UpDownAtk = BattleServantData__getUpDownAtk(actor, command, target, 0LL);
  UpDownDef = BattleServantData__getUpDownDef(target, command, actor, nobleType == 2, 0LL);
  if ( !v45 )
    goto LABEL_182;
  v45->fields.isCriticalMiss = command->fields.isCriticalMiss;
  v85 = fmaxf((float)(UpDownAtk + 1.0) - UpDownDef, 0.0);
  if ( command->fields.critical )
  {
    v85 = v85 * (float)((float)ConstantMaster__getValue((System_String_o *)StringLiteral_3451/*"CRITICAL_ATTACK_RATE"*/, 0LL) / 1000.0);
    v86 = 1;
  }
  else
  {
    v86 = 0;
  }
  if ( BattleCommandData__isAddAttack(command, 0LL) && BattleCommandData__isSingle(command, 0LL) )
    v85 = v85 * (float)((float)ConstantMaster__getValue((System_String_o *)StringLiteral_5814/*"EXTRA_ATTACK_RATE_SINGLE"*/, 0LL) / 1000.0);
  if ( BattleCommandData__isAddAttack(command, 0LL) && BattleCommandData__isGrand(command, 0LL) )
    v85 = v85 * (float)((float)ConstantMaster__getValue((System_String_o *)StringLiteral_5813/*"EXTRA_ATTACK_RATE_GRAND"*/, 0LL) / 1000.0);
  UpDownSpecialDef = BattleServantData__getUpDownSpecialDef(target, command, actor, 0LL);
  damage = damage * (float)(v85 * fmaxf(1.0 - UpDownSpecialDef, 0.0));
  v88 = BattleServantData__getUpdownPower(actor, command, target, 0LL) + 1.0;
  v89 = v88 + BattleServantData__getUpdownSelfDamage(target, command, actor, 0LL);
  if ( v86 )
    v89 = v89 + BattleServantData__getUpdownCriticalAtk(actor, command, target, 0LL);
  damageData = v45;
  if ( nobleType )
    v89 = v89 + BattleServantData__getUpdownNpAtk(actor, command, target, 0LL);
  damage = damage * fmaxf(v89, 0.001);
  UpdownPowerSpecial = BattleServantData__getUpdownPowerSpecial(actor, command, target, 0LL);
  v202 = command;
  v203 = actor;
  damage = damage * fmaxf(UpdownPowerSpecial + 1.0, 0.001);
  v193 = nobleType;
  v194 = v86;
  if ( nobleType )
  {
    switch ( nobleType )
    {
      case 3:
        isTargetRarity = BattleServantData__checkIndividualities(target, indv, 0LL);
        if ( isTargetRarity )
          goto LABEL_68;
        break;
      case 4:
      case 7:
        isTargetRarity = BattleServantData__checkBuffIndividualities(
                           target,
                           buffIndv,
                           0,
                           IsIncludeIgnoreIndividuality,
                           isIgnoreIndivUnreleaseable,
                           0LL);
        if ( isTargetRarity )
          goto LABEL_68;
        break;
      case 9:
        isTargetRarity = BattleServantData__isTargetRarity(target, rarityList, 0LL);
        if ( isTargetRarity )
        {
          v45->fields.isNobleRareAtk = 1;
          goto LABEL_69;
        }
        break;
      case 10:
        isTargetRarity = BattleServantData__checkAllIndividualities(target, indv, 0LL);
        if ( isTargetRarity )
        {
LABEL_68:
          v45->fields.isNobleIndividualAtk = 1;
LABEL_69:
          v77 = (float)BattleLogic__getPerlist((BattleLogic_o *)isTargetRarity, perlist, 1, v94) / 1000.0;
        }
        break;
      case 11:
        if ( BattleLogic__getPerlist(v90, perlist, 5, v91) <= 0 )
          v165 = actor;
        else
          v165 = target;
        SameIndiualityBuffSum = BattleServantData__getSameIndiualityBuffSum(
                                  v165,
                                  buffIndv,
                                  0,
                                  IsIncludeIgnoreIndividuality,
                                  isIgnoreIndivUnreleaseable,
                                  0LL);
        v167 = v165;
        nobleType = v193;
        SameIndiualityServantSum = (BattleLogic_o *)BattleServantData__getSameIndiualityServantSum(v167, indv, 0LL);
        v170 = (_DWORD)SameIndiualityServantSum + SameIndiualityBuffSum;
        if ( v170 >= 1 )
        {
          v171 = (BattleLogic_o *)BattleLogic__getPerlist(SameIndiualityServantSum, perlist, 4, v169);
          v173 = (int)v171;
          v174 = BattleDataDefine_TypeInfo;
          if ( (BYTE3(BattleDataDefine_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !BattleDataDefine_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(BattleDataDefine_TypeInfo);
            v174 = BattleDataDefine_TypeInfo;
          }
          PERMILLAGE_DENOMINATOR = v174->static_fields->PERMILLAGE_DENOMINATOR;
          v176 = (BattleLogic_o *)BattleLogic__getPerlist(v171, perlist, 1, v172);
          v177 = (int)v176;
          v179 = (BattleLogic_o *)BattleLogic__getPerlist(v176, perlist, 2, v178);
          v180 = (int)v179;
          v182 = BattleLogic__getPerlist(v179, perlist, 3, v181);
          if ( v182 >= 1 )
            v170 = UnityEngine_Mathf__Min_40819044(v170, v182, 0LL);
          v183 = (float)v173;
          v184 = v170 * v177;
          if ( v180 >= 1 )
            v184 = UnityEngine_Mathf__Min_40819044(v184, v180, 0LL);
          nobleType = v193;
          command = v202;
          v185 = v183 / PERMILLAGE_DENOMINATOR;
          v186 = (float)v184;
          v187 = BattleDataDefine_TypeInfo;
          if ( (BYTE3(BattleDataDefine_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !BattleDataDefine_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(BattleDataDefine_TypeInfo);
            v187 = BattleDataDefine_TypeInfo;
          }
          v188 = v187->static_fields->PERMILLAGE_DENOMINATOR;
          damageData->fields.isNobleIndividualAtk = 1;
          v77 = v185 + (float)(v186 / v188);
        }
        break;
      default:
        break;
    }
    damage = v77 * damage;
  }
  v95 = BattleServantData__getBuffDamageValue(actor, command, target, 0LL) + 0.0;
  v96 = v95 + BattleServantData__getBuffSelfDamageValue(target, command, actor, 0LL);
  AttackRaito = BattleCommandData__isBusterChain(command, 0LL);
  if ( (AttackRaito & 1) != 0 )
  {
    v97 = actor->fields.atk;
    commandCardParam = command->fields.commandCardParam;
    v96 = v96
        + (float)((float)((float)v97 + (float)commandCardParam)
                * ConstantMaster__getRateValue((System_String_o *)StringLiteral_2959/*"CHAINBONUS_BUSTER_RATE"*/, 0LL));
  }
  v99 = v96 + damage;
  damage = v96 + damage;
  if ( nobleType == 8 || isSafe )
  {
    if ( ((__int64 (__fastcall *)(BattleServantData_o *, Il2CppMethodPointer))target->klass->vtable._9_get_hp.method)(
           target,
           target->klass->vtable._10_set_hp.methodPtr) >= 1 )
    {
      v100 = ((__int64 (__fastcall *)(BattleServantData_o *, Il2CppMethodPointer))target->klass->vtable._9_get_hp.method)(
               target,
               target->klass->vtable._10_set_hp.methodPtr);
      if ( damage >= (float)v100 )
        damage = (float)(int)(((__int64 (__fastcall *)(BattleServantData_o *, Il2CppMethodPointer, float))target->klass->vtable._9_get_hp.method)(
                                target,
                                target->klass->vtable._10_set_hp.methodPtr,
                                damage)
                            - 1);
    }
    AttackRaito = ((__int64 (__fastcall *)(BattleServantData_o *, Il2CppMethodPointer))target->klass->vtable._9_get_hp.method)(
                    target,
                    target->klass->vtable._10_set_hp.methodPtr);
    if ( (int)AttackRaito >= 1 )
    {
      AttackRaito = ((__int64 (__fastcall *)(BattleServantData_o *, Il2CppMethodPointer))target->klass->vtable._9_get_hp.method)(
                      target,
                      target->klass->vtable._10_set_hp.methodPtr);
      if ( (int)AttackRaito <= v15->fields._FixedDamageValue_k__BackingField )
      {
        v101 = ((__int64 (__fastcall *)(BattleServantData_o *, Il2CppMethodPointer))target->klass->vtable._9_get_hp.method)(
                 target,
                 target->klass->vtable._10_set_hp.methodPtr);
        BattleLogic_DamageProcessArgs__OverwriteFixedDamage(v15, v101 - 1, 0LL);
      }
    }
    v99 = damage;
  }
  if ( v99 <= 0.0 )
    damage = 0.0;
  else
    minimumDamageFlg = 1;
  data = this->fields.data;
  if ( !data )
    goto LABEL_182;
  if ( data->fields.tutorialId == 1 && nobleType )
    damage = (float)((__int64 (__fastcall *)(BattleServantData_o *, Il2CppMethodPointer))target->klass->vtable._9_get_hp.method)(
                      target,
                      target->klass->vtable._10_set_hp.methodPtr);
  FixedDamageValue_k__BackingField = v15->fields._FixedDamageValue_k__BackingField;
  if ( (FixedDamageValue_k__BackingField & 0x80000000) == 0 )
    damage = (float)FixedDamageValue_k__BackingField;
  BattleServantData__CheckInvincibleAvoidanceBuff(
    target,
    this->fields.data,
    actor,
    command,
    damageData,
    &damage,
    &minimumDamageFlg,
    hitStat,
    0LL,
    0LL);
  v104 = BattleUtility__FloorToInt(damage, 0LL);
  if ( v104 >= 1 && v15->fields._FixedDamageValue_k__BackingField >= 0 )
    v104 = v15->fields._FixedDamageValue_k__BackingField;
  isGainNp = BattleServantData__isGainNp(actor, 0, 0LL);
  indva = 0;
  if ( isGainNp )
    indva = BattleLogic__getAttackNp((BattleLogic_o *)isGainNp, actor, target, command, v86, nobleType != 0, v15, v106);
  DefenseNp = (BattleLogic_o *)BattleServantData__isGainNp(target, 0, 0LL);
  v197 = 0;
  if ( ((unsigned __int8)DefenseNp & 1) != 0 )
  {
    DefenseNp = (BattleLogic_o *)BattleLogic__getDefenseNp(DefenseNp, actor, target, command, v15, v108);
    v197 = (int)DefenseNp;
  }
  AttackRaito = BattleLogic__getAttackStar(DefenseNp, actor, target, command, v86, v15, v109);
  v110 = *(_QWORD *)(v53 + 24);
  val1 = AttackRaito;
  if ( (int)v110 - 1 >= 1 )
  {
    v111 = v204;
    v112 = 0LL;
    v113 = v104;
    while ( v112 < (unsigned __int64)(unsigned int)v110 )
    {
      v114 = *(int *)(v53 + 32 + 4 * v112) * (__int64)v113 / v201;
      if ( (int)v114 < 1 && minimumDamageFlg )
      {
        v113 = (v113 - 1) & ~((v113 - 1) >> 31);
        LODWORD(v114) = 1;
      }
      if ( !v204 )
        goto LABEL_182;
      System_Collections_Generic_List_int___Add(
        v204,
        v114,
        (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
      v110 = *(unsigned int *)(v53 + 24);
      ++v112;
      v104 = (v104 - v114) & ~((v104 - (int)v114) >> 31);
      if ( v112 >= ((v110 << 32) - 0x100000000LL) >> 32 )
        goto LABEL_107;
    }
    goto LABEL_181;
  }
  v111 = v204;
  if ( !v204 )
    goto LABEL_182;
LABEL_107:
  if ( minimumDamageFlg && v104 < 1 )
    v115 = 1;
  else
    v115 = v104;
  System_Collections_Generic_List_int___Add(
    v111,
    v115,
    (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
  uniqueId = target->fields.uniqueId;
  damageData->fields.functionIndex = v192;
  damageData->fields.targetId = uniqueId;
  damageData->fields.critical = v194;
  damageData->fields.regist = v190;
  damageData->fields.weak = v191;
  damageData->fields.hitStates = hitStat[0];
  damageData->fields.multiatk = multiatk;
  v117 = target->fields.buffData;
  if ( !v117 )
    goto LABEL_182;
  v118 = v203;
  damageData->fields.noDamage = v117->fields.isNoDamage;
  effectId = 0;
  damageData->fields.sphit = BattleServantData__isSphitBuff(v203, &effectId, 0LL);
  damageData->fields.sphitEffectId = effectId;
  RecBuffList = BattleServantData__getRecBuffList(
                  v203,
                  1,
                  defClassRelationBuffShowState[1] != 1,
                  defClassRelationBuffShowState[1] == 2,
                  0LL);
  damageData->fields.atkbufflist = RecBuffList;
  sub_B0D840(&damageData->fields.atkbufflist, RecBuffList);
  v120 = BattleServantData__getRecBuffList(
           target,
           0,
           defClassRelationBuffShowState[0] != 1,
           defClassRelationBuffShowState[0] == 2,
           0LL);
  damageData->fields.defbufflist = v120;
  sub_B0D840(&damageData->fields.defbufflist, v120);
  v121 = System_Collections_Generic_List_int___ToArray(
           v111,
           (const MethodInfo_2FB200C *)Method_System_Collections_Generic_List_int__ToArray__);
  damageData->fields.damagelist = v121;
  sub_B0D840(&damageData->fields.damagelist, v121);
  v122 = sub_B0D8BC(int___TypeInfo, (unsigned int)v111->fields._size);
  damageData->fields.atknplist = (struct System_Int32_array *)v122;
  sub_B0D840(&damageData->fields.atknplist, v122);
  v123 = sub_B0D8BC(int___TypeInfo, (unsigned int)v111->fields._size);
  damageData->fields.defnplist = (struct System_Int32_array *)v123;
  sub_B0D840(&damageData->fields.defnplist, v123);
  v124 = sub_B0D8BC(int___TypeInfo, (unsigned int)v111->fields._size);
  p_starlist = &damageData->fields.starlist;
  damageData->fields.starlist = (struct System_Int32_array *)v124;
  sub_B0D840(&damageData->fields.starlist, v124);
  v126 = v202;
  if ( v203->fields.uniqueId == target->fields.uniqueId )
    damageData->fields.noAccumulation = 1;
  isLogicResultAlive = BattleServantData__isLogicResultAlive(target, 0LL);
  LODWORD(size) = v204->fields._size;
  if ( (int)size >= 1 )
  {
    v129 = isLogicResultAlive;
    v130 = 0LL;
    while ( 1 )
    {
      if ( v130 >= (unsigned int)size )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41496008(0LL);
      v131 = v204->fields._items->m_Items[v130 + 1];
      v132 = BattleServantData__provisionalDamage(target, v131, 0LL);
      BattleServantData__ResultDamage(target, v131, v118, v126, 0, 0LL);
      v133 = 0;
      if ( (v129 & 1) == 0 )
        goto LABEL_124;
      AttackRaito = BattleServantData__isLogicResultAlive(target, 0LL);
      if ( (AttackRaito & 1) != 0 )
        break;
      damageData->fields.overkillIndex = v130;
      v134 = this->fields.data;
      if ( !v134 )
        goto LABEL_182;
      target->fields.deadTurn = v134->fields.typeTurn;
      AttackRaito = BattleServantData__isGuts(target, 0LL);
      if ( (AttackRaito & 1) != 0
        || (AttackRaito = BattleServantData__isShiftableServant(target, 0LL), (AttackRaito & 1) != 0) )
      {
        v133 = 0;
LABEL_124:
        v129 = v133;
        if ( v132 )
          goto LABEL_125;
        goto LABEL_142;
      }
      AttackRaito = (__int64)this->fields.deadAttackCommandDictionary;
      if ( !AttackRaito )
        goto LABEL_182;
      System_Collections_Generic_Dictionary_int__WarBoardAIRoute_RouteData___set_Item(
        (System_Collections_Generic_Dictionary_int__WarBoardAIRoute_RouteData__o *)AttackRaito,
        target->fields.uniqueId,
        (WarBoardAIRoute_RouteData_o *)v126,
        (const MethodInfo_2E90400 *)Method_System_Collections_Generic_Dictionary_int__BattleCommandData__set_Item__);
      v129 = 0;
      if ( v132 )
      {
LABEL_125:
        v135 = *p_starlist;
        if ( !*p_starlist )
          goto LABEL_182;
        if ( v130 >= v135->max_length )
          goto LABEL_181;
        v135->m_Items[v130 + 1] = 0;
        v136 = ConstantMaster__getValue((System_String_o *)StringLiteral_12403/*"STAR_RATE_MAX"*/, 0LL);
        if ( (BYTE3(System_Math_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !System_Math_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(System_Math_TypeInfo);
        }
        AttackRaito = System_Math__Min_44514512(val1, v136, 0LL);
        if ( (int)AttackRaito >= 1 )
        {
          v137 = AttackRaito;
          do
          {
            v138 = *p_starlist;
            if ( !*p_starlist )
              goto LABEL_182;
            if ( v130 >= v138->max_length )
              goto LABEL_181;
            v139 = (__int64)v138 + 4 * v130;
            v140 = *(_DWORD *)(v139 + 32);
            AttackRaito = BattleRandom__getNext(1000, 0LL);
            if ( (int)AttackRaito >= v137 )
              v141 = v140;
            else
              v141 = v140 + 1;
            v142 = v137 < 1001;
            v137 -= 1000;
            *(_DWORD *)(v139 + 32) = v141;
          }
          while ( !v142 );
        }
        v144 = v197;
        v143 = indva;
        goto LABEL_156;
      }
LABEL_142:
      RateValue = ConstantMaster__getRateValue((System_String_o *)StringLiteral_9882/*"OVER_KILL_NP_RATE"*/, 0LL);
      v143 = BattleUtility__FloorToInt(RateValue * (float)indva, 0LL);
      v146 = ConstantMaster__getRateValue((System_String_o *)StringLiteral_9882/*"OVER_KILL_NP_RATE"*/, 0LL);
      AttackRaito = BattleUtility__FloorToInt(v146 * (float)v197, 0LL);
      v147 = *p_starlist;
      if ( !*p_starlist )
        goto LABEL_182;
      if ( v130 >= v147->max_length )
        goto LABEL_181;
      v147->m_Items[v130 + 1] = 0;
      v144 = AttackRaito;
      v148 = ConstantMaster__getRateValue((System_String_o *)StringLiteral_9884/*"OVER_KILL_STAR_RATE"*/, 0LL);
      v149 = BattleUtility__FloorToInt(v148 * (float)val1, 0LL);
      v150 = ConstantMaster__getValue((System_String_o *)StringLiteral_9883/*"OVER_KILL_STAR_ADD"*/, 0LL) + v149;
      v151 = ConstantMaster__getValue((System_String_o *)StringLiteral_12403/*"STAR_RATE_MAX"*/, 0LL);
      if ( (BYTE3(System_Math_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !System_Math_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(System_Math_TypeInfo);
      }
      AttackRaito = System_Math__Min_44514512(v150, v151, 0LL);
      if ( (int)AttackRaito >= 1 )
      {
        v152 = AttackRaito;
        while ( 1 )
        {
          v153 = *p_starlist;
          if ( !*p_starlist )
            break;
          if ( v130 >= v153->max_length )
            goto LABEL_181;
          v154 = (__int64)v153 + 4 * v130;
          v155 = *(_DWORD *)(v154 + 32);
          AttackRaito = BattleRandom__getNext(1000, 0LL);
          if ( (int)AttackRaito >= v152 )
            v156 = v155;
          else
            v156 = v155 + 1;
          v157 = __OFSUB__(v152, 1000);
          v152 -= 1000;
          *(_DWORD *)(v154 + 32) = v156;
          if ( (v152 < 0) ^ v157 | (v152 == 0) )
            goto LABEL_156;
        }
LABEL_182:
        sub_B0D97C(AttackRaito);
      }
LABEL_156:
      atknplist = damageData->fields.atknplist;
      AttackRaito = BattleServantData__addNp(v203, v143, 0, 0LL);
      if ( !atknplist )
        goto LABEL_182;
      if ( v130 >= atknplist->max_length )
        goto LABEL_181;
      atknplist->m_Items[v130 + 1] = AttackRaito;
      defnplist = damageData->fields.defnplist;
      AttackRaito = BattleServantData__addNp(target, v144, 0, 0LL);
      if ( !defnplist )
        goto LABEL_182;
      v126 = v202;
      v118 = v203;
      if ( v130 >= defnplist->max_length )
        goto LABEL_181;
      defnplist->m_Items[++v130] = AttackRaito;
      size = v204->fields._size;
      if ( (__int64)v130 >= size )
        goto LABEL_161;
    }
    v133 = 1;
    goto LABEL_124;
  }
LABEL_161:
  AttackRaito = (__int64)this->fields.data;
  if ( !AttackRaito )
    goto LABEL_182;
  v160 = v118->fields.uniqueId;
  v161 = *(_DWORD *)(AttackRaito + 188);
  if ( v193 )
    v162 = 2;
  else
    v162 = 1;
  IsOpponentPTUniqueID = BattleData__IsOpponentPTUniqueID(
                           (BattleData_o *)AttackRaito,
                           target->fields.uniqueId,
                           v160,
                           0LL);
  BattleServantData__setActionHistory(target, v160, v162, v161, IsOpponentPTUniqueID, 0LL);
  return damageData;
}


int32_t __fastcall BattleLogic__getDefenseNp(
        BattleLogic_o *this,
        BattleServantData_o *atkSvt,
        BattleServantData_o *defSvt,
        BattleCommandData_o *command,
        BattleLogic_DamageProcessArgs_o *processArgs,
        const MethodInfo *method)
{
  int v10; // w23
  float AtkTdRate; // s8
  float UpDownDropNp; // s9
  float UpDownDamageDropNp; // s10
  float UpDownGiveNp; // s0
  float v15; // s8

  if ( !defSvt )
    goto LABEL_8;
  this = (BattleLogic_o *)BattleServantData__getDefenceBaseNp(defSvt, 0LL);
  if ( !atkSvt )
    goto LABEL_8;
  v10 = (int)this;
  AtkTdRate = BattleServantData__getAtkTdRate(atkSvt, 0LL);
  UpDownDropNp = BattleServantData__getUpDownDropNp(defSvt, command, atkSvt, 0, 0LL);
  UpDownDamageDropNp = BattleServantData__getUpDownDamageDropNp(defSvt, command, atkSvt, 0LL);
  UpDownGiveNp = BattleServantData__getUpDownGiveNp(atkSvt, command, defSvt, 0LL);
  if ( !processArgs )
    goto LABEL_8;
  v15 = (float)((float)((float)(AtkTdRate * (float)v10) * UpDownDropNp) * UpDownDamageDropNp) * UpDownGiveNp;
  if ( processArgs->fields._IsNormalAttack_k__BackingField )
  {
    if ( command )
    {
      v15 = v15 * BattleCommandData__GetDefenseNpRate(command, 0LL);
      return BattleUtility__FloorToInt(fmaxf(v15, 0.0), 0LL);
    }
LABEL_8:
    sub_B0D97C(this);
  }
  return BattleUtility__FloorToInt(fmaxf(v15, 0.0), 0LL);
}


int32_t __fastcall BattleLogic__getForceEndWinReason(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_9;
  if ( data->fields.leaderDown || !BattleData__checkAliveAllEnemy(data, 0LL) )
    return 1;
  data = this->fields.data;
  if ( !data )
LABEL_9:
    sub_B0D97C(data);
  if ( BattleData__isAliveEntriesByForcedFlag(data, data->fields.p_entryid, 0LL) )
    return 3;
  else
    return 2;
}


BattleActionData_DamageData_o *__fastcall BattleLogic__getFunctionDamagelist(
        BattleLogic_o *this,
        BattleServantData_o *actor,
        BattleServantData_o *target,
        int32_t per,
        int32_t funcIndex,
        BattleActionData_o *action,
        bool isSafe,
        const MethodInfo *method)
{
  __int64 v15; // x1
  BattleCommandData_o *v16; // x24
  System_Int32_array *v17; // x0
  const MethodInfo *v18; // x2
  _BOOL4 isCounter; // w8
  bool IsSafeCounterAttack; // w26
  __int64 v22; // x0
  const MethodInfo *v23; // [xsp+30h] [xbp-50h]

  if ( (byte_42118B2 & 1) == 0 )
  {
    sub_B0D8A4(&BattleCommandData_TypeInfo, actor);
    sub_B0D8A4(&int___TypeInfo, v15);
    byte_42118B2 = 1;
  }
  v16 = (BattleCommandData_o *)sub_B0D974(BattleCommandData_TypeInfo, actor, target);
  BattleCommandData___ctor(v16, 0LL);
  if ( !v16 )
    goto LABEL_11;
  v16->fields._type = 3;
  if ( !action )
    goto LABEL_11;
  isCounter = action->fields.isCounter;
  IsSafeCounterAttack = !action->fields.isCounter && isSafe;
  if ( isCounter && isSafe )
    IsSafeCounterAttack = BattleLogic__IsSafeCounterAttack(this, target, v18);
  v17 = (System_Int32_array *)sub_B0D8BC(int___TypeInfo, 1LL);
  if ( !v17 )
LABEL_11:
    sub_B0D97C(v17);
  if ( !v17->max_length )
  {
    v22 = sub_B0D9A8(v17);
    sub_B0D948(v22, 0LL);
  }
  v17->m_Items[1] = per;
  return BattleLogic__getDamagelist_18977004(
           this,
           actor,
           target,
           v16,
           0,
           funcIndex,
           v17,
           0LL,
           0LL,
           0LL,
           0,
           IsSafeCounterAttack,
           0,
           0LL,
           v23);
}


BattleActionData_DamageData_o *__fastcall BattleLogic__getFunctionNpDamagelist(
        BattleLogic_o *this,
        BattleServantData_o *actor,
        BattleServantData_o *target,
        System_Int32_array *perlist,
        int32_t funcIndex,
        int32_t type,
        BattleActionData_o *action,
        System_Int32_array *svtIndv,
        System_Int32_array *buffIndv,
        System_Int32_array *rarityList,
        bool IsIncludeIgnoreIndividuality,
        bool isIgnoreIndivUnreleaseable,
        BattleLogic_DamageProcessArgs_o *damageProcessArgs,
        const MethodInfo *method)
{
  BattleCommandData_o *v21; // x26
  __int64 TreasureDvcCardId; // x0
  const MethodInfo *v23; // x2
  bool v24; // w0
  const MethodInfo *v26; // [xsp+30h] [xbp-70h]

  if ( (byte_42118B3 & 1) == 0 )
  {
    sub_B0D8A4(&BattleCommandData_TypeInfo, actor);
    byte_42118B3 = 1;
  }
  v21 = (BattleCommandData_o *)sub_B0D974(BattleCommandData_TypeInfo, actor, target);
  BattleCommandData___ctor(v21, 0LL);
  if ( !actor
    || (TreasureDvcCardId = BattleServantData__getTreasureDvcCardId(actor, 0LL), !v21)
    || (v21->fields._type = TreasureDvcCardId,
        TreasureDvcCardId = BattleServantData__getTreasureDvcId(actor, 1, 0LL),
        v21->fields.treasureDvc = TreasureDvcCardId,
        !action) )
  {
    sub_B0D97C(TreasureDvcCardId);
  }
  v24 = action->fields.isCounter && BattleLogic__IsSafeCounterAttack(this, target, v23);
  return BattleLogic__getDamagelist_18977004(
           this,
           actor,
           target,
           v21,
           type,
           funcIndex,
           perlist,
           svtIndv,
           buffIndv,
           rarityList,
           IsIncludeIgnoreIndividuality,
           v24,
           isIgnoreIndivUnreleaseable,
           damageProcessArgs,
           v26);
}


BattleActionData_o *__fastcall BattleLogic__getNoEffectObject(
        BattleLogic_o *this,
        int32_t targetId,
        int32_t funcIndex,
        DataVals_o *dataVals,
        bool isCommandSideEffect,
        System_String_o *uniqueText,
        const MethodInfo *method)
{
  BattleLogicFunction_o *logicFunction; // x0

  logicFunction = this->fields.logicFunction;
  if ( !logicFunction )
    sub_B0D97C(0LL);
  return BattleLogicFunction__getNoEffectObject(
           logicFunction,
           targetId,
           funcIndex,
           dataVals,
           isCommandSideEffect,
           uniqueText,
           0LL,
           0LL);
}


int32_t __fastcall BattleLogic__getPerlist(
        BattleLogic_o *this,
        System_Int32_array *list,
        int32_t index,
        const MethodInfo *method)
{
  int32_t max_length; // w8
  __int64 v6; // x0

  if ( !list )
    sub_B0D97C(this);
  max_length = list->max_length;
  if ( max_length <= index )
    return 0;
  if ( max_length <= (unsigned int)index )
  {
    v6 = sub_B0D9A8(this);
    sub_B0D948(v6, 0LL);
  }
  return list->m_Items[index + 1];
}


int32_t __fastcall BattleLogic__getTargetId(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(this);
  return data->fields.globaltargetId;
}


int32_t __fastcall BattleLogic__getTargetIndex(BattleLogic_o *this, int32_t index, const MethodInfo *method)
{
  struct BattleData_o *data; // x8
  struct System_Int32_array *e_entryid; // x8
  int32_t max_length; // w9
  __int64 v7; // x0

  if ( (index & 0x80000000) != 0 )
    return -1;
  data = this->fields.data;
  if ( !data || (e_entryid = data->fields.e_entryid) == 0LL )
    sub_B0D97C(this);
  max_length = e_entryid->max_length;
  if ( max_length <= index )
    return -1;
  if ( max_length <= (unsigned int)index )
  {
    v7 = sub_B0D9A8(this);
    sub_B0D948(v7, 0LL);
  }
  return e_entryid->m_Items[index + 1];
}


int32_t __fastcall BattleLogic__getTurn(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(this);
  return data->fields.turnCount;
}


BattleCommandData_array *__fastcall BattleLogic__getTutorialCommandCards(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v24; // x19
  void *data; // x0
  BattleServantData_array *FieldPlayerServantList; // x20
  unsigned int v27; // w8
  __int64 v28; // x21
  __int64 v29; // x22
  const MethodInfo *v30; // x3
  struct BattleData_o *v31; // x8
  int32_t tutorialId; // w9
  int32_t v33; // w21
  System_Array_o *v34; // x0
  __int64 *v35; // x8
  int32_t turnCount; // w22
  int32_t v37; // w22
  __int64 v38; // x0
  bool v39; // zf
  __int64 *v40; // x8
  __int64 v41; // x0
  unsigned int v42; // w8
  unsigned int v43; // w8
  __int64 v44; // x1
  int *v45; // x23
  int32_t *v46; // x24
  unsigned int v47; // w25
  __int64 v48; // x9
  __int64 v50; // x0
  System_RuntimeFieldHandle_o v51; // 0:w1.4
  System_RuntimeFieldHandle_o v52; // 0:w1.4
  System_RuntimeFieldHandle_o v53; // 0:w1.4
  System_RuntimeFieldHandle_o v54; // 0:w1.4

  if ( (byte_42118BD & 1) == 0 )
  {
    sub_B0D8A4(&int___TypeInfo, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__Add__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData___ctor__, v6);
    sub_B0D8A4(&System_Collections_Generic_List_BattleCommandData__TypeInfo, v7);
    sub_B0D8A4(&BattleCommand_TYPE___TypeInfo, v8);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__03AFB9095D050E297BBAB2F86D9B867378EA675884180C8984CE0DCE947F3635,
      v9);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__03D72E3BADEBA10A02BA844757738D74C8C4F750BDE6A0B82B84810E66C3E76E,
      v10);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__0B77DC554B4A81403D62BE25FB5404020AD451151D4203D544BF60E3FEDBD8AE,
      v11);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__1EFCFACF218CB6A85C4B40F6560696AFD0746A8EE7BCA55334939F64EE2A72B2,
      v12);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__2B6422A10D20EAAEA8A5B0DE6758D8BD4CE8E971E49E1977049AB55D8A59E4C5,
      v13);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__32F4E65FF31993576FD1909893160B7D83CA53829F2E375F35A6830EC5A96B67,
      v14);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__3C0F0CF17DE769C231EEED1A9FEF9F2298A877E3D9CD92BC03129AFE714A864A,
      v15);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__4B9B7662998D3AA6727D1B8A04FB906DFE061F2FA89E12DC22C669C6A7910523,
      v16);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__6824AB07E4F830DE2AA90A786BC04975A5D148B351FCB0D70BEE619DE0B1C8BB,
      v17);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__77B8BC8866FA395E1B3119A3D706A56CFCF99CD70FDBF13E9D2E1F962A2C3BE3,
      v18);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__8157EFB4E782C28B98B8B38AD858E7BD5E773EC15BB4566AECF423B57EF4C6C3,
      v19);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__9B6DCF49C55B12DDB7174416153366D22EAEEF5AAB49B6CF6DDE297CB09C120D,
      v20);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__B38D9F7CA89E243B5C0968C2A4F1D5E26B57DE03062043C7275A5FDB16EC355C,
      v21);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__BCBCDB08BE470ACB0709943497217BD9F8C1FD9BD1382D577C01071F3EA79EC9,
      v22);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__C4CE2A6DF4C385677ADA98AB57B27976034EFB84D4A6AF6DFFB9594491409991,
      v23);
    byte_42118BD = 1;
  }
  v24 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleCommandData__TypeInfo,
                                                                                                  method,
                                                                                                  v2);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v24,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleCommandData___ctor__);
  data = this->fields.data;
  if ( !data
    || (FieldPlayerServantList = BattleData__getFieldPlayerServantList((BattleData_o *)data, 0LL),
        (data = (void *)sub_B0D8BC(int___TypeInfo, 5LL)) == 0LL) )
  {
LABEL_52:
    sub_B0D97C(data);
  }
  v27 = *((_DWORD *)data + 6);
  v28 = (__int64)data;
  if ( v27 <= 3 )
    goto LABEL_51;
  *((_DWORD *)data + 11) = 1;
  if ( v27 == 4 )
    goto LABEL_51;
  *((_DWORD *)data + 12) = 2;
  v29 = sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
  v51.fields.value = Field__PrivateImplementationDetails__6824AB07E4F830DE2AA90A786BC04975A5D148B351FCB0D70BEE619DE0B1C8BB;
  System_Runtime_CompilerServices_RuntimeHelpers__InitializeArray_42880004((System_Array_o *)v29, v51, 0LL);
  v31 = this->fields.data;
  if ( !v31 )
    goto LABEL_52;
  tutorialId = v31->fields.tutorialId;
  switch ( tutorialId )
  {
    case 3:
      if ( !v31->fields.wavecount )
      {
        v28 = sub_B0D8BC(int___TypeInfo, 5LL);
        v34 = (System_Array_o *)sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
        v35 = &Field__PrivateImplementationDetails__1EFCFACF218CB6A85C4B40F6560696AFD0746A8EE7BCA55334939F64EE2A72B2;
        goto LABEL_39;
      }
      turnCount = v31->fields.turnCount;
      if ( turnCount == 1 )
      {
        v28 = sub_B0D8BC(int___TypeInfo, 5LL);
        v34 = (System_Array_o *)sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
        v35 = &Field__PrivateImplementationDetails__4B9B7662998D3AA6727D1B8A04FB906DFE061F2FA89E12DC22C669C6A7910523;
        goto LABEL_39;
      }
      v28 = sub_B0D8BC(int___TypeInfo, 5LL);
      v41 = sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
      v39 = turnCount == 2;
      v29 = v41;
      if ( v39 )
      {
LABEL_26:
        v40 = &Field__PrivateImplementationDetails__C4CE2A6DF4C385677ADA98AB57B27976034EFB84D4A6AF6DFFB9594491409991;
        break;
      }
      v40 = &Field__PrivateImplementationDetails__32F4E65FF31993576FD1909893160B7D83CA53829F2E375F35A6830EC5A96B67;
      break;
    case 2:
      v37 = v31->fields.turnCount;
      if ( v37 == 1 )
      {
        v28 = sub_B0D8BC(int___TypeInfo, 5LL);
        v34 = (System_Array_o *)sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
        v35 = &Field__PrivateImplementationDetails__B38D9F7CA89E243B5C0968C2A4F1D5E26B57DE03062043C7275A5FDB16EC355C;
        goto LABEL_39;
      }
      v28 = sub_B0D8BC(int___TypeInfo, 5LL);
      v38 = sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
      v39 = v37 == 2;
      v29 = v38;
      if ( !v39 )
        goto LABEL_26;
      v40 = &Field__PrivateImplementationDetails__2B6422A10D20EAAEA8A5B0DE6758D8BD4CE8E971E49E1977049AB55D8A59E4C5;
      break;
    case 1:
      v33 = v31->fields.turnCount;
      switch ( v33 )
      {
        case 3:
          v28 = sub_B0D8BC(int___TypeInfo, 5LL);
          v53.fields.value = Field__PrivateImplementationDetails__9B6DCF49C55B12DDB7174416153366D22EAEEF5AAB49B6CF6DDE297CB09C120D;
          System_Runtime_CompilerServices_RuntimeHelpers__InitializeArray_42880004((System_Array_o *)v28, v53, 0LL);
          v34 = (System_Array_o *)sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
          v35 = &Field__PrivateImplementationDetails__77B8BC8866FA395E1B3119A3D706A56CFCF99CD70FDBF13E9D2E1F962A2C3BE3;
          goto LABEL_39;
        case 2:
          data = (void *)sub_B0D8BC(int___TypeInfo, 5LL);
          if ( !data )
            goto LABEL_52;
          v42 = *((_DWORD *)data + 6);
          v28 = (__int64)data;
          if ( v42 > 3 )
          {
            *((_DWORD *)data + 11) = 1;
            if ( v42 != 4 )
            {
              *((_DWORD *)data + 12) = 2;
              v34 = (System_Array_o *)sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
              v35 = &Field__PrivateImplementationDetails__03D72E3BADEBA10A02BA844757738D74C8C4F750BDE6A0B82B84810E66C3E76E;
              goto LABEL_39;
            }
          }
          break;
        case 1:
          v28 = sub_B0D8BC(int___TypeInfo, 5LL);
          v52.fields.value = Field__PrivateImplementationDetails__0B77DC554B4A81403D62BE25FB5404020AD451151D4203D544BF60E3FEDBD8AE;
          System_Runtime_CompilerServices_RuntimeHelpers__InitializeArray_42880004((System_Array_o *)v28, v52, 0LL);
          v34 = (System_Array_o *)sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
          v35 = &Field__PrivateImplementationDetails__BCBCDB08BE470ACB0709943497217BD9F8C1FD9BD1382D577C01071F3EA79EC9;
LABEL_39:
          v44 = *v35;
          v29 = (__int64)v34;
          goto LABEL_40;
        default:
          data = (void *)sub_B0D8BC(int___TypeInfo, 5LL);
          v39 = v33 == 4;
          v28 = (__int64)data;
          if ( !v39 )
          {
            v54.fields.value = Field__PrivateImplementationDetails__3C0F0CF17DE769C231EEED1A9FEF9F2298A877E3D9CD92BC03129AFE714A864A;
            System_Runtime_CompilerServices_RuntimeHelpers__InitializeArray_42880004((System_Array_o *)data, v54, 0LL);
            v34 = (System_Array_o *)sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
            v35 = &Field__PrivateImplementationDetails__8157EFB4E782C28B98B8B38AD858E7BD5E773EC15BB4566AECF423B57EF4C6C3;
            goto LABEL_39;
          }
          if ( !data )
            goto LABEL_52;
          v43 = *((_DWORD *)data + 6);
          if ( v43 > 3 )
          {
            *((_DWORD *)data + 11) = 1;
            if ( v43 != 4 )
            {
              *((_DWORD *)data + 12) = 2;
              v34 = (System_Array_o *)sub_B0D8BC(BattleCommand_TYPE___TypeInfo, 5LL);
              v35 = &Field__PrivateImplementationDetails__03AFB9095D050E297BBAB2F86D9B867378EA675884180C8984CE0DCE947F3635;
              goto LABEL_39;
            }
          }
          break;
      }
LABEL_51:
      v50 = sub_B0D9A8(data);
      sub_B0D948(v50, 0LL);
    default:
      goto LABEL_41;
  }
  v44 = *v40;
  v34 = (System_Array_o *)v29;
LABEL_40:
  System_Runtime_CompilerServices_RuntimeHelpers__InitializeArray_42880004(v34, (System_RuntimeFieldHandle_o)v44, 0LL);
LABEL_41:
  if ( !v28 )
    goto LABEL_52;
  v45 = (int *)(v28 + 32);
  v46 = (int32_t *)(v29 + 32);
  v47 = -1;
  do
  {
    if ( v47 + 1 >= *(_DWORD *)(v28 + 24) )
      goto LABEL_51;
    if ( !FieldPlayerServantList )
      goto LABEL_52;
    v48 = *v45;
    if ( (unsigned int)v48 >= FieldPlayerServantList->max_length )
      goto LABEL_51;
    if ( !v29 )
      goto LABEL_52;
    if ( v47 + 1 >= *(_DWORD *)(v29 + 24) )
      goto LABEL_51;
    data = BattleLogic__getCommandData((BattleLogic_o *)data, FieldPlayerServantList->m_Items[v48], *v46, v30);
    if ( !v24 )
      goto LABEL_52;
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
      v24,
      (EventMissionProgressRequest_Argument_ProgressData_o *)data,
      (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleCommandData__Add__);
    ++v47;
    ++v45;
    ++v46;
  }
  while ( v47 < 4 );
  return (BattleCommandData_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                      (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v24,
                                      (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleCommandData__ToArray__);
}


int32_t __fastcall BattleLogic__getTutorialId(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(this);
  return data->fields.tutorialId;
}


int32_t __fastcall BattleLogic__getWave(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(this);
  return data->fields.wavecount;
}


BattleAttackManager_o *__fastcall BattleLogic__get_AtkManager(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(this);
  return data->fields.battleAtkManager;
}


BaseBattleEvent_o *__fastcall BattleLogic__get_BattleEvent(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(this);
  return data->fields.battleEvent;
}


System_String_o *__fastcall BattleLogic__get_CurrentBgmName(BattleLogic_o *this, const MethodInfo *method)
{
  return this->fields._CurrentBgmName;
}


BattleLogic_o *__fastcall BattleLogic__get_Instance(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x1
  __int64 v3; // x1
  __int64 v4; // x1
  BattleLogic_c *v5; // x0
  UnityEngine_Object_o *instance; // x19
  intptr_t v7; // w19
  System_Type_o *TypeFromHandle; // x19
  UnityEngine_Object_o *ObjectOfType; // x0
  BattleLogic_c *v10; // x1
  UnityEngine_Object_o *v11; // x19
  struct BattleLogic_StaticFields *static_fields; // x0
  __int64 v13; // x9
  BattleLogic_c *v14; // x0
  BattleLogic_o *result; // x0
  const MethodInfo *v16; // x0
  System_RuntimeTypeHandle_o v17; // 0:w0.4

  if ( (byte_421182B & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_var, v1);
    sub_B0D8A4(&BattleLogic_TypeInfo, v2);
    sub_B0D8A4(&UnityEngine_Object_TypeInfo, v3);
    sub_B0D8A4(&System_Type_TypeInfo, v4);
    byte_421182B = 1;
  }
  v5 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v5 = BattleLogic_TypeInfo;
  }
  instance = (UnityEngine_Object_o *)v5->static_fields->instance;
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  if ( UnityEngine_Object__op_Equality(instance, 0LL, 0LL) )
  {
    v7 = (int)BattleLogic_var;
    if ( (BYTE3(System_Type_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !System_Type_TypeInfo->_2.cctor_finished )
      j_il2cpp_runtime_class_init_0(System_Type_TypeInfo);
    v17.fields.value = v7;
    TypeFromHandle = System_Type__GetTypeFromHandle(v17, 0LL);
    if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
    }
    ObjectOfType = UnityEngine_Object__FindObjectOfType(TypeFromHandle, 0LL);
    v10 = BattleLogic_TypeInfo;
    v11 = ObjectOfType;
    if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
      v10 = BattleLogic_TypeInfo;
    }
    static_fields = v10->static_fields;
    if ( v11 )
    {
      v13 = *(&v10->_2.bitflags2 + 1);
      if ( *(&v11->klass->_2.bitflags2 + 1) < (unsigned int)v13
        || (BattleLogic_c *)v11->klass->_2.typeHierarchy[v13 - 1] != v10 )
      {
        v16 = (const MethodInfo *)sub_B0DC70(v11);
        BattleLogic__DoUpdateFieldBuff(v16);
        return result;
      }
    }
    static_fields->instance = (struct BattleLogic_o *)v11;
    sub_B0D840(static_fields, v11);
    UnityEngine_Object__op_Equality((UnityEngine_Object_o *)BattleLogic_TypeInfo->static_fields->instance, 0LL, 0LL);
  }
  v14 = BattleLogic_TypeInfo;
  if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
    v14 = BattleLogic_TypeInfo;
  }
  return v14->static_fields->instance;
}


BattleLogicEnemyAi_o *__fastcall BattleLogic__get_LogicEnemeyAi(BattleLogic_o *this, const MethodInfo *method)
{
  return this->fields.logicEnemyAi;
}


BattleLogicNpcAi_o *__fastcall BattleLogic__get_LogicNpcAi(BattleLogic_o *this, const MethodInfo *method)
{
  return this->fields.logicNpcAi;
}


BattleLogicPlayerAi_o *__fastcall BattleLogic__get_LogicPlayerAi(BattleLogic_o *this, const MethodInfo *method)
{
  return this->fields.logicPlayerAi;
}


BattleLogicReaction_o *__fastcall BattleLogic__get_LogicReaction(BattleLogic_o *this, const MethodInfo *method)
{
  return this->fields.logicReaction;
}


BattleLogicTarget_o *__fastcall BattleLogic__get_LogicTarget(BattleLogic_o *this, const MethodInfo *method)
{
  return this->fields.logictarget;
}


BattleMotionSkipManager_o *__fastcall BattleLogic__get_MotionSkipManager(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  perf = this->fields.perf;
  if ( !perf )
    sub_B0D97C(0LL);
  return BattlePerformance__get_MotionSkipManager(perf, 0LL);
}


ParseBattleMessage_o *__fastcall BattleLogic__get_ParseBattleMsg(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  ParseBattleMessage_o *parseBattleMsg; // x21

  if ( (byte_421182D & 1) == 0 )
  {
    sub_B0D8A4(&ParseBattleMessage_TypeInfo, method);
    byte_421182D = 1;
  }
  parseBattleMsg = this->fields._parseBattleMsg;
  if ( !parseBattleMsg )
  {
    parseBattleMsg = (ParseBattleMessage_o *)sub_B0D974(ParseBattleMessage_TypeInfo, method, v2);
    ParseBattleMessage___ctor(parseBattleMsg, this, 0LL);
    this->fields._parseBattleMsg = parseBattleMsg;
    sub_B0D840(&this->fields._parseBattleMsg, parseBattleMsg);
  }
  return parseBattleMsg;
}


void __fastcall BattleLogic__initCommandBattle(BattleLogic_o *this, System_String_o *endproc, const MethodInfo *method)
{
  __int64 v4; // x1
  System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *list_logic; // x0
  struct BattlePerformance_o *perf; // x8
  struct BattleData_o *data; // x8
  const MethodInfo *v8; // x1
  struct BattleData_o *v9; // x8

  if ( (byte_4211854 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__Clear__, endproc);
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v4);
    byte_4211854 = 1;
  }
  list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this->fields.list_logic;
  this->fields.logicindex = 0;
  if ( !list_logic )
    goto LABEL_19;
  System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot___Clear(
    list_logic,
    (const MethodInfo_2D1D094 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__Clear__);
  list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this->fields.logicEnemyAi;
  if ( !list_logic )
    goto LABEL_19;
  BattleLogicEnemyAi__resetAct((BattleLogicEnemyAi_o *)list_logic, 0LL);
  list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this->fields.data;
  if ( !list_logic )
    goto LABEL_19;
  BattleData__setInitCommandBattle((BattleData_o *)list_logic, 0LL);
  list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this->fields.perf;
  if ( !list_logic )
    goto LABEL_19;
  BattlePerformance__setInitpos((BattlePerformance_o *)list_logic, 0LL);
  list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this->fields.perf;
  if ( !list_logic )
    goto LABEL_19;
  BattlePerformance__setPositionModeBattle((BattlePerformance_o *)list_logic, 0LL);
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_19;
  perf->fields.isTargetChange = 1;
  list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this->fields.perf;
  if ( !list_logic )
    goto LABEL_19;
  list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)BattlePerformance__get_MotionSkipManager(
                                                                                                     (BattlePerformance_o *)list_logic,
                                                                                                     0LL);
  if ( !list_logic )
    goto LABEL_19;
  BattleMotionSkipManager__ReleaseMotionSkip((BattleMotionSkipManager_o *)list_logic, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_19;
  list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)data->fields.battleAtkManager;
  if ( !list_logic )
    goto LABEL_19;
  list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)BattleAttackManager__get_IsTurnStart(
                                                                                                     (BattleAttackManager_o *)list_logic,
                                                                                                     0LL);
  if ( ((unsigned __int8)list_logic & 1) != 0 )
    BattleLogic__InitBuffProgress(this, v8);
  v9 = this->fields.data;
  if ( !v9
    || (list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this->fields.perf) == 0LL
    || (BattlePerformance__SetTimeScale(
          (BattlePerformance_o *)list_logic,
          (float)v9->fields.systemflg_acceleration,
          0LL),
        (list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)this->fields.fsm) == 0LL) )
  {
LABEL_19:
    sub_B0D97C(list_logic);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)list_logic, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


void __fastcall BattleLogic__initNexBaseData(BattleLogic_o *this, bool flg, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v6; // x1
  struct PlayMakerFSM_o *rootfsm; // x8
  BattleData_o *v8; // x21
  unsigned __int64 v9; // x22
  struct BattleCommandData_array *draw_commandlist; // x8
  const MethodInfo *v11; // x1
  struct BattleData_o *v12; // x8
  struct BattleData_o *v13; // x8
  struct BattleData_o *v14; // x8
  struct BattleData_o *v15; // x8
  __int64 v16; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_26;
  data = (BattleData_o *)BattleData__getFieldPlayerServantList(data, 0LL);
  if ( !data )
    goto LABEL_26;
  rootfsm = data->fields.rootfsm;
  v8 = data;
  if ( (int)rootfsm >= 1 )
  {
    v9 = 0LL;
    do
    {
      if ( v9 >= (unsigned int)rootfsm )
      {
        v16 = sub_B0D9A8(data);
        sub_B0D948(v16, 0LL);
      }
      data = (BattleData_o *)*((_QWORD *)&v8->fields.fsm + v9);
      if ( data )
        BattleServantData__ResetSelectedTreasureDevice((BattleServantData_o *)data, 0LL);
      LODWORD(rootfsm) = v8->fields.rootfsm;
      ++v9;
    }
    while ( (__int64)v9 < (int)rootfsm );
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_26;
  if ( data->fields.initturn == 1 )
  {
    data->fields.initturn = 0;
    data = this->fields.data;
    if ( data )
    {
      if ( (draw_commandlist = data->fields.draw_commandlist) != 0LL && *(_QWORD *)&draw_commandlist->max_length
        || (BattleLogic__drawCommand(this, v6), (data = this->fields.data) != 0LL) )
      {
        BattleData__setProgresslist(data, flg, 0LL);
        goto LABEL_20;
      }
    }
LABEL_26:
    sub_B0D97C(data);
  }
  BattleData__SetUsedTurn(data, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_26;
  BattleData__setProgresslist(data, flg, 0LL);
  v12 = this->fields.data;
  if ( !v12 )
    goto LABEL_26;
  if ( !v12->fields.isWaveRestartInitialize )
  {
    ++v12->fields.turnCount;
    BattleLogic__drawCommand(this, v11);
  }
LABEL_20:
  v13 = this->fields.data;
  if ( !v13 )
    goto LABEL_26;
  data = (BattleData_o *)v13->fields.battleAtkManager;
  if ( !data )
    goto LABEL_26;
  data = (BattleData_o *)((__int64 (__fastcall *)(BattleData_o *, void *))data->klass[1]._1.namespaze)(
                           data,
                           data->klass[1]._1.byval_arg.data);
  v14 = this->fields.data;
  if ( !v14 )
    goto LABEL_26;
  v14->fields.playerSkillCount = 0;
  v15 = this->fields.data;
  if ( !v15 )
    goto LABEL_26;
  v15->fields.playerMasterSkillCount = 0;
}


void __fastcall BattleLogic__initNextTurnData(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  struct BattleData_o *data; // x8
  struct BattleAttackManager_o *battleAtkManager; // x8

  data = this->fields.data;
  if ( !data || (battleAtkManager = data->fields.battleAtkManager) == 0LL )
    sub_B0D97C(this);
  if ( battleAtkManager->fields._IsTurnEnd_k__BackingField )
    BattleLogic__initNexBaseData(this, 0, v2);
}


void __fastcall BattleLogic__initNextWaveData(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  const MethodInfo *v4; // x2
  BattleData_o *battleEvent; // x0
  struct BattleData_o *data; // x8

  BattleLogic__initNexBaseData(this, 1, v2);
  BattleLogic__ChangePhase(this, 0, v4);
  data = this->fields.data;
  if ( !data
    || (battleEvent = (BattleData_o *)data->fields.battleEvent) == 0LL
    || (((void (__fastcall *)(BattleData_o *, void *))battleEvent->klass[1]._1.namespaze)(
          battleEvent,
          battleEvent->klass[1]._1.byval_arg.data),
        (battleEvent = this->fields.data) == 0LL) )
  {
    sub_B0D97C(battleEvent);
  }
  BattleData__SetTemporaryWaveReStartData(battleEvent, 0LL);
}


void __fastcall BattleLogic__initQuest(BattleLogic_o *this, System_String_o *endproc, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  BattlePerformance_o *Master_WarQuestSelectionMaster; // x0
  BattleEntity_o *v16; // x21
  __int64 v17; // x1
  __int64 v18; // x2
  BattleEventTutorial_o *v19; // x22
  struct BattleData_o *data; // x8
  struct BattleData_o *v21; // x8
  const MethodInfo *v22; // x2
  struct BattleData_o *v23; // x9
  struct BattleData_o *v24; // x9
  CommonUI_o *Instance; // x20
  System_String_o *v26; // x21
  System_String_o *v27; // x22
  __int64 v28; // x1
  __int64 v29; // x2
  ErrorDialog_ClickDelegate_o *v30; // x23
  System_Collections_IEnumerator_o *inited; // x0
  UserGameEntity_o *entity; // [xsp+8h] [xbp-28h] BYREF

  if ( (byte_42118CA & 1) == 0 )
  {
    sub_B0D8A4(&BattleEventTutorial_TypeInfo, endproc);
    sub_B0D8A4(&Method_BattleLogic_callBackNoEntity__, v5);
    sub_B0D8A4(&ErrorDialog_ClickDelegate_TypeInfo, v6);
    sub_B0D8A4(&Method_DataManager_GetMaster_BattleMaster___, v7);
    sub_B0D8A4(&DataManager_TypeInfo, v8);
    sub_B0D8A4(&Method_DataMasterBase_BattleMaster__BattleEntity__long__TryGetSingleEntity__, v9);
    sub_B0D8A4(&LocalizationManager_TypeInfo, v10);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, v11);
    sub_B0D8A4(&StringLiteral_2476/*"BATTLE_NOENTITY_TITLE"*/, v12);
    sub_B0D8A4(&StringLiteral_7468/*"IS_SAVE"*/, v13);
    sub_B0D8A4(&StringLiteral_2475/*"BATTLE_NOENTITY_CONF"*/, v14);
    byte_42118CA = 1;
  }
  entity = 0LL;
  if ( (BYTE3(DataManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !DataManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(DataManager_TypeInfo);
  Master_WarQuestSelectionMaster = (BattlePerformance_o *)DataManager__GetMaster_WarQuestSelectionMaster_((const MethodInfo_1714548 *)Method_DataManager_GetMaster_BattleMaster___);
  if ( !Master_WarQuestSelectionMaster )
    goto LABEL_23;
  if ( DataMasterBase_UserGameMaster__UserGameEntity__long___TryGetSingleEntity(
         (DataMasterBase_UserGameMaster__UserGameEntity__long__o *)Master_WarQuestSelectionMaster,
         &entity,
         (const MethodInfo_2669EE4 *)Method_DataMasterBase_BattleMaster__BattleEntity__long__TryGetSingleEntity__) )
  {
    Master_WarQuestSelectionMaster = this->fields.perf;
    if ( !Master_WarQuestSelectionMaster )
      goto LABEL_23;
    BattlePerformance__SetActiveTutorialDialogMask(Master_WarQuestSelectionMaster, 1, 0LL);
    v16 = (BattleEntity_o *)entity;
    v19 = (BattleEventTutorial_o *)sub_B0D974(BattleEventTutorial_TypeInfo, v17, v18);
    BattleEventTutorial___ctor(v19, v16, 0LL);
    this->fields.eventTutorial = v19;
    sub_B0D840(&this->fields.eventTutorial, v19);
    data = this->fields.data;
    if ( !data )
      goto LABEL_23;
    data->fields.flg_resumebattle = 0;
    v21 = this->fields.data;
    if ( !v21 )
      goto LABEL_23;
    v21->fields.isResumeWaveStart = 0;
    Master_WarQuestSelectionMaster = (BattlePerformance_o *)this->fields.data;
    if ( !Master_WarQuestSelectionMaster )
      goto LABEL_23;
    Master_WarQuestSelectionMaster = (BattlePerformance_o *)BattleData__checkTurnData(
                                                              (BattleData_o *)Master_WarQuestSelectionMaster,
                                                              0LL);
    if ( ((unsigned __int8)Master_WarQuestSelectionMaster & 1) != 0 )
    {
      v23 = this->fields.data;
      if ( v23 )
      {
        v23->fields.flg_resumebattle = 1;
        v24 = this->fields.data;
        if ( v24 )
        {
          v24->fields.isResumeWaveStart = 1;
          Master_WarQuestSelectionMaster = (BattlePerformance_o *)this->fields.fsm;
          if ( Master_WarQuestSelectionMaster )
          {
            PlayMakerFSM__SendEvent(
              (PlayMakerFSM_o *)Master_WarQuestSelectionMaster,
              (System_String_o *)StringLiteral_7468/*"IS_SAVE"*/,
              0LL);
            return;
          }
        }
      }
LABEL_23:
      sub_B0D97C(Master_WarQuestSelectionMaster);
    }
    inited = BattleLogic__coroutineInitQuest(this, endproc, v22);
    UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, inited, 0LL);
  }
  else
  {
    Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
    if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !LocalizationManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
    }
    v26 = LocalizationManager__Get((System_String_o *)StringLiteral_2476/*"BATTLE_NOENTITY_TITLE"*/, 0LL);
    v27 = LocalizationManager__Get((System_String_o *)StringLiteral_2475/*"BATTLE_NOENTITY_CONF"*/, 0LL);
    v30 = (ErrorDialog_ClickDelegate_o *)sub_B0D974(ErrorDialog_ClickDelegate_TypeInfo, v28, v29);
    ErrorDialog_ClickDelegate___ctor(v30, (Il2CppObject *)this, Method_BattleLogic_callBackNoEntity__, 0LL);
    if ( !Instance )
      goto LABEL_23;
    CommonUI__OpenErrorDialog(Instance, v26, v27, v30, 1, 0LL);
  }
}


bool __fastcall BattleLogic__isNoble(BattleLogic_o *this, int32_t inType, const MethodInfo *method)
{
  return inType != 0;
}


bool __fastcall BattleLogic__isTimeAcceleration(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8
  int systemflg_acceleration; // s8

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(this);
  systemflg_acceleration = data->fields.systemflg_acceleration;
  return UnityEngine_Time__get_timeScale(0LL) < (float)systemflg_acceleration;
}


bool __fastcall BattleLogic__isTimingUseSkill(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  PlayMakerFSM_o *fsm; // x0
  System_String_o *v5; // x19
  struct BattleData_o *data; // x8

  if ( (byte_4211897 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_23271/*"wait_tuto"*/, method);
    sub_B0D8A4(&StringLiteral_6608/*"Faze_Tactical"*/, v3);
    byte_4211897 = 1;
  }
  fsm = this->fields.fsm;
  if ( !fsm )
    goto LABEL_15;
  fsm = (PlayMakerFSM_o *)PlayMakerFSM__get_ActiveStateName(fsm, 0LL);
  if ( !this->fields.perf )
    goto LABEL_15;
  v5 = (System_String_o *)fsm;
  fsm = (PlayMakerFSM_o *)BattlePerformance__IsStep4FieldMotion(this->fields.perf, 0LL);
  if ( ((unsigned __int8)fsm & 1) != 0 )
    return 0;
  data = this->fields.data;
  if ( !data )
    goto LABEL_15;
  if ( data->fields.tutorialId == 3 && data->fields.wavecount == 1 && data->fields.turnCount == 1 )
    return 0;
  if ( !v5 )
LABEL_15:
    sub_B0D97C(fsm);
  return System_String__Equals_43837244(v5, (System_String_o *)StringLiteral_23271/*"wait_tuto"*/, 0LL)
      || System_String__Equals_43837244(v5, (System_String_o *)StringLiteral_6608/*"Faze_Tactical"*/, 0LL);
}


bool __fastcall BattleLogic__isTutorial(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  return BattleData__isTutorial(data, 0LL);
}


bool __fastcall BattleLogic__isTutorialMasterStatus(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  struct BattleData_o *v4; // x8
  int32_t tutorialId; // w9

  data = this->fields.data;
  if ( !data )
    goto LABEL_12;
  data = (BattleData_o *)BattleData__isTutorial(data, 0LL);
  if ( ((unsigned __int8)data & 1) == 0 )
    return 0;
  v4 = this->fields.data;
  if ( !v4 )
LABEL_12:
    sub_B0D97C(data);
  tutorialId = v4->fields.tutorialId;
  if ( tutorialId == 3 )
  {
    if ( v4->fields.wavecount == 1 && v4->fields.turnCount == 1 )
      return 1;
  }
  else if ( tutorialId != 2 || v4->fields.turnCount != 3 )
  {
    return tutorialId != 4;
  }
  return 0;
}


void __fastcall BattleLogic__loadBgmName(BattleLogic_o *this, System_String_o *bgmName, const MethodInfo *method)
{
  System_String_o *BattleBgmName; // x20
  __int64 v5; // x1
  PlayMakerFSM_o *fsm; // x0
  struct BattlePerformance_o *perf; // x8

  BattleBgmName = bgmName;
  if ( (byte_4211833 & 1) == 0 )
  {
    sub_B0D8A4(&Method_FieldMotionManager_SetVariables_string___, bgmName);
    sub_B0D8A4(&StringLiteral_2821/*"BgmName"*/, v5);
    byte_4211833 = 1;
  }
  if ( !BattleBgmName )
    BattleBgmName = BattleLogic__getBattleBgmName(this, (const MethodInfo *)bgmName);
  fsm = this->fields.fsm;
  if ( !fsm
    || (fsm = (PlayMakerFSM_o *)PlayMakerFSM__get_Fsm(fsm, 0LL)) == 0LL
    || (fsm = (PlayMakerFSM_o *)HutongGames_PlayMaker_Fsm__GetFsmString(
                                  (HutongGames_PlayMaker_Fsm_o *)fsm,
                                  (System_String_o *)StringLiteral_2821/*"BgmName"*/,
                                  0LL)) == 0LL
    || (fsm[1].klass = (PlayMakerFSM_c *)BattleBgmName,
        sub_B0D840(&fsm[1], BattleBgmName),
        (perf = this->fields.perf) == 0LL)
    || (fsm = (PlayMakerFSM_o *)perf->fields._fmManager_k__BackingField) == 0LL )
  {
    sub_B0D97C(fsm);
  }
  FieldMotionManager__SetVariables_string_(
    (FieldMotionManager_o *)fsm,
    (System_String_o *)StringLiteral_2821/*"BgmName"*/,
    BattleBgmName,
    (const MethodInfo_1B61EFC *)Method_FieldMotionManager_SetVariables_string___);
  this->fields._CurrentBgmName = BattleBgmName;
  sub_B0D840(&this->fields._CurrentBgmName, BattleBgmName);
}


BattleLogicTask_array *__fastcall BattleLogic__loadImmediateEntryMember(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v7; // x19
  __int64 v8; // x1
  __int64 v9; // x2
  BattleLogicTask_o *v10; // x20
  __int64 v11; // x0

  if ( (byte_421183C & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v5);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v6);
    byte_421183C = 1;
  }
  v7 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 method,
                                                                                                 v2);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v7,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v10 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v8, v9);
  BattleLogicTask___ctor(v10, 0LL);
  if ( !v10 || (BattleLogicTask__setLoadImmediateEntryServant(v10, 0LL), !v7) )
    sub_B0D97C(v11);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v7,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v10,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v7,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


void __fastcall BattleLogic__loadNstage(BattleLogic_o *this, System_String_o *endproc, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  BattleLogic___c__DisplayClass318_0_o *v7; // x20
  BattleData_o *data; // x0
  struct BattleData_o *v9; // x8
  __int64 v10; // x1
  __int64 v11; // x2
  struct BattleData_o *v12; // x8
  System_Action_o *v13; // x21
  const MethodInfo *v14; // x2
  System_Collections_IEnumerator_o *Nstage; // x1

  if ( (byte_42118CE & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, endproc);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass318_0__loadNstage_b__0__, v5);
    sub_B0D8A4(&BattleLogic___c__DisplayClass318_0_TypeInfo, v6);
    byte_42118CE = 1;
  }
  v7 = (BattleLogic___c__DisplayClass318_0_o *)sub_B0D974(BattleLogic___c__DisplayClass318_0_TypeInfo, endproc, method);
  BattleLogic___c__DisplayClass318_0___ctor(v7, 0LL);
  if ( !v7 )
    goto LABEL_13;
  v7->fields.__4__this = this;
  sub_B0D840(&v7->fields, this);
  v7->fields.endproc = endproc;
  sub_B0D840(&v7->fields.endproc, endproc);
  data = this->fields.data;
  if ( !data )
    goto LABEL_13;
  BattleData__loadNstage(data, data->fields.wavecount, 0LL);
  v9 = this->fields.data;
  if ( !v9 )
    goto LABEL_13;
  data = (BattleData_o *)v9->fields._FieldEnvData_k__BackingField;
  if ( !data )
    goto LABEL_13;
  data = (BattleData_o *)BattleFieldEnvironmentData__InitWave((BattleFieldEnvironmentData_o *)data, 0LL);
  if ( ((unsigned __int8)data & 1) != 0 )
    goto LABEL_10;
  v12 = this->fields.data;
  if ( !v12 )
    goto LABEL_13;
  if ( v12->fields.isWaveRestartInitialize )
  {
LABEL_10:
    data = (BattleData_o *)this->fields.perf;
    if ( data )
    {
      BattlePerformance__ChangeWaveBg((BattlePerformance_o *)data, 0LL);
      goto LABEL_12;
    }
LABEL_13:
    sub_B0D97C(data);
  }
LABEL_12:
  v13 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v10, v11);
  System_Action___ctor(v13, (Il2CppObject *)v7, Method_BattleLogic___c__DisplayClass318_0__loadNstage_b__0__, 0LL);
  Nstage = BattleLogic__coroutineLoadNstage(this, v13, v14);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, Nstage, 0LL);
}


void __fastcall BattleLogic__loadSaveBattle(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  BattleData_o *data; // x0
  __int64 v5; // x1
  __int64 v6; // x2
  System_Action_o *v7; // x20
  const MethodInfo *v8; // x2
  System_Collections_IEnumerator_o *inited; // x1

  if ( (byte_42118CC & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, method);
    sub_B0D8A4(&Method_BattleLogic__loadSaveBattle_b__316_0__, v3);
    byte_42118CC = 1;
  }
  data = this->fields.data;
  if ( !data || (BattleData__loadQuest(data, 0LL), (data = this->fields.data) == 0LL) )
    sub_B0D97C(data);
  BattleData__SetProcesssFlgOnBattleResume(data, 0LL);
  v7 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v5, v6);
  System_Action___ctor(v7, (Il2CppObject *)this, Method_BattleLogic__loadSaveBattle_b__316_0__, 0LL);
  inited = BattleLogic__CoroutineInitQuest(this, v7, v8);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, inited, 0LL);
}


void __fastcall BattleLogic__loadSaveWave(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x1
  System_Collections_IEnumerator_o *SaveWave; // x1

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  BattleData__loadSaveTurnNstage(data, 0LL);
  SaveWave = BattleLogic__coroutineLoadSaveWave(this, v4);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, SaveWave, 0LL);
}


void __fastcall BattleLogic__ngContinueBattleLoseInfomation(
        BattleLogic_o *this,
        System_String_o *endEvent,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  BattleLogic___c__DisplayClass110_0_o *v9; // x20
  PlayMakerFSM_o *data; // x0
  System_String_o *v11; // x1
  __int64 v12; // x1
  __int64 v13; // x2
  NotificationDialog_ClickDelegate_o *v14; // x21
  const MethodInfo *v15; // x5

  if ( (byte_421184C & 1) == 0 )
  {
    sub_B0D8A4(&NotificationDialog_ClickDelegate_TypeInfo, endEvent);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_ServantAssetLoadManager__get_Instance__, v5);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass110_0__ngContinueBattleLoseInfomation_b__0__, v6);
    sub_B0D8A4(&BattleLogic___c__DisplayClass110_0_TypeInfo, v7);
    sub_B0D8A4(&StringLiteral_8467/*"LOSE_PERFORMANCE"*/, v8);
    byte_421184C = 1;
  }
  v9 = (BattleLogic___c__DisplayClass110_0_o *)sub_B0D974(BattleLogic___c__DisplayClass110_0_TypeInfo, endEvent, method);
  BattleLogic___c__DisplayClass110_0___ctor(v9, 0LL);
  if ( !v9 )
    goto LABEL_15;
  v9->fields.__4__this = this;
  sub_B0D840(&v9->fields, this);
  v9->fields.endEvent = endEvent;
  sub_B0D840(&v9->fields.endEvent, endEvent);
  data = (PlayMakerFSM_o *)this->fields.data;
  if ( !data )
    goto LABEL_15;
  if ( BattleData__isDispLoseResult((BattleData_o *)data, 0LL) )
  {
    data = this->fields.fsm;
    if ( data )
    {
      v11 = (System_String_o *)StringLiteral_8467/*"LOSE_PERFORMANCE"*/;
LABEL_13:
      PlayMakerFSM__SendEvent(data, v11, 0LL);
      return;
    }
    goto LABEL_15;
  }
  data = (PlayMakerFSM_o *)this->fields.data;
  if ( !data )
    goto LABEL_15;
  if ( BattleData__IsIgnoreBattleLoseDialog((BattleData_o *)data, 0LL) )
  {
    data = (PlayMakerFSM_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_ServantAssetLoadManager__get_Instance__);
    if ( data )
    {
      ServantAssetLoadManager__EndRetryTransition((ServantAssetLoadManager_o *)data, 0LL);
      data = this->fields.fsm;
      if ( data )
      {
        v11 = v9->fields.endEvent;
        goto LABEL_13;
      }
    }
LABEL_15:
    sub_B0D97C(data);
  }
  v14 = (NotificationDialog_ClickDelegate_o *)sub_B0D974(NotificationDialog_ClickDelegate_TypeInfo, v12, v13);
  NotificationDialog_ClickDelegate___ctor(
    v14,
    (Il2CppObject *)v9,
    Method_BattleLogic___c__DisplayClass110_0__ngContinueBattleLoseInfomation_b__0__,
    0LL);
  BattleLogic__OpenBattleLoseDlg(this, 0, 0, v14, 0, v15);
}


void __fastcall BattleLogic__openConnectErrorDialog(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  CommonUI_o *Instance; // x20
  System_String_o *v9; // x21
  System_String_o *v10; // x22
  __int64 v11; // x1
  __int64 v12; // x2
  NotificationDialog_ClickDelegate_o *v13; // x23
  __int64 v14; // x0

  if ( (byte_42118A4 & 1) == 0 )
  {
    sub_B0D8A4(&Method_BattleLogic_requestErrorDialog__, method);
    sub_B0D8A4(&NotificationDialog_ClickDelegate_TypeInfo, v3);
    sub_B0D8A4(&LocalizationManager_TypeInfo, v4);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, v5);
    sub_B0D8A4(&StringLiteral_2442/*"BATTLE_DIALOG_USECOMMANDSPELL_ERROR_CONF"*/, v6);
    sub_B0D8A4(&StringLiteral_2443/*"BATTLE_DIALOG_USECOMMANDSPELL_ERROR_TITLE"*/, v7);
    byte_42118A4 = 1;
  }
  Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  if ( (BYTE3(LocalizationManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !LocalizationManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(LocalizationManager_TypeInfo);
  }
  v9 = LocalizationManager__Get((System_String_o *)StringLiteral_2443/*"BATTLE_DIALOG_USECOMMANDSPELL_ERROR_TITLE"*/, 0LL);
  v10 = LocalizationManager__Get((System_String_o *)StringLiteral_2442/*"BATTLE_DIALOG_USECOMMANDSPELL_ERROR_CONF"*/, 0LL);
  v13 = (NotificationDialog_ClickDelegate_o *)sub_B0D974(NotificationDialog_ClickDelegate_TypeInfo, v11, v12);
  NotificationDialog_ClickDelegate___ctor(v13, (Il2CppObject *)this, Method_BattleLogic_requestErrorDialog__, 0LL);
  if ( !Instance )
    sub_B0D97C(v14);
  CommonUI__OpenNotificationDialog_17019096(
    Instance,
    v9,
    v10,
    v13,
    -1,
    0,
    0,
    0,
    0,
    1,
    0LL,
    0LL,
    0,
    0,
    0LL,
    1,
    0LL,
    0LL,
    0LL,
    0LL);
}


void __fastcall BattleLogic__playRetire(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x1

  if ( (byte_4211843 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_10555/*"PROC_RETIRE"*/, method);
    byte_4211843 = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_8;
  if ( BattleData__isBattleRetreatQuestClear(data, 0LL) )
  {
    BattleLogic__sendLoseRetireClearEvent(this, v4);
    return;
  }
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
LABEL_8:
    sub_B0D97C(data);
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_10555/*"PROC_RETIRE"*/, 0LL);
}


void __fastcall BattleLogic__playTaskBattle(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  BattleLogic_o *v3; // x19
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  struct System_Collections_Generic_LinkedList_BattleLogicTask__o *list_logic; // x8
  struct System_Collections_Generic_LinkedListNode_T__o *head; // x8
  BattleLogicTask_o *item; // x20
  const MethodInfo *v10; // x2
  const MethodInfo *v11; // x1
  BattleActionData_o *v12; // x1
  BattleLogic_o *v13; // x21
  struct BattleData_o *data; // x8

  v3 = this;
  if ( (byte_421185B & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedListNode_BattleLogicTask__get_Value__, method);
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddFirst__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__RemoveFirst__, v5);
    this = (BattleLogic_o *)sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__get_First__, v6);
    byte_421185B = 1;
  }
  list_logic = v3->fields.list_logic;
  if ( !list_logic )
    goto LABEL_27;
  head = list_logic->fields.head;
  if ( !head )
    goto LABEL_27;
  item = (BattleLogicTask_o *)head->fields.item;
  if ( !item )
    goto LABEL_27;
  if ( item->fields.actiontype == 4 && !BattleLogic__checkUsableTD(v3, item, v2) )
  {
    this = (BattleLogic_o *)BattleLogic__createCommandTask(v3, item, v2);
    if ( !v3->fields.list_logic )
      goto LABEL_27;
    item = (BattleLogicTask_o *)this;
    System_Collections_Generic_LinkedList_object___RemoveFirst(
      (System_Collections_Generic_LinkedList_T__o *)v3->fields.list_logic,
      (const MethodInfo_2D1D5B8 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__RemoveFirst__);
    this = (BattleLogic_o *)v3->fields.list_logic;
    if ( !this )
      goto LABEL_27;
    System_Collections_Generic_LinkedList_WebConnection___AddFirst(
      (System_Collections_Generic_LinkedList_WebConnection__o *)this,
      (System_Net_WebConnection_o *)item,
      (const MethodInfo_2D1CDE4 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddFirst__);
  }
  if ( BattleLogic__checkRelationTask(v3, item, v2) )
  {
    this = (BattleLogic_o *)v3->fields.perf;
    if ( !this )
      goto LABEL_27;
    if ( BattlePerformance__checkActionCount((BattlePerformance_o *)this, 0LL) >= 1 )
    {
      this = (BattleLogic_o *)v3->fields.perf;
      if ( this )
      {
        v12 = 0LL;
LABEL_25:
        BattlePerformance__playActionData((BattlePerformance_o *)this, v12, 0LL);
        return;
      }
      goto LABEL_27;
    }
  }
  else
  {
    this = (BattleLogic_o *)BattleLogic__procBattleTask(v3, item, v10);
    if ( !v3->fields.list_logic )
      goto LABEL_27;
    v13 = this;
    System_Collections_Generic_LinkedList_object___RemoveFirst(
      (System_Collections_Generic_LinkedList_T__o *)v3->fields.list_logic,
      (const MethodInfo_2D1D5B8 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__RemoveFirst__);
    data = v3->fields.data;
    if ( !data )
      goto LABEL_27;
    this = (BattleLogic_o *)data->fields._FieldEnvData_k__BackingField;
    if ( !this )
      goto LABEL_27;
    BattleFieldEnvironmentData__AddLastInterruptTasks((BattleFieldEnvironmentData_o *)this, v3, 0LL);
    if ( !item )
      goto LABEL_27;
    ((void (__fastcall *)(BattleLogicTask_o *, BattleLogic_o *, void *))item->klass->vtable._7_AfterCreateAction.method)(
      item,
      v3,
      item->klass[1]._1.image);
    if ( v13 )
      goto LABEL_23;
    this = (BattleLogic_o *)v3->fields.perf;
    if ( !this )
      goto LABEL_27;
    if ( BattlePerformance__checkActionCount((BattlePerformance_o *)this, 0LL) >= 1 )
    {
LABEL_23:
      ((void (__fastcall *)(BattleLogicTask_o *, BattleLogic_o *, struct BattlePerformance_o *, Il2CppMethodPointer))item->klass->vtable._4_InterruptAction.method)(
        item,
        v13,
        v3->fields.perf,
        item->klass->vtable._5_MakeActionTask.methodPtr);
      this = (BattleLogic_o *)v3->fields.perf;
      if ( this )
      {
        v12 = (BattleActionData_o *)v13;
        goto LABEL_25;
      }
LABEL_27:
      sub_B0D97C(this);
    }
  }
  BattleLogic__endActionData(v3, v11);
}


BattleActionData_o *__fastcall BattleLogic__procBattleTask(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x20
  __int64 v5; // x1

  v4 = this;
  if ( (byte_4211869 & 1) == 0 )
  {
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__ContainsKey__,
      task);
    this = (BattleLogic_o *)sub_B0D8A4(
                              &Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__get_Item__,
                              v5);
    byte_4211869 = 1;
  }
  if ( !task )
    goto LABEL_10;
  this = (BattleLogic_o *)v4->fields.actionBattleList;
  if ( !this )
    goto LABEL_10;
  if ( System_Collections_Generic_Dictionary_Voice_BATTLE__string___ContainsKey(
         (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)this,
         task->fields.actiontype,
         (const MethodInfo_2EA6F34 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__ContainsKey__) )
  {
    this = (BattleLogic_o *)v4->fields.actionBattleList;
    if ( this )
    {
      this = (BattleLogic_o *)System_Collections_Generic_Dictionary_Voice_BATTLE__string___get_Item(
                                (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)this,
                                task->fields.actiontype,
                                (const MethodInfo_2EA6BFC *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_createActionBattle__get_Item__);
      if ( this )
        return BattleLogic_createActionBattle__Invoke((BattleLogic_createActionBattle_o *)this, task, 0LL);
    }
LABEL_10:
    sub_B0D97C(this);
  }
  return 0LL;
}


void __fastcall BattleLogic__procComboAct(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogic_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  struct BattleData_o *data; // x8
  struct BattleComboData_o *combodata; // x22
  __int64 v14; // x1
  __int64 v15; // x2
  System_Collections_Generic_List_int__o *v16; // x20
  unsigned int v17; // w23
  int32_t proc; // w21
  BattleData_o *v19; // x0
  BattleServantData_o *ServantData; // x20
  __int64 v21; // x0
  float RateValue; // s0
  BattleData_o *v23; // x20
  struct BattlePerformance_o *perf; // x8
  System_Collections_Generic_List_Enumerator_int__o v25; // [xsp+8h] [xbp-78h] BYREF
  System_Collections_Generic_List_Enumerator_int__o v26; // [xsp+20h] [xbp-60h] BYREF

  v2 = this;
  if ( (byte_4211887 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__Dispose__, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__MoveNext__, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__get_Current__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Contains__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__GetEnumerator__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int___ctor__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_int__TypeInfo, v9);
    sub_B0D8A4(&StringLiteral_2958/*"CHAINBONUS_ARTS_RATE"*/, v10);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_2960/*"CHAINBONUS_QUICK"*/, v11);
    byte_4211887 = 1;
  }
  memset(&v26, 0, sizeof(v26));
  data = v2->fields.data;
  if ( !data )
    goto LABEL_28;
  combodata = data->fields.combodata;
  if ( !combodata )
    goto LABEL_28;
  if ( !combodata->fields.flash )
    return;
  if ( !BattleCommand__isARTS(combodata->fields.flashtype, 0LL) )
  {
    if ( !BattleCommand__isQUICK(combodata->fields.flashtype, 0LL) )
      return;
    v23 = v2->fields.data;
    this = (BattleLogic_o *)ConstantMaster__getValue((System_String_o *)StringLiteral_2960/*"CHAINBONUS_QUICK"*/, 0LL);
    if ( v23 )
    {
      BattleData__addCriticalPoint(v23, (int32_t)this, 0, 0LL);
      perf = v2->fields.perf;
      if ( perf )
      {
        this = (BattleLogic_o *)perf->fields.statusPerf;
        if ( this )
        {
          BattlePerformanceStatus__updateCriticalPoint((BattlePerformanceStatus_o *)this, -1, 1, 0LL);
          return;
        }
      }
    }
LABEL_28:
    sub_B0D97C(this);
  }
  v16 = (System_Collections_Generic_List_int__o *)sub_B0D974(System_Collections_Generic_List_int__TypeInfo, v14, v15);
  System_Collections_Generic_List_int____ctor(
    v16,
    (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
  v17 = -1;
  do
  {
    this = (BattleLogic_o *)v2->fields.data;
    if ( !this )
      goto LABEL_28;
    this = (BattleLogic_o *)BattleData__getSelectCommand((BattleData_o *)this, v17 + 1, 0LL);
    if ( !this || !v16 )
      goto LABEL_28;
    proc = (int32_t)this->fields.proc;
    if ( !System_Collections_Generic_List_int___Contains(
            v16,
            proc,
            (const MethodInfo_2FB0354 *)Method_System_Collections_Generic_List_int__Contains__) )
      System_Collections_Generic_List_int___Add(
        v16,
        proc,
        (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
    ++v17;
  }
  while ( v17 < 2 );
  System_Collections_Generic_List_int___GetEnumerator(
    (System_Collections_Generic_List_Enumerator_T__o *)&v25,
    v16,
    (const MethodInfo_2FB0D44 *)Method_System_Collections_Generic_List_int__GetEnumerator__);
  v26 = v25;
  while ( System_Collections_Generic_List_Enumerator_int___MoveNext(
            &v26,
            (const MethodInfo_210FFE4 *)Method_System_Collections_Generic_List_Enumerator_int__MoveNext__) )
  {
    v19 = v2->fields.data;
    if ( !v19 )
      sub_B0D97C(0LL);
    ServantData = BattleData__getServantData(v19, v26.fields.current, 0LL);
    RateValue = ConstantMaster__getRateValue((System_String_o *)StringLiteral_2958/*"CHAINBONUS_ARTS_RATE"*/, 0LL);
    if ( !ServantData )
      sub_B0D97C(v21);
    BattleServantData__addNpPer(ServantData, RateValue, 0LL);
  }
  System_Collections_Generic_List_Enumerator_int___Dispose(
    &v26,
    (const MethodInfo_210FFE0 *)Method_System_Collections_Generic_List_Enumerator_int__Dispose__);
}


void __fastcall BattleLogic__procEndBattle(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x1

  if ( (byte_4211844 & 1) == 0 )
  {
    sub_B0D8A4(&BattleData_TypeInfo, method);
    sub_B0D8A4(&SeManager_TypeInfo, v2);
    byte_4211844 = 1;
  }
  if ( (BYTE3(SeManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !SeManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(SeManager_TypeInfo);
  SeManager__StopSeAll(0.8, 0LL);
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  BattleData__deleteSaveData(0LL);
}


void __fastcall BattleLogic__procLose(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  BattleData__setResultLose(data, 0LL);
}


void __fastcall BattleLogic__procLosePerformance(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattlePerformance_o *perf; // x0
  struct BattleData_o *data; // x8

  perf = this->fields.perf;
  if ( !perf
    || (BattlePerformance__effectWinBattle(perf, 0LL), (perf = this->fields.perf) == 0LL)
    || (data = perf->fields.data) == 0LL )
  {
    sub_B0D97C(perf);
  }
  BattlePerformance__SetTimeScale(perf, (float)data->fields.systemflg_acceleration, 0LL);
}


void __fastcall BattleLogic__procRetire(BattleLogic_o *this, const MethodInfo *method)
{
  BattleData_o *data; // x0
  const MethodInfo *v4; // x1

  data = this->fields.data;
  if ( !data || (BattleData__setResultRetire(data, 0LL), (data = this->fields.data) == 0LL) )
    sub_B0D97C(data);
  BattleData__SetUsedTurn(data, 0LL);
  BattleLogic__connectBattleResult(this, v4);
}


void __fastcall BattleLogic__procWin(BattleLogic_o *this, const MethodInfo *method)
{
  const MethodInfo *v2; // x2
  BattleData_o *data; // x0
  struct BattlePerformance_o *perf; // x8
  float systemflg_acceleration; // s0
  struct BattleData_o *v7; // x9
  struct BattlePerformance_o *v8; // x8
  struct BattlePerformanceStatus_o *statusPerf; // x8

  BattleLogic__setActiviteUnusedGameobject(this, 1, v2);
  data = this->fields.data;
  if ( !data )
    goto LABEL_17;
  BattleData__SetUsedTurn(data, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_17;
  BattleData__setResultWin(data, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_17;
  data = (BattleData_o *)BattleData__GetFinishEffectId(data, 0LL);
  perf = this->fields.perf;
  if ( ((unsigned int)data & 0x80000000) != 0 )
  {
    if ( !perf )
      goto LABEL_17;
    v7 = perf->fields.data;
    if ( !v7 )
      goto LABEL_17;
    systemflg_acceleration = (float)v7->fields.systemflg_acceleration;
  }
  else
  {
    if ( !perf )
      goto LABEL_17;
    systemflg_acceleration = 1.0;
  }
  BattlePerformance__SetTimeScale(this->fields.perf, systemflg_acceleration, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_17;
  data = (BattleData_o *)BattleData__IsWarBoard(data, 0LL);
  if ( ((unsigned __int8)data & 1) != 0 )
  {
    v8 = this->fields.perf;
    if ( v8 )
    {
      statusPerf = v8->fields.statusPerf;
      if ( statusPerf )
      {
        data = (BattleData_o *)statusPerf->fields.InfoComp;
        if ( data )
        {
          BattlePerformanceInfoComponent__ClearBattleInfo((BattlePerformanceInfoComponent_o *)data, 0LL);
          return;
        }
      }
    }
LABEL_17:
    sub_B0D97C(data);
  }
}


System_String_o *__fastcall BattleLogic__raidBossName(BattleLogic_o *this, const MethodInfo *method)
{
  void *data; // x0
  int v4; // w9
  System_String_o **v5; // x8
  unsigned int v6; // w10
  __int64 v7; // x11
  __int64 v9; // x0

  if ( (byte_42118BF & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_1/*""*/, method);
    byte_42118BF = 1;
  }
  data = this->fields.data;
  if ( !data || (data = BattleData__getFieldEnemyServantList((BattleData_o *)data, 0, 0LL)) == 0LL )
LABEL_15:
    sub_B0D97C(data);
  v4 = *((_DWORD *)data + 6);
  if ( v4 < 1 )
  {
    v5 = (System_String_o **)&StringLiteral_1/*""*/;
  }
  else
  {
    v5 = (System_String_o **)&StringLiteral_1/*""*/;
    v6 = 0;
    while ( 1 )
    {
      if ( v6 >= v4 )
      {
        v9 = sub_B0D9A8(data);
        sub_B0D948(v9, 0LL);
      }
      v7 = *((_QWORD *)data + (int)v6 + 4);
      if ( !v7 )
        goto LABEL_15;
      if ( *(_BYTE *)(v7 + 457) )
        break;
      if ( (int)++v6 >= v4 )
        return *v5;
    }
    v5 = (System_String_o **)(v7 + 384);
  }
  return *v5;
}


void __fastcall BattleLogic__releaseServantAfterDead(
        BattleLogic_o *this,
        int32_t index,
        BattleServantData_o *deadSvtData,
        const MethodInfo *method)
{
  BattleLogic_o *v5; // x21
  __int64 v7; // x0

  if ( !deadSvtData
    || (v5 = this, BattleServantData__setDeadData(deadSvtData, 0LL), (this = (BattleLogic_o *)v5->fields.perf) == 0LL)
    || (BattlePerformance__unloadDeckActor((BattlePerformance_o *)this, index, deadSvtData, 0LL),
        (this = (BattleLogic_o *)v5->fields.data) == 0LL)
    || (this = (BattleLogic_o *)BattleData__getEntryIdArray((BattleData_o *)this, deadSvtData->fields.isEnemy, 0LL)) == 0LL )
  {
    sub_B0D97C(this);
  }
  if ( LODWORD(this->fields.fsm) <= index )
  {
    v7 = sub_B0D9A8(this);
    sub_B0D948(v7, 0LL);
  }
  *((_DWORD *)&this->fields.data + index) = -1;
}


void __fastcall BattleLogic__removeDoNotSelectCommandCardBuff(
        BattleLogic_o *this,
        int32_t buffId,
        BattleServantData_o *target,
        const MethodInfo *method)
{
  BattleData_o *data; // x0

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  BattleData__RemoveDoNotSelectCommandCardBuff(data, buffId, target, 0LL);
}


void __fastcall BattleLogic__replaceMember(
        BattleLogic_o *this,
        BattleActionData_ReplaceMember_o *replaceData,
        System_Action_o *endCallBack,
        const MethodInfo *method)
{
  System_Collections_IEnumerator_o *v5; // x1

  v5 = BattleLogic__colReplaceMember(this, replaceData, endCallBack, method);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v5, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__requestBattleUseItemErrorDialog(BattleLogic_o *this, bool flg, const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  CommonUI_o *Instance; // x0
  __int64 v9; // x1
  __int64 v10; // x2
  NetworkManager_ResultCallbackFunc_o *v11; // x20

  if ( (byte_421189E & 1) == 0 )
  {
    sub_B0D8A4(&Method_BattleLogic_EndRequestBattleUseItem__, flg);
    sub_B0D8A4(&Method_NetworkManager_getRequest_BattleUseItemRequest___, v4);
    sub_B0D8A4(&NetworkManager_TypeInfo, v5);
    sub_B0D8A4(&NetworkManager_ResultCallbackFunc_TypeInfo, v6);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, v7);
    byte_421189E = 1;
  }
  Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  if ( !Instance )
    goto LABEL_9;
  CommonUI__CloseNotificationDialog(Instance, 0LL);
  v11 = (NetworkManager_ResultCallbackFunc_o *)sub_B0D974(NetworkManager_ResultCallbackFunc_TypeInfo, v9, v10);
  NetworkManager_ResultCallbackFunc___ctor(v11, (Il2CppObject *)this, Method_BattleLogic_EndRequestBattleUseItem__, 0LL);
  if ( (BYTE3(NetworkManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !NetworkManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(NetworkManager_TypeInfo);
  }
  Instance = (CommonUI_o *)NetworkManager__getRequest_WarBoardWallAttackRequest_(
                             v11,
                             (const MethodInfo_2049D98 *)Method_NetworkManager_getRequest_BattleUseItemRequest___);
  if ( !Instance )
LABEL_9:
    sub_B0D97C(Instance);
  RequestBase__beginRetryRequest((RequestBase_o *)Instance, 0, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__requestErrorDialog(BattleLogic_o *this, bool flg, const MethodInfo *method)
{
  __int64 v4; // x1
  CommonUI_o *Instance; // x0

  if ( (byte_42118A5 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, flg);
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v4);
    byte_42118A5 = 1;
  }
  Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  if ( !Instance
    || (CommonUI__CloseNotificationDialog(Instance, 0LL), (Instance = (CommonUI_o *)this->fields.fsm) == 0LL) )
  {
    sub_B0D97C(Instance);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)Instance, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__requestResultErrorDialog(BattleLogic_o *this, bool flg, const MethodInfo *method)
{
  __int64 v4; // x1
  CommonUI_o *Instance; // x0

  if ( (byte_4211849 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, flg);
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v4);
    byte_4211849 = 1;
  }
  Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  if ( !Instance
    || (CommonUI__CloseNotificationDialog(Instance, 0LL), (Instance = (CommonUI_o *)this->fields.fsm) == 0LL) )
  {
    sub_B0D97C(Instance);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)Instance, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


void __fastcall BattleLogic__resetCriticalPoint(BattleLogic_o *this, const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__resetOverKill(BattleLogic_o *this, const MethodInfo *method)
{
  void *data; // x0
  int v4; // w10
  unsigned int v5; // w8
  __int64 v6; // x10
  int v7; // w10
  unsigned int v8; // w8
  __int64 v9; // x10
  __int64 v10; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_17;
  data = BattleData__getFieldPlayerServantList((BattleData_o *)data, 0LL);
  if ( !data )
    goto LABEL_17;
  v4 = *((_DWORD *)data + 6);
  if ( v4 >= 1 )
  {
    v5 = 0;
    while ( v5 < v4 )
    {
      v6 = *((_QWORD *)data + (int)v5 + 4);
      if ( !v6 )
        goto LABEL_17;
      *(_DWORD *)(v6 + 436) = -1;
      v4 = *((_DWORD *)data + 6);
      if ( (int)++v5 >= v4 )
        goto LABEL_8;
    }
LABEL_16:
    v10 = sub_B0D9A8(data);
    sub_B0D948(v10, 0LL);
  }
LABEL_8:
  data = this->fields.data;
  if ( !data || (data = BattleData__getFieldEnemyServantList((BattleData_o *)data, 0, 0LL)) == 0LL )
LABEL_17:
    sub_B0D97C(data);
  v7 = *((_DWORD *)data + 6);
  if ( v7 >= 1 )
  {
    v8 = 0;
    while ( v8 < v7 )
    {
      v9 = *((_QWORD *)data + (int)v8 + 4);
      if ( !v9 )
        goto LABEL_17;
      *(_DWORD *)(v9 + 436) = -1;
      v7 = *((_DWORD *)data + 6);
      if ( (int)++v8 >= v7 )
        return;
    }
    goto LABEL_16;
  }
}


void __fastcall BattleLogic__resetReducedHpAll(BattleLogic_o *this, const MethodInfo *method)
{
  void *data; // x0
  int v3; // w8
  void *v4; // x19
  unsigned int v5; // w20
  __int64 v6; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_10;
  data = BattleData__getFieldServantList((BattleData_o *)data, 0, 0LL);
  if ( !data )
    goto LABEL_10;
  v3 = *((_DWORD *)data + 6);
  v4 = data;
  if ( v3 >= 1 )
  {
    v5 = 0;
    while ( 1 )
    {
      if ( v5 >= v3 )
      {
        v6 = sub_B0D9A8(data);
        sub_B0D948(v6, 0LL);
      }
      data = (void *)*((_QWORD *)v4 + (int)v5 + 4);
      if ( !data )
        break;
      BattleServantData__resetReducedHp((BattleServantData_o *)data, 0LL);
      v3 = *((_DWORD *)v4 + 6);
      if ( (int)++v5 >= v3 )
        return;
    }
LABEL_10:
    sub_B0D97C(data);
  }
}


void __fastcall BattleLogic__resetTimeAcceleration(BattleLogic_o *this, bool skip, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  if ( !skip )
  {
    perf = this->fields.perf;
    if ( perf )
    {
      BattlePerformance__SetTimeScale(perf, this->fields.prevScaleTime, 0LL);
      return;
    }
    goto LABEL_8;
  }
  if ( !this->fields.skipflg )
    return;
  perf = this->fields.perf;
  if ( !perf )
LABEL_8:
    sub_B0D97C(perf);
  BattlePerformance__SetTimeScale(perf, this->fields.prevSkipScaleTime, 0LL);
  this->fields.skipflg = 0;
}


void __fastcall BattleLogic__resetTimeFirstAcceleration(BattleLogic_o *this, const MethodInfo *method)
{
  float prevFirstScaleTime; // s0
  BattlePerformance_o *perf; // x0

  prevFirstScaleTime = this->fields.prevFirstScaleTime;
  if ( prevFirstScaleTime != 0.0 )
  {
    perf = this->fields.perf;
    if ( !perf )
      sub_B0D97C(0LL);
    BattlePerformance__SetTimeScale(perf, prevFirstScaleTime, 0LL);
    this->fields.prevFirstScaleTime = 0.0;
  }
}


void __fastcall BattleLogic__resetTimeFixAcceleration(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  perf = this->fields.perf;
  if ( !perf )
    sub_B0D97C(0LL);
  BattlePerformance__SetTimeScale(perf, this->fields.prevFixScaleTime, 0LL);
}


void __fastcall BattleLogic__responseResultBattle(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  DataManager_o *data; // x0
  Il2CppObject *lockCountObj; // x22
  int32_t klass; // w21
  QuestPhaseMaster_o *v11; // x20
  System_Int32_array *BranchQuestIds; // x0
  __int64 v13; // x8
  System_Int32_array *v14; // x20
  unsigned __int64 v15; // x22
  int32_t v16; // w21
  int32_t v17; // w20
  const MethodInfo *v18; // x1
  const MethodInfo *v19; // x1
  __int64 v20; // x0

  if ( (byte_421184A & 1) == 0 )
  {
    sub_B0D8A4(&BattleData_TypeInfo, method);
    sub_B0D8A4(&Method_DataManager_GetMasterData_QuestPhaseMaster___, v3);
    sub_B0D8A4(&LastUsedDeckNumberManager_TypeInfo, v4);
    sub_B0D8A4(&OptionManager_TypeInfo, v5);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v6);
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v7);
    byte_421184A = 1;
  }
  data = (DataManager_o *)this->fields.data;
  if ( !data )
    goto LABEL_38;
  lockCountObj = data->fields.lockCountObj;
  if ( BattleData__isResultWin((BattleData_o *)data, 0LL) )
  {
    if ( (BYTE3(OptionManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !OptionManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(OptionManager_TypeInfo);
    }
    data = (DataManager_o *)OptionManager__GetAutoSelectParty(0LL);
    if ( ((unsigned __int8)data & 1) != 0 )
    {
      if ( !lockCountObj )
        goto LABEL_38;
      if ( HIDWORD(lockCountObj[5].klass) == 1 )
      {
        data = (DataManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
        if ( !data )
          goto LABEL_38;
        data = (DataManager_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                  data,
                                  (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_QuestPhaseMaster___);
        if ( !this->fields.data )
          goto LABEL_38;
        klass = (int32_t)lockCountObj[1].klass;
        v11 = (QuestPhaseMaster_o *)data;
        data = (DataManager_o *)BattleData__getPhase(this->fields.data, 0LL);
        if ( !v11 )
          goto LABEL_38;
        BranchQuestIds = QuestPhaseMaster__GetBranchQuestIds(v11, klass, (int32_t)data, 0LL);
        if ( BranchQuestIds )
        {
          v13 = *(_QWORD *)&BranchQuestIds->max_length;
          v14 = BranchQuestIds;
          if ( (int)v13 >= 1 )
          {
            v15 = 0LL;
            do
            {
              if ( v15 >= (unsigned int)v13 )
              {
                v20 = sub_B0D9A8(BranchQuestIds);
                sub_B0D948(v20, 0LL);
              }
              v16 = v14->m_Items[v15 + 1];
              if ( (BYTE3(LastUsedDeckNumberManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
                && !LastUsedDeckNumberManager_TypeInfo->_2.cctor_finished )
              {
                j_il2cpp_runtime_class_init_0(LastUsedDeckNumberManager_TypeInfo);
              }
              LastUsedDeckNumberManager__DeleteData(v16, 0LL);
              LODWORD(v13) = v14->max_length;
              ++v15;
            }
            while ( (__int64)v15 < (int)v13 );
          }
        }
        else
        {
          v17 = (int32_t)lockCountObj[1].klass;
          if ( (BYTE3(LastUsedDeckNumberManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !LastUsedDeckNumberManager_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(LastUsedDeckNumberManager_TypeInfo);
          }
          LastUsedDeckNumberManager__DeleteData(v17, 0LL);
        }
        if ( (BYTE3(LastUsedDeckNumberManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !LastUsedDeckNumberManager_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(LastUsedDeckNumberManager_TypeInfo);
        }
        LastUsedDeckNumberManager__WriteData(0LL);
      }
    }
  }
  if ( (BYTE3(BattleData_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleData_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(BattleData_TypeInfo);
  BattleData__deleteSaveData(0LL);
  data = (DataManager_o *)this->fields.data;
  if ( !data
    || (BattleData__SaveNoSkipDeadFirstIdList((BattleData_o *)data, 0LL),
        (data = (DataManager_o *)this->fields.data) == 0LL)
    || (BattleData__changeTutorialBattleSpeed((BattleData_o *)data, 0LL),
        BattleLogic__SaveCutinFirstIdList(this, v18),
        BattleLogic__SaveEffectFirstIdList(this, v19),
        (data = (DataManager_o *)this->fields.fsm) == 0LL) )
  {
LABEL_38:
    sub_B0D97C(data);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


void __fastcall BattleLogic__selectTactical(BattleLogic_o *this, System_String_o *endproc, const MethodInfo *method)
{
  System_String_o *v3; // x19
  __int64 v5; // x1
  void *perf; // x0
  BattleEventTutorial_o *eventTutorial; // x21
  struct BattleData_o *data; // x8
  int v9; // w8
  void *v10; // x21
  unsigned int v11; // w22
  int v12; // w8
  void *v13; // x21
  unsigned int v14; // w22
  BattleServantData_o *ServantData; // x0
  BattleServantData_o *v16; // x21
  struct BattleData_o *v17; // x8
  struct BattleData_o *v18; // x8
  __int64 v19; // x0

  v3 = endproc;
  if ( (byte_4211895 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_double__Clear__, endproc);
    sub_B0D8A4(&StringLiteral_13502/*"TUTORIAL"*/, v5);
    byte_4211895 = 1;
  }
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_42;
  BattlePerformance__SetTimeScale((BattlePerformance_o *)perf, 1.0, 0LL);
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_42;
  BattlePerformance__setPositionModeTac((BattlePerformance_o *)perf, 0LL);
  perf = this->fields.data;
  if ( !perf )
    goto LABEL_42;
  eventTutorial = this->fields.eventTutorial;
  perf = (void *)BattleData__getDispWaveCount((BattleData_o *)perf, 0LL);
  data = this->fields.data;
  if ( !data || !eventTutorial )
    goto LABEL_42;
  if ( BattleEventTutorial__CheckHasTacticalPhaseTutorial(eventTutorial, (int32_t)perf, data->fields.turnCount, 0LL) )
    goto LABEL_11;
  perf = this->fields.data;
  if ( !perf )
    goto LABEL_42;
  if ( BattleData__isTutorial((BattleData_o *)perf, 0LL) )
LABEL_11:
    v3 = (System_String_o *)StringLiteral_13502/*"TUTORIAL"*/;
  perf = this->fields.data;
  if ( !perf )
    goto LABEL_42;
  perf = BattleData__getFieldPlayerServantList((BattleData_o *)perf, 0LL);
  if ( !perf )
    goto LABEL_42;
  v9 = *((_DWORD *)perf + 6);
  v10 = perf;
  if ( v9 >= 1 )
  {
    v11 = 0;
    while ( v11 < v9 )
    {
      perf = (void *)*((_QWORD *)v10 + (int)v11 + 4);
      if ( !perf )
        goto LABEL_42;
      BattleServantData__initTacticalFaze((BattleServantData_o *)perf, 0LL);
      v9 = *((_DWORD *)v10 + 6);
      if ( (int)++v11 >= v9 )
        goto LABEL_19;
    }
LABEL_43:
    v19 = sub_B0D9A8(perf);
    sub_B0D948(v19, 0LL);
  }
LABEL_19:
  perf = this->fields.data;
  if ( !perf )
    goto LABEL_42;
  perf = BattleData__getFieldEnemyServantList((BattleData_o *)perf, 0, 0LL);
  if ( !perf )
    goto LABEL_42;
  v12 = *((_DWORD *)perf + 6);
  v13 = perf;
  if ( v12 >= 1 )
  {
    v14 = 0;
    while ( v14 < v12 )
    {
      perf = (void *)*((_QWORD *)v13 + (int)v14 + 4);
      if ( !perf )
        goto LABEL_42;
      BattleServantData__initTacticalFaze((BattleServantData_o *)perf, 0LL);
      v12 = *((_DWORD *)v13 + 6);
      if ( (int)++v14 >= v12 )
        goto LABEL_26;
    }
    goto LABEL_43;
  }
LABEL_26:
  perf = this->fields.data;
  if ( !perf )
    goto LABEL_42;
  ServantData = BattleData__getServantData((BattleData_o *)perf, *((_DWORD *)perf + 80), 0LL);
  if ( !ServantData
    || (v16 = ServantData,
        perf = (void *)BattleServantData__isAlive(ServantData, 0, 0LL),
        ((unsigned __int8)perf & 1) == 0)
    || !v16->fields.isEntry )
  {
    perf = this->fields.logictarget;
    if ( !perf )
      goto LABEL_42;
    BattleLogicTarget__updateGlobalTarget((BattleLogicTarget_o *)perf, 0LL);
  }
  v17 = this->fields.data;
  if ( !v17 )
    goto LABEL_42;
  v17->fields.initturn = 0;
  v18 = this->fields.data;
  if ( !v18 )
    goto LABEL_42;
  perf = v18->fields.chainTypeList;
  if ( !perf )
    goto LABEL_42;
  System_Collections_Generic_List_double___Clear(
    (System_Collections_Generic_List_double__o *)perf,
    (const MethodInfo_2F72F78 *)Method_System_Collections_Generic_List_double__Clear__);
  perf = this->fields.data;
  if ( !perf )
    goto LABEL_42;
  BattleData__ResetEnemyEntryCount((BattleData_o *)perf, 0LL);
  perf = this->fields.data;
  if ( !perf )
    goto LABEL_42;
  if ( *((_DWORD *)perf + 258) != 1 )
  {
    BattleData__SaveTurnData((BattleData_o *)perf, 0LL);
    perf = this->fields.data;
    if ( !perf )
      goto LABEL_42;
    BattleData__SaveWaveRestartData((BattleData_o *)perf, 0LL);
  }
  perf = this->fields.perf;
  if ( !perf )
LABEL_42:
    sub_B0D97C(perf);
  BattlePerformance__startTac((BattlePerformance_o *)perf, v3, 0LL);
}


void __fastcall BattleLogic__sendFsmEvent(BattleLogic_o *this, System_String_o *evstr, const MethodInfo *method)
{
  PlayMakerFSM_o *fsm; // x0

  fsm = this->fields.fsm;
  if ( !fsm )
    sub_B0D97C(0LL);
  PlayMakerFSM__SendEvent(fsm, evstr, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__sendLoseRetireClearEvent(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x20
  UnityEngine_GameObject_o *transform; // x0
  struct BattlePerformance_o *perf; // x8
  struct UnityEngine_GameObject_array *p_actorlist; // x22
  __int64 v11; // x8
  unsigned __int64 v12; // x23
  UnityEngine_GameObject_o **m_Items; // x25
  UnityEngine_Object_o *v14; // x21
  UnityEngine_Transform_o *v15; // x21
  int v16; // s8
  int v17; // s1
  int v18; // s9
  int v19; // s2
  int v20; // s0
  int v21; // s1
  struct BattlePerformance_o *v22; // x8
  struct BattlePerformanceStatus_o *statusPerf; // x8
  struct BattlePerformancePlayer_o *playerPerf; // x8
  struct BattleServantParamComponent_array *list_param; // x21
  __int64 v26; // x8
  unsigned __int64 v27; // x22
  BattleServantParamComponent_o **v28; // x23
  UnityEngine_Object_o *v29; // x20
  UnityEngine_Object_o *Component_srcLineSprite; // x20
  struct BattlePerformance_o *v31; // x8
  struct BattlePerformanceStatus_o *v32; // x8
  struct BattlePerformanceMaster_o *masterPerf; // x8
  struct BattlePerformance_o *v34; // x8
  struct BattleData_o *data; // x8
  struct BattleData_o *v36; // x8
  struct BattleData_o *v37; // x8
  __int64 v38; // x0
  System_RuntimeFieldHandle_o v39; // 0:w1.4

  if ( (byte_421187A & 1) == 0 )
  {
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_BoxCollider___, method);
    sub_B0D8A4(&UnityEngine_Object_TypeInfo, v3);
    sub_B0D8A4(&float___TypeInfo, v4);
    sub_B0D8A4(
      &Field__PrivateImplementationDetails__80B6AE9E8CD459AA44BB61811CD6968CA8ACB99B2086B227B54D3EE77A09E015,
      v5);
    sub_B0D8A4(&StringLiteral_8468/*"LOSE_RETIRE_CLEAR"*/, v6);
    byte_421187A = 1;
  }
  v7 = sub_B0D8BC(float___TypeInfo, 3LL);
  v39.fields.value = Field__PrivateImplementationDetails__80B6AE9E8CD459AA44BB61811CD6968CA8ACB99B2086B227B54D3EE77A09E015;
  System_Runtime_CompilerServices_RuntimeHelpers__InitializeArray_42880004((System_Array_o *)v7, v39, 0LL);
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_60;
  p_actorlist = perf->fields.p_actorlist;
  if ( !p_actorlist )
    goto LABEL_60;
  v11 = *(_QWORD *)&p_actorlist->max_length;
  if ( (int)v11 >= 1 )
  {
    v12 = 0LL;
    m_Items = p_actorlist->m_Items;
    while ( v12 < (unsigned int)v11 )
    {
      v14 = (UnityEngine_Object_o *)m_Items[v12];
      if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
      }
      transform = (UnityEngine_GameObject_o *)UnityEngine_Object__op_Equality(v14, 0LL, 0LL);
      if ( ((unsigned __int8)transform & 1) == 0 )
      {
        if ( v12 >= p_actorlist->max_length )
          break;
        transform = m_Items[v12];
        if ( !transform )
          goto LABEL_60;
        transform = (UnityEngine_GameObject_o *)UnityEngine_GameObject__get_transform(transform, 0LL);
        if ( !v7 )
          goto LABEL_60;
        if ( v12 >= *(unsigned int *)(v7 + 24) || v12 >= p_actorlist->max_length )
          break;
        v15 = (UnityEngine_Transform_o *)transform;
        transform = m_Items[v12];
        if ( !transform )
          goto LABEL_60;
        v16 = *(_DWORD *)(v7 + 32 + 4 * v12);
        transform = (UnityEngine_GameObject_o *)UnityEngine_GameObject__get_transform(transform, 0LL);
        if ( !transform )
          goto LABEL_60;
        *(UnityEngine_Vector3_o *)(&v17 - 1) = UnityEngine_Transform__get_localPosition(
                                                 (UnityEngine_Transform_o *)transform,
                                                 0LL);
        if ( v12 >= p_actorlist->max_length )
          break;
        transform = m_Items[v12];
        if ( !transform )
          goto LABEL_60;
        v18 = v17;
        transform = (UnityEngine_GameObject_o *)UnityEngine_GameObject__get_transform(transform, 0LL);
        if ( !transform )
          goto LABEL_60;
        *(UnityEngine_Vector3_o *)(&v19 - 2) = UnityEngine_Transform__get_localPosition(
                                                 (UnityEngine_Transform_o *)transform,
                                                 0LL);
        if ( !v15 )
          goto LABEL_60;
        v20 = v16;
        v21 = v18;
        UnityEngine_Transform__set_localPosition(v15, *(UnityEngine_Vector3_o *)(&v19 - 2), 0LL);
      }
      LODWORD(v11) = p_actorlist->max_length;
      if ( (__int64)++v12 >= (int)v11 )
        goto LABEL_25;
    }
LABEL_61:
    v38 = sub_B0D9A8(transform);
    sub_B0D948(v38, 0LL);
  }
LABEL_25:
  v22 = this->fields.perf;
  if ( !v22 )
    goto LABEL_60;
  statusPerf = v22->fields.statusPerf;
  if ( !statusPerf )
    goto LABEL_60;
  playerPerf = statusPerf->fields.playerPerf;
  if ( !playerPerf )
    goto LABEL_60;
  list_param = playerPerf->fields.list_param;
  if ( !list_param )
    goto LABEL_60;
  v26 = *(_QWORD *)&list_param->max_length;
  if ( (int)v26 >= 1 )
  {
    v27 = 0LL;
    v28 = list_param->m_Items;
    while ( v27 < (unsigned int)v26 )
    {
      v29 = (UnityEngine_Object_o *)v28[v27];
      if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
      }
      transform = (UnityEngine_GameObject_o *)UnityEngine_Object__op_Equality(v29, 0LL, 0LL);
      if ( ((unsigned __int8)transform & 1) == 0 )
      {
        if ( v27 >= list_param->max_length )
          goto LABEL_61;
        transform = (UnityEngine_GameObject_o *)v28[v27];
        if ( !transform )
          goto LABEL_60;
        BattleServantParamComponent__setCloseMode((BattleServantParamComponent_o *)transform, 0LL);
        if ( v27 >= list_param->max_length )
          goto LABEL_61;
        transform = (UnityEngine_GameObject_o *)v28[v27];
        if ( !transform )
          goto LABEL_60;
        transform = UnityEngine_Component__get_gameObject((UnityEngine_Component_o *)transform, 0LL);
        if ( !transform )
          goto LABEL_60;
        Component_srcLineSprite = (UnityEngine_Object_o *)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                                            transform,
                                                            (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_BoxCollider___);
        if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
        }
        transform = (UnityEngine_GameObject_o *)UnityEngine_Object__op_Inequality(Component_srcLineSprite, 0LL, 0LL);
        if ( ((unsigned __int8)transform & 1) != 0 )
        {
          if ( !Component_srcLineSprite )
            goto LABEL_60;
          UnityEngine_Collider__set_enabled((UnityEngine_Collider_o *)Component_srcLineSprite, 0, 0LL);
        }
      }
      LODWORD(v26) = list_param->max_length;
      if ( (__int64)++v27 >= (int)v26 )
        goto LABEL_48;
    }
    goto LABEL_61;
  }
LABEL_48:
  v31 = this->fields.perf;
  if ( !v31 )
    goto LABEL_60;
  v32 = v31->fields.statusPerf;
  if ( !v32 )
    goto LABEL_60;
  masterPerf = v32->fields.masterPerf;
  if ( !masterPerf )
    goto LABEL_60;
  transform = masterPerf->fields.master_root;
  if ( !transform )
    goto LABEL_60;
  UnityEngine_GameObject__SetActive(transform, 0, 0LL);
  v34 = this->fields.perf;
  if ( !v34 )
    goto LABEL_60;
  transform = (UnityEngine_GameObject_o *)v34->fields.commandPerf;
  if ( !transform )
    goto LABEL_60;
  transform = UnityEngine_Component__get_gameObject((UnityEngine_Component_o *)transform, 0LL);
  if ( !transform )
    goto LABEL_60;
  UnityEngine_GameObject__SetActive(transform, 0, 0LL);
  data = this->fields.data;
  if ( !data
    || (data->fields.isItemResultSkip = 1, (v36 = this->fields.data) == 0LL)
    || (v36->fields.winResult = 3, (v37 = this->fields.data) == 0LL)
    || (v37->fields.isLoseRetireClear = 1, (transform = (UnityEngine_GameObject_o *)this->fields.fsm) == 0LL) )
  {
LABEL_60:
    sub_B0D97C(transform);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)transform, (System_String_o *)StringLiteral_8468/*"LOSE_RETIRE_CLEAR"*/, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__sendWinBattleEvent(BattleLogic_o *this, int32_t winResult, const MethodInfo *method)
{
  BattleLogic_o *v4; // x20
  struct BattleData_o *data; // x8

  v4 = this;
  if ( (byte_4211879 & 1) == 0 )
  {
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_5761/*"EVENT_WIN"*/, *(_QWORD *)&winResult);
    byte_4211879 = 1;
  }
  data = v4->fields.data;
  if ( !data || (data->fields.winResult = winResult, (this = (BattleLogic_o *)v4->fields.fsm) == 0LL) )
    sub_B0D97C(this);
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5761/*"EVENT_WIN"*/, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__setActiviteUnusedGameobject(BattleLogic_o *this, bool active, const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  struct System_Collections_Generic_List_GameObject__o *unusedGameobjects; // x20
  __int64 size; // x21
  __int64 v12; // x22
  UnityEngine_Object_o *v13; // x20
  struct System_Collections_Generic_List_GameObject__o *v14; // x20
  struct BattleLogicSkill_o *logicskill; // x8
  struct BattleLogic_o *logic; // x20
  unsigned __int64 v17; // x22
  signed __int64 v18; // x23
  struct BattleLogicSkill_o *v19; // x8
  EventMissionProgressRequest_Argument_ProgressData_o *v20; // x20
  __int64 v21; // x0

  v4 = this;
  if ( (byte_4211832 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_TypeInfo, active);
    sub_B0D8A4(&Method_System_Collections_Generic_List_GameObject__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_GameObject__Clear__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_GameObject__get_Count__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_GameObject__get_Item__, v8);
    this = (BattleLogic_o *)sub_B0D8A4(&UnityEngine_Object_TypeInfo, v9);
    byte_4211832 = 1;
  }
  if ( active )
  {
    unusedGameobjects = v4->fields.unusedGameobjects;
    if ( !unusedGameobjects )
      goto LABEL_37;
    size = unusedGameobjects->fields._size;
    if ( (int)size >= 1 )
    {
      v12 = 4LL;
      do
      {
        if ( v12 - 4 >= (unsigned __int64)(unsigned int)unusedGameobjects->fields._size )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41496008(0LL);
        v13 = (UnityEngine_Object_o *)*((_QWORD *)&unusedGameobjects->fields._items->obj.klass + v12);
        if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
        }
        this = (BattleLogic_o *)UnityEngine_Object__op_Inequality(v13, 0LL, 0LL);
        if ( ((unsigned __int8)this & 1) != 0 )
        {
          v14 = v4->fields.unusedGameobjects;
          if ( !v14 )
            goto LABEL_37;
          if ( v12 - 4 >= (unsigned __int64)(unsigned int)v14->fields._size )
            System_ThrowHelper__ThrowArgumentOutOfRangeException_41496008(0LL);
          this = (BattleLogic_o *)*((_QWORD *)&v14->fields._items->obj.klass + v12);
          if ( !this )
            goto LABEL_37;
          UnityEngine_GameObject__SetActive((UnityEngine_GameObject_o *)this, 1, 0LL);
        }
        if ( v12 - 3 >= size )
          return;
        unusedGameobjects = v4->fields.unusedGameobjects;
        ++v12;
      }
      while ( unusedGameobjects );
      goto LABEL_37;
    }
  }
  else
  {
    this = (BattleLogic_o *)BattleLogic_TypeInfo;
    if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !BattleLogic_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
      this = (BattleLogic_o *)BattleLogic_TypeInfo;
    }
    logicskill = this->fields.logicReaction->fields.logicskill;
    if ( !logicskill )
      goto LABEL_37;
    this = (BattleLogic_o *)v4->fields.unusedGameobjects;
    if ( !this )
      goto LABEL_37;
    logic = logicskill->fields.logic;
    System_Collections_Generic_List_XWeaponTrail_Element___Clear(
      (System_Collections_Generic_List_XWeaponTrail_Element__o *)this,
      (const MethodInfo_2FC5AF0 *)Method_System_Collections_Generic_List_GameObject__Clear__);
    if ( (int)logic >= 1 )
    {
      v17 = 0LL;
      v18 = (int)logic;
      while ( 1 )
      {
        this = (BattleLogic_o *)BattleLogic_TypeInfo;
        if ( (BYTE3(BattleLogic_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !BattleLogic_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(BattleLogic_TypeInfo);
          this = (BattleLogic_o *)BattleLogic_TypeInfo;
        }
        v19 = this->fields.logicReaction->fields.logicskill;
        if ( !v19 )
          break;
        if ( v17 >= LODWORD(v19->fields.logic) )
        {
          v21 = sub_B0D9A8(this);
          sub_B0D948(v21, 0LL);
        }
        this = (BattleLogic_o *)UnityEngine_GameObject__Find(*((System_String_o **)&v19->fields.logictarget + v17), 0LL);
        if ( !this )
          break;
        v20 = (EventMissionProgressRequest_Argument_ProgressData_o *)this;
        UnityEngine_GameObject__SetActive((UnityEngine_GameObject_o *)this, 0, 0LL);
        this = (BattleLogic_o *)v4->fields.unusedGameobjects;
        if ( !this )
          break;
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this,
          v20,
          (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_GameObject__Add__);
        if ( (__int64)++v17 >= v18 )
          return;
      }
LABEL_37:
      sub_B0D97C(this);
    }
  }
}


bool __fastcall BattleLogic__setDamageSideEffect(
        BattleLogic_o *this,
        BattleActionData_o *mainAction,
        int32_t attackId,
        int32_t targetId,
        BattleCommandData_o *command,
        const MethodInfo *method)
{
  BattleActionData_o *v9; // x27
  __int64 v11; // x1
  __int64 v12; // x1
  BattleData_o *data; // x0
  BattleServantData_o *v14; // x21
  BattleServantData_o *v15; // x20
  BattleData_o *v16; // x25
  __int64 v17; // x1
  __int64 v18; // x2
  int rootfsm; // w8
  SkillLvMaster_o *v20; // x22
  __int64 v21; // x19
  struct PlayMakerFSM_o *v22; // x26
  BattleActionData_o *v23; // x25
  _DWORD *v24; // x8
  BattleServantData_o *v25; // x23
  BattleServantData_o *v26; // x21
  BattleActionData_o *v27; // x20
  SkillLvMaster_o *v28; // x24
  BattleLogic_o *v29; // x22
  BattleLogicFunction_o *logicFunction; // x27
  System_Int32_array *fsm; // x28
  bool v32; // w26
  __int64 v34; // x0
  struct PlayMakerFSM_o **p_fsm; // [xsp+30h] [xbp-60h]
  BattleData_o *v36; // [xsp+38h] [xbp-58h]

  v9 = mainAction;
  if ( (byte_42118B8 & 1) == 0 )
  {
    sub_B0D8A4(&BattleActionData_TypeInfo, mainAction);
    sub_B0D8A4(&Method_DataManager_GetMasterData_SkillLvMaster___, v11);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v12);
    byte_42118B8 = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_26;
  data = (BattleData_o *)BattleData__getServantData(data, attackId, 0LL);
  if ( !this->fields.data )
    goto LABEL_26;
  v14 = (BattleServantData_o *)data;
  data = (BattleData_o *)BattleData__getServantData(this->fields.data, targetId, 0LL);
  if ( v14 )
  {
    if ( !v9 )
      goto LABEL_26;
    v15 = (BattleServantData_o *)data;
    data = (BattleData_o *)BattleActionData__isReflectedDamageSideEffect(v9, targetId, 0LL);
    if ( ((unsigned __int8)data & 1) == 0 )
    {
      if ( !v15 )
        goto LABEL_26;
      data = (BattleData_o *)BattleServantData__getDamageSideEffect(v15, command, v14, 0LL);
      if ( !data )
        goto LABEL_26;
      v16 = data;
      if ( data->fields.rootfsm )
      {
        BattleActionData__addReflectDamageSideEffect(v9, targetId, 0LL);
        data = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
        if ( !data )
          goto LABEL_26;
        data = (BattleData_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                 (DataManager_o *)data,
                                 (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_SkillLvMaster___);
        rootfsm = (int)v16->fields.rootfsm;
        if ( rootfsm >= 1 )
        {
          v20 = (SkillLvMaster_o *)data;
          v21 = 0LL;
          p_fsm = &v16->fields.fsm;
          v36 = v16;
          while ( 1 )
          {
            if ( (unsigned int)v21 >= rootfsm )
            {
LABEL_27:
              v34 = sub_B0D9A8(data);
              sub_B0D948(v34, 0LL);
            }
            v22 = p_fsm[v21];
            v23 = (BattleActionData_o *)sub_B0D974(BattleActionData_TypeInfo, v17, v18);
            BattleActionData___ctor(v23, 0LL);
            if ( !v23 )
              break;
            v23->fields.actorId = v15->fields.uniqueId;
            v23->fields.targetId = v14->fields.uniqueId;
            if ( !v22 )
              break;
            v24 = *(_DWORD **)&v22->fields.eventHandlerComponentsAdded;
            if ( !v24 )
              break;
            if ( v24[6] < 2u )
              goto LABEL_27;
            if ( !v20 )
              break;
            v25 = v14;
            v26 = v15;
            v27 = v9;
            v28 = v20;
            data = (BattleData_o *)SkillLvMaster__GetEntity(v20, v24[8], v24[9], 0LL);
            if ( !data )
              break;
            v29 = this;
            logicFunction = this->fields.logicFunction;
            fsm = (System_Int32_array *)data->fields.fsm;
            data = (BattleData_o *)SkillLvEntity__getDataValsList((SkillLvEntity_o *)data, 0LL);
            if ( !logicFunction )
              break;
            v32 = 1;
            BattleLogicFunction__procList(
              logicFunction,
              v23,
              fsm,
              (DataVals_array *)data,
              0,
              0,
              1,
              0,
              0,
              0,
              1,
              0LL,
              0,
              0LL);
            v9 = v27;
            BattleActionData__addSideEffectActionData(v27, v23, 2, 0LL);
            ++v21;
            this = v29;
            v15 = v26;
            rootfsm = (int)v36->fields.rootfsm;
            v14 = v25;
            v20 = v28;
            if ( (int)v21 >= rootfsm )
              return v32;
          }
LABEL_26:
          sub_B0D97C(data);
        }
      }
    }
  }
  return 0;
}


void __fastcall BattleLogic__setDrawCard(BattleLogic_o *this, const MethodInfo *method)
{
  struct BattleData_o *data; // x8
  BattleLogic_o *v3; // x19
  struct BattlePerformance_o *perf; // x8

  data = this->fields.data;
  if ( !data
    || (v3 = this, (this = (BattleLogic_o *)this->fields.perf) == 0LL)
    || (BattlePerformance__registCommandCard((BattlePerformance_o *)this, data->fields.draw_commandlist, 0LL),
        (perf = v3->fields.perf) == 0LL)
    || (this = (BattleLogic_o *)perf->fields.commandPerf) == 0LL )
  {
    sub_B0D97C(this);
  }
  BattlePerformanceCommandCard__SetCommandCardEffect((BattlePerformanceCommandCard_o *)this, 0LL);
}


void __fastcall BattleLogic__setNextBattle(BattleLogic_o *this, System_String_o *endproc, const MethodInfo *method)
{
  BattleData_o *data; // x0

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  BattleData__setNextStage(data, 0LL);
}


int32_t __fastcall BattleLogic__setTargetIndex(BattleLogic_o *this, int32_t index, const MethodInfo *method)
{
  BattleData_o *data; // x0

  data = this->fields.data;
  if ( !data )
    sub_B0D97C(0LL);
  return BattleData__setTargetIndex(data, index, 0LL);
}


void __fastcall BattleLogic__setTimeAcceleration(BattleLogic_o *this, bool skip, const MethodInfo *method)
{
  BattleData_o *data; // x0
  struct BattleData_o *v6; // x8
  int32_t tutorialId; // w9
  struct BattleData_o *v8; // x8
  BattlePerformance_o *perf; // x19
  float timeScale; // s0

  if ( skip )
  {
    if ( this->fields.skipflg )
      return;
    this->fields.prevSkipScaleTime = UnityEngine_Time__get_timeScale(0LL);
    this->fields.skipflg = 1;
  }
  else
  {
    this->fields.prevScaleTime = UnityEngine_Time__get_timeScale(0LL);
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_23;
  data = (BattleData_o *)BattleData__isTutorial(data, 0LL);
  if ( ((unsigned __int8)data & 1) == 0 )
    goto LABEL_13;
  v6 = this->fields.data;
  if ( !v6 )
    goto LABEL_23;
  tutorialId = v6->fields.tutorialId;
  if ( tutorialId == 4 || tutorialId == 3 )
  {
LABEL_12:
    v6->fields.systemflg_acceleration = 2;
LABEL_13:
    v6 = this->fields.data;
    if ( !v6 )
      goto LABEL_23;
    goto LABEL_14;
  }
  if ( tutorialId == 2 )
  {
    if ( v6->fields.turnCount < 3 )
      goto LABEL_13;
    goto LABEL_12;
  }
LABEL_14:
  data = (BattleData_o *)this->fields.perf;
  if ( !data )
    goto LABEL_23;
  BattlePerformance__SetTimeScale((BattlePerformance_o *)data, (float)v6->fields.systemflg_acceleration, 0LL);
  v8 = this->fields.data;
  if ( !v8 )
    goto LABEL_23;
  if ( v8->fields.systemflg_acceleration >= 2 )
  {
    data = (BattleData_o *)this->fields.perf;
    if ( !data )
      goto LABEL_23;
    BattlePerformance__SetTimeScale((BattlePerformance_o *)data, 2.0, 0LL);
  }
  if ( skip )
  {
    perf = this->fields.perf;
    timeScale = UnityEngine_Time__get_timeScale(0LL);
    if ( perf )
    {
      BattlePerformance__SetTimeScale(perf, timeScale + timeScale, 0LL);
      return;
    }
LABEL_23:
    sub_B0D97C(data);
  }
}


void __fastcall BattleLogic__startCommand(BattleLogic_o *this, System_String_o *endproc, const MethodInfo *method)
{
  const MethodInfo *v5; // x2
  System_Collections_IEnumerator_o *started; // x1

  if ( (byte_4211883 & 1) == 0 )
  {
    sub_B0D8A4(&SeManager_TypeInfo, endproc);
    byte_4211883 = 1;
  }
  if ( (BYTE3(SeManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !SeManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(SeManager_TypeInfo);
  SeManager__PlayCommonSe(5, 0LL);
  started = BattleLogic__startCommandIE(this, endproc, v5);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, started, 0LL);
}


System_Collections_IEnumerator_o *__fastcall BattleLogic__startCommandIE(
        BattleLogic_o *this,
        System_String_o *endproc,
        const MethodInfo *method)
{
  BattleLogic__startCommandIE_d__202_o *v5; // x21
  __int64 v6; // x0

  if ( (byte_4211884 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__startCommandIE_d__202_TypeInfo, endproc);
    byte_4211884 = 1;
  }
  v5 = (BattleLogic__startCommandIE_d__202_o *)sub_B0D974(BattleLogic__startCommandIE_d__202_TypeInfo, endproc, method);
  BattleLogic__startCommandIE_d__202___ctor(v5, 0, 0LL);
  if ( !v5 )
    sub_B0D97C(v6);
  v5->fields.__4__this = this;
  sub_B0D840(&v5->fields.__4__this, this);
  v5->fields.endproc = endproc;
  sub_B0D840(&v5->fields.endproc, endproc);
  return (System_Collections_IEnumerator_o *)v5;
}


void __fastcall BattleLogic__startCommandSpellEffect(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  UserGameEntity_o *SelfUserGame; // x0
  BattleLogic_o *SpellImageIdBattle; // x0
  const MethodInfo *v7; // x2
  System_String_o *CommandSpellAssetName; // x20
  __int64 v9; // x1
  __int64 v10; // x2
  AssetLoader_LoadEndDataHandler_o *v11; // x21

  if ( (byte_42118A0 & 1) == 0 )
  {
    sub_B0D8A4(&AssetManager_TypeInfo, method);
    sub_B0D8A4(&Method_BattleLogic_endLoadCommandSPell__, v3);
    sub_B0D8A4(&AssetLoader_LoadEndDataHandler_TypeInfo, v4);
    byte_42118A0 = 1;
  }
  SelfUserGame = UserGameMaster__getSelfUserGame(0LL);
  if ( !SelfUserGame )
    sub_B0D97C(0LL);
  SpellImageIdBattle = (BattleLogic_o *)UserGameEntity__get_SpellImageIdBattle(SelfUserGame, 0LL);
  CommandSpellAssetName = BattleLogic__GetCommandSpellAssetName(SpellImageIdBattle, (int32_t)SpellImageIdBattle, v7);
  v11 = (AssetLoader_LoadEndDataHandler_o *)sub_B0D974(AssetLoader_LoadEndDataHandler_TypeInfo, v9, v10);
  AssetLoader_LoadEndDataHandler___ctor(v11, (Il2CppObject *)this, Method_BattleLogic_endLoadCommandSPell__, 0LL);
  if ( (BYTE3(AssetManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0 && !AssetManager_TypeInfo->_2.cctor_finished )
    j_il2cpp_runtime_class_init_0(AssetManager_TypeInfo);
  AssetManager__loadAssetStorage(CommandSpellAssetName, v11, 1, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__startContinue(BattleLogic_o *this, bool isProgress, const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  BattleData_o *data; // x0
  const MethodInfo *v8; // x2
  int32_t QuestId; // w20
  BattleData_o *v10; // x8
  AdManager_o *v11; // x19

  if ( (byte_421187F & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_AdManager__get_Instance__, isProgress);
    sub_B0D8A4(&TerminalPramsManager_TypeInfo, v5);
    sub_B0D8A4(&StringLiteral_9324/*"NG"*/, v6);
    byte_421187F = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_20;
  if ( BattleData__isNgContinue(data, 0LL) )
  {
    BattleLogic__ngContinueBattleLoseInfomation(this, (System_String_o *)StringLiteral_9324/*"NG"*/, v8);
    return;
  }
  data = (BattleData_o *)this->fields.perf;
  if ( !data )
    goto LABEL_20;
  BattlePerformance__startContinue((BattlePerformance_o *)data, isProgress, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_20;
  QuestId = BattleData__getQuestId(data, 0LL);
  if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
  }
  if ( TerminalPramsManager__IsMainStoryForQuestId(QuestId, 0LL) )
  {
    if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
    }
    if ( TerminalPramsManager__CanSendTrackEvent(QuestId, 0LL) )
    {
      data = (BattleData_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_AdManager__get_Instance__);
      v10 = this->fields.data;
      if ( v10 )
      {
        v11 = (AdManager_o *)data;
        data = (BattleData_o *)BattleData__getPhase(v10, 0LL);
        if ( v11 )
        {
          AdManager__TrackEvent(v11, 10, 11, QuestId, (int32_t)data, 0LL, 0LL);
          return;
        }
      }
LABEL_20:
      sub_B0D97C(data);
    }
  }
}


void __fastcall BattleLogic__startEntryMember(
        BattleLogic_o *this,
        System_String_o *endproc,
        bool isTactical,
        const MethodInfo *method)
{
  BattleLogicTask_array *started; // x1
  const MethodInfo *v6; // x2

  started = BattleLogic__startEntryMemberLocal(this, endproc, isTactical, method);
  BattleLogic__actOneBattleTask(this, started, v6);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__startEntryMemberLocal(
        BattleLogic_o *this,
        System_String_o *endproc,
        bool isTactical,
        const MethodInfo *method)
{
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  BattleLogic___c__DisplayClass90_0_o *v28; // x20
  struct BattleData_o *enemyPref; // x0
  struct BattlePerformance_o *perf; // x8
  struct BattlePerformanceStatus_o *statusPerf; // x8
  __int64 v32; // x1
  __int64 v33; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v34; // x22
  struct BattleData_o **p_tasklist; // x21
  __int64 v36; // x1
  __int64 v37; // x2
  System_Collections_Generic_IEnumerable_TSource__o *FieldPlayerServantList; // x22
  BattleLogic___c_c *v39; // x8
  struct BattleLogic___c_StaticFields *static_fields; // x9
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__90_0; // x23
  Il2CppObject *v42; // x24
  struct BattleLogic___c_StaticFields *v43; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v44; // x0
  __int64 v45; // x1
  __int64 v46; // x2
  BattleLogic___c_c *v47; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v48; // x22
  struct BattleLogic___c_StaticFields *v49; // x9
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__90_1; // x23
  Il2CppObject *v51; // x24
  struct BattleLogic___c_StaticFields *v52; // x0
  System_Collections_Generic_IEnumerable_T__o *v53; // x22
  __int64 v54; // x1
  __int64 v55; // x2
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *v56; // x23
  BattleServantData_array *FieldEnemyServantList; // x0
  __int64 v58; // x1
  __int64 v59; // x2
  BattleLogic___c_c *v60; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v61; // x22
  struct BattleLogic___c_StaticFields *v62; // x9
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__90_3; // x23
  Il2CppObject *v64; // x24
  struct BattleLogic___c_StaticFields *v65; // x0
  System_Collections_Generic_IEnumerable_TSource__o *v66; // x0
  __int64 v67; // x1
  __int64 v68; // x2
  BattleLogic___c_c *v69; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v70; // x22
  struct BattleLogic___c_StaticFields *v71; // x9
  System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *_9__90_4; // x23
  Il2CppObject *v73; // x24
  struct BattleLogic___c_StaticFields *v74; // x0
  System_Collections_Generic_IEnumerable_T__o *v75; // x22
  __int64 v76; // x1
  __int64 v77; // x2
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *v78; // x23
  const MethodInfo *v79; // x1
  __int64 v80; // x1
  __int64 v81; // x2
  BattleLogicTask_o *v82; // x19

  if ( (byte_421183E & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Action_BattleServantData___ctor__, endproc);
    sub_B0D8A4(&System_Action_BattleServantData__TypeInfo, v6);
    sub_B0D8A4(&Method_BasicHelper_ForEach_BattleServantData___, v7);
    sub_B0D8A4(&BattleLogicTask_TypeInfo, v8);
    sub_B0D8A4(&Method_System_Linq_Enumerable_OrderBy_BattleServantData__int___, v9);
    sub_B0D8A4(&Method_System_Linq_Enumerable_Where_BattleServantData___, v10);
    sub_B0D8A4(&Method_System_Func_BattleServantData__bool___ctor__, v11);
    sub_B0D8A4(&Method_System_Func_BattleServantData__int___ctor__, v12);
    sub_B0D8A4(&System_Func_BattleServantData__bool__TypeInfo, v13);
    sub_B0D8A4(&System_Func_BattleServantData__int__TypeInfo, v14);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v15);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v16);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v17);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__get_Count__, v18);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v19);
    sub_B0D8A4(&Method_BattleLogic___c__startEntryMemberLocal_b__90_0__, v20);
    sub_B0D8A4(&Method_BattleLogic___c__startEntryMemberLocal_b__90_1__, v21);
    sub_B0D8A4(&Method_BattleLogic___c__startEntryMemberLocal_b__90_3__, v22);
    sub_B0D8A4(&Method_BattleLogic___c__startEntryMemberLocal_b__90_4__, v23);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass90_0__startEntryMemberLocal_b__2__, v24);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass90_0__startEntryMemberLocal_b__5__, v25);
    sub_B0D8A4(&BattleLogic___c__DisplayClass90_0_TypeInfo, v26);
    sub_B0D8A4(&BattleLogic___c_TypeInfo, v27);
    byte_421183E = 1;
  }
  v28 = (BattleLogic___c__DisplayClass90_0_o *)sub_B0D974(
                                                 BattleLogic___c__DisplayClass90_0_TypeInfo,
                                                 endproc,
                                                 isTactical);
  BattleLogic___c__DisplayClass90_0___ctor(v28, 0LL);
  if ( !v28 )
    goto LABEL_47;
  v28->fields.__4__this = this;
  v28->fields.isTactical = isTactical;
  sub_B0D840(&v28->fields.__4__this, this);
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_47;
  statusPerf = perf->fields.statusPerf;
  if ( !statusPerf )
    goto LABEL_47;
  enemyPref = (struct BattleData_o *)statusPerf->fields.enemyPref;
  if ( !enemyPref )
    goto LABEL_47;
  BattlePerformanceEnemy__playAddition((BattlePerformanceEnemy_o *)enemyPref, 0LL);
  v34 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                  System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                  v32,
                                                                                                  v33);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v34,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v28->fields.tasklist = (struct System_Collections_Generic_List_BattleLogicTask__o *)v34;
  p_tasklist = (struct BattleData_o **)&v28->fields.tasklist;
  sub_B0D840(&v28->fields.tasklist, v34);
  enemyPref = this->fields.data;
  if ( !enemyPref )
    goto LABEL_47;
  FieldPlayerServantList = (System_Collections_Generic_IEnumerable_TSource__o *)BattleData__getFieldPlayerServantList(
                                                                                  enemyPref,
                                                                                  0LL);
  v39 = BattleLogic___c_TypeInfo;
  if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleLogic___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
    v39 = BattleLogic___c_TypeInfo;
  }
  static_fields = v39->static_fields;
  _9__90_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)static_fields->__9__90_0;
  if ( !_9__90_0 )
  {
    if ( (BYTE3(v39->vtable._0_Equals.methodPtr) & 4) != 0 && !v39->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v39);
      static_fields = BattleLogic___c_TypeInfo->static_fields;
    }
    v42 = (Il2CppObject *)static_fields->__9;
    _9__90_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B0D974(
                                                                                    System_Func_BattleServantData__bool__TypeInfo,
                                                                                    v36,
                                                                                    v37);
    System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
      _9__90_0,
      v42,
      Method_BattleLogic___c__startEntryMemberLocal_b__90_0__,
      (const MethodInfo_26189B8 *)Method_System_Func_BattleServantData__bool___ctor__);
    v43 = BattleLogic___c_TypeInfo->static_fields;
    v43->__9__90_0 = (struct System_Func_BattleServantData__bool__o *)_9__90_0;
    sub_B0D840(&v43->__9__90_0, _9__90_0);
  }
  v44 = System_Linq_Enumerable__Where_WarBoardManager_WarBoardOnboardSkillTarget_(
          FieldPlayerServantList,
          (System_Func_TSource__bool__o *)_9__90_0,
          (const MethodInfo_1B5A6B0 *)Method_System_Linq_Enumerable_Where_BattleServantData___);
  v47 = BattleLogic___c_TypeInfo;
  v48 = v44;
  if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleLogic___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
    v47 = BattleLogic___c_TypeInfo;
  }
  v49 = v47->static_fields;
  _9__90_1 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)v49->__9__90_1;
  if ( !_9__90_1 )
  {
    if ( (BYTE3(v47->vtable._0_Equals.methodPtr) & 4) != 0 && !v47->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v47);
      v49 = BattleLogic___c_TypeInfo->static_fields;
    }
    v51 = (Il2CppObject *)v49->__9;
    _9__90_1 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B0D974(
                                                                                 System_Func_BattleServantData__int__TypeInfo,
                                                                                 v45,
                                                                                 v46);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      _9__90_1,
      v51,
      Method_BattleLogic___c__startEntryMemberLocal_b__90_1__,
      (const MethodInfo_2619564 *)Method_System_Func_BattleServantData__int___ctor__);
    v52 = BattleLogic___c_TypeInfo->static_fields;
    v52->__9__90_1 = (struct System_Func_BattleServantData__int__o *)_9__90_1;
    sub_B0D840(&v52->__9__90_1, _9__90_1);
  }
  v53 = (System_Collections_Generic_IEnumerable_T__o *)System_Linq_Enumerable__OrderBy_QuestPhaseDetailEntity_BoardInfo__int_(
                                                         v48,
                                                         (System_Func_TSource__TKey__o *)_9__90_1,
                                                         (const MethodInfo_1B4E924 *)Method_System_Linq_Enumerable_OrderBy_BattleServantData__int___);
  v56 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)sub_B0D974(
                                                                               System_Action_BattleServantData__TypeInfo,
                                                                               v54,
                                                                               v55);
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData____ctor(
    v56,
    (Il2CppObject *)v28,
    Method_BattleLogic___c__DisplayClass90_0__startEntryMemberLocal_b__2__,
    (const MethodInfo_246EA3C *)Method_System_Action_BattleServantData___ctor__);
  BasicHelper__ForEach_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
    v53,
    (System_Action_T__o *)v56,
    (const MethodInfo_17086DC *)Method_BasicHelper_ForEach_BattleServantData___);
  enemyPref = this->fields.data;
  if ( !enemyPref )
    goto LABEL_47;
  FieldEnemyServantList = BattleData__getFieldEnemyServantList(enemyPref, 0, 0LL);
  v60 = BattleLogic___c_TypeInfo;
  v61 = (System_Collections_Generic_IEnumerable_TSource__o *)FieldEnemyServantList;
  if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleLogic___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
    v60 = BattleLogic___c_TypeInfo;
  }
  v62 = v60->static_fields;
  _9__90_3 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)v62->__9__90_3;
  if ( !_9__90_3 )
  {
    if ( (BYTE3(v60->vtable._0_Equals.methodPtr) & 4) != 0 && !v60->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v60);
      v62 = BattleLogic___c_TypeInfo->static_fields;
    }
    v64 = (Il2CppObject *)v62->__9;
    _9__90_3 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B0D974(
                                                                                    System_Func_BattleServantData__bool__TypeInfo,
                                                                                    v58,
                                                                                    v59);
    System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
      _9__90_3,
      v64,
      Method_BattleLogic___c__startEntryMemberLocal_b__90_3__,
      (const MethodInfo_26189B8 *)Method_System_Func_BattleServantData__bool___ctor__);
    v65 = BattleLogic___c_TypeInfo->static_fields;
    v65->__9__90_3 = (struct System_Func_BattleServantData__bool__o *)_9__90_3;
    sub_B0D840(&v65->__9__90_3, _9__90_3);
  }
  v66 = System_Linq_Enumerable__Where_WarBoardManager_WarBoardOnboardSkillTarget_(
          v61,
          (System_Func_TSource__bool__o *)_9__90_3,
          (const MethodInfo_1B5A6B0 *)Method_System_Linq_Enumerable_Where_BattleServantData___);
  v69 = BattleLogic___c_TypeInfo;
  v70 = v66;
  if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattleLogic___c_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
    v69 = BattleLogic___c_TypeInfo;
  }
  v71 = v69->static_fields;
  _9__90_4 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)v71->__9__90_4;
  if ( !_9__90_4 )
  {
    if ( (BYTE3(v69->vtable._0_Equals.methodPtr) & 4) != 0 && !v69->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(v69);
      v71 = BattleLogic___c_TypeInfo->static_fields;
    }
    v73 = (Il2CppObject *)v71->__9;
    _9__90_4 = (System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int__o *)sub_B0D974(
                                                                                 System_Func_BattleServantData__int__TypeInfo,
                                                                                 v67,
                                                                                 v68);
    System_Func_BattleLogicBuff_ReduceHpProcess_BuffInfo__int____ctor(
      _9__90_4,
      v73,
      Method_BattleLogic___c__startEntryMemberLocal_b__90_4__,
      (const MethodInfo_2619564 *)Method_System_Func_BattleServantData__int___ctor__);
    v74 = BattleLogic___c_TypeInfo->static_fields;
    v74->__9__90_4 = (struct System_Func_BattleServantData__int__o *)_9__90_4;
    sub_B0D840(&v74->__9__90_4, _9__90_4);
  }
  v75 = (System_Collections_Generic_IEnumerable_T__o *)System_Linq_Enumerable__OrderBy_QuestPhaseDetailEntity_BoardInfo__int_(
                                                         v70,
                                                         (System_Func_TSource__TKey__o *)_9__90_4,
                                                         (const MethodInfo_1B4E924 *)Method_System_Linq_Enumerable_OrderBy_BattleServantData__int___);
  v78 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)sub_B0D974(
                                                                               System_Action_BattleServantData__TypeInfo,
                                                                               v76,
                                                                               v77);
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData____ctor(
    v78,
    (Il2CppObject *)v28,
    Method_BattleLogic___c__DisplayClass90_0__startEntryMemberLocal_b__5__,
    (const MethodInfo_246EA3C *)Method_System_Action_BattleServantData___ctor__);
  BasicHelper__ForEach_DrawLotsDisplayMessage_DisplayedInGroup_SaveData_(
    v75,
    (System_Action_T__o *)v78,
    (const MethodInfo_17086DC *)Method_BasicHelper_ForEach_BattleServantData___);
  enemyPref = (struct BattleData_o *)v28->fields.tasklist;
  if ( !enemyPref
    || SLODWORD(enemyPref->fields.rootfsm) >= 1
    && ((BattleLogic__updateFieldBuff(this, v79),
         v82 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v80, v81),
         BattleLogicTask___ctor(v82, 0LL),
         !v82)
     || (BattleLogicTask__setCheckEntryFunction(v82, 0LL), (enemyPref = *p_tasklist) == 0LL)
     || (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
           (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)enemyPref,
           (EventMissionProgressRequest_Argument_ProgressData_o *)v82,
           (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__),
         (enemyPref = *p_tasklist) == 0LL)) )
  {
LABEL_47:
    sub_B0D97C(enemyPref);
  }
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)enemyPref,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__startImmediateEntry(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  struct BattleData_o *v11; // x8
  __int64 v12; // x1
  __int64 v13; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v14; // x20
  System_String_o *v15; // x1
  const MethodInfo *v16; // x3

  v4 = this;
  if ( (byte_4211873 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask___TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__get_Count__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v9);
    this = (BattleLogic_o *)sub_B0D8A4(&StringLiteral_9768/*"OK"*/, v10);
    byte_4211873 = 1;
  }
  v11 = v4->fields.data;
  if ( !v11 )
    goto LABEL_9;
  this = (BattleLogic_o *)v11->fields.quest_ent;
  if ( !this )
    goto LABEL_9;
  if ( QuestEntity__HasFlag((QuestEntity_o *)this, 0x40000000000000LL, 0LL) )
  {
    v14 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                    System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                    v12,
                                                                                                    v13);
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
      v14,
      (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
    this = (BattleLogic_o *)BattleLogic__startEntryMemberLocal(v4, v15, 0, v16);
    if ( v14 )
    {
      System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
        (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v14,
        (System_Collections_Generic_IEnumerable_T__o *)this,
        (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
      v4->fields.isPlayImmediateEntry = v14->fields._size > 0;
      return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                        (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v14,
                                        (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
    }
LABEL_9:
    sub_B0D97C(this);
  }
  return (BattleLogicTask_array *)sub_B0D8BC(BattleLogicTask___TypeInfo, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__startRecoverPT(BattleLogic_o *this, bool isTactical, const MethodInfo *method)
{
  const MethodInfo *v3; // x3
  System_Collections_IEnumerator_o *v6; // x1

  if ( (byte_421183F & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, isTactical);
    byte_421183F = 1;
  }
  v6 = BattleLogic__coroutineContinueMember(this, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, isTactical, v3);
  UnityEngine_MonoBehaviour__StartCoroutine_34930128((UnityEngine_MonoBehaviour_o *)this, v6, 0LL);
}


void __fastcall BattleLogic__startWaveAction(BattleLogic_o *this, const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  if ( (byte_4211894 & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, method);
    byte_4211894 = 1;
  }
  perf = this->fields.perf;
  if ( !perf || (BattlePerformance__setPositionModeTac(perf, 0LL), (perf = this->fields.perf) == 0LL) )
    sub_B0D97C(perf);
  BattlePerformance__endStartWave(perf, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskCommandWait(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v8; // x19
  __int64 v9; // x1
  __int64 v10; // x2
  __int64 v11; // x20
  __int64 v12; // x0

  if ( (byte_4211860 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v6);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v7);
    byte_4211860 = 1;
  }
  v8 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 *(_QWORD *)&ltype,
                                                                                                 data);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v8,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v11 = sub_B0D974(BattleLogicTask_TypeInfo, v9, v10);
  BattleLogicTask___ctor((BattleLogicTask_o *)v11, 0LL);
  if ( !v11 || (BattleLogicTask__setSystem((BattleLogicTask_o *)v11, 0LL), *(_DWORD *)(v11 + 124) = 1061997773, !v8) )
    sub_B0D97C(v12);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v8,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v11,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v8,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskEndEnemyTurn(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v8; // x19
  __int64 v9; // x1
  __int64 v10; // x2
  BattleLogicTask_o *v11; // x20
  __int64 v12; // x0

  if ( (byte_421186F & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v6);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v7);
    byte_421186F = 1;
  }
  v8 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 *(_QWORD *)&ltype,
                                                                                                 data);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v8,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v11 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v9, v10);
  BattleLogicTask___ctor(v11, 0LL);
  if ( !v11 || (BattleLogicTask__setEndTurnEnemy(v11, 0LL), !v8) )
    sub_B0D97C(v12);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v8,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v11,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v8,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskEndPlayerTurn(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v9; // x19
  BattlePerformanceCommandCard_o *commandPerf; // x0
  struct BattlePerformance_o *perf; // x8
  __int64 v12; // x1
  __int64 v13; // x2
  BattleLogicTask_o *v14; // x20

  if ( (byte_421186E & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8);
    byte_421186E = 1;
  }
  v9 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 *(_QWORD *)&ltype,
                                                                                                 data);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v9,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  perf = this->fields.perf;
  if ( !perf
    || (commandPerf = perf->fields.commandPerf) == 0LL
    || (BattlePerformanceCommandCard__fadeOutAllCard(commandPerf, 0LL),
        v14 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v12, v13),
        BattleLogicTask___ctor(v14, 0LL),
        !v14)
    || (BattleLogicTask__setEndTurnPlayer(v14, 0LL), !v9) )
  {
    sub_B0D97C(commandPerf);
  }
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v9,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v14,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v9,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskEnemyAttackTerm(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  struct BattleData_o *v7; // x8
  __int64 v8; // x1
  __int64 v9; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v10; // x19

  v4 = this;
  if ( (byte_4211876 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v5);
    this = (BattleLogic_o *)sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v6);
    byte_4211876 = 1;
  }
  v7 = v4->fields.data;
  if ( !v7
    || (this = (BattleLogic_o *)v7->fields.battleAtkManager) == 0LL
    || (BattleAttackManager__SetEndActionAttack((BattleAttackManager_o *)this, 0, 0LL),
        v10 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8, v9),
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
          v10,
          (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__),
        !v10) )
  {
    sub_B0D97C(this);
  }
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v10,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskEnemyEndWait(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v8; // x19
  __int64 v9; // x1
  __int64 v10; // x2
  __int64 v11; // x20
  __int64 v12; // x0

  if ( (byte_421185F & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v6);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v7);
    byte_421185F = 1;
  }
  v8 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 *(_QWORD *)&ltype,
                                                                                                 data);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v8,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v11 = sub_B0D974(BattleLogicTask_TypeInfo, v9, v10);
  BattleLogicTask___ctor((BattleLogicTask_o *)v11, 0LL);
  if ( !v11 || (BattleLogicTask__setSystem((BattleLogicTask_o *)v11, 0LL), *(_DWORD *)(v11 + 124) = 1045220557, !v8) )
    sub_B0D97C(v12);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v8,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v11,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v8,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskGetCriticalPoint(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  BattlePerformance_o *perf; // x0

  if ( (byte_421186A & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask___TypeInfo, *(_QWORD *)&ltype);
    byte_421186A = 1;
  }
  perf = this->fields.perf;
  if ( !perf )
    sub_B0D97C(0LL);
  BattlePerformance__startMovePopObject(perf, 0LL);
  return (BattleLogicTask_array *)sub_B0D8BC(BattleLogicTask___TypeInfo, 0LL);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskLastActorBackStep(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v8; // x19
  __int64 v9; // x1
  __int64 v10; // x2
  BattleLogicTask_o *v11; // x20
  __int64 v12; // x0

  if ( (byte_4211863 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v6);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v7);
    byte_4211863 = 1;
  }
  v8 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 *(_QWORD *)&ltype,
                                                                                                 data);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v8,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v11 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v9, v10);
  BattleLogicTask___ctor(v11, 0LL);
  if ( !v11 || (BattleLogicTask__setBackStep(v11, 0LL), !v8) )
    sub_B0D97C(v12);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v8,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v11,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v8,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskPlayerAttackTerm(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  BattleLogic_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  struct BattleData_o *v7; // x8
  __int64 v8; // x1
  __int64 v9; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v10; // x19

  v4 = this;
  if ( (byte_4211875 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v5);
    this = (BattleLogic_o *)sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v6);
    byte_4211875 = 1;
  }
  v7 = v4->fields.data;
  if ( !v7
    || (this = (BattleLogic_o *)v7->fields.battleAtkManager) == 0LL
    || (BattleAttackManager__SetEndActionAttack((BattleAttackManager_o *)this, 1, 0LL),
        v10 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8, v9),
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
          v10,
          (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__),
        !v10) )
  {
    sub_B0D97C(this);
  }
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v10,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


BattleLogicTask_array *__fastcall BattleLogic__taskReaction(
        BattleLogic_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 ActorId; // x0
  BattleLogicTask_array *AIEnemyShiftAfterTask; // x21
  BattleData_o *v17; // x22
  __int64 v18; // x22
  BattleLogicTask_array *AITurnPlayerEndAfterTask; // x0
  BattleData_o *data; // x22
  __int64 v21; // x22
  BattleData_o *v23; // x22
  BattleServantData_o *v24; // x22
  BattleData_o *v25; // x22
  __int64 v26; // x22
  __int64 v27; // x1
  __int64 v28; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v29; // x21
  __int64 v30; // x1
  __int64 v31; // x2
  int v32; // w8
  __int64 v33; // x22
  unsigned int v34; // w27
  BattleServantData_o *v35; // x23
  BattleBuffData_o *buffData; // x24
  BattleBuffData_CheckIndividualitiesData_o *v37; // x25
  __int64 v38; // x1
  __int64 v39; // x2
  __int64 v40; // x8
  __int64 v41; // x24
  __int64 v42; // x28
  __int64 v43; // x26
  BattleSkillInfoData_o *v44; // x25
  __int64 v45; // x8
  __int64 v46; // x1
  __int64 v47; // x2
  __int64 v48; // x8
  BattleLogicTask_o *v49; // x26
  __int64 v50; // x1
  __int64 v51; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v52; // x0
  struct BattleSkillInfoData_o *skillInfo; // x8
  _BOOL4 flgCheckUseSKill; // w20
  BattleServantData_o *v55; // x22
  bool isAlive; // w0
  BattleLogicSkill_o *logicSkill; // x21
  BattleSkillInfoData_o *v58; // x23
  __int64 v59; // x0
  BattleLogic_o *v60; // [xsp+0h] [xbp-60h]
  __int64 v61; // [xsp+8h] [xbp-58h]

  if ( (byte_421185E & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask___TypeInfo, task);
    sub_B0D8A4(&BattleLogicTask_TypeInfo, v5);
    sub_B0D8A4(&BattleSkillInfoData_TypeInfo, v6);
    sub_B0D8A4(&BattleBuffData_CheckIndividualitiesData_TypeInfo, v7);
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction__ContainsKey__,
      v8);
    sub_B0D8A4(
      &Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction__get_Item__,
      v9);
    sub_B0D8A4(&int___TypeInfo, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v12);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v13);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v14);
    byte_421185E = 1;
  }
  ActorId = sub_B0D8BC(BattleLogicTask___TypeInfo, 0LL);
  if ( !task )
    goto LABEL_78;
  AIEnemyShiftAfterTask = (BattleLogicTask_array *)ActorId;
  if ( task->fields.status )
    return AIEnemyShiftAfterTask;
  task->fields.status = 1;
  if ( !BattleLogicTask__isDead(task, 0LL) )
  {
    if ( BattleLogicTask__isEnemyLogicDead(task, 0LL) )
    {
      data = this->fields.data;
      ActorId = BattleLogicTask__getActorId(task, 0LL);
      if ( !data )
        goto LABEL_78;
      ActorId = (__int64)BattleData__getServantData(data, ActorId, 0LL);
      if ( !ActorId )
        goto LABEL_78;
      v21 = ActorId;
      if ( !BattleServantData__isAlive((BattleServantData_o *)ActorId, 0, 0LL) )
      {
        ActorId = (__int64)this->fields.logicEnemyAi;
        if ( !ActorId )
          goto LABEL_78;
        AITurnPlayerEndAfterTask = BattleLogicEnemyAi__taskAIDead(
                                     (BattleLogicEnemyAi_o *)ActorId,
                                     *(_DWORD *)(v21 + 24),
                                     0LL);
        goto LABEL_17;
      }
      goto LABEL_18;
    }
    if ( BattleLogicTask__IsEnemyLogicShiftAfter(task, 0LL) )
    {
      v23 = this->fields.data;
      ActorId = BattleLogicTask__getActorId(task, 0LL);
      if ( !v23 )
        goto LABEL_78;
      ActorId = (__int64)BattleData__getServantData(v23, ActorId, 0LL);
      if ( !ActorId )
        goto LABEL_78;
      v24 = (BattleServantData_o *)ActorId;
      if ( BattleServantData__isAlive((BattleServantData_o *)ActorId, 0, 0LL)
        && v24->fields._IsBattleShift_k__BackingField )
      {
        ActorId = (__int64)this->fields.logicEnemyAi;
        if ( !ActorId )
          goto LABEL_78;
        AIEnemyShiftAfterTask = BattleLogicEnemyAi__CreateAIEnemyShiftAfterTask(
                                  (BattleLogicEnemyAi_o *)ActorId,
                                  v24->fields.uniqueId,
                                  0LL);
        BattleServantData__SetIsBattleShift(v24, 0, 0LL);
      }
      goto LABEL_18;
    }
    if ( BattleLogicTask__IsEnemyLogicPlayerTurnEndAfter(task, 0LL) )
    {
      v25 = this->fields.data;
      ActorId = BattleLogicTask__getActorId(task, 0LL);
      if ( !v25 )
        goto LABEL_78;
      ActorId = (__int64)BattleData__getServantData(v25, ActorId, 0LL);
      if ( !ActorId )
        goto LABEL_78;
      v26 = ActorId;
      if ( BattleServantData__isAlive((BattleServantData_o *)ActorId, 0, 0LL) )
      {
        ActorId = (__int64)this->fields.logicEnemyAi;
        if ( !ActorId )
          goto LABEL_78;
        AITurnPlayerEndAfterTask = BattleLogicEnemyAi__CreateAITurnPlayerEndAfterTask(
                                     (BattleLogicEnemyAi_o *)ActorId,
                                     *(_DWORD *)(v26 + 24),
                                     0LL);
        goto LABEL_17;
      }
      goto LABEL_18;
    }
    if ( BattleLogicTask__isCheckEntryFunction(task, 0LL) )
    {
      v29 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(System_Collections_Generic_List_BattleLogicTask__TypeInfo, v27, v28);
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
        v29,
        (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
      ActorId = (__int64)this->fields.data;
      if ( !ActorId )
        goto LABEL_78;
      v60 = this;
      ActorId = (__int64)BattleData__getFieldServantList((BattleData_o *)ActorId, 0, 0LL);
      if ( !ActorId )
        goto LABEL_78;
      v32 = *(_DWORD *)(ActorId + 24);
      v33 = ActorId;
      if ( v32 >= 1 )
      {
        v34 = 0;
        v61 = ActorId;
        do
        {
          if ( v34 >= v32 )
            goto LABEL_79;
          v35 = *(BattleServantData_o **)(v33 + 8LL * (int)v34 + 32);
          if ( !v35 )
            goto LABEL_78;
          if ( v35->fields.flgEntryFunction )
          {
            v35->fields.flgEntryFunction = 0;
            buffData = v35->fields.buffData;
            v37 = (BattleBuffData_CheckIndividualitiesData_o *)sub_B0D974(
                                                                 BattleBuffData_CheckIndividualitiesData_TypeInfo,
                                                                 v30,
                                                                 v31);
            BattleBuffData_CheckIndividualitiesData___ctor(v37, v35, 0LL, 0LL, 0LL, 0LL, 0LL);
            if ( !buffData )
              goto LABEL_78;
            ActorId = (__int64)BattleBuffData__getBuffList_30806472(buffData, 59, v37, 1, 0, 0LL, 0LL);
            if ( !ActorId )
              goto LABEL_78;
            v40 = *(_QWORD *)(ActorId + 24);
            v41 = ActorId;
            if ( v40 && (int)v40 >= 1 )
            {
              v42 = 0LL;
              while ( (unsigned int)v42 < (unsigned int)v40 )
              {
                v43 = *(_QWORD *)(v41 + 32 + 8 * v42);
                v44 = (BattleSkillInfoData_o *)sub_B0D974(BattleSkillInfoData_TypeInfo, v38, v39);
                BattleSkillInfoData___ctor(v44, 0LL);
                if ( !v44 )
                  goto LABEL_78;
                v44->fields.svtUniqueId = v35->fields.uniqueId;
                if ( !v43 )
                  goto LABEL_78;
                v45 = *(_QWORD *)(v43 + 40);
                if ( !v45 )
                  goto LABEL_78;
                if ( !*(_DWORD *)(v45 + 24) )
                  break;
                ActorId = ((__int64 (__fastcall *)(BattleSkillInfoData_o *, _QWORD, Il2CppMethodPointer))v44->klass->vtable._4_set_skillId.method)(
                            v44,
                            *(unsigned int *)(v45 + 32),
                            v44->klass->vtable._5_get_skillId.methodPtr);
                v48 = *(_QWORD *)(v43 + 40);
                if ( !v48 )
                  goto LABEL_78;
                if ( *(_DWORD *)(v48 + 24) <= 1u )
                  break;
                v44->fields.skilllv = *(_DWORD *)(v48 + 36);
                v49 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v46, v47);
                BattleLogicTask___ctor(v49, 0LL);
                if ( !v49 )
                  goto LABEL_78;
                BattleLogicTask__setReservationSkill(v49, v44, 1, 0LL);
                if ( !v29 )
                  goto LABEL_78;
                System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
                  v29,
                  (EventMissionProgressRequest_Argument_ProgressData_o *)v49,
                  (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
                LODWORD(v40) = *(_DWORD *)(v41 + 24);
                if ( (int)++v42 >= (int)v40 )
                  goto LABEL_60;
              }
LABEL_79:
              v59 = sub_B0D9A8(ActorId);
              sub_B0D948(v59, 0LL);
            }
LABEL_60:
            ActorId = (__int64)v35->fields.buffData;
            if ( !ActorId )
              goto LABEL_78;
            ActorId = (__int64)BattleBuffData__usedProgressing((BattleBuffData_o *)ActorId, 0LL);
            v33 = v61;
          }
          v32 = *(_DWORD *)(v33 + 24);
        }
        while ( (int)++v34 < v32 );
      }
      if ( !v29 )
        goto LABEL_78;
      AITurnPlayerEndAfterTask = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                                            (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v29,
                                                            (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
      this = v60;
      goto LABEL_17;
    }
    if ( !BattleLogicTask__isReservationSkill(task, 0LL) )
      goto LABEL_18;
    v52 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                    System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                    v50,
                                                                                                    v51);
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
      v52,
      (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
    skillInfo = task->fields.skillInfo;
    if ( !skillInfo )
      goto LABEL_78;
    ActorId = (__int64)this->fields.data;
    if ( !ActorId )
      goto LABEL_78;
    ActorId = (__int64)BattleData__getServantData((BattleData_o *)ActorId, skillInfo->fields.svtUniqueId, 0LL);
    if ( !ActorId )
      goto LABEL_78;
    flgCheckUseSKill = task->fields.flgCheckUseSKill;
    v55 = (BattleServantData_o *)ActorId;
    isAlive = BattleServantData__isAlive((BattleServantData_o *)ActorId, 0, 0LL);
    if ( flgCheckUseSKill )
    {
      if ( !isAlive )
      {
LABEL_77:
        AITurnPlayerEndAfterTask = BattleLogicTask__GetRelayTasksAfterSetIntervalBuff(task, AIEnemyShiftAfterTask, 0LL);
LABEL_17:
        AIEnemyShiftAfterTask = AITurnPlayerEndAfterTask;
        goto LABEL_18;
      }
      isAlive = BattleServantData__canUseSkill(v55, -1, 0LL);
    }
    if ( isAlive )
    {
      logicSkill = this->fields.logicSkill;
      v58 = task->fields.skillInfo;
      ActorId = sub_B0D8BC(int___TypeInfo, 1LL);
      if ( !ActorId )
        goto LABEL_78;
      if ( !*(_DWORD *)(ActorId + 24) )
        goto LABEL_79;
      *(_DWORD *)(ActorId + 32) = v55->fields.uniqueId;
      if ( !logicSkill )
        goto LABEL_78;
      AIEnemyShiftAfterTask = BattleLogicSkill__taskSkill(
                                logicSkill,
                                v58,
                                (System_Int32_array *)ActorId,
                                0LL,
                                0,
                                0,
                                0,
                                0LL);
    }
    goto LABEL_77;
  }
  v17 = this->fields.data;
  ActorId = BattleLogicTask__getActorId(task, 0LL);
  if ( !v17 )
    goto LABEL_78;
  ActorId = (__int64)BattleData__getServantData(v17, ActorId, 0LL);
  if ( !ActorId )
    goto LABEL_78;
  v18 = ActorId;
  if ( !BattleServantData__isAlive((BattleServantData_o *)ActorId, 0, 0LL) )
  {
    ActorId = (__int64)this->fields.logicReaction;
    if ( !ActorId )
      goto LABEL_78;
    AITurnPlayerEndAfterTask = BattleLogicReaction__createTaskDead(
                                 (BattleLogicReaction_o *)ActorId,
                                 *(_DWORD *)(v18 + 24),
                                 0LL);
    goto LABEL_17;
  }
LABEL_18:
  ActorId = (__int64)this->fields.reactionlist;
  if ( !ActorId )
    goto LABEL_78;
  if ( System_Collections_Generic_Dictionary_Voice_BATTLE__string___ContainsKey(
         (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)ActorId,
         task->fields.actiontype,
         (const MethodInfo_2EA6F34 *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction__ContainsKey__) )
  {
    ActorId = (__int64)this->fields.reactionlist;
    if ( ActorId )
    {
      ActorId = (__int64)System_Collections_Generic_Dictionary_Voice_BATTLE__string___get_Item(
                           (System_Collections_Generic_Dictionary_Voice_BATTLE__string__o *)ActorId,
                           task->fields.actiontype,
                           (const MethodInfo_2EA6BFC *)Method_System_Collections_Generic_Dictionary_BattleLogicTask_ACTIONTYPE__BattleLogic_reactionFunction__get_Item__);
      if ( ActorId )
        return BattleLogic_reactionFunction__Invoke((BattleLogic_reactionFunction_o *)ActorId, task, 0LL);
    }
LABEL_78:
    sub_B0D97C(ActorId);
  }
  return AIEnemyShiftAfterTask;
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskStartEnemyTurn(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v9; // x20
  __int64 v10; // x1
  __int64 v11; // x2
  BattleLogicTask_o *v12; // x21
  __int64 v13; // x0
  struct BattleData_o *v14; // x8

  if ( (byte_421186D & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8);
    byte_421186D = 1;
  }
  v9 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 *(_QWORD *)&ltype,
                                                                                                 data);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v9,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v12 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v10, v11);
  BattleLogicTask___ctor(v12, 0LL);
  if ( !v12
    || (BattleLogicTask__setStartTurnEnemy(v12, 0LL), !v9)
    || (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v9,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v12,
          (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__),
        (v14 = this->fields.data) == 0LL) )
  {
    sub_B0D97C(v13);
  }
  v14->fields.typeTurn = 2;
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v9,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskStartPlayerTurn(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v9; // x20
  __int64 v10; // x1
  __int64 v11; // x2
  BattleLogicTask_o *v12; // x21
  __int64 v13; // x0
  struct BattleData_o *v14; // x8

  if ( (byte_421186C & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8);
    byte_421186C = 1;
  }
  v9 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 *(_QWORD *)&ltype,
                                                                                                 data);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v9,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v12 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v10, v11);
  BattleLogicTask___ctor(v12, 0LL);
  if ( !v12
    || (BattleLogicTask__setStartTurnPlayer(v12, 0LL), !v9)
    || (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          v9,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v12,
          (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__),
        (v14 = this->fields.data) == 0LL) )
  {
    sub_B0D97C(v13);
  }
  v14->fields.typeTurn = 1;
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v9,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic__taskStartTactical(
        BattleLogic_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v5; // x1
  __int64 v6; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v7; // x20
  __int64 v8; // x0
  struct BattleData_o *v9; // x8

  if ( (byte_4211870 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, *(_QWORD *)&ltype);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v5);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v6);
    byte_4211870 = 1;
  }
  v7 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 *(_QWORD *)&ltype,
                                                                                                 data);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v7,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  v9 = this->fields.data;
  if ( !v9 || (v9->fields.typeTurn = 1, !v7) )
    sub_B0D97C(v8);
  return (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                    (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v7,
                                    (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
}


void __fastcall BattleLogic__turnProgressing(BattleLogic_o *this, System_String_o *endproc, const MethodInfo *method)
{
  BattleData_o *data; // x0
  struct BattleAttackManager_o *battleAtkManager; // x8
  const MethodInfo *v7; // x1
  System_String_o *v8; // x1

  if ( (byte_421186B & 1) == 0 )
  {
    sub_B0D8A4(&StringLiteral_2639/*"BREAK_ON_BATTLE"*/, endproc);
    byte_421186B = 1;
  }
  data = this->fields.data;
  if ( !data )
    goto LABEL_16;
  battleAtkManager = data->fields.battleAtkManager;
  if ( !battleAtkManager )
    goto LABEL_16;
  if ( battleAtkManager->fields._IsTurnEnd_k__BackingField )
    BattleData__turnProgressing(data, 0LL);
  data = (BattleData_o *)this->fields.perf;
  if ( !data )
    goto LABEL_16;
  BattlePerformance__updateStatus((BattlePerformance_o *)data, 0LL);
  BattleLogic__updateEnemyTargetLogic(this, v7);
  data = this->fields.data;
  if ( !data )
    goto LABEL_16;
  if ( !data->fields.endbattleFlg || !BattleData__isBreakOnBattleWin(data, 0LL) )
  {
    data = (BattleData_o *)this->fields.fsm;
    if ( data )
    {
      v8 = endproc;
      goto LABEL_15;
    }
LABEL_16:
    sub_B0D97C(data);
  }
  data = (BattleData_o *)this->fields.fsm;
  if ( !data )
    goto LABEL_16;
  v8 = (System_String_o *)StringLiteral_2639/*"BREAK_ON_BATTLE"*/;
LABEL_15:
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)data, v8, 0LL);
}


void __fastcall BattleLogic__updateConditionsBuffAll(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  BattleLogic___c__DisplayClass283_0_o *v8; // x20
  BattleData_o *data; // x0
  BattleData_o *v10; // x21
  System_Int32_array *QuestIndividualities; // x0
  __int64 v12; // x1
  __int64 v13; // x2
  int rootfsm; // w8
  unsigned int v15; // w23
  struct BattleData_o *v16; // x8
  System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *aiNpcDataList; // x19
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *v18; // x21
  __int64 v19; // x0

  if ( (byte_42118B7 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Action_AiNpcBattleServantData___ctor__, method);
    sub_B0D8A4(&System_Action_AiNpcBattleServantData__TypeInfo, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_AiNpcBattleServantData__ForEach__, v5);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass283_0__updateConditionsBuffAll_b__0__, v6);
    sub_B0D8A4(&BattleLogic___c__DisplayClass283_0_TypeInfo, v7);
    byte_42118B7 = 1;
  }
  v8 = (BattleLogic___c__DisplayClass283_0_o *)sub_B0D974(BattleLogic___c__DisplayClass283_0_TypeInfo, method, v2);
  BattleLogic___c__DisplayClass283_0___ctor(v8, 0LL);
  if ( !v8 )
    goto LABEL_15;
  v8->fields.__4__this = this;
  sub_B0D840(&v8->fields.__4__this, this);
  data = this->fields.data;
  if ( !data )
    goto LABEL_15;
  data = (BattleData_o *)BattleData__getFieldServantList(data, 0, 0LL);
  if ( !this->fields.data )
    goto LABEL_15;
  v10 = data;
  QuestIndividualities = BattleData__getQuestIndividualities(this->fields.data, 0LL);
  v8->fields.fieldIndivi = QuestIndividualities;
  sub_B0D840(&v8->fields, QuestIndividualities);
  if ( !v10 )
    goto LABEL_15;
  rootfsm = (int)v10->fields.rootfsm;
  if ( rootfsm >= 1 )
  {
    v15 = 0;
    while ( 1 )
    {
      if ( v15 >= rootfsm )
      {
        v19 = sub_B0D9A8(data);
        sub_B0D948(v19, 0LL);
      }
      data = (BattleData_o *)*((_QWORD *)&v10->fields.fsm + (int)v15);
      if ( !data )
        break;
      BattleServantData__updateConditionsBuff(
        (BattleServantData_o *)data,
        v8->fields.fieldIndivi,
        this->fields.perf,
        0LL);
      rootfsm = (int)v10->fields.rootfsm;
      if ( (int)++v15 >= rootfsm )
        goto LABEL_12;
    }
LABEL_15:
    sub_B0D97C(data);
  }
LABEL_12:
  v16 = this->fields.data;
  if ( !v16 )
    goto LABEL_15;
  aiNpcDataList = (System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *)v16->fields.aiNpcDataList;
  v18 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)sub_B0D974(
                                                                               System_Action_AiNpcBattleServantData__TypeInfo,
                                                                               v12,
                                                                               v13);
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData____ctor(
    v18,
    (Il2CppObject *)v8,
    Method_BattleLogic___c__DisplayClass283_0__updateConditionsBuffAll_b__0__,
    (const MethodInfo_246EA3C *)Method_System_Action_AiNpcBattleServantData___ctor__);
  if ( !aiNpcDataList )
    goto LABEL_15;
  System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex___ForEach(
    aiNpcDataList,
    (System_Action_T__o *)v18,
    (const MethodInfo_2FC6400 *)Method_System_Collections_Generic_List_AiNpcBattleServantData__ForEach__);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__updateEnemyTarget(BattleLogic_o *this, bool isTargetChange, const MethodInfo *method)
{
  const MethodInfo *v5; // x1
  BattlePerformance_o *perf; // x0

  BattleLogic__updateEnemyTargetLogic(this, (const MethodInfo *)isTargetChange);
  if ( isTargetChange )
    BattleLogic__updateGlobalTarget(this, v5);
  perf = this->fields.perf;
  if ( !perf )
    sub_B0D97C(0LL);
  BattlePerformance__reViewTargetMarks(perf, 0LL);
}


void __fastcall BattleLogic__updateEnemyTargetLogic(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogicTarget_o *logictarget; // x0

  logictarget = this->fields.logictarget;
  if ( !logictarget )
    sub_B0D97C(0LL);
  BattleLogicTarget__updateEnemyTarget(logictarget, 0LL, 0LL);
}


void __fastcall BattleLogic__updateFieldBuff(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  BattleLogic___c__DisplayClass324_0_o *v15; // x20
  BattleData_o *data; // x0
  __int64 v17; // x1
  __int64 v18; // x2
  System_Collections_Generic_List_int__o *v19; // x22
  __int64 v20; // x1
  __int64 v21; // x2
  FieldAliveServantData_o *v22; // x24
  FieldAliveServantData_o **p_aliveSvtData; // x21
  int rootfsm; // w8
  BattleData_o *v25; // x23
  unsigned int v26; // w25
  BattleData_c **v27; // x8
  BattleServantData_o *v28; // x24
  System_Int32_array *v29; // x0
  __int64 v30; // x1
  __int64 v31; // x2
  int v32; // w8
  BattleData_o *v33; // x23
  unsigned int v34; // w24
  struct BattleData_o *v35; // x8
  System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *aiNpcDataList; // x21
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *v37; // x22
  const MethodInfo *v38; // x1
  const MethodInfo *v39; // x1
  int v40; // w8
  BattleData_o *v41; // x20
  unsigned int v42; // w21
  __int64 v43; // x0

  if ( (byte_42118D1 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Action_AiNpcBattleServantData___ctor__, method);
    sub_B0D8A4(&System_Action_AiNpcBattleServantData__TypeInfo, v4);
    sub_B0D8A4(&FieldAliveServantData_TypeInfo, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Add__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_AiNpcBattleServantData__ForEach__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__ToArray__, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int___ctor__, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData__get_Count__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData__get_Item__, v11);
    sub_B0D8A4(&System_Collections_Generic_List_int__TypeInfo, v12);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass324_0__updateFieldBuff_b__0__, v13);
    sub_B0D8A4(&BattleLogic___c__DisplayClass324_0_TypeInfo, v14);
    byte_42118D1 = 1;
  }
  v15 = (BattleLogic___c__DisplayClass324_0_o *)sub_B0D974(BattleLogic___c__DisplayClass324_0_TypeInfo, method, v2);
  BattleLogic___c__DisplayClass324_0___ctor(v15, 0LL);
  if ( !v15 )
    goto LABEL_44;
  v15->fields.__4__this = this;
  sub_B0D840(&v15->fields.__4__this, this);
  v19 = (System_Collections_Generic_List_int__o *)sub_B0D974(System_Collections_Generic_List_int__TypeInfo, v17, v18);
  System_Collections_Generic_List_int____ctor(
    v19,
    (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
  v22 = (FieldAliveServantData_o *)sub_B0D974(FieldAliveServantData_TypeInfo, v20, v21);
  FieldAliveServantData___ctor(v22, 0LL);
  p_aliveSvtData = &v15->fields.aliveSvtData;
  v15->fields.aliveSvtData = v22;
  sub_B0D840(&v15->fields.aliveSvtData, v22);
  data = this->fields.data;
  if ( !data )
    goto LABEL_44;
  data = (BattleData_o *)BattleData__getFieldServantList(data, 0, 0LL);
  if ( !data )
    goto LABEL_44;
  rootfsm = (int)data->fields.rootfsm;
  v25 = data;
  if ( rootfsm >= 1 )
  {
    v26 = 0;
    while ( v26 < rootfsm )
    {
      v27 = &v25->klass + (int)v26;
      v28 = (BattleServantData_o *)v27[4];
      if ( !v28 )
        goto LABEL_44;
      data = (BattleData_o *)BattleServantData__isAlive((BattleServantData_o *)v27[4], 0, 0LL);
      if ( ((unsigned __int8)data & 1) != 0
        || (data = (BattleData_o *)BattleServantData__isGuts(v28, 0LL), ((unsigned __int8)data & 1) != 0) )
      {
        if ( !v19 )
          goto LABEL_44;
        System_Collections_Generic_List_int___Add(
          v19,
          v28->fields.uniqueId,
          (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
        data = (BattleData_o *)*p_aliveSvtData;
        if ( !*p_aliveSvtData )
          goto LABEL_44;
        FieldAliveServantData__addSvtData((FieldAliveServantData_o *)data, v28->fields.isEnemy, v28, 0LL);
      }
      rootfsm = (int)v25->fields.rootfsm;
      if ( (int)++v26 >= rootfsm )
        goto LABEL_16;
    }
LABEL_45:
    v43 = sub_B0D9A8(data);
    sub_B0D948(v43, 0LL);
  }
LABEL_16:
  if ( !v19
    || (v29 = System_Collections_Generic_List_int___ToArray(
                v19,
                (const MethodInfo_2FB200C *)Method_System_Collections_Generic_List_int__ToArray__),
        v15->fields.fieldSvtIds = v29,
        sub_B0D840(&v15->fields, v29),
        (data = this->fields.data) == 0LL)
    || (data = (BattleData_o *)BattleData__getServantList(data, 0LL)) == 0LL )
  {
LABEL_44:
    sub_B0D97C(data);
  }
  v32 = (int)data->fields.rootfsm;
  v33 = data;
  if ( v32 >= 1 )
  {
    v34 = 0;
    do
    {
      if ( v32 <= v34 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41496008(0LL);
      data = *(BattleData_o **)(*(_QWORD *)&v33->fields.m_CachedPtr + 8LL * (int)v34 + 32);
      if ( !data )
        goto LABEL_44;
      if ( BattleServantData__isAlive((BattleServantData_o *)data, 0, 0LL) )
        goto LABEL_29;
      if ( LODWORD(v33->fields.rootfsm) <= v34 )
        System_ThrowHelper__ThrowArgumentOutOfRangeException_41496008(0LL);
      data = *(BattleData_o **)(*(_QWORD *)&v33->fields.m_CachedPtr + 8LL * (int)v34 + 32);
      if ( !data )
        goto LABEL_44;
      data = (BattleData_o *)BattleServantData__isGuts((BattleServantData_o *)data, 0LL);
      if ( ((unsigned __int8)data & 1) != 0 )
      {
LABEL_29:
        if ( LODWORD(v33->fields.rootfsm) <= v34 )
          System_ThrowHelper__ThrowArgumentOutOfRangeException_41496008(0LL);
        data = *(BattleData_o **)(*(_QWORD *)&v33->fields.m_CachedPtr + 8LL * (int)v34 + 32);
        if ( !data )
          goto LABEL_44;
        BattleServantData__checkFieldBuff(
          (BattleServantData_o *)data,
          v15->fields.fieldSvtIds,
          *p_aliveSvtData,
          this,
          0LL);
      }
      v32 = (int)v33->fields.rootfsm;
    }
    while ( (int)++v34 < v32 );
  }
  v35 = this->fields.data;
  if ( !v35 )
    goto LABEL_44;
  aiNpcDataList = (System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex__o *)v35->fields.aiNpcDataList;
  v37 = (System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData__o *)sub_B0D974(
                                                                               System_Action_AiNpcBattleServantData__TypeInfo,
                                                                               v30,
                                                                               v31);
  System_Action_DrawLotsDisplayMessage_DisplayedInGroup_SaveData____ctor(
    v37,
    (Il2CppObject *)v15,
    Method_BattleLogic___c__DisplayClass324_0__updateFieldBuff_b__0__,
    (const MethodInfo_246EA3C *)Method_System_Action_AiNpcBattleServantData___ctor__);
  if ( !aiNpcDataList )
    goto LABEL_44;
  System_Collections_Generic_List_USFGOSetAudioGroupIndexConditional_WeightIndex___ForEach(
    aiNpcDataList,
    (System_Action_T__o *)v37,
    (const MethodInfo_2FC6400 *)Method_System_Collections_Generic_List_AiNpcBattleServantData__ForEach__);
  BattleLogic__updateConditionsBuffAll(this, v38);
  data = this->fields.data;
  if ( !data )
    goto LABEL_44;
  data = (BattleData_o *)BattleData__getFieldServantList(data, 0, 0LL);
  if ( !data )
    goto LABEL_44;
  v40 = (int)data->fields.rootfsm;
  v41 = data;
  if ( v40 >= 1 )
  {
    v42 = 0;
    while ( v42 < v40 )
    {
      data = (BattleData_o *)*((_QWORD *)&v41->fields.fsm + (int)v42);
      if ( !data )
        goto LABEL_44;
      BattleServantData__updateBuff((BattleServantData_o *)data, 1, 1, 0LL);
      v40 = (int)v41->fields.rootfsm;
      if ( (int)++v42 >= v40 )
        goto LABEL_43;
    }
    goto LABEL_45;
  }
LABEL_43:
  BattleLogic__updateEnemyTargetLogic(this, v39);
}


void __fastcall BattleLogic__updateGlobalTarget(BattleLogic_o *this, const MethodInfo *method)
{
  BattleLogicTarget_o *data; // x0

  data = (BattleLogicTarget_o *)this->fields.data;
  if ( !data )
    goto LABEL_6;
  if ( BattleData__isTargetLock((BattleData_o *)data, 0LL) )
  {
    data = this->fields.logictarget;
    if ( data )
    {
      BattleLogicTarget__updateGlobalTarget(data, 0LL);
      return;
    }
LABEL_6:
    sub_B0D97C(data);
  }
}


void __fastcall BattleLogic__updateResultServant(BattleLogic_o *this, const MethodInfo *method)
{
  void *data; // x0
  int v3; // w8
  void *v4; // x19
  unsigned int v5; // w20
  __int64 v6; // x0

  data = this->fields.data;
  if ( !data )
    goto LABEL_10;
  data = BattleData__getFieldServantList((BattleData_o *)data, 0, 0LL);
  if ( !data )
    goto LABEL_10;
  v3 = *((_DWORD *)data + 6);
  v4 = data;
  if ( v3 >= 1 )
  {
    v5 = 0;
    while ( 1 )
    {
      if ( v5 >= v3 )
      {
        v6 = sub_B0D9A8(data);
        sub_B0D948(v6, 0LL);
      }
      data = (void *)*((_QWORD *)v4 + (int)v5 + 4);
      if ( !data )
        break;
      BattleServantData__updateResultState((BattleServantData_o *)data, 0LL);
      v3 = *((_DWORD *)v4 + 6);
      if ( (int)++v5 >= v3 )
        return;
    }
LABEL_10:
    sub_B0D97C(data);
  }
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic__useCommandSpell(
        BattleLogic_o *this,
        int32_t commandSkillId,
        int32_t ptTargetId,
        const MethodInfo *method)
{
  __int64 v7; // x1
  BattleLogic_CommandSpellData_o *v8; // x22
  PlayMakerFSM_o *fsm; // x0

  if ( (byte_421189F & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_CommandSpellData_TypeInfo, *(_QWORD *)&commandSkillId);
    sub_B0D8A4(&StringLiteral_11649/*"SELECT_COMMANDSPELL"*/, v7);
    byte_421189F = 1;
  }
  v8 = (BattleLogic_CommandSpellData_o *)sub_B0D974(
                                           BattleLogic_CommandSpellData_TypeInfo,
                                           *(_QWORD *)&commandSkillId,
                                           *(_QWORD *)&ptTargetId);
  BattleLogic_CommandSpellData___ctor(v8, commandSkillId, ptTargetId, 0LL);
  this->fields.tmp_usecommandspell = v8;
  sub_B0D840(&this->fields.tmp_usecommandspell, v8);
  fsm = this->fields.fsm;
  if ( !fsm )
    sub_B0D97C(0LL);
  PlayMakerFSM__SendEvent(fsm, (System_String_o *)StringLiteral_11649/*"SELECT_COMMANDSPELL"*/, 0LL);
}


void __fastcall BattleLogic__useSkill(BattleLogic_o *this, const MethodInfo *method)
{
  __int64 v2; // x2
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v9; // x20
  BattleData_o *data; // x0
  struct BattleLogic_UseSkillObject_o *act_useSkill; // x8
  BattleSkillInfoData_o *skillInfo; // x21
  BattleServantData_o *PlayerServantData; // x0
  struct BattleData_o *v14; // x8
  struct BattlePerformance_o **p_perf; // x22
  struct BattleData_o *v16; // x8
  struct PlayMakerFSM_o *fsm; // x8
  const MethodInfo *v18; // x2
  const MethodInfo *v19; // x1
  struct BattlePerformance_o *perf; // x8
  struct BattleLogic_UseSkillObject_o *v21; // x8
  __int64 v22; // x1
  __int64 v23; // x2
  BattleLogicTask_o *v24; // x21
  BattleLogicTask_array *v25; // x1
  const MethodInfo *v26; // x2

  if ( (byte_421189A & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8);
    byte_421189A = 1;
  }
  v9 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                 System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                 method,
                                                                                                 v2);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
    v9,
    (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
  act_useSkill = this->fields.act_useSkill;
  if ( !act_useSkill )
    goto LABEL_27;
  skillInfo = act_useSkill->fields.skillInfo;
  if ( !skillInfo )
    goto LABEL_27;
  data = this->fields.data;
  if ( !data )
    goto LABEL_27;
  PlayerServantData = BattleData__getPlayerServantData(data, skillInfo->fields.svtUniqueId, 0LL);
  if ( PlayerServantData )
  {
    BattleServantData__useSkill(PlayerServantData, skillInfo, 0LL);
    v14 = this->fields.data;
    if ( !v14 )
      goto LABEL_27;
    p_perf = &this->fields.perf;
    ++v14->fields.playerSkillCount;
  }
  else
  {
    data = this->fields.data;
    if ( !data )
      goto LABEL_27;
    BattleData__useMasterSkill(data, skillInfo, 0LL);
    v16 = this->fields.data;
    if ( !v16 )
      goto LABEL_27;
    ++v16->fields.playerMasterSkillCount;
    p_perf = &this->fields.perf;
    data = (BattleData_o *)this->fields.perf;
    if ( !data )
      goto LABEL_27;
    fsm = data->fields.fsm;
    if ( !fsm )
      goto LABEL_27;
    if ( LOBYTE(fsm[17].fields.fsmTemplate) )
      BattlePerformance__playMasterCutIn((BattlePerformance_o *)data, 0LL);
  }
  data = (BattleData_o *)*p_perf;
  if ( !*p_perf )
    goto LABEL_27;
  BattlePerformance__playActionSkill((BattlePerformance_o *)data, 0LL);
  data = this->fields.data;
  if ( !data )
    goto LABEL_27;
  if ( BattleData__ExistsFieldEnemyIntervalBuff(data, 38, 0LL) )
  {
    data = this->fields.data;
    if ( !data )
      goto LABEL_27;
    BattleData__ResetFieldEnemyUseBuff(data, 38, 0, 0LL);
    BattleLogic__updateEnemyTargetLogic(this, v19);
  }
  BattleLogic__SetTimeAccelerationCheckDelayReset(this, 0, v18);
  perf = this->fields.perf;
  if ( !perf )
    goto LABEL_27;
  perf->fields.isTargetChange = 0;
  v21 = this->fields.act_useSkill;
  if ( !v21
    || (data = (BattleData_o *)this->fields.logicSkill) == 0LL
    || (data = (BattleData_o *)BattleLogicSkill__taskSkill(
                                 (BattleLogicSkill_o *)data,
                                 skillInfo,
                                 v21->fields.ptTarget,
                                 0LL,
                                 0,
                                 0,
                                 1,
                                 0LL),
        !v9)
    || (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
          (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v9,
          (System_Collections_Generic_IEnumerable_T__o *)data,
          (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__),
        (data = this->fields.data) == 0LL)
    || (BattleData__SetLastUsedPlayerSkillInfo(data, skillInfo, 0LL),
        v24 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v22, v23),
        BattleLogicTask___ctor(v24, 0LL),
        !v24) )
  {
LABEL_27:
    sub_B0D97C(data);
  }
  BattleLogicTask__setCheckEntryFunction(v24, 0LL);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    v9,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v24,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
  v25 = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                   (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v9,
                                   (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
  BattleLogic__actOneBattleTask(this, v25, v26);
}


// local variable allocation has failed, the output may be wrong!
System_Collections_IEnumerator_o *__fastcall BattleLogic__waitWaveStep(
        BattleLogic_o *this,
        BattleLogicTask_array *taskList,
        int32_t progress,
        const MethodInfo *method)
{
  BattleLogic__waitWaveStep_d__210_o *v7; // x22
  __int64 v8; // x0

  if ( (byte_4211888 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic__waitWaveStep_d__210_TypeInfo, taskList);
    byte_4211888 = 1;
  }
  v7 = (BattleLogic__waitWaveStep_d__210_o *)sub_B0D974(
                                               BattleLogic__waitWaveStep_d__210_TypeInfo,
                                               taskList,
                                               *(_QWORD *)&progress);
  BattleLogic__waitWaveStep_d__210___ctor(v7, 0, 0LL);
  if ( !v7 )
    sub_B0D97C(v8);
  v7->fields.__4__this = this;
  sub_B0D840(&v7->fields.__4__this, this);
  v7->fields.taskList = taskList;
  sub_B0D840(&v7->fields.taskList, taskList);
  v7->fields.progress = progress;
  return (System_Collections_IEnumerator_o *)v7;
}


void __fastcall BattleLogic__wantUseSkill(
        BattleLogic_o *this,
        BattleSkillInfoData_o *skillInfo,
        int32_t pttarget,
        int32_t subtarget,
        const MethodInfo *method)
{
  __int64 v9; // x1
  __int64 v10; // x1
  CommonUI_o *Instance; // x0
  __int64 v12; // x1
  __int64 v13; // x2
  BattleLogic_UseSkillObject_o *v14; // x0
  struct BattleLogic_UseSkillObject_o *v15; // x23

  if ( (byte_4211898 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, skillInfo);
    sub_B0D8A4(&BattleLogic_UseSkillObject_TypeInfo, v9);
    sub_B0D8A4(&StringLiteral_11671/*"SELECT_SKILL"*/, v10);
    byte_4211898 = 1;
  }
  Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  if ( !Instance )
    goto LABEL_9;
  CommonUI__CloseTutorialArrowMark(Instance, 0LL, 0LL);
  v14 = (BattleLogic_UseSkillObject_o *)sub_B0D974(BattleLogic_UseSkillObject_TypeInfo, v12, v13);
  v15 = v14;
  if ( subtarget == -1 )
    BattleLogic_UseSkillObject___ctor_22820564(v14, skillInfo, pttarget, 0LL);
  else
    BattleLogic_UseSkillObject___ctor_22820740(v14, skillInfo, pttarget, subtarget, 0LL);
  this->fields.tmp_useSkill = v15;
  sub_B0D840(&this->fields.tmp_useSkill, v15);
  Instance = (CommonUI_o *)this->fields.fsm;
  if ( !Instance )
LABEL_9:
    sub_B0D97C(Instance);
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)Instance, (System_String_o *)StringLiteral_11671/*"SELECT_SKILL"*/, 0LL);
}


void __fastcall BattleLogic_CommandSpellData___ctor(
        BattleLogic_CommandSpellData_o *this,
        int32_t id,
        int32_t tg,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.commandSkillId = id;
  this->fields.ptTargetId = tg;
}


void __fastcall BattleLogic_DamageProcessArgs___ctor(
        BattleLogic_DamageProcessArgs_o *this,
        bool isNormalAttack,
        int32_t fixedDamageValue,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields._IsNormalAttack_k__BackingField = isNormalAttack;
  this->fields._FixedDamageValue_k__BackingField = fixedDamageValue;
}


void __fastcall BattleLogic_DamageProcessArgs__OverwriteFixedDamage(
        BattleLogic_DamageProcessArgs_o *this,
        int32_t overwriteValue,
        const MethodInfo *method)
{
  this->fields._FixedDamageValue_k__BackingField = overwriteValue;
}


int32_t __fastcall BattleLogic_DamageProcessArgs__get_FixedDamageValue(
        BattleLogic_DamageProcessArgs_o *this,
        const MethodInfo *method)
{
  return this->fields._FixedDamageValue_k__BackingField;
}


bool __fastcall BattleLogic_DamageProcessArgs__get_IsNormalAttack(
        BattleLogic_DamageProcessArgs_o *this,
        const MethodInfo *method)
{
  return this->fields._IsNormalAttack_k__BackingField;
}


void __fastcall BattleLogic_DamageProcessArgs__set_FixedDamageValue(
        BattleLogic_DamageProcessArgs_o *this,
        int32_t value,
        const MethodInfo *method)
{
  this->fields._FixedDamageValue_k__BackingField = value;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic_TutorialStringData___ctor(
        BattleLogic_TutorialStringData_o *this,
        float way,
        UnityEngine_Vector2_o pos,
        int32_t size,
        const MethodInfo *method)
{
  float y; // s8
  float x; // s9

  y = pos.fields.y;
  x = pos.fields.x;
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.way = way;
  this->fields.pos.fields.x = x;
  this->fields.pos.fields.y = y;
  this->fields.size = size;
}


void __fastcall BattleLogic_UseSkillObject___ctor(
        BattleLogic_UseSkillObject_o *this,
        BattleSkillInfoData_o *skillInfo,
        const MethodInfo *method)
{
  BattleLogic_UseSkillObject_Fields *p_fields; // x19
  System_String_array **v6; // x2
  System_String_array **v7; // x3
  System_Boolean_array **v8; // x4
  System_Int32_array **v9; // x5
  System_Int32_array *v10; // x6
  System_Int32_array *v11; // x7
  System_Int32_array **v12; // x0
  System_String_array **v13; // x2
  System_String_array **v14; // x3
  System_Boolean_array **v15; // x4
  System_Int32_array **v16; // x5
  System_Int32_array *v17; // x6
  System_Int32_array *v18; // x7
  __int64 v19; // x0
  struct System_Int32_array *ptTarget; // x8
  __int64 v21; // x0

  if ( (byte_421392A & 1) == 0 )
  {
    sub_B0D8A4(&int___TypeInfo, skillInfo);
    byte_421392A = 1;
  }
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.skillInfo = skillInfo;
  p_fields = &this->fields;
  sub_B0D840((BattleServantConfConponent_o *)p_fields, (System_Int32_array **)skillInfo, v6, v7, v8, v9, v10, v11);
  v12 = (System_Int32_array **)sub_B0D8BC(int___TypeInfo, 1LL);
  p_fields->ptTarget = (struct System_Int32_array *)v12;
  sub_B0D840((BattleServantConfConponent_o *)&p_fields->ptTarget, v12, v13, v14, v15, v16, v17, v18);
  ptTarget = p_fields->ptTarget;
  if ( !ptTarget )
    sub_B0D97C(v19);
  if ( !ptTarget->max_length )
  {
    v21 = sub_B0D9A8(v19);
    sub_B0D948(v21, 0LL);
  }
  ptTarget->m_Items[1] = -1;
}


void __fastcall BattleLogic_UseSkillObject___ctor_22820564(
        BattleLogic_UseSkillObject_o *this,
        BattleSkillInfoData_o *skillInfo,
        int32_t pttarget,
        const MethodInfo *method)
{
  BattleLogic_UseSkillObject_Fields *p_fields; // x20
  System_String_array **v8; // x2
  System_String_array **v9; // x3
  System_Boolean_array **v10; // x4
  System_Int32_array **v11; // x5
  System_Int32_array *v12; // x6
  System_Int32_array *v13; // x7
  System_Int32_array **v14; // x0
  System_String_array **v15; // x2
  System_String_array **v16; // x3
  System_Boolean_array **v17; // x4
  System_Int32_array **v18; // x5
  System_Int32_array *v19; // x6
  System_Int32_array *v20; // x7
  __int64 v21; // x0
  struct System_Int32_array *v22; // x8
  __int64 v23; // x0

  if ( (byte_421392B & 1) == 0 )
  {
    sub_B0D8A4(&int___TypeInfo, skillInfo);
    byte_421392B = 1;
  }
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.skillInfo = skillInfo;
  p_fields = &this->fields;
  sub_B0D840((BattleServantConfConponent_o *)p_fields, (System_Int32_array **)skillInfo, v8, v9, v10, v11, v12, v13);
  v14 = (System_Int32_array **)sub_B0D8BC(int___TypeInfo, 1LL);
  p_fields->ptTarget = (struct System_Int32_array *)v14;
  sub_B0D840((BattleServantConfConponent_o *)&p_fields->ptTarget, v14, v15, v16, v17, v18, v19, v20);
  v22 = p_fields->ptTarget;
  if ( !v22 )
    sub_B0D97C(v21);
  if ( !v22->max_length )
  {
    v23 = sub_B0D9A8(v21);
    sub_B0D948(v23, 0LL);
  }
  v22->m_Items[1] = pttarget;
}


void __fastcall BattleLogic_UseSkillObject___ctor_22820740(
        BattleLogic_UseSkillObject_o *this,
        BattleSkillInfoData_o *skillInfo,
        int32_t pttarget,
        int32_t subtarget,
        const MethodInfo *method)
{
  BattleLogic_UseSkillObject_Fields *p_fields; // x21
  System_String_array **v10; // x2
  System_String_array **v11; // x3
  System_Boolean_array **v12; // x4
  System_Int32_array **v13; // x5
  System_Int32_array *v14; // x6
  System_Int32_array *v15; // x7
  System_Int32_array **v16; // x0
  struct System_Int32_array **p_ptTarget; // x22
  System_String_array **v18; // x2
  System_String_array **v19; // x3
  System_Boolean_array **v20; // x4
  System_Int32_array **v21; // x5
  System_Int32_array *v22; // x6
  System_Int32_array *v23; // x7
  __int64 v24; // x0
  struct System_Int32_array *v25; // x8
  struct System_Int32_array *v26; // x8
  __int64 v27; // x0

  if ( (byte_421392C & 1) == 0 )
  {
    sub_B0D8A4(&int___TypeInfo, skillInfo);
    byte_421392C = 1;
  }
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.skillInfo = skillInfo;
  p_fields = &this->fields;
  sub_B0D840((BattleServantConfConponent_o *)p_fields, (System_Int32_array **)skillInfo, v10, v11, v12, v13, v14, v15);
  v16 = (System_Int32_array **)sub_B0D8BC(int___TypeInfo, 2LL);
  p_ptTarget = &p_fields->ptTarget;
  p_fields->ptTarget = (struct System_Int32_array *)v16;
  sub_B0D840((BattleServantConfConponent_o *)&p_fields->ptTarget, v16, v18, v19, v20, v21, v22, v23);
  v25 = p_fields->ptTarget;
  if ( !v25 )
    goto LABEL_8;
  if ( !v25->max_length )
    goto LABEL_9;
  v25->m_Items[1] = pttarget;
  v26 = *p_ptTarget;
  if ( !*p_ptTarget )
LABEL_8:
    sub_B0D97C(v24);
  if ( v26->max_length <= 1 )
  {
LABEL_9:
    v27 = sub_B0D9A8(v24);
    sub_B0D948(v27, 0LL);
  }
  v26->m_Items[2] = subtarget;
}


void __fastcall BattleLogic__CorCallServant_d__327___ctor(
        BattleLogic__CorCallServant_d__327_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__CorCallServant_d__327__MoveNext(
        BattleLogic__CorCallServant_d__327_o *this,
        const MethodInfo *method)
{
  BattleLogic__CorCallServant_d__327_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  int32_t _1__state; // w8
  struct BattleLogic_o *_4__this; // x20
  struct BattleActionData_o *actionData; // x8
  System_Int32_array **Component_srcLineSprite; // x0
  BattleLogic__CorCallServant_d__327_o **p_actor_5__2; // x21
  System_String_array **v21; // x2
  System_String_array **v22; // x3
  System_Boolean_array **v23; // x4
  System_Int32_array **v24; // x5
  System_Int32_array *v25; // x6
  System_Int32_array *v26; // x7
  BattleActionData_SummonServant_array *SummonServant; // x22
  __int64 v28; // x1
  __int64 v29; // x2
  System_Collections_Generic_List_BattleLogic_SummonInfo__o *v30; // x23
  System_String_array **v31; // x2
  System_String_array **v32; // x3
  System_Boolean_array **v33; // x4
  System_Int32_array **v34; // x5
  System_Int32_array *v35; // x6
  System_Int32_array *v36; // x7
  struct System_Collections_Generic_List_BattleLogic_SummonInfo__o *infoList_5__3; // x8
  __int64 *v38; // x8
  System_Int32_array **v39; // x0
  BattleServantConfConponent_o *p__2__current; // x19
  System_String_array **v41; // x2
  System_String_array **v42; // x3
  System_Boolean_array **v43; // x4
  System_Int32_array **v44; // x5
  System_Int32_array *v45; // x6
  System_Int32_array *v46; // x7
  bool result; // w0
  _BOOL8 v48; // x0
  BattlePerformance_o *perf; // x0
  Il2CppObject *current; // x21
  _BOOL8 EnemyActor; // x0
  struct BattlePerformance_o *v52; // x8
  struct UnityEngine_GameObject_array *e_actorlist; // x8
  UnityEngine_GameObject_o *v54; // x0
  BattleActorControl_o *v55; // x22
  UnityEngine_Component_o *actor_5__2; // x0
  System_String_o **v57; // x8
  System_String_o *v58; // x23
  BattlePerformance_o *v59; // x24
  UnityEngine_GameObject_o *gameObject; // x0
  __int64 v61; // x0
  System_Collections_Generic_List_Enumerator_T__o v62; // [xsp+8h] [xbp-88h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v63; // [xsp+20h] [xbp-70h] BYREF

  v2 = this;
  if ( (byte_4213917 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__Dispose__, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__MoveNext__, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__get_Current__, v4);
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_BattleActorControl___, v5);
    sub_B0D8A4(&int_TypeInfo, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogic_SummonInfo__GetEnumerator__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogic_SummonInfo___ctor__, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogic_SummonInfo__get_Count__, v9);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogic_SummonInfo__TypeInfo, v10);
    sub_B0D8A4(&ServantAssetLoadManager_TypeInfo, v11);
    sub_B0D8A4(&StringLiteral_2926/*"CALL_TRUE"*/, v12);
    sub_B0D8A4(&StringLiteral_8834/*"MOTION_SUMMON"*/, v13);
    sub_B0D8A4(&StringLiteral_8813/*"MOTION_CALL"*/, v14);
    this = (BattleLogic__CorCallServant_d__327_o *)sub_B0D8A4(&StringLiteral_2925/*"CALL_FALSE"*/, v15);
    byte_4213917 = 1;
  }
  memset(&v63, 0, sizeof(v63));
  _1__state = v2->fields.__1__state;
  _4__this = v2->fields.__4__this;
  if ( _1__state == 1 )
  {
    v2->fields.__1__state = -1;
    goto LABEL_15;
  }
  if ( !_1__state )
  {
    v2->fields.__1__state = -1;
    if ( !_4__this )
      goto LABEL_48;
    actionData = v2->fields.actionData;
    if ( !actionData )
      goto LABEL_48;
    this = (BattleLogic__CorCallServant_d__327_o *)_4__this->fields.perf;
    if ( !this )
      goto LABEL_48;
    this = (BattleLogic__CorCallServant_d__327_o *)BattlePerformance__getServantGameObject(
                                                     (BattlePerformance_o *)this,
                                                     actionData->fields.actorId,
                                                     0LL);
    if ( !this )
      goto LABEL_48;
    Component_srcLineSprite = (System_Int32_array **)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                                       (UnityEngine_GameObject_o *)this,
                                                       (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_BattleActorControl___);
    v2->fields._actor_5__2 = (struct BattleActorControl_o *)Component_srcLineSprite;
    p_actor_5__2 = (BattleLogic__CorCallServant_d__327_o **)&v2->fields._actor_5__2;
    sub_B0D840(
      (BattleServantConfConponent_o *)&v2->fields._actor_5__2,
      Component_srcLineSprite,
      v21,
      v22,
      v23,
      v24,
      v25,
      v26);
    this = (BattleLogic__CorCallServant_d__327_o *)v2->fields.actionData;
    if ( !this )
      goto LABEL_48;
    SummonServant = BattleActionData__getSummonServant((BattleActionData_o *)this, -1, 0LL);
    v30 = (System_Collections_Generic_List_BattleLogic_SummonInfo__o *)sub_B0D974(
                                                                         System_Collections_Generic_List_BattleLogic_SummonInfo__TypeInfo,
                                                                         v28,
                                                                         v29);
    System_Collections_Generic_List_BattleLogic_SummonInfo____ctor(
      v30,
      (const MethodInfo_2EE9C94 *)Method_System_Collections_Generic_List_BattleLogic_SummonInfo___ctor__);
    v2->fields._infoList_5__3 = v30;
    sub_B0D840(
      (BattleServantConfConponent_o *)&v2->fields._infoList_5__3,
      (System_Int32_array **)v30,
      v31,
      v32,
      v33,
      v34,
      v35,
      v36);
    BattleLogic__PreLoadSummonServant(_4__this, SummonServant, v2->fields._infoList_5__3, 0LL);
    infoList_5__3 = v2->fields._infoList_5__3;
    if ( !infoList_5__3 )
      goto LABEL_48;
    if ( infoList_5__3->fields._size < 1 )
    {
      this = *p_actor_5__2;
      if ( *p_actor_5__2 )
      {
        v38 = &StringLiteral_2925/*"CALL_FALSE"*/;
LABEL_37:
        BattleActorControl__sendEventFSM_31601264((BattleActorControl_o *)this, (System_String_o *)*v38, 0, 0LL);
        return 0;
      }
      goto LABEL_48;
    }
LABEL_15:
    if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
    }
    if ( ServantAssetLoadManager__checkLoad(0LL) )
    {
      LODWORD(v62.fields.list) = 0;
      v39 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v62);
      v2->fields.__2__current = (Il2CppObject *)v39;
      p__2__current = (BattleServantConfConponent_o *)&v2->fields.__2__current;
      sub_B0D840(p__2__current, v39, v41, v42, v43, v44, v45, v46);
      result = 1;
      *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
      return result;
    }
    this = (BattleLogic__CorCallServant_d__327_o *)v2->fields._infoList_5__3;
    if ( this )
    {
      System_Collections_Generic_List_BattleLogic_SummonInfo___GetEnumerator(
        &v62,
        (System_Collections_Generic_List_BattleLogic_SummonInfo__o *)this,
        (const MethodInfo_2EEB838 *)Method_System_Collections_Generic_List_BattleLogic_SummonInfo__GetEnumerator__);
      v63 = v62;
      while ( 1 )
      {
        v48 = System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo___MoveNext(
                &v63,
                (const MethodInfo_2294AAC *)Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__MoveNext__);
        if ( !v48 )
          break;
        if ( !_4__this )
          sub_B0D97C(v48);
        perf = _4__this->fields.perf;
        if ( !perf )
          sub_B0D97C(0LL);
        current = v63.fields.current;
        EnemyActor = BattlePerformance__loadEnemyActor(perf, (int32_t)v63.fields.current, 0LL);
        v52 = _4__this->fields.perf;
        if ( !v52 )
          sub_B0D97C(EnemyActor);
        e_actorlist = v52->fields.e_actorlist;
        if ( !e_actorlist )
          sub_B0D97C(EnemyActor);
        if ( (unsigned int)current >= e_actorlist->max_length )
        {
          v61 = sub_B0D9A8(EnemyActor);
          sub_B0D948(v61, 0LL);
        }
        v54 = e_actorlist->m_Items[(int)current];
        if ( !v54 )
          sub_B0D97C(0LL);
        v55 = (BattleActorControl_o *)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                        v54,
                                        (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_BattleActorControl___);
        actor_5__2 = (UnityEngine_Component_o *)v2->fields._actor_5__2;
        if ( ((unsigned __int64)current & 0xFF00000000LL) != 0 )
          v57 = (System_String_o **)&StringLiteral_8834/*"MOTION_SUMMON"*/;
        else
          v57 = (System_String_o **)&StringLiteral_8813/*"MOTION_CALL"*/;
        if ( !actor_5__2 )
          sub_B0D97C(0LL);
        v58 = *v57;
        v59 = _4__this->fields.perf;
        gameObject = UnityEngine_Component__get_gameObject(actor_5__2, 0LL);
        if ( !v59 )
          sub_B0D97C(gameObject);
        BattlePerformance__setCallMotion(v59, (int32_t)current, v55, gameObject, v58, 1, 0LL);
      }
      System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo___Dispose(
        &v63,
        (const MethodInfo_2294AA8 *)Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__Dispose__);
      this = (BattleLogic__CorCallServant_d__327_o *)v2->fields._actor_5__2;
      if ( this )
      {
        v38 = &StringLiteral_2926/*"CALL_TRUE"*/;
        goto LABEL_37;
      }
    }
LABEL_48:
    sub_B0D97C(this);
  }
  return 0;
}


Il2CppObject *__fastcall BattleLogic__CorCallServant_d__327__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__CorCallServant_d__327_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__CorCallServant_d__327__System_Collections_IEnumerator_Reset(
        BattleLogic__CorCallServant_d__327_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__CorCallServant_d__327_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__CorCallServant_d__327__System_Collections_IEnumerator_get_Current(
        BattleLogic__CorCallServant_d__327_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__CorCallServant_d__327__System_IDisposable_Dispose(
        BattleLogic__CorCallServant_d__327_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__CorFieldCallServant_d__330___ctor(
        BattleLogic__CorFieldCallServant_d__330_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__CorFieldCallServant_d__330__MoveNext(
        BattleLogic__CorFieldCallServant_d__330_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  int32_t _1__state; // w8
  struct BattleLogic_o *_4__this; // x20
  bool result; // w0
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *actionData; // x0
  BattleActionData_SummonServant_array *SummonServant; // x21
  __int64 v28; // x1
  __int64 v29; // x2
  System_Collections_Generic_List_BattleLogic_SummonInfo__o *v30; // x23
  System_Collections_Generic_List_BattleLogic_SummonInfo__o **p_summonInfoList_5__2; // x22
  System_String_array **v32; // x2
  System_String_array **v33; // x3
  System_Boolean_array **v34; // x4
  System_Int32_array **v35; // x5
  System_Int32_array *v36; // x6
  System_Int32_array *v37; // x7
  __int64 *v38; // x8
  __int64 v39; // x1
  System_String_array **v40; // x2
  System_String_array **v41; // x3
  System_Boolean_array **v42; // x4
  System_Int32_array **v43; // x5
  System_Int32_array *v44; // x6
  System_Int32_array *v45; // x7
  Il2CppObject **p__2__current; // x19
  int32_t *p_summonEndCount_5__4; // x22
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o **p_summonActorList_5__3; // x21
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v49; // x22
  System_String_array **v50; // x2
  System_String_array **v51; // x3
  System_Boolean_array **v52; // x4
  System_Int32_array **v53; // x5
  System_Int32_array *v54; // x6
  System_Int32_array *v55; // x7
  _BOOL8 v56; // x0
  BattlePerformance_o *perf; // x0
  Il2CppObject *current; // x22
  _BOOL8 EnemyActor; // x0
  struct BattlePerformance_o *v60; // x8
  struct UnityEngine_GameObject_array *e_actorlist; // x8
  UnityEngine_GameObject_o *v62; // x0
  BattleActorControl_o *Component_srcLineSprite; // x23
  BattlePerformance_o *v64; // x0
  System_String_o **v65; // x8
  int v66; // w20
  System_String_array **v67; // x2
  System_String_array **v68; // x3
  System_Boolean_array **v69; // x4
  System_Int32_array **v70; // x5
  System_Int32_array *v71; // x6
  System_Int32_array *v72; // x7
  Il2CppObject **v73; // x19
  __int64 v74; // x0
  System_Collections_Generic_List_Enumerator_T__o v75; // [xsp+0h] [xbp-B0h] BYREF
  int v76[2]; // [xsp+18h] [xbp-98h]
  int v77; // [xsp+20h] [xbp-90h]
  System_Collections_Generic_List_Enumerator_T__o v78; // [xsp+28h] [xbp-88h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v79; // [xsp+40h] [xbp-70h] BYREF

  if ( (byte_4213918 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleActorControl__Dispose__, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__Dispose__, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__MoveNext__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleActorControl__MoveNext__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleActorControl__get_Current__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__get_Current__, v7);
    sub_B0D8A4(&Method_UnityEngine_GameObject_GetComponent_BattleActorControl___, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleActorControl__Add__, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleActorControl__GetEnumerator__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogic_SummonInfo__GetEnumerator__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleActorControl___ctor__, v12);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogic_SummonInfo___ctor__, v13);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogic_SummonInfo__get_Count__, v14);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleActorControl__get_Count__, v15);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogic_SummonInfo__TypeInfo, v16);
    sub_B0D8A4(&System_Collections_Generic_List_BattleActorControl__TypeInfo, v17);
    sub_B0D8A4(&ServantAssetLoadManager_TypeInfo, v18);
    sub_B0D8A4(&StringLiteral_2926/*"CALL_TRUE"*/, v19);
    sub_B0D8A4(&StringLiteral_8834/*"MOTION_SUMMON"*/, v20);
    sub_B0D8A4(&StringLiteral_8813/*"MOTION_CALL"*/, v21);
    sub_B0D8A4(&StringLiteral_2925/*"CALL_FALSE"*/, v22);
    byte_4213918 = 1;
  }
  memset(&v79, 0, sizeof(v79));
  memset(&v78, 0, sizeof(v78));
  v77 = 0;
  _1__state = this->fields.__1__state;
  _4__this = this->fields.__4__this;
  if ( _1__state == 2 )
  {
    p_summonEndCount_5__4 = &this->fields._summonEndCount_5__4;
    p_summonActorList_5__3 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o **)&this->fields._summonActorList_5__3;
    this->fields.__1__state = -1;
  }
  else
  {
    if ( _1__state == 1 )
    {
      this->fields.__1__state = -1;
    }
    else
    {
      result = 0;
      if ( _1__state )
        return result;
      actionData = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this->fields.actionData;
      this->fields.__1__state = -1;
      if ( !actionData )
        goto LABEL_60;
      SummonServant = BattleActionData__getSummonServant((BattleActionData_o *)actionData, -1, 0LL);
      v30 = (System_Collections_Generic_List_BattleLogic_SummonInfo__o *)sub_B0D974(
                                                                           System_Collections_Generic_List_BattleLogic_SummonInfo__TypeInfo,
                                                                           v28,
                                                                           v29);
      System_Collections_Generic_List_BattleLogic_SummonInfo____ctor(
        v30,
        (const MethodInfo_2EE9C94 *)Method_System_Collections_Generic_List_BattleLogic_SummonInfo___ctor__);
      this->fields._summonInfoList_5__2 = v30;
      p_summonInfoList_5__2 = &this->fields._summonInfoList_5__2;
      sub_B0D840(
        (BattleServantConfConponent_o *)&this->fields._summonInfoList_5__2,
        (System_Int32_array **)v30,
        v32,
        v33,
        v34,
        v35,
        v36,
        v37);
      if ( !_4__this )
        goto LABEL_60;
      BattleLogic__PreLoadSummonServant(_4__this, SummonServant, *p_summonInfoList_5__2, 0LL);
      if ( !*p_summonInfoList_5__2 )
        goto LABEL_60;
      if ( (*p_summonInfoList_5__2)->fields._size <= 0 )
      {
        actionData = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)_4__this->fields.perf;
        if ( actionData )
        {
          v38 = &StringLiteral_2925/*"CALL_FALSE"*/;
LABEL_49:
          BattlePerformance__sendLocalEventFieldMotion((BattlePerformance_o *)actionData, (System_String_o *)*v38, 0LL);
          return 0;
        }
        goto LABEL_60;
      }
    }
    if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
    }
    if ( ServantAssetLoadManager__checkLoad(0LL) )
    {
      this->fields.__2__current = 0LL;
      p__2__current = &this->fields.__2__current;
      sub_B0D840((BattleServantConfConponent_o *)p__2__current, 0LL, v40, v41, v42, v43, v44, v45);
      result = 1;
      *((_DWORD *)p__2__current - 2) = 1;
      return result;
    }
    v49 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                    System_Collections_Generic_List_BattleActorControl__TypeInfo,
                                                                                                    v39,
                                                                                                    v40);
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
      v49,
      (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleActorControl___ctor__);
    this->fields._summonActorList_5__3 = (struct System_Collections_Generic_List_BattleActorControl__o *)v49;
    p_summonActorList_5__3 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o **)&this->fields._summonActorList_5__3;
    sub_B0D840(
      (BattleServantConfConponent_o *)&this->fields._summonActorList_5__3,
      (System_Int32_array **)v49,
      v50,
      v51,
      v52,
      v53,
      v54,
      v55);
    actionData = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this->fields._summonInfoList_5__2;
    if ( !actionData )
      goto LABEL_60;
    System_Collections_Generic_List_BattleLogic_SummonInfo___GetEnumerator(
      &v75,
      (System_Collections_Generic_List_BattleLogic_SummonInfo__o *)actionData,
      (const MethodInfo_2EEB838 *)Method_System_Collections_Generic_List_BattleLogic_SummonInfo__GetEnumerator__);
    v79 = v75;
    while ( 1 )
    {
      v56 = System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo___MoveNext(
              &v79,
              (const MethodInfo_2294AAC *)Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__MoveNext__);
      if ( !v56 )
        break;
      if ( !_4__this )
        sub_B0D97C(v56);
      perf = _4__this->fields.perf;
      if ( !perf )
        sub_B0D97C(0LL);
      current = v79.fields.current;
      EnemyActor = BattlePerformance__loadEnemyActor(perf, (int32_t)v79.fields.current, 0LL);
      v60 = _4__this->fields.perf;
      if ( !v60 )
        sub_B0D97C(EnemyActor);
      e_actorlist = v60->fields.e_actorlist;
      if ( !e_actorlist )
        sub_B0D97C(EnemyActor);
      if ( (unsigned int)current >= e_actorlist->max_length )
      {
        v74 = sub_B0D9A8(EnemyActor);
        sub_B0D948(v74, 0LL);
      }
      v62 = e_actorlist->m_Items[(int)current];
      if ( !v62 )
        sub_B0D97C(0LL);
      Component_srcLineSprite = (BattleActorControl_o *)UnityEngine_GameObject__GetComponent_srcLineSprite_(
                                                          v62,
                                                          (const MethodInfo_1B62BA8 *)Method_UnityEngine_GameObject_GetComponent_BattleActorControl___);
      v64 = _4__this->fields.perf;
      if ( !v64 )
        sub_B0D97C(0LL);
      if ( ((unsigned __int64)current & 0xFF00000000LL) != 0 )
        v65 = (System_String_o **)&StringLiteral_8834/*"MOTION_SUMMON"*/;
      else
        v65 = (System_String_o **)&StringLiteral_8813/*"MOTION_CALL"*/;
      BattlePerformance__setCallMotion(v64, (int32_t)current, Component_srcLineSprite, 0LL, *v65, 0, 0LL);
      if ( !*p_summonActorList_5__3 )
        sub_B0D97C(0LL);
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
        *p_summonActorList_5__3,
        (EventMissionProgressRequest_Argument_ProgressData_o *)Component_srcLineSprite,
        (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleActorControl__Add__);
    }
    v76[0] = 304;
    v77 = 1;
    System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo___Dispose(
      &v79,
      (const MethodInfo_2294AA8 *)Method_System_Collections_Generic_List_Enumerator_BattleLogic_SummonInfo__Dispose__);
    v77 = 0;
    this->fields._summonEndCount_5__4 = 0;
    p_summonEndCount_5__4 = &this->fields._summonEndCount_5__4;
  }
  actionData = *p_summonActorList_5__3;
  if ( !*p_summonActorList_5__3 )
    goto LABEL_60;
  if ( *p_summonEndCount_5__4 >= actionData->fields._size )
  {
    if ( _4__this )
    {
      actionData = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)_4__this->fields.perf;
      if ( actionData )
      {
        v38 = &StringLiteral_2926/*"CALL_TRUE"*/;
        goto LABEL_49;
      }
    }
LABEL_60:
    sub_B0D97C(actionData);
  }
  *p_summonEndCount_5__4 = 0;
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v78,
    (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)actionData,
    (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleActorControl__GetEnumerator__);
  while ( System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
            &v78,
            (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleActorControl__MoveNext__) )
  {
    if ( !v78.fields.current )
      sub_B0D97C(0LL);
    if ( BattleActorControl__isSummonEndFlag((BattleActorControl_o *)v78.fields.current, 0LL) )
      ++*p_summonEndCount_5__4;
  }
  v76[0] = 392;
  v66 = ++v77;
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    &v78,
    (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleActorControl__Dispose__);
  if ( v66 && v76[v66 - 1] == 392 )
    v77 = v66 - 1;
  this->fields.__2__current = 0LL;
  v73 = &this->fields.__2__current;
  sub_B0D840((BattleServantConfConponent_o *)v73, 0LL, v67, v68, v69, v70, v71, v72);
  *((_DWORD *)v73 - 2) = 2;
  return 1;
}


Il2CppObject *__fastcall BattleLogic__CorFieldCallServant_d__330__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__CorFieldCallServant_d__330_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__CorFieldCallServant_d__330__System_Collections_IEnumerator_Reset(
        BattleLogic__CorFieldCallServant_d__330_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__CorFieldCallServant_d__330_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__CorFieldCallServant_d__330__System_Collections_IEnumerator_get_Current(
        BattleLogic__CorFieldCallServant_d__330_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__CorFieldCallServant_d__330__System_IDisposable_Dispose(
        BattleLogic__CorFieldCallServant_d__330_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__CoroutineCheckAssistSkill_d__345___ctor(
        BattleLogic__CoroutineCheckAssistSkill_d__345_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__CoroutineCheckAssistSkill_d__345__MoveNext(
        BattleLogic__CoroutineCheckAssistSkill_d__345_o *this,
        const MethodInfo *method)
{
  BattleLogic__CoroutineCheckAssistSkill_d__345_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  int32_t _1__state; // w8
  struct BattleLogic_o *_4__this; // x20
  __int64 v20; // x1
  __int64 v21; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v22; // x22
  BattleLogic__CoroutineCheckAssistSkill_d__345_o **p_logicTaskList_5__2; // x21
  System_String_array **v24; // x2
  System_String_array **v25; // x3
  System_Boolean_array **v26; // x4
  System_Int32_array **v27; // x5
  System_Int32_array *v28; // x6
  System_Int32_array *v29; // x7
  System_String_array **v30; // x2
  System_String_array **v31; // x3
  System_Boolean_array **v32; // x4
  System_Int32_array **v33; // x5
  System_Int32_array *v34; // x6
  System_Int32_array *v35; // x7
  BattleLogic__CoroutineCheckAssistSkill_d__345_o *v36; // x22
  BattleLogic__CoroutineCheckAssistSkill_d__345_o *v37; // x24
  AssistMaster_o *MasterData_WarQuestSelectionMaster; // x23
  __int64 v39; // x1
  __int64 v40; // x2
  WeightRate_int__o *v41; // x25
  Il2CppObject *_2__current; // x8
  unsigned __int64 v43; // x26
  struct BattleLogic_o **p__4__this; // x27
  int32_t Next; // w0
  AssistEntity_o *CurrentLevelEntity; // x23
  __int64 v47; // x1
  __int64 v48; // x2
  __int64 v49; // x22
  __int64 v50; // x1
  __int64 v51; // x2
  BattleLogicTask_o *v52; // x23
  BattleLogic__CoroutineCheckAssistSkill_d__345_o *v53; // x24
  bool result; // w0
  System_String_array **v55; // x2
  System_String_array **v56; // x3
  System_Boolean_array **v57; // x4
  System_Int32_array **v58; // x5
  System_Int32_array *v59; // x6
  System_Int32_array *v60; // x7
  BattleServantConfConponent_o *p__2__current; // x19
  BattleLogicTask_array *v62; // x0
  System_Collections_IEnumerator_o *v63; // x0
  struct BattlePerformance_o *perf; // x8
  __int64 v65; // x0

  v2 = this;
  if ( (byte_4213919 & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, method);
    sub_B0D8A4(&BattleSkillInfoData_TypeInfo, v3);
    sub_B0D8A4(&Method_DataManager_GetMasterData_AssistMaster___, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__get_Count__, v8);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v9);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_DataManager__get_Instance__, v10);
    sub_B0D8A4(&Method_WeightRate_int___ctor__, v11);
    sub_B0D8A4(&Method_WeightRate_int__getCount__, v12);
    sub_B0D8A4(&Method_WeightRate_int__getData__, v13);
    sub_B0D8A4(&Method_WeightRate_int__getTotalWeight__, v14);
    sub_B0D8A4(&Method_WeightRate_int__setWeight__, v15);
    sub_B0D8A4(&WeightRate_int__TypeInfo, v16);
    this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v17);
    byte_4213919 = 1;
  }
  _1__state = v2->fields.__1__state;
  _4__this = v2->fields.__4__this;
  if ( _1__state != 1 )
  {
    if ( _1__state )
      return 0;
    v2->fields.__1__state = -1;
    if ( !_4__this )
      goto LABEL_52;
    this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)_4__this->fields.data;
    if ( !this )
      goto LABEL_52;
    if ( BattleData__checkProgressflg((BattleData_o *)this, 512, 0LL) )
    {
      this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_52;
      BattleData__offProgressflg((BattleData_o *)this, 512, 0LL);
      v22 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(System_Collections_Generic_List_BattleLogicTask__TypeInfo, v20, v21);
      System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
        v22,
        (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
      v2->fields._logicTaskList_5__2 = (struct System_Collections_Generic_List_BattleLogicTask__o *)v22;
      p_logicTaskList_5__2 = (BattleLogic__CoroutineCheckAssistSkill_d__345_o **)&v2->fields._logicTaskList_5__2;
      sub_B0D840(
        (BattleServantConfConponent_o *)&v2->fields._logicTaskList_5__2,
        (System_Int32_array **)v22,
        v24,
        v25,
        v26,
        v27,
        v28,
        v29);
      this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_52;
      this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)BattleData__isFirstStage((BattleData_o *)this, 0LL);
      if ( ((unsigned __int8)this & 1) == 0 )
        goto LABEL_39;
      this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_52;
      this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)BattleData__GetAssistIdArray((BattleData_o *)this, 0LL);
      if ( !_4__this->fields.data )
        goto LABEL_52;
      v36 = this;
      this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)BattleData__GetAssistWeightArray(
                                                                  _4__this->fields.data,
                                                                  0LL);
      if ( !v36 )
        goto LABEL_52;
      if ( v36->fields.__2__current )
      {
        v37 = this;
        if ( !this )
          goto LABEL_52;
        if ( this->fields.__2__current )
        {
          this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_DataManager__get_Instance__);
          if ( !this )
            goto LABEL_52;
          MasterData_WarQuestSelectionMaster = (AssistMaster_o *)DataManager__GetMasterData_WarQuestSelectionMaster_(
                                                                   (DataManager_o *)this,
                                                                   (const MethodInfo_17145A8 *)Method_DataManager_GetMasterData_AssistMaster___);
          v41 = (WeightRate_int__o *)sub_B0D974(WeightRate_int__TypeInfo, v39, v40);
          WeightRate_int____ctor(v41, (const MethodInfo_2ADF078 *)Method_WeightRate_int___ctor__);
          _2__current = v36->fields.__2__current;
          if ( (int)_2__current >= 1 )
          {
            v43 = 0LL;
            p__4__this = &v36->fields.__4__this;
            while ( v43 < (unsigned int)_2__current )
            {
              if ( !MasterData_WarQuestSelectionMaster )
                goto LABEL_52;
              this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)AssistMaster__GetCurrentLevelEntity(
                                                                          MasterData_WarQuestSelectionMaster,
                                                                          *((_DWORD *)p__4__this + v43),
                                                                          0LL);
              if ( this )
              {
                this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)AssistEntity__IsOpen(
                                                                            (AssistEntity_o *)this,
                                                                            0LL);
                if ( ((unsigned __int8)this & 1) != 0 )
                {
                  if ( v43 >= LODWORD(v37->fields.__2__current) || v43 >= LODWORD(v36->fields.__2__current) )
                    break;
                  if ( !v41 )
                    goto LABEL_52;
                  WeightRate_int___setWeight(
                    v41,
                    *((_DWORD *)&v37->fields.__4__this + v43),
                    *((_DWORD *)p__4__this + v43),
                    (const MethodInfo_2ADE240 *)Method_WeightRate_int__setWeight__);
                }
              }
              LODWORD(_2__current) = v36->fields.__2__current;
              if ( (__int64)++v43 >= (int)_2__current )
                goto LABEL_29;
            }
            v65 = sub_B0D9A8(this);
            sub_B0D948(v65, 0LL);
          }
LABEL_29:
          if ( !v41 )
            goto LABEL_52;
          if ( WeightRate_int___getCount(v41, (const MethodInfo_2ADE5E0 *)Method_WeightRate_int__getCount__) > 0 )
          {
            Next = BattleRandom__getNext(v41->fields.totalweight, 0LL);
            this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)WeightRate_int___getData(
                                                                        v41,
                                                                        Next,
                                                                        (const MethodInfo_2ADE6C4 *)Method_WeightRate_int__getData__);
            if ( !MasterData_WarQuestSelectionMaster )
              goto LABEL_52;
            CurrentLevelEntity = AssistMaster__GetCurrentLevelEntity(
                                   MasterData_WarQuestSelectionMaster,
                                   (int32_t)this,
                                   0LL);
            v49 = sub_B0D974(BattleSkillInfoData_TypeInfo, v47, v48);
            BattleSkillInfoData___ctor((BattleSkillInfoData_o *)v49, 0LL);
            if ( !v49 )
              goto LABEL_52;
            *(_DWORD *)(v49 + 24) = -1;
            *(_QWORD *)(v49 + 16) = 20LL;
            if ( !CurrentLevelEntity )
              goto LABEL_52;
            (*(void (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)v49 + 376LL))(
              v49,
              (unsigned int)CurrentLevelEntity->fields.skillId,
              *(_QWORD *)(*(_QWORD *)v49 + 384LL));
            *(_DWORD *)(v49 + 36) = CurrentLevelEntity->fields.skillLv;
            v52 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v50, v51);
            BattleLogicTask___ctor(v52, 0LL);
            this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)_4__this->fields.data;
            if ( !this )
              goto LABEL_52;
            this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)BattleData__getFieldEnemyServantIDList(
                                                                        (BattleData_o *)this,
                                                                        0,
                                                                        0LL);
            if ( !_4__this->fields.data )
              goto LABEL_52;
            v53 = this;
            this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)BattleData__getFieldPlayerServantIDList(
                                                                        _4__this->fields.data,
                                                                        0LL,
                                                                        0LL);
            if ( !v52 )
              goto LABEL_52;
            BattleLogicTask__setActionSkill(
              v52,
              (BattleSkillInfoData_o *)v49,
              (System_Int32_array *)v53,
              (System_Int32_array *)this,
              0,
              0,
              0LL);
            BattleLogicTask__setActor(v52, 5, -1, 0LL);
            this = *p_logicTaskList_5__2;
            if ( !*p_logicTaskList_5__2 )
              goto LABEL_52;
            System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
              (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this,
              (EventMissionProgressRequest_Argument_ProgressData_o *)v52,
              (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
LABEL_39:
            if ( !*p_logicTaskList_5__2 )
              goto LABEL_52;
            if ( SLODWORD((*p_logicTaskList_5__2)->fields.__2__current) < 1 )
            {
              *p_logicTaskList_5__2 = 0LL;
              sub_B0D840(
                (BattleServantConfConponent_o *)&v2->fields._logicTaskList_5__2,
                0LL,
                v30,
                v31,
                v32,
                v33,
                v34,
                v35);
              goto LABEL_42;
            }
            goto LABEL_45;
          }
        }
      }
    }
LABEL_42:
    BattleLogic__sendFsmEvent(_4__this, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
    return 0;
  }
  v2->fields.__1__state = -1;
  if ( !_4__this )
    goto LABEL_52;
LABEL_45:
  this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)_4__this->fields.perf;
  if ( !this )
    goto LABEL_52;
  if ( BattlePerformance__ExistsMessageObject((BattlePerformance_o *)this, 0LL) )
  {
    v2->fields.__2__current = 0LL;
    p__2__current = (BattleServantConfConponent_o *)&v2->fields.__2__current;
    sub_B0D840(p__2__current, 0LL, v55, v56, v57, v58, v59, v60);
    result = 1;
    *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
    return result;
  }
  this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)_4__this->fields.perf;
  if ( !this
    || (_4__this->fields.isEnableSkipAssistSkill = BattlePerformance__isEnableSkipStartQuest(
                                                     (BattlePerformance_o *)this,
                                                     0LL),
        (this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)v2->fields._logicTaskList_5__2) == 0LL)
    || (v62 = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                         (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)this,
                                         (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__),
        v63 = BattleLogic__waitWaveStep(_4__this, v62, 512, 0LL),
        this = (BattleLogic__CoroutineCheckAssistSkill_d__345_o *)UnityEngine_MonoBehaviour__StartCoroutine_34930128(
                                                                    (UnityEngine_MonoBehaviour_o *)_4__this,
                                                                    v63,
                                                                    0LL),
        (perf = _4__this->fields.perf) == 0LL) )
  {
LABEL_52:
    sub_B0D97C(this);
  }
  result = 0;
  perf->fields.isEnableSkipSkillCutIn = _4__this->fields.isEnableSkipAssistSkill;
  return result;
}


Il2CppObject *__fastcall BattleLogic__CoroutineCheckAssistSkill_d__345__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__CoroutineCheckAssistSkill_d__345_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__CoroutineCheckAssistSkill_d__345__System_Collections_IEnumerator_Reset(
        BattleLogic__CoroutineCheckAssistSkill_d__345_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__CoroutineCheckAssistSkill_d__345_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__CoroutineCheckAssistSkill_d__345__System_Collections_IEnumerator_get_Current(
        BattleLogic__CoroutineCheckAssistSkill_d__345_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__CoroutineCheckAssistSkill_d__345__System_IDisposable_Dispose(
        BattleLogic__CoroutineCheckAssistSkill_d__345_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__CoroutineCheckStageCutinSkill_d__347___ctor(
        BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__CoroutineCheckStageCutinSkill_d__347__MoveNext(
        BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *this,
        const MethodInfo *method)
{
  BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  int32_t _1__state; // w8
  struct BattleLogic_o *_4__this; // x20
  __int64 v13; // x1
  __int64 v14; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v15; // x22
  BattleLogic__CoroutineCheckStageCutinSkill_d__347_o **p_logicTaskList_5__2; // x21
  System_String_array **v17; // x2
  System_String_array **v18; // x3
  System_Boolean_array **v19; // x4
  System_Int32_array **v20; // x5
  System_Int32_array *v21; // x6
  System_Int32_array *v22; // x7
  struct BattleData_o *data; // x8
  __int64 v24; // x1
  System_String_array **v25; // x2
  System_String_array **v26; // x3
  System_Boolean_array **v27; // x4
  System_Int32_array **v28; // x5
  System_Int32_array *v29; // x6
  System_Int32_array *v30; // x7
  Il2CppObject *_2__current; // x8
  BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *v32; // x22
  __int64 v33; // x26
  __int64 v34; // x28
  __int64 v35; // x23
  System_Int32_array **v36; // x1
  System_String_array **v37; // x2
  System_String_array **v38; // x3
  System_Boolean_array **v39; // x4
  System_Int32_array **v40; // x5
  System_Int32_array *v41; // x6
  System_Int32_array *v42; // x7
  System_String_o *v43; // x0
  System_Int32_array **v44; // x0
  System_String_array **v45; // x2
  System_String_array **v46; // x3
  System_Boolean_array **v47; // x4
  System_Int32_array **v48; // x5
  System_Int32_array *v49; // x6
  System_Int32_array *v50; // x7
  System_Int32_array **v51; // x1
  System_String_array **v52; // x2
  System_String_array **v53; // x3
  System_Boolean_array **v54; // x4
  System_Int32_array **v55; // x5
  System_Int32_array *v56; // x6
  System_Int32_array *v57; // x7
  __int64 v58; // x1
  __int64 v59; // x2
  BattleLogicTask_o *v60; // x24
  BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *v61; // x25
  bool result; // w0
  System_String_array **v63; // x2
  System_String_array **v64; // x3
  System_Boolean_array **v65; // x4
  System_Int32_array **v66; // x5
  System_Int32_array *v67; // x6
  System_Int32_array *v68; // x7
  BattleServantConfConponent_o *p__2__current; // x19
  BattleLogicTask_array *v70; // x0
  System_Collections_IEnumerator_o *v71; // x0
  struct BattlePerformance_o *perf; // x8
  __int64 v73; // x0

  v2 = this;
  if ( (byte_421391A & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogicTask_TypeInfo, method);
    sub_B0D8A4(&BattleSkillInfoData_TypeInfo, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__Add__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask___ctor__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__get_Count__, v7);
    sub_B0D8A4(&System_Collections_Generic_List_BattleLogicTask__TypeInfo, v8);
    sub_B0D8A4(&StringLiteral_12295/*"SKIP"*/, v9);
    this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)sub_B0D8A4(&StringLiteral_12783/*"Servants_"*/, v10);
    byte_421391A = 1;
  }
  _1__state = v2->fields.__1__state;
  _4__this = v2->fields.__4__this;
  if ( _1__state == 1 )
  {
    v2->fields.__1__state = -1;
    if ( !_4__this )
      goto LABEL_36;
  }
  else
  {
    if ( _1__state )
      return 0;
    v2->fields.__1__state = -1;
    if ( !_4__this )
      goto LABEL_36;
    this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)_4__this->fields.data;
    if ( !this )
      goto LABEL_36;
    if ( !BattleData__checkProgressflg((BattleData_o *)this, 0x20000, 0LL) )
      goto LABEL_26;
    this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)_4__this->fields.data;
    if ( !this )
      goto LABEL_36;
    BattleData__offProgressflg((BattleData_o *)this, 0x20000, 0LL);
    v15 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)sub_B0D974(
                                                                                                    System_Collections_Generic_List_BattleLogicTask__TypeInfo,
                                                                                                    v13,
                                                                                                    v14);
    System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData____ctor(
      v15,
      (const MethodInfo_2FC4A24 *)Method_System_Collections_Generic_List_BattleLogicTask___ctor__);
    v2->fields._logicTaskList_5__2 = (struct System_Collections_Generic_List_BattleLogicTask__o *)v15;
    p_logicTaskList_5__2 = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o **)&v2->fields._logicTaskList_5__2;
    sub_B0D840(
      (BattleServantConfConponent_o *)&v2->fields._logicTaskList_5__2,
      (System_Int32_array **)v15,
      v17,
      v18,
      v19,
      v20,
      v21,
      v22);
    data = _4__this->fields.data;
    if ( !data )
      goto LABEL_36;
    this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)data->fields.battle_info;
    if ( !this )
      goto LABEL_36;
    this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)BattleInfoData__GetStageCutinInfo(
                                                                    (BattleInfoData_o *)this,
                                                                    data->fields.wavecount,
                                                                    0LL);
    if ( !this )
      goto LABEL_36;
    _2__current = this->fields.__2__current;
    v32 = this;
    if ( !_2__current )
    {
LABEL_26:
      BattleLogic__sendFsmEvent(_4__this, (System_String_o *)StringLiteral_12295/*"SKIP"*/, 0LL);
      return 0;
    }
    if ( (int)_2__current >= 1 )
    {
      v33 = 0LL;
      while ( 1 )
      {
        if ( (unsigned int)v33 >= (unsigned int)_2__current )
        {
          v73 = sub_B0D9A8(this);
          sub_B0D948(v73, 0LL);
        }
        v34 = *((_QWORD *)&v32->fields.__4__this + v33);
        v35 = sub_B0D974(BattleSkillInfoData_TypeInfo, v24, v25);
        BattleSkillInfoData___ctor((BattleSkillInfoData_o *)v35, 0LL);
        if ( !v35 )
          break;
        *(_DWORD *)(v35 + 24) = -1;
        *(_QWORD *)(v35 + 16) = 20LL;
        *(_DWORD *)(v35 + 36) = 1;
        if ( !v34 )
          break;
        (*(void (__fastcall **)(__int64, _QWORD, _QWORD))(*(_QWORD *)v35 + 376LL))(
          v35,
          *(unsigned int *)(v34 + 20),
          *(_QWORD *)(*(_QWORD *)v35 + 384LL));
        v36 = *(System_Int32_array ***)(v34 + 24);
        *(_QWORD *)(v35 + 136) = v36;
        sub_B0D840((BattleServantConfConponent_o *)(v35 + 136), v36, v37, v38, v39, v40, v41, v42);
        v43 = System_Int32__ToString((int)v34 + 32, 0LL);
        v44 = (System_Int32_array **)System_String__Concat_43849904((System_String_o *)StringLiteral_12783/*"Servants_"*/, v43, 0LL);
        *(_QWORD *)(v35 + 120) = v44;
        sub_B0D840((BattleServantConfConponent_o *)(v35 + 120), v44, v45, v46, v47, v48, v49, v50);
        v51 = *(System_Int32_array ***)(v34 + 40);
        *(_QWORD *)(v35 + 128) = v51;
        sub_B0D840((BattleServantConfConponent_o *)(v35 + 128), v51, v52, v53, v54, v55, v56, v57);
        v60 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v58, v59);
        BattleLogicTask___ctor(v60, 0LL);
        this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)_4__this->fields.data;
        if ( !this )
          break;
        this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)BattleData__getFieldEnemyServantIDList(
                                                                        (BattleData_o *)this,
                                                                        0,
                                                                        0LL);
        if ( !_4__this->fields.data )
          break;
        v61 = this;
        this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)BattleData__getFieldPlayerServantIDList(
                                                                        _4__this->fields.data,
                                                                        0LL,
                                                                        0LL);
        if ( !v60 )
          break;
        BattleLogicTask__setActionSkill(
          v60,
          (BattleSkillInfoData_o *)v35,
          (System_Int32_array *)v61,
          (System_Int32_array *)this,
          0,
          0,
          0LL);
        BattleLogicTask__setActor(v60, 5, -1, 0LL);
        this = *p_logicTaskList_5__2;
        if ( !*p_logicTaskList_5__2 )
          break;
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
          (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this,
          (EventMissionProgressRequest_Argument_ProgressData_o *)v60,
          (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleLogicTask__Add__);
        LODWORD(_2__current) = v32->fields.__2__current;
        if ( (int)++v33 >= (int)_2__current )
          goto LABEL_23;
      }
LABEL_36:
      sub_B0D97C(this);
    }
LABEL_23:
    if ( !*p_logicTaskList_5__2 )
      goto LABEL_36;
    if ( SLODWORD((*p_logicTaskList_5__2)->fields.__2__current) < 1 )
    {
      *p_logicTaskList_5__2 = 0LL;
      sub_B0D840((BattleServantConfConponent_o *)&v2->fields._logicTaskList_5__2, 0LL, v25, v26, v27, v28, v29, v30);
      goto LABEL_26;
    }
  }
  this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)_4__this->fields.perf;
  if ( !this )
    goto LABEL_36;
  if ( BattlePerformance__ExistsMessageObject((BattlePerformance_o *)this, 0LL) )
  {
    v2->fields.__2__current = 0LL;
    p__2__current = (BattleServantConfConponent_o *)&v2->fields.__2__current;
    sub_B0D840(p__2__current, 0LL, v63, v64, v65, v66, v67, v68);
    result = 1;
    *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
  }
  else
  {
    this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)_4__this->fields.perf;
    if ( !this )
      goto LABEL_36;
    _4__this->fields.isEnableSkipAssistSkill = BattlePerformance__isEnableSkipStartQuest(
                                                 (BattlePerformance_o *)this,
                                                 0LL);
    this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)v2->fields._logicTaskList_5__2;
    if ( !this )
      goto LABEL_36;
    v70 = (BattleLogicTask_array *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                     (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)this,
                                     (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleLogicTask__ToArray__);
    v71 = BattleLogic__waitWaveStep(_4__this, v70, 0x20000, 0LL);
    this = (BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *)UnityEngine_MonoBehaviour__StartCoroutine_34930128(
                                                                    (UnityEngine_MonoBehaviour_o *)_4__this,
                                                                    v71,
                                                                    0LL);
    perf = _4__this->fields.perf;
    if ( !perf )
      goto LABEL_36;
    result = 0;
    perf->fields.isEnableSkipSkillCutIn = _4__this->fields.isEnableSkipAssistSkill;
  }
  return result;
}


Il2CppObject *__fastcall BattleLogic__CoroutineCheckStageCutinSkill_d__347__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__CoroutineCheckStageCutinSkill_d__347__System_Collections_IEnumerator_Reset(
        BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__CoroutineCheckStageCutinSkill_d__347_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__CoroutineCheckStageCutinSkill_d__347__System_Collections_IEnumerator_get_Current(
        BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__CoroutineCheckStageCutinSkill_d__347__System_IDisposable_Dispose(
        BattleLogic__CoroutineCheckStageCutinSkill_d__347_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__CoroutineInitQuest_d__317___ctor(
        BattleLogic__CoroutineInitQuest_d__317_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__CoroutineInitQuest_d__317__MoveNext(
        BattleLogic__CoroutineInitQuest_d__317_o *this,
        const MethodInfo *method)
{
  System_String_array **v2; // x2
  System_String_array **v3; // x3
  System_Boolean_array **v4; // x4
  System_Int32_array **v5; // x5
  System_Int32_array *v6; // x6
  System_Int32_array *v7; // x7
  BattleLogic__CoroutineInitQuest_d__317_o *v8; // x19
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  struct BattleLogic_o *_4__this; // x20
  struct BattlePerformance_o *perf; // x8
  System_String_array **v14; // x2
  System_String_array **v15; // x3
  System_Boolean_array **v16; // x4
  System_Int32_array **v17; // x5
  System_Int32_array *v18; // x6
  System_Int32_array *v19; // x7
  BattleServantConfConponent_o *p__2__current; // x19
  bool result; // w0
  System_String_array **v22; // x2
  System_String_array **v23; // x3
  System_Boolean_array **v24; // x4
  System_Int32_array **v25; // x5
  System_Int32_array *v26; // x6
  System_Int32_array *v27; // x7
  BattleServantConfConponent_o *v28; // x19
  int v29; // w8
  struct BattlePerformance_o *v30; // x8
  struct BattlePerformanceBg_o *bgPerf; // x8
  System_Action_o *finishCallback; // x0
  System_Collections_IEnumerator_o *PlayerActor; // x0
  System_Int32_array **started; // x0
  System_String_array **v35; // x2
  System_String_array **v36; // x3
  System_Boolean_array **v37; // x4
  System_Int32_array **v38; // x5
  System_Int32_array *v39; // x6
  System_Int32_array *v40; // x7
  System_Int32_array **v41; // x0
  System_String_array **v42; // x2
  System_String_array **v43; // x3
  System_Boolean_array **v44; // x4
  System_Int32_array **v45; // x5
  System_Int32_array *v46; // x6
  System_Int32_array *v47; // x7
  int v48; // [xsp+Ch] [xbp-14h] BYREF

  v8 = this;
  if ( (byte_421391B & 1) == 0 )
  {
    sub_B0D8A4(&AssetManager_TypeInfo, method);
    sub_B0D8A4(&System_GC_TypeInfo, v9);
    sub_B0D8A4(&int_TypeInfo, v10);
    this = (BattleLogic__CoroutineInitQuest_d__317_o *)sub_B0D8A4(&ServantAssetLoadManager_TypeInfo, v11);
    byte_421391B = 1;
  }
  _4__this = v8->fields.__4__this;
  switch ( v8->fields.__1__state )
  {
    case 0:
      v8->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_45;
      this = (BattleLogic__CoroutineInitQuest_d__317_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_45;
      BattlePerformance__LoadQuestAssetAndSetup((BattlePerformance_o *)this, 0LL);
LABEL_10:
      perf = _4__this->fields.perf;
      if ( !perf )
        goto LABEL_45;
      this = (BattleLogic__CoroutineInitQuest_d__317_o *)perf->fields._AssumedBattleAssetLoadManager_k__BackingField;
      if ( !this )
        goto LABEL_45;
      if ( AssumedBattleAssetLoadManager__IsPreloading((AssumedBattleAssetLoadManager_o *)this, 0LL) )
      {
        v8->fields.__2__current = 0LL;
        p__2__current = (BattleServantConfConponent_o *)&v8->fields.__2__current;
        sub_B0D840(p__2__current, 0LL, v14, v15, v16, v17, v18, v19);
        result = 1;
        *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
        return result;
      }
LABEL_15:
      if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
      }
      this = (BattleLogic__CoroutineInitQuest_d__317_o *)ServantAssetLoadManager__checkLoad(0LL);
      if ( ((unsigned __int8)this & 1) == 0 )
      {
        if ( _4__this )
        {
          this = (BattleLogic__CoroutineInitQuest_d__317_o *)_4__this->fields.perf;
          if ( this )
          {
            PlayerActor = BattlePerformance__CoroutineLoadPlayerActor((BattlePerformance_o *)this, 0LL);
            started = (System_Int32_array **)UnityEngine_MonoBehaviour__StartCoroutine_34930128(
                                               (UnityEngine_MonoBehaviour_o *)_4__this,
                                               PlayerActor,
                                               0LL);
            v8->fields.__2__current = (Il2CppObject *)started;
            v28 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
            sub_B0D840(v28, started, v35, v36, v37, v38, v39, v40);
            v29 = 3;
            goto LABEL_44;
          }
        }
LABEL_45:
        sub_B0D97C(this);
      }
      v8->fields.__2__current = 0LL;
      v28 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
      sub_B0D840(v28, 0LL, v22, v23, v24, v25, v26, v27);
      v29 = 2;
LABEL_44:
      *(_DWORD *)&v28[-1].fields.isOpenAfter = v29;
      return 1;
    case 1:
      v8->fields.__1__state = -1;
      if ( _4__this )
        goto LABEL_10;
      goto LABEL_45;
    case 2:
      v8->fields.__1__state = -1;
      goto LABEL_15;
    case 3:
      v8->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_45;
      this = (BattleLogic__CoroutineInitQuest_d__317_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_45;
      BattlePerformance__initQuest((BattlePerformance_o *)this, 0LL);
LABEL_23:
      this = (BattleLogic__CoroutineInitQuest_d__317_o *)_4__this->fields.spawner;
      if ( !this )
        goto LABEL_45;
      this = (BattleLogic__CoroutineInitQuest_d__317_o *)Spawner__HasCached((Spawner_o *)this, 0LL);
      if ( ((unsigned __int8)this & 1) == 0 )
      {
        v8->fields.__2__current = 0LL;
        v28 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
        sub_B0D840(v28, 0LL, v2, v3, v4, v5, v6, v7);
        v29 = 4;
        goto LABEL_44;
      }
LABEL_27:
      v30 = _4__this->fields.perf;
      if ( v30 )
      {
        bgPerf = v30->fields.bgPerf;
        if ( bgPerf )
        {
          if ( bgPerf->fields.IsLoading )
            goto LABEL_34;
          if ( (BYTE3(AssetManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
            && !AssetManager_TypeInfo->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(AssetManager_TypeInfo);
          }
          if ( AssetManager__LoadIsBusy(0LL) )
          {
LABEL_34:
            v8->fields.__2__current = 0LL;
            v28 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
            sub_B0D840(v28, 0LL, v2, v3, v4, v5, v6, v7);
            v29 = 5;
          }
          else
          {
            if ( (BYTE3(System_GC_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
              && !System_GC_TypeInfo->_2.cctor_finished )
            {
              j_il2cpp_runtime_class_init_0(System_GC_TypeInfo);
            }
            System_GC__Collect_43098652(0LL);
            v48 = 0;
            v41 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v48);
            v8->fields.__2__current = (Il2CppObject *)v41;
            v28 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
            sub_B0D840(v28, v41, v42, v43, v44, v45, v46, v47);
            v29 = 6;
          }
          goto LABEL_44;
        }
      }
      goto LABEL_45;
    case 4:
      v8->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_45;
      goto LABEL_23;
    case 5:
      v8->fields.__1__state = -1;
      if ( _4__this )
        goto LABEL_27;
      goto LABEL_45;
    case 6:
      finishCallback = v8->fields.finishCallback;
      v8->fields.__1__state = -1;
      ActionExtensions__Call(finishCallback, 0LL);
      return 0;
    default:
      return 0;
  }
}


Il2CppObject *__fastcall BattleLogic__CoroutineInitQuest_d__317__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__CoroutineInitQuest_d__317_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__CoroutineInitQuest_d__317__System_Collections_IEnumerator_Reset(
        BattleLogic__CoroutineInitQuest_d__317_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__CoroutineInitQuest_d__317_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__CoroutineInitQuest_d__317__System_Collections_IEnumerator_get_Current(
        BattleLogic__CoroutineInitQuest_d__317_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__CoroutineInitQuest_d__317__System_IDisposable_Dispose(
        BattleLogic__CoroutineInitQuest_d__317_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__DropItemCollectionCoroutine_d__94___ctor(
        BattleLogic__DropItemCollectionCoroutine_d__94_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__DropItemCollectionCoroutine_d__94__MoveNext(
        BattleLogic__DropItemCollectionCoroutine_d__94_o *this,
        const MethodInfo *method)
{
  BattleLogic__DropItemCollectionCoroutine_d__94_o *v2; // x19
  __int64 v3; // x1
  int32_t _1__state; // w9
  struct BattleLogic_o *_4__this; // x8
  __int64 v6; // x1
  __int64 v7; // x2
  UnityEngine_WaitForSeconds_o *v8; // x20
  BattleServantConfConponent_o *p__2__current; // x19
  System_String_array **v10; // x2
  System_String_array **v11; // x3
  System_Boolean_array **v12; // x4
  System_Int32_array **v13; // x5
  System_Int32_array *v14; // x6
  System_Int32_array *v15; // x7
  bool result; // w0

  v2 = this;
  if ( (byte_421391C & 1) == 0 )
  {
    sub_B0D8A4(&UnityEngine_WaitForSeconds_TypeInfo, method);
    this = (BattleLogic__DropItemCollectionCoroutine_d__94_o *)sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v3);
    byte_421391C = 1;
  }
  _1__state = v2->fields.__1__state;
  _4__this = v2->fields.__4__this;
  if ( _1__state == 1 )
  {
    v2->fields.__1__state = -1;
    if ( !_4__this )
      goto LABEL_12;
    this = (BattleLogic__DropItemCollectionCoroutine_d__94_o *)_4__this->fields.fsm;
    if ( !this )
      goto LABEL_12;
    PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
  }
  else if ( !_1__state )
  {
    v2->fields.__1__state = -1;
    if ( _4__this )
    {
      this = (BattleLogic__DropItemCollectionCoroutine_d__94_o *)_4__this->fields.perf;
      if ( this )
      {
        BattlePerformance__startMovePopObject((BattlePerformance_o *)this, 0LL);
        v8 = (UnityEngine_WaitForSeconds_o *)sub_B0D974(UnityEngine_WaitForSeconds_TypeInfo, v6, v7);
        UnityEngine_WaitForSeconds___ctor(v8, 0.5, 0LL);
        v2->fields.__2__current = (Il2CppObject *)v8;
        p__2__current = (BattleServantConfConponent_o *)&v2->fields.__2__current;
        sub_B0D840(p__2__current, (System_Int32_array **)v8, v10, v11, v12, v13, v14, v15);
        result = 1;
        *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
        return result;
      }
    }
LABEL_12:
    sub_B0D97C(this);
  }
  return 0;
}


Il2CppObject *__fastcall BattleLogic__DropItemCollectionCoroutine_d__94__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__DropItemCollectionCoroutine_d__94_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__DropItemCollectionCoroutine_d__94__System_Collections_IEnumerator_Reset(
        BattleLogic__DropItemCollectionCoroutine_d__94_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__DropItemCollectionCoroutine_d__94_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__DropItemCollectionCoroutine_d__94__System_Collections_IEnumerator_get_Current(
        BattleLogic__DropItemCollectionCoroutine_d__94_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__DropItemCollectionCoroutine_d__94__System_IDisposable_Dispose(
        BattleLogic__DropItemCollectionCoroutine_d__94_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78___ctor(
        BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78__MoveNext(
        BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_o *this,
        const MethodInfo *method)
{
  int32_t _1__state; // w8
  bool result; // w0
  AssetManager_o *Instance; // x0
  Il2CppObject *v6; // x0
  System_String_array **v7; // x2
  System_String_array **v8; // x3
  System_Boolean_array **v9; // x4
  System_Int32_array **v10; // x5
  System_Int32_array *v11; // x6
  System_Int32_array *v12; // x7
  int32_t v13; // w8

  if ( (byte_421391D & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_AssetManager__get_Instance__, method);
    byte_421391D = 1;
  }
  _1__state = this->fields.__1__state;
  result = 0;
  if ( _1__state == 1 )
  {
    v13 = -1;
  }
  else
  {
    if ( _1__state )
      return result;
    this->fields.__1__state = -1;
    Instance = (AssetManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_AssetManager__get_Instance__);
    if ( !Instance
      || (AssetManager__RequestUnloadUnusedAssets(Instance, 0LL, 0LL),
          (Instance = (AssetManager_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_AssetManager__get_Instance__)) == 0LL) )
    {
      sub_B0D97C(Instance);
    }
    v6 = (Il2CppObject *)AssetManager__WaitForExecutionUnloadUnuseAssets(Instance, 0LL);
    this->fields.__2__current = v6;
    sub_B0D840(
      (BattleServantConfConponent_o *)&this->fields.__2__current,
      (System_Int32_array **)v6,
      v7,
      v8,
      v9,
      v10,
      v11,
      v12);
    v13 = 1;
    result = 1;
  }
  this->fields.__1__state = v13;
  return result;
}


Il2CppObject *__fastcall BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78__System_Collections_IEnumerator_Reset(
        BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78__System_Collections_IEnumerator_get_Current(
        BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78__System_IDisposable_Dispose(
        BattleLogic__UnloadUnusedAssetsAndWaitFinish_d__78_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic___c___cctor(const MethodInfo *method)
{
  __int64 v1; // x1
  __int64 v2; // x2
  Il2CppObject *v3; // x19
  BattleServantConfConponent_o *static_fields; // x0
  System_String_array **v5; // x2
  System_String_array **v6; // x3
  System_Boolean_array **v7; // x4
  System_Int32_array **v8; // x5
  System_Int32_array *v9; // x6
  System_Int32_array *v10; // x7

  if ( (byte_421390E & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic___c_TypeInfo, v1);
    byte_421390E = 1;
  }
  v3 = (Il2CppObject *)sub_B0D974(BattleLogic___c_TypeInfo, v1, v2);
  System_Object___ctor(v3, 0LL);
  static_fields = (BattleServantConfConponent_o *)BattleLogic___c_TypeInfo->static_fields;
  static_fields->klass = (BattleServantConfConponent_c *)v3;
  sub_B0D840(static_fields, (System_Int32_array **)v3, v5, v6, v7, v8, v9, v10);
}


void __fastcall BattleLogic___c___ctor(BattleLogic___c_o *this, const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


int32_t __fastcall BattleLogic___c___LoadEncryptedPlayerPrefsIdList_b__371_0(
        BattleLogic___c_o *this,
        System_String_o *a,
        const MethodInfo *method)
{
  return System_Int32__Parse(a, 0LL);
}


int32_t __fastcall BattleLogic___c___actClassPassiveSkill_b__263_0(
        BattleLogic___c_o *this,
        BattleSkillInfoData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return x->fields.priority;
}


int32_t __fastcall BattleLogic___c___actEnemyPassiveSkill_b__262_0(
        BattleLogic___c_o *this,
        BattleSkillInfoData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return x->fields.priority;
}


int32_t __fastcall BattleLogic___c___actEnemyPtPassiveSkill_b__261_0(
        BattleLogic___c_o *this,
        BattleSkillInfoData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return x->fields.priority;
}


int32_t __fastcall BattleLogic___c___actPtPassiveSkill_b__260_0(
        BattleLogic___c_o *this,
        BattleSkillInfoData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return x->fields.priority;
}


bool __fastcall BattleLogic___c___checkImmediateEntrySubMember_b__80_0(
        BattleLogic___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return !BattleServantData__isDead(x, 0LL);
}


int32_t __fastcall BattleLogic___c___colReplaceMember_b__88_0(
        BattleLogic___c_o *this,
        BattleServantData_o *a,
        BattleServantData_o *b,
        const MethodInfo *method)
{
  if ( !a || (this = (BattleLogic___c_o *)BattleServantData__getDeckIndex(a, 0LL), !b) )
    sub_B0D97C(this);
  return (_DWORD)this - BattleServantData__getDeckIndex(b, 0LL);
}


bool __fastcall BattleLogic___c___coroutineEntrySubMember_b__79_0(
        BattleLogic___c_o *this,
        RestockServantLogic_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return !x->fields._IsEnemy_k__BackingField;
}


// local variable allocation has failed, the output may be wrong!
RestockServantLogic_o *__fastcall BattleLogic___c___coroutineEntrySubMember_b__79_1(
        BattleLogic___c_o *this,
        int32_t i,
        const MethodInfo *method)
{
  RestockServantLogic_o *v4; // x20

  if ( (byte_421390F & 1) == 0 )
  {
    sub_B0D8A4(&RestockServantLogic_TypeInfo, *(_QWORD *)&i);
    byte_421390F = 1;
  }
  v4 = (RestockServantLogic_o *)sub_B0D974(RestockServantLogic_TypeInfo, *(_QWORD *)&i, method);
  RestockServantLogic___ctor(v4, i, 0, 0LL);
  return v4;
}


bool __fastcall BattleLogic___c___coroutineEntrySubMember_b__79_2(
        BattleLogic___c_o *this,
        RestockServantLogic_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return x->fields._IsEnemy_k__BackingField;
}


bool __fastcall BattleLogic___c___startEntryMemberLocal_b__90_0(
        BattleLogic___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return BattleServantData__get_isWaitRepop(x, 0LL);
}


int32_t __fastcall BattleLogic___c___startEntryMemberLocal_b__90_1(
        BattleLogic___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return x->fields.repopOrder;
}


bool __fastcall BattleLogic___c___startEntryMemberLocal_b__90_3(
        BattleLogic___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return BattleServantData__get_isWaitRepop(x, 0LL);
}


int32_t __fastcall BattleLogic___c___startEntryMemberLocal_b__90_4(
        BattleLogic___c_o *this,
        BattleServantData_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return x->fields.repopOrder;
}


void __fastcall BattleLogic___c__DisplayClass109_0___ctor(
        BattleLogic___c__DisplayClass109_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass109_0___CheckEventDataLostBattle_b__0(
        BattleLogic___c__DisplayClass109_0_o *this,
        AssetData_o *assetData,
        const MethodInfo *method)
{
  __int64 v4; // x1
  __int64 v5; // x1
  System_Action_o *_9__1; // x22
  int32_t eventId; // w19
  int32_t warId; // w20
  System_String_array **v9; // x2
  System_String_array **v10; // x3
  System_Boolean_array **v11; // x4
  System_Int32_array **v12; // x5
  System_Int32_array *v13; // x6
  System_Int32_array *v14; // x7

  if ( (byte_4213910 & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, assetData);
    sub_B0D8A4(&DataLostResetManager_TypeInfo, v4);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass109_0__CheckEventDataLostBattle_b__1__, v5);
    byte_4213910 = 1;
  }
  _9__1 = this->fields.__9__1;
  eventId = this->fields.eventId;
  warId = this->fields.warId;
  if ( !_9__1 )
  {
    _9__1 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, assetData, method);
    System_Action___ctor(
      _9__1,
      (Il2CppObject *)this,
      Method_BattleLogic___c__DisplayClass109_0__CheckEventDataLostBattle_b__1__,
      0LL);
    this->fields.__9__1 = _9__1;
    sub_B0D840(
      (BattleServantConfConponent_o *)&this->fields.__9__1,
      (System_Int32_array **)_9__1,
      v9,
      v10,
      v11,
      v12,
      v13,
      v14);
  }
  if ( (BYTE3(DataLostResetManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !DataLostResetManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(DataLostResetManager_TypeInfo);
  }
  DataLostResetManager__OpenBattleResultResetDialog(eventId, warId, _9__1, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass109_0___CheckEventDataLostBattle_b__1(
        BattleLogic___c__DisplayClass109_0_o *this,
        const MethodInfo *method)
{
  __int64 v3; // x1
  __int64 v4; // x1
  TerminalPramsManager_c *v5; // x0
  __int64 v6; // x1
  TerminalPramsManager_c *v7; // x0
  MissionNotifyManager_o *fsm; // x0
  __int64 v9; // x1
  struct BattleLogic_o *_4__this; // x8

  if ( (byte_4213911 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonTemplate_MissionNotifyManager__get_Instance__, method);
    sub_B0D8A4(&SingletonTemplate_MissionNotifyManager__TypeInfo, v3);
    sub_B0D8A4(&TerminalPramsManager_TypeInfo, v4);
    byte_4213911 = 1;
  }
  if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
  }
  if ( !byte_4210874 )
  {
    sub_B0D8A4(&TerminalPramsManager_TypeInfo, method);
    byte_4210874 = 1;
  }
  v5 = TerminalPramsManager_TypeInfo;
  if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
    v5 = TerminalPramsManager_TypeInfo;
  }
  v5->static_fields->_SpotId_k__BackingField = -1;
  TerminalPramsManager__SpotIdSave_SaveData(0LL);
  if ( !byte_4211AC0 )
  {
    sub_B0D8A4(&TerminalPramsManager_TypeInfo, v6);
    byte_4211AC0 = 1;
  }
  v7 = TerminalPramsManager_TypeInfo;
  if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
    v7 = TerminalPramsManager_TypeInfo;
  }
  v7->static_fields->_IsDataLostBattleAutoReset_k__BackingField = 1;
  TerminalPramsManager__IsDataLostBattleAutoReset_SaveData(0LL);
  if ( (BYTE3(SingletonTemplate_MissionNotifyManager__TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !SingletonTemplate_MissionNotifyManager__TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(SingletonTemplate_MissionNotifyManager__TypeInfo);
  }
  fsm = (MissionNotifyManager_o *)SingletonTemplate_clsQuestCheck___get_Instance((const MethodInfo_2A713E8 *)Method_SingletonTemplate_MissionNotifyManager__get_Instance__);
  if ( !fsm )
    goto LABEL_28;
  MissionNotifyManager__StartPause(fsm, 0LL);
  if ( !byte_4211AC5 )
  {
    sub_B0D8A4(&TerminalPramsManager_TypeInfo, v9);
    byte_4211AC5 = 1;
  }
  fsm = (MissionNotifyManager_o *)TerminalPramsManager_TypeInfo;
  if ( (BYTE3(TerminalPramsManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !TerminalPramsManager_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(TerminalPramsManager_TypeInfo);
    fsm = (MissionNotifyManager_o *)TerminalPramsManager_TypeInfo;
  }
  LOBYTE(fsm[2].fields.mNoDispInfos[3].fields._syncRoot) = 1;
  _4__this = this->fields.__4__this;
  if ( !_4__this || (fsm = (MissionNotifyManager_o *)_4__this->fields.fsm) == 0LL )
LABEL_28:
    sub_B0D97C(fsm);
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)fsm, this->fields.endEvent, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass110_0___ctor(
        BattleLogic___c__DisplayClass110_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic___c__DisplayClass110_0___ngContinueBattleLoseInfomation_b__0(
        BattleLogic___c__DisplayClass110_0_o *this,
        bool flg,
        const MethodInfo *method)
{
  CommonUI_o *Instance; // x0
  struct BattleLogic_o *_4__this; // x8

  if ( (byte_4213912 & 1) == 0 )
  {
    sub_B0D8A4(&Method_SingletonMonoBehaviour_CommonUI__get_Instance__, flg);
    byte_4213912 = 1;
  }
  Instance = (CommonUI_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__);
  if ( !Instance
    || (CommonUI__CloseNotificationDialog(Instance, 0LL), (_4__this = this->fields.__4__this) == 0LL)
    || (Instance = (CommonUI_o *)_4__this->fields.fsm) == 0LL )
  {
    sub_B0D97C(Instance);
  }
  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)Instance, this->fields.endEvent, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass210_0___ctor(
        BattleLogic___c__DisplayClass210_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass210_0___waitWaveStep_b__0(
        BattleLogic___c__DisplayClass210_0_o *this,
        const MethodInfo *method)
{
  this->fields.isEnd = 1;
}


void __fastcall BattleLogic___c__DisplayClass283_0___ctor(
        BattleLogic___c__DisplayClass283_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass283_0___updateConditionsBuffAll_b__0(
        BattleLogic___c__DisplayClass283_0_o *this,
        AiNpcBattleServantData_o *npc,
        const MethodInfo *method)
{
  struct BattleLogic_o *_4__this; // x9
  BattleLogic___c__DisplayClass283_0_o *v4; // x8

  _4__this = this->fields.__4__this;
  if ( !_4__this || (v4 = this, (this = (BattleLogic___c__DisplayClass283_0_o *)npc) == 0LL) )
    sub_B0D97C(this);
  BattleServantData__updateConditionsBuff(
    (BattleServantData_o *)npc,
    v4->fields.fieldIndivi,
    _4__this->fields.perf,
    0LL);
}


void __fastcall BattleLogic___c__DisplayClass318_0___ctor(
        BattleLogic___c__DisplayClass318_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass318_0___loadNstage_b__0(
        BattleLogic___c__DisplayClass318_0_o *this,
        const MethodInfo *method)
{
  struct BattleLogic_o *_4__this; // x8
  BattleLogic___c__DisplayClass318_0_o *v3; // x19
  System_String_array **v4; // x2
  System_String_array **v5; // x3
  System_Boolean_array **v6; // x4
  System_Int32_array **v7; // x5
  System_Int32_array *v8; // x6
  System_Int32_array *v9; // x7
  struct BattleLogic_o *v10; // x8
  System_Action_o *loadingIconcallback; // x0

  _4__this = this->fields.__4__this;
  if ( !_4__this
    || (v3 = this, (this = (BattleLogic___c__DisplayClass318_0_o *)_4__this->fields.fsm) == 0LL)
    || (PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, v3->fields.endproc, 0LL), (v10 = v3->fields.__4__this) == 0LL)
    || (loadingIconcallback = v10->fields.loadingIconcallback) != 0LL
    && (System_Action__Invoke(loadingIconcallback, 0LL), (v10 = v3->fields.__4__this) == 0LL) )
  {
    sub_B0D97C(this);
  }
  v10->fields.loadingIconcallback = 0LL;
  sub_B0D840((BattleServantConfConponent_o *)&v10->fields.loadingIconcallback, 0LL, v4, v5, v6, v7, v8, v9);
}


void __fastcall BattleLogic___c__DisplayClass324_0___ctor(
        BattleLogic___c__DisplayClass324_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass324_0___updateFieldBuff_b__0(
        BattleLogic___c__DisplayClass324_0_o *this,
        AiNpcBattleServantData_o *npc,
        const MethodInfo *method)
{
  if ( !npc )
    sub_B0D97C(this);
  BattleServantData__checkFieldBuff(
    (BattleServantData_o *)npc,
    this->fields.fieldSvtIds,
    this->fields.aliveSvtData,
    this->fields.__4__this,
    0LL);
}


void __fastcall BattleLogic___c__DisplayClass363_0___ctor(
        BattleLogic___c__DisplayClass363_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass363_0___LoadNStagePlayer_b__0(
        BattleLogic___c__DisplayClass363_0_o *this,
        const MethodInfo *method)
{
  BattleLogic_o *_4__this; // x0

  _4__this = this->fields.__4__this;
  if ( !_4__this )
    sub_B0D97C(0LL);
  BattleLogic__RemoveLoadingIcon(_4__this, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass363_0___LoadNStagePlayer_b__1(
        BattleLogic___c__DisplayClass363_0_o *this,
        const MethodInfo *method)
{
  struct BattleLogic_o *_4__this; // x8
  PlayMakerFSM_o *fsm; // x8

  _4__this = this->fields.__4__this;
  if ( !_4__this || (fsm = _4__this->fields.fsm) == 0LL )
    sub_B0D97C(this);
  PlayMakerFSM__SendEvent(fsm, this->fields.endproc, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass79_0___ctor(
        BattleLogic___c__DisplayClass79_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic___c__DisplayClass79_0___coroutineEntrySubMember_b__3(
        BattleLogic___c__DisplayClass79_0_o *this,
        int32_t i,
        const MethodInfo *method)
{
  __int64 v5; // x1
  struct System_Collections_Generic_List_RestockServantLogic__o *enemyRestockLogicList; // x20
  RestockServantLogic_o *v7; // x21
  __int64 v8; // x0

  if ( (byte_4213913 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_RestockServantLogic__Add__, *(_QWORD *)&i);
    sub_B0D8A4(&RestockServantLogic_TypeInfo, v5);
    byte_4213913 = 1;
  }
  enemyRestockLogicList = this->fields.enemyRestockLogicList;
  v7 = (RestockServantLogic_o *)sub_B0D974(RestockServantLogic_TypeInfo, *(_QWORD *)&i, method);
  RestockServantLogic___ctor(v7, i, 1, 0LL);
  if ( !enemyRestockLogicList )
    sub_B0D97C(v8);
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)enemyRestockLogicList,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v7,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_RestockServantLogic__Add__);
}


bool __fastcall BattleLogic___c__DisplayClass79_0___coroutineEntrySubMember_b__4(
        BattleLogic___c__DisplayClass79_0_o *this,
        int32_t i,
        const MethodInfo *method)
{
  struct BattleLogic_o *_4__this; // x8

  _4__this = this->fields.__4__this;
  if ( !_4__this || (this = (BattleLogic___c__DisplayClass79_0_o *)_4__this->fields.data) == 0LL )
    sub_B0D97C(this);
  return BattleData__IsEntry((BattleData_o *)this, i, 1, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass82_0___ctor(
        BattleLogic___c__DisplayClass82_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic___c__DisplayClass82_0___UnloadDeadDeckActorsAndFreeEntry_b__0(
        BattleLogic___c__DisplayClass82_0_o *this,
        int32_t i,
        int32_t servantUniqueId,
        const MethodInfo *method)
{
  BattleLogic___c__DisplayClass82_0_o *v6; // x20
  struct BattleLogic_o *_4__this; // x8
  BattleServantData_o *v8; // x21
  struct BattleLogic_o *v9; // x8
  struct BattleLogic_o *v10; // x8

  v6 = this;
  if ( (byte_4213914 & 1) == 0 )
  {
    this = (BattleLogic___c__DisplayClass82_0_o *)sub_B0D8A4(
                                                    &Method_System_Collections_Generic_List_BattleServantData__Add__,
                                                    *(_QWORD *)&i);
    byte_4213914 = 1;
  }
  _4__this = v6->fields.__4__this;
  if ( !_4__this )
    goto LABEL_15;
  this = (BattleLogic___c__DisplayClass82_0_o *)_4__this->fields.data;
  if ( !this )
    goto LABEL_15;
  this = (BattleLogic___c__DisplayClass82_0_o *)BattleData__getServantData((BattleData_o *)this, servantUniqueId, 0LL);
  if ( !this )
    goto LABEL_12;
  v8 = (BattleServantData_o *)this;
  if ( !BattleServantData__isDead((BattleServantData_o *)this, 0LL) )
    return;
  BattleServantData__setDeadData(v8, 0LL);
  v9 = v6->fields.__4__this;
  if ( !v9
    || (this = (BattleLogic___c__DisplayClass82_0_o *)v9->fields.perf) == 0LL
    || (BattlePerformance__unloadDeckActor((BattlePerformance_o *)this, i, v8, 0LL),
        (this = (BattleLogic___c__DisplayClass82_0_o *)v6->fields.result) == 0LL) )
  {
LABEL_15:
    sub_B0D97C(this);
  }
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(
    (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)this,
    (EventMissionProgressRequest_Argument_ProgressData_o *)v8,
    (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleServantData__Add__);
  this = (BattleLogic___c__DisplayClass82_0_o *)BattleServantData__isDeadWait(v8, 0LL);
  if ( ((unsigned __int8)this & 1) == 0 )
  {
LABEL_12:
    v10 = v6->fields.__4__this;
    if ( v10 )
    {
      this = (BattleLogic___c__DisplayClass82_0_o *)v10->fields.data;
      if ( this )
      {
        BattleData__FreeEntryByIndex((BattleData_o *)this, i, v6->fields.isEnemy, 0LL);
        return;
      }
    }
    goto LABEL_15;
  }
}


void __fastcall BattleLogic___c__DisplayClass83_0___ctor(
        BattleLogic___c__DisplayClass83_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


bool __fastcall BattleLogic___c__DisplayClass83_0___UnloadMoveToSubMemberDeckActors_b__0(
        BattleLogic___c__DisplayClass83_0_o *this,
        RestockServantLogicByMoveToSubMember_o *x,
        const MethodInfo *method)
{
  if ( !x )
    sub_B0D97C(this);
  return !x->fields._IsEnemy_k__BackingField ^ this->fields.isEnemy;
}


void __fastcall BattleLogic___c__DisplayClass90_0___ctor(
        BattleLogic___c__DisplayClass90_0_o *this,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
}


void __fastcall BattleLogic___c__DisplayClass90_0___startEntryMemberLocal_b__2(
        BattleLogic___c__DisplayClass90_0_o *this,
        BattleServantData_o *svtdata,
        const MethodInfo *method)
{
  BattleLogic___c__DisplayClass90_0_o *v4; // x19
  struct BattleLogic_o *_4__this; // x8
  int32_t v6; // w1
  BattleLogicNomal_o *logicnomal; // x21
  bool isTactical; // w3
  UnityEngine_Transform_o *v9; // x2
  BattleLogicNomal_o *v10; // x0
  BattleServantData_o *v11; // x1
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *tasklist; // x8

  v4 = this;
  if ( (byte_4213915 & 1) == 0 )
  {
    this = (BattleLogic___c__DisplayClass90_0_o *)sub_B0D8A4(
                                                    &Method_System_Collections_Generic_List_BattleLogicTask__AddRange__,
                                                    svtdata);
    byte_4213915 = 1;
  }
  if ( !svtdata )
    goto LABEL_13;
  svtdata->fields.repopOrder = -1;
  svtdata->fields.flgEntryFunction = 1;
  this = (BattleLogic___c__DisplayClass90_0_o *)BattleServantData__getDeckIndex(svtdata, 0LL);
  _4__this = v4->fields.__4__this;
  if ( !_4__this )
    goto LABEL_13;
  v6 = (int)this;
  this = (BattleLogic___c__DisplayClass90_0_o *)_4__this->fields.perf;
  if ( !this )
    goto LABEL_13;
  logicnomal = _4__this->fields.logicnomal;
  if ( v4->fields.isTactical )
  {
    this = (BattleLogic___c__DisplayClass90_0_o *)BattlePerformance__getTacticalPlayerPos(
                                                    (BattlePerformance_o *)this,
                                                    v6,
                                                    0LL);
    if ( !logicnomal )
      goto LABEL_13;
    isTactical = v4->fields.isTactical;
    v9 = (UnityEngine_Transform_o *)this;
    v10 = logicnomal;
    v11 = svtdata;
  }
  else
  {
    this = (BattleLogic___c__DisplayClass90_0_o *)BattlePerformance__getRepopPlayerPos(
                                                    (BattlePerformance_o *)this,
                                                    v6,
                                                    0LL);
    if ( !logicnomal )
      goto LABEL_13;
    v9 = (UnityEngine_Transform_o *)this;
    v10 = logicnomal;
    v11 = svtdata;
    isTactical = 0;
  }
  this = (BattleLogic___c__DisplayClass90_0_o *)BattleLogicNomal__taskPlaySubEntryMotion(v10, v11, v9, isTactical, 0LL);
  tasklist = (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v4->fields.tasklist;
  if ( !tasklist )
LABEL_13:
    sub_B0D97C(this);
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    tasklist,
    (System_Collections_Generic_IEnumerable_T__o *)this,
    (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
}


void __fastcall BattleLogic___c__DisplayClass90_0___startEntryMemberLocal_b__5(
        BattleLogic___c__DisplayClass90_0_o *this,
        BattleServantData_o *svtdata,
        const MethodInfo *method)
{
  BattleLogic___c__DisplayClass90_0_o *v4; // x19
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  struct BattleLogic_o *_4__this; // x8
  int32_t v9; // w1
  BattleLogicNomal_o *logicnomal; // x21
  struct BattleLogic_o *v11; // x8
  System_Int32_array *v12; // x21
  int tasklist; // w23
  __int64 v14; // x20
  __int64 v15; // x22
  __int64 v16; // x1
  __int64 v17; // x2
  struct BattleLogic_o *v18; // x8
  BattleData_o *data; // x22
  struct BattleFieldEnvironmentData_o *FieldEnvData_k__BackingField; // x20
  int32_t v21; // w23
  bool v22; // w24
  Generator_BGM_o *v23; // x21
  __int64 v24; // x0
  CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_o v25; // 0:x0.16

  v4 = this;
  if ( (byte_4213916 & 1) == 0 )
  {
    sub_B0D8A4(&Generator_BGM_TypeInfo, svtdata);
    sub_B0D8A4(&Method_BasicHelper_IndexValue_int____67955848, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleLogicTask__AddRange__, v6);
    this = (BattleLogic___c__DisplayClass90_0_o *)sub_B0D8A4(
                                                    &CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo,
                                                    v7);
    byte_4213916 = 1;
  }
  if ( !svtdata )
    goto LABEL_28;
  svtdata->fields.repopOrder = -1;
  svtdata->fields.flgEntryFunction = 1;
  this = (BattleLogic___c__DisplayClass90_0_o *)BattleServantData__getDeckIndex(svtdata, 0LL);
  _4__this = v4->fields.__4__this;
  if ( !_4__this )
    goto LABEL_28;
  v9 = (int)this;
  this = (BattleLogic___c__DisplayClass90_0_o *)_4__this->fields.perf;
  if ( !this )
    goto LABEL_28;
  logicnomal = _4__this->fields.logicnomal;
  if ( v4->fields.isTactical )
  {
    this = (BattleLogic___c__DisplayClass90_0_o *)BattlePerformance__getRepopEnemyTacicalPos(
                                                    (BattlePerformance_o *)this,
                                                    v9,
                                                    0LL);
    if ( !logicnomal )
      goto LABEL_28;
  }
  else
  {
    this = (BattleLogic___c__DisplayClass90_0_o *)BattlePerformance__getRepopEnemyPos(
                                                    (BattlePerformance_o *)this,
                                                    v9,
                                                    0LL);
    if ( !logicnomal )
      goto LABEL_28;
  }
  this = (BattleLogic___c__DisplayClass90_0_o *)BattleLogicNomal__taskPlaySubEntryMotion(
                                                  logicnomal,
                                                  svtdata,
                                                  (UnityEngine_Transform_o *)this,
                                                  0,
                                                  0LL);
  if ( !v4->fields.tasklist )
    goto LABEL_28;
  System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
    (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v4->fields.tasklist,
    (System_Collections_Generic_IEnumerable_T__o *)this,
    (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_BattleLogicTask__AddRange__);
  BattleServantData__SetRemainActionCount(svtdata, 0, 0LL);
  v11 = v4->fields.__4__this;
  if ( !v11 )
    goto LABEL_28;
  this = (BattleLogic___c__DisplayClass90_0_o *)v11->fields.data;
  if ( !this )
    goto LABEL_28;
  this = (BattleLogic___c__DisplayClass90_0_o *)BattleData__getStageEntity((BattleData_o *)this, 0LL);
  if ( !this )
    goto LABEL_28;
  this = (BattleLogic___c__DisplayClass90_0_o *)StageEntity__GetBossIdAndChangeBgmId((StageEntity_o *)this, 0LL);
  if ( !this )
    goto LABEL_28;
  v12 = (System_Int32_array *)this;
  if ( SLODWORD(this->fields.__4__this) >= 2 )
  {
    tasklist = (int)this->fields.tasklist;
    v15 = *(_QWORD *)&svtdata->fields.svtId.fields.currentCryptoKey;
    v14 = *(_QWORD *)&svtdata->fields.svtId.fields.fakeValue;
    if ( (BYTE3(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(CodeStage_AntiCheat_ObscuredTypes_ObscuredInt_TypeInfo);
    }
    *(_QWORD *)&v25.fields.currentCryptoKey = v15;
    *(_QWORD *)&v25.fields.fakeValue = v14;
    if ( tasklist == CodeStage_AntiCheat_ObscuredTypes_ObscuredInt__op_Implicit_44162576(v25, 0LL) )
    {
      this = (BattleLogic___c__DisplayClass90_0_o *)BasicHelper__IndexValue_int_(
                                                      v12,
                                                      2,
                                                      0,
                                                      (const MethodInfo_17093A8 *)Method_BasicHelper_IndexValue_int____67955848);
      v18 = v4->fields.__4__this;
      if ( v18 )
      {
        data = v18->fields.data;
        if ( data )
        {
          if ( v12->max_length <= 1 )
          {
            v24 = sub_B0D9A8(this);
            sub_B0D948(v24, 0LL);
          }
          FieldEnvData_k__BackingField = data->fields._FieldEnvData_k__BackingField;
          v21 = v12->m_Items[2];
          v22 = (int)this > 0;
          v23 = (Generator_BGM_o *)sub_B0D974(Generator_BGM_TypeInfo, v16, v17);
          Generator_BGM___ctor(v23, data, v21, v22, 0, 0LL, 0LL);
          if ( FieldEnvData_k__BackingField )
          {
            ((void (__fastcall *)(struct BattleFieldEnvironmentData_o *, Generator_BGM_o *, __int64, Il2CppMethodPointer))FieldEnvData_k__BackingField->klass->vtable._6_AddBGM.method)(
              FieldEnvData_k__BackingField,
              v23,
              2LL,
              FieldEnvData_k__BackingField->klass->vtable._7_RemoveAfterResetBGM.methodPtr);
            this = (BattleLogic___c__DisplayClass90_0_o *)v4->fields.__4__this;
            if ( this )
            {
              BattleLogic__loadBgmName((BattleLogic_o *)this, 0LL, 0LL);
              this = (BattleLogic___c__DisplayClass90_0_o *)v4->fields.__4__this;
              if ( this )
              {
                BattleLogic__PlayCurrentBgm((BattleLogic_o *)this, 0.0, 0LL);
                return;
              }
            }
          }
        }
      }
LABEL_28:
      sub_B0D97C(this);
    }
  }
}


void __fastcall BattleLogic__colReplaceMember_d__88___ctor(
        BattleLogic__colReplaceMember_d__88_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__colReplaceMember_d__88__MoveNext(
        BattleLogic__colReplaceMember_d__88_o *this,
        const MethodInfo *method)
{
  BattleLogic__colReplaceMember_d__88_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  struct BattleLogic_o *_4__this; // x20
  System_Int32_array **v10; // x0
  BattleServantConfConponent_o *v11; // x19
  System_String_array **v12; // x2
  System_String_array **v13; // x3
  System_Boolean_array **v14; // x4
  System_Int32_array **v15; // x5
  System_Int32_array *v16; // x6
  System_Int32_array *v17; // x7
  int v18; // w8
  __int64 v19; // x1
  __int64 v20; // x2
  struct BattleData_o *data; // x8
  struct BattleActionData_ReplaceMember_o *v22; // x9
  struct BattleActionData_ReplaceMember_o *replaceData; // x8
  BattleServantData_o *v24; // x21
  struct BattleActionData_ReplaceMember_o *v25; // x8
  int32_t index; // w1
  struct BattleActionData_ReplaceMember_o *v27; // x8
  BattleServantData_o *v28; // x1
  System_Int32_array **v29; // x0
  System_String_array **v30; // x2
  System_String_array **v31; // x3
  System_Boolean_array **v32; // x4
  System_Int32_array **v33; // x5
  System_Int32_array *v34; // x6
  System_Int32_array *v35; // x7
  bool result; // w0
  struct BattleActionData_ReplaceMember_o *v37; // x8
  int32_t v38; // w1
  struct BattleActionData_ReplaceMember_o *v39; // x8
  System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo__o *enemy_datalist; // x21
  struct BattleLogic___c_StaticFields *static_fields; // x8
  System_Comparison_TitleInfoControl_EventEndTimeInfo__o *_9__88_0; // x22
  Il2CppObject *v43; // x23
  struct BattleLogic___c_StaticFields *v44; // x0
  System_String_array **v45; // x2
  System_String_array **v46; // x3
  System_Boolean_array **v47; // x4
  System_Int32_array **v48; // x5
  System_Int32_array *v49; // x6
  System_Int32_array *v50; // x7
  struct BattleActionData_ReplaceMember_o *v51; // x8
  System_Int32_array **v52; // x0
  BattleServantConfConponent_o *p__2__current; // x19
  System_String_array **v54; // x2
  System_String_array **v55; // x3
  System_Boolean_array **v56; // x4
  System_Int32_array **v57; // x5
  System_Int32_array *v58; // x6
  System_Int32_array *v59; // x7
  struct BattleActionData_ReplaceMember_o *v60; // x8
  System_Int32_array **v61; // x0
  System_String_array **v62; // x2
  System_String_array **v63; // x3
  System_Boolean_array **v64; // x4
  System_Int32_array **v65; // x5
  System_Int32_array *v66; // x6
  System_Int32_array *v67; // x7
  System_Int32_array **v68; // x0
  System_String_array **v69; // x2
  System_String_array **v70; // x3
  System_Boolean_array **v71; // x4
  System_Int32_array **v72; // x5
  System_Int32_array *v73; // x6
  System_Int32_array *v74; // x7
  int v75; // [xsp+Ch] [xbp-34h] BYREF

  v2 = this;
  if ( (byte_421391E & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Comparison_BattleServantData___ctor__, method);
    sub_B0D8A4(&System_Comparison_BattleServantData__TypeInfo, v3);
    sub_B0D8A4(&int_TypeInfo, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData__Sort__, v5);
    sub_B0D8A4(&ServantAssetLoadManager_TypeInfo, v6);
    sub_B0D8A4(&Method_BattleLogic___c__colReplaceMember_b__88_0__, v7);
    this = (BattleLogic__colReplaceMember_d__88_o *)sub_B0D8A4(&BattleLogic___c_TypeInfo, v8);
    byte_421391E = 1;
  }
  _4__this = v2->fields.__4__this;
  switch ( v2->fields.__1__state )
  {
    case 0:
      v2->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_73;
      replaceData = v2->fields.replaceData;
      if ( !replaceData )
        goto LABEL_73;
      this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_73;
      this = (BattleLogic__colReplaceMember_d__88_o *)BattleData__getServantData(
                                                        (BattleData_o *)this,
                                                        replaceData->fields.outUniqeId,
                                                        0LL);
      if ( !this )
        goto LABEL_73;
      v24 = (BattleServantData_o *)this;
      v2->fields._isPlayer_5__2 = BattleServantData__checkPlayer((BattleServantData_o *)this, 0LL);
      BattleServantData__resetParamObject(v24, 0LL);
      v24->fields.isEntry = 0;
      this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_73;
      BattlePerformance__SetActorPartAnimationData((BattlePerformance_o *)this, v24->fields.uniqueId, 0LL);
      v25 = v2->fields.replaceData;
      if ( !v25 )
        goto LABEL_73;
      this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_73;
      index = v25->fields.index;
      if ( v2->fields._isPlayer_5__2 )
        BattlePerformance__deletePlayerActor((BattlePerformance_o *)this, index, 0LL);
      else
        BattlePerformance__deleteEnemyActor((BattlePerformance_o *)this, index, 0LL);
      this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_73;
      BattlePerformance__unloadServantSet_18245288((BattlePerformance_o *)this, v24, 0, 0LL);
      v75 = 0;
      v52 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v75);
      v2->fields.__2__current = (Il2CppObject *)v52;
      p__2__current = (BattleServantConfConponent_o *)&v2->fields.__2__current;
      sub_B0D840(p__2__current, v52, v54, v55, v56, v57, v58, v59);
      result = 1;
      *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
      return result;
    case 1:
      v2->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_73;
      v27 = v2->fields.replaceData;
      if ( !v27 )
        goto LABEL_73;
      this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_73;
      this = (BattleLogic__colReplaceMember_d__88_o *)BattleData__getServantData(
                                                        (BattleData_o *)this,
                                                        v27->fields.inUniqeId,
                                                        0LL);
      if ( !this )
        goto LABEL_73;
      BYTE4(this[7].klass) = 1;
      BYTE5(this[8].klass) = 1;
      v28 = (BattleServantData_o *)this;
      this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_73;
      BattlePerformance__preLoadServantSet((BattlePerformance_o *)this, v28, 0LL);
LABEL_32:
      if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
      }
      this = (BattleLogic__colReplaceMember_d__88_o *)ServantAssetLoadManager__checkLoad(0LL);
      if ( ((unsigned __int8)this & 1) != 0 )
      {
        v75 = 0;
        v29 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v75);
        v2->fields.__2__current = (Il2CppObject *)v29;
        v11 = (BattleServantConfConponent_o *)&v2->fields.__2__current;
        sub_B0D840(v11, v29, v30, v31, v32, v33, v34, v35);
        v18 = 2;
        goto LABEL_71;
      }
      if ( !_4__this )
        goto LABEL_73;
      v37 = v2->fields.replaceData;
      if ( !v37 )
        goto LABEL_73;
      this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_73;
      v38 = v37->fields.index;
      if ( v2->fields._isPlayer_5__2 )
      {
        this = (BattleLogic__colReplaceMember_d__88_o *)BattlePerformance__loadPlayerActor(
                                                          (BattlePerformance_o *)this,
                                                          v38,
                                                          0LL);
        v39 = v2->fields.replaceData;
        if ( v39 )
        {
          this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.perf;
          if ( this )
          {
            BattlePerformance__replacePlayerActor((BattlePerformance_o *)this, v39->fields.index, 0LL);
LABEL_66:
            v75 = 0;
            v61 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v75);
            v2->fields.__2__current = (Il2CppObject *)v61;
            v11 = (BattleServantConfConponent_o *)&v2->fields.__2__current;
            sub_B0D840(v11, v61, v62, v63, v64, v65, v66, v67);
            v18 = 3;
            goto LABEL_71;
          }
        }
      }
      else
      {
        this = (BattleLogic__colReplaceMember_d__88_o *)BattlePerformance__loadEnemyActor(
                                                          (BattlePerformance_o *)this,
                                                          v38,
                                                          0LL);
        v60 = v2->fields.replaceData;
        if ( v60 )
        {
          this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.perf;
          if ( this )
          {
            BattlePerformance__replaceEnemyActor((BattlePerformance_o *)this, v60->fields.index, 0LL);
            goto LABEL_66;
          }
        }
      }
      goto LABEL_73;
    case 2:
      v2->fields.__1__state = -1;
      goto LABEL_32;
    case 3:
    case 4:
      v2->fields.__1__state = -1;
      if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
      }
      this = (BattleLogic__colReplaceMember_d__88_o *)ServantAssetLoadManager__checkLoad(0LL);
      if ( ((unsigned __int8)this & 1) == 0 )
      {
        if ( _4__this )
        {
          BattleLogic__updateFieldBuff(_4__this, 0LL);
          data = _4__this->fields.data;
          if ( v2->fields._isPlayer_5__2 )
          {
            v22 = v2->fields.replaceData;
            if ( v22 )
            {
              if ( data )
              {
                BattleData__replaceCommandCard(
                  _4__this->fields.data,
                  v22->fields.inUniqeId,
                  v22->fields.outUniqeId,
                  0LL);
                this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.data;
                if ( this )
                {
                  if ( BattleData__isDoNotSelectCommandServantCommandInCommandList((BattleData_o *)this, 0LL) )
                  {
                    BattleLogic__drawCommand(_4__this, 0LL);
LABEL_69:
                    BattleLogic__setDrawCard(_4__this, 0LL);
LABEL_70:
                    v75 = 0;
                    v68 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v75);
                    v2->fields.__2__current = (Il2CppObject *)v68;
                    v11 = (BattleServantConfConponent_o *)&v2->fields.__2__current;
                    sub_B0D840(v11, v68, v69, v70, v71, v72, v73, v74);
                    v18 = 5;
                    goto LABEL_71;
                  }
                  this = (BattleLogic__colReplaceMember_d__88_o *)_4__this->fields.data;
                  if ( this )
                  {
                    BattleData__ChangeDoNotSelectCommandServantList((BattleData_o *)this, 0LL);
                    goto LABEL_69;
                  }
                }
              }
            }
          }
          else if ( data )
          {
            enemy_datalist = (System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo__o *)data->fields.enemy_datalist;
            this = (BattleLogic__colReplaceMember_d__88_o *)BattleLogic___c_TypeInfo;
            if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
              && !BattleLogic___c_TypeInfo->_2.cctor_finished )
            {
              j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
              this = (BattleLogic__colReplaceMember_d__88_o *)BattleLogic___c_TypeInfo;
            }
            static_fields = *(struct BattleLogic___c_StaticFields **)&this[2].fields._isPlayer_5__2;
            _9__88_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)static_fields->__9__88_0;
            if ( !_9__88_0 )
            {
              if ( (BYTE3(this[4].fields.endCallBack) & 4) != 0 && !LODWORD(this[3].fields.__4__this) )
              {
                j_il2cpp_runtime_class_init_0(this);
                static_fields = BattleLogic___c_TypeInfo->static_fields;
              }
              v43 = (Il2CppObject *)static_fields->__9;
              _9__88_0 = (System_Comparison_TitleInfoControl_EventEndTimeInfo__o *)sub_B0D974(
                                                                                     System_Comparison_BattleServantData__TypeInfo,
                                                                                     v19,
                                                                                     v20);
              System_Comparison_TitleInfoControl_EventEndTimeInfo____ctor(
                _9__88_0,
                v43,
                Method_BattleLogic___c__colReplaceMember_b__88_0__,
                (const MethodInfo_2412E90 *)Method_System_Comparison_BattleServantData___ctor__);
              v44 = BattleLogic___c_TypeInfo->static_fields;
              v44->__9__88_0 = (struct System_Comparison_BattleServantData__o *)_9__88_0;
              sub_B0D840(
                (BattleServantConfConponent_o *)&v44->__9__88_0,
                (System_Int32_array **)_9__88_0,
                v45,
                v46,
                v47,
                v48,
                v49,
                v50);
            }
            if ( enemy_datalist )
            {
              System_Collections_Generic_List_TitleInfoControl_EventEndTimeInfo___Sort(
                enemy_datalist,
                (System_Comparison_T__o *)_9__88_0,
                (const MethodInfo_2FC77C4 *)Method_System_Collections_Generic_List_BattleServantData__Sort__);
              this = (BattleLogic__colReplaceMember_d__88_o *)BattleLogic__getTargetId(_4__this, 0LL);
              v51 = v2->fields.replaceData;
              if ( v51 )
              {
                if ( (_DWORD)this == v51->fields.outUniqeId )
                  BattleLogic__setTargetIndex(_4__this, 0, 0LL);
                goto LABEL_70;
              }
            }
          }
        }
LABEL_73:
        sub_B0D97C(this);
      }
      v75 = 0;
      v10 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v75);
      v2->fields.__2__current = (Il2CppObject *)v10;
      v11 = (BattleServantConfConponent_o *)&v2->fields.__2__current;
      sub_B0D840(v11, v10, v12, v13, v14, v15, v16, v17);
      v18 = 4;
LABEL_71:
      *(_DWORD *)&v11[-1].fields.isOpenAfter = v18;
      return 1;
    case 5:
      this = (BattleLogic__colReplaceMember_d__88_o *)v2->fields.endCallBack;
      v2->fields.__1__state = -1;
      if ( !this )
        goto LABEL_73;
      System_Action__Invoke((System_Action_o *)this, 0LL);
      return 0;
    default:
      return 0;
  }
}


Il2CppObject *__fastcall BattleLogic__colReplaceMember_d__88__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__colReplaceMember_d__88_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__colReplaceMember_d__88__System_Collections_IEnumerator_Reset(
        BattleLogic__colReplaceMember_d__88_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__colReplaceMember_d__88_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__colReplaceMember_d__88__System_Collections_IEnumerator_get_Current(
        BattleLogic__colReplaceMember_d__88_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__colReplaceMember_d__88__System_IDisposable_Dispose(
        BattleLogic__colReplaceMember_d__88_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__coroutineContinueMember_d__92___ctor(
        BattleLogic__coroutineContinueMember_d__92_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__coroutineContinueMember_d__92__MoveNext(
        BattleLogic__coroutineContinueMember_d__92_o *this,
        const MethodInfo *method)
{
  System_String_array **v2; // x2
  System_String_array **v3; // x3
  System_Boolean_array **v4; // x4
  System_Int32_array **v5; // x5
  System_Int32_array *v6; // x6
  System_Int32_array *v7; // x7
  BattleLogic__coroutineContinueMember_d__92_o *v8; // x19
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  int32_t _1__state; // w8
  BattleLogic_o *_4__this; // x20
  __int64 v18; // x0
  int v19; // w9
  int32_t *p_i_5__2; // x22
  BattlePerformance_c *v21; // x0
  PlayMakerFSM_o *fsm; // x0
  __int64 v23; // x0
  struct BattlePerformance_o *perf; // x8
  BattlePerformanceContinue_o *contPerf; // x0
  bool result; // w0
  int v27; // w8
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *player_datalist; // x0
  struct System_Collections_Generic_List_Enumerator_BattleServantData__o *p__7__wrap2; // x21
  __int128 v30; // q0
  System_String_array **v31; // x2
  System_String_array **v32; // x3
  System_Boolean_array **v33; // x4
  System_Int32_array **v34; // x5
  System_Int32_array *v35; // x6
  System_Int32_array *v36; // x7
  _BOOL8 v37; // x0
  struct BattlePerformance_o *v38; // x8
  struct BattleData_o *v39; // x9
  struct BattleDefenceTargetData_o *defenceTargetData; // x9
  BattlePerformanceDefenceTarget_o *defenceTarget; // x0
  __int64 v42; // x0
  struct BattlePerformance_o *v43; // x8
  UnityEngine_Component_o *v44; // x0
  UnityEngine_GameObject_o *gameObject; // x0
  struct BattlePerformance_o *v46; // x8
  struct BattlePerformanceDefenceTarget_o *v47; // x8
  struct BattleData_o *v48; // x8
  struct BattleActionLogManagerInterface_o *actionLogManager; // x20
  BattleActionLogManagerInterface_c *klass; // x8
  unsigned __int64 v51; // x10
  BattleActionLogManagerInterface_c **p_offset; // x11
  __int64 p_method; // x0
  System_String_array **v54; // x2
  System_String_array **v55; // x3
  System_Boolean_array **v56; // x4
  System_Int32_array **v57; // x5
  System_Int32_array *v58; // x6
  System_Int32_array *v59; // x7
  DefCoroutine_c *v60; // x0
  System_Int32_array **milliSecFourTeen; // x1
  _BOOL8 v62; // x0
  const MethodInfo *v63; // x1
  struct BattleServantData_o *current; // x8
  BattlePerformance_o *v65; // x0
  _BOOL8 v66; // x0
  BattlePerformance_o *v67; // x0
  BattlePerformance_o *v68; // x0
  struct BattleData_o *data; // x8
  struct System_Int32_array *p_entryid; // x10
  System_Int32_array **v71; // x0
  System_String_array **v72; // x2
  System_String_array **v73; // x3
  System_Boolean_array **v74; // x4
  System_Int32_array **v75; // x5
  System_Int32_array *v76; // x6
  System_Int32_array *v77; // x7
  System_Collections_Generic_List_Enumerator_T__o v78; // [xsp+18h] [xbp-48h] BYREF

  v8 = this;
  if ( (byte_421391F & 1) == 0 )
  {
    sub_B0D8A4(&BattleActionLogManagerInterface_TypeInfo, method);
    sub_B0D8A4(&BattlePerformance_TypeInfo, v9);
    sub_B0D8A4(&DefCoroutine_TypeInfo, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__get_Current__, v12);
    sub_B0D8A4(&int_TypeInfo, v13);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__, v14);
    this = (BattleLogic__coroutineContinueMember_d__92_o *)sub_B0D8A4(&ServantAssetLoadManager_TypeInfo, v15);
    byte_421391F = 1;
  }
  _1__state = v8->fields.__1__state;
  _4__this = v8->fields.__4__this;
  if ( (unsigned int)(_1__state - 2) < 2 )
  {
    v8->fields.__1__state = -1;
    v21 = BattlePerformance_TypeInfo;
    if ( (BYTE3(BattlePerformance_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !BattlePerformance_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(BattlePerformance_TypeInfo);
      v21 = BattlePerformance_TypeInfo;
    }
    if ( !v21->static_fields->isAnyVoiceFinish )
    {
      v8->fields.__2__current = 0LL;
      sub_B0D840((BattleServantConfConponent_o *)&v8->fields.__2__current, 0LL, v2, v3, v4, v5, v6, v7);
      v27 = 3;
LABEL_51:
      v8->fields.__1__state = v27;
      return 1;
    }
    if ( !_4__this )
      sub_B0D97C(v21);
    BattleLogic__resetTimeAcceleration(_4__this, 0, 0LL);
    fsm = _4__this->fields.fsm;
    if ( !fsm )
      sub_B0D97C(0LL);
    PlayMakerFSM__SendEvent(fsm, v8->fields.endproc, 0LL);
    perf = _4__this->fields.perf;
    if ( !perf )
      sub_B0D97C(v23);
    contPerf = perf->fields.contPerf;
    if ( !contPerf )
      sub_B0D97C(0LL);
    BattlePerformanceContinue__EndContinue(contPerf, 0LL);
    return 0;
  }
  if ( _1__state == 1 )
  {
    v8->fields.__1__state = -3;
    goto LABEL_69;
  }
  if ( _1__state )
    return 0;
  v8->fields.__1__state = -1;
  if ( !_4__this )
    sub_B0D97C(this);
  BattleLogic__setTimeAcceleration(_4__this, 0, 0LL);
  v19 = 0;
  v8->fields._i_5__2 = 0;
  p_i_5__2 = &v8->fields._i_5__2;
LABEL_78:
  data = _4__this->fields.data;
  if ( !data )
    sub_B0D97C(v18);
  p_entryid = data->fields.p_entryid;
  if ( !p_entryid )
    sub_B0D97C(v18);
  if ( v19 >= (signed int)p_entryid->max_length )
  {
    v37 = BattleData__CheckDefenceTargetData(_4__this->fields.data, 0LL);
    if ( v37 )
    {
      v38 = _4__this->fields.perf;
      if ( !v38 )
        sub_B0D97C(v37);
      v39 = _4__this->fields.data;
      if ( !v39 )
        sub_B0D97C(v37);
      defenceTargetData = v39->fields.defenceTargetData;
      if ( !defenceTargetData )
        sub_B0D97C(v37);
      defenceTarget = v38->fields.defenceTarget;
      if ( !defenceTarget )
        sub_B0D97C(0LL);
      BattlePerformanceDefenceTarget__SetHpGauge(defenceTarget, defenceTargetData->fields.nowHp, 0LL);
      v43 = _4__this->fields.perf;
      if ( !v43 )
        sub_B0D97C(v42);
      v44 = (UnityEngine_Component_o *)v43->fields.defenceTarget;
      if ( !v44 )
        sub_B0D97C(0LL);
      gameObject = UnityEngine_Component__get_gameObject(v44, 0LL);
      if ( !gameObject )
        sub_B0D97C(0LL);
      UnityEngine_GameObject__SetActive(gameObject, 0, 0LL);
      v46 = _4__this->fields.perf;
      if ( !v46 )
        sub_B0D97C(v37);
      v47 = v46->fields.defenceTarget;
      if ( !v47 )
        sub_B0D97C(v37);
      v47->fields.isContinue = 1;
    }
    v48 = _4__this->fields.data;
    if ( !v48 )
      sub_B0D97C(v37);
    actionLogManager = v48->fields.actionLogManager;
    if ( !actionLogManager )
      sub_B0D97C(v37);
    klass = actionLogManager->klass;
    if ( *(_WORD *)&actionLogManager->klass->_2.bitflags1 )
    {
      v51 = 0LL;
      p_offset = (BattleActionLogManagerInterface_c **)&klass->_1.interfaceOffsets->offset;
      while ( *(p_offset - 1) != BattleActionLogManagerInterface_TypeInfo )
      {
        ++v51;
        p_offset += 2;
        if ( v51 >= *(unsigned __int16 *)&actionLogManager->klass->_2.bitflags1 )
          goto LABEL_45;
      }
      p_method = (__int64)&klass->vtable[*(_DWORD *)p_offset + 9].method;
    }
    else
    {
LABEL_45:
      p_method = sub_AA67A0(actionLogManager, BattleActionLogManagerInterface_TypeInfo, 9LL);
    }
    (*(void (__fastcall **)(struct BattleActionLogManagerInterface_o *, _QWORD))p_method)(
      actionLogManager,
      *(_QWORD *)(p_method + 8));
    v60 = DefCoroutine_TypeInfo;
    if ( (BYTE3(DefCoroutine_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !DefCoroutine_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(DefCoroutine_TypeInfo);
      v60 = DefCoroutine_TypeInfo;
    }
    milliSecFourTeen = (System_Int32_array **)v60->static_fields->milliSecFourTeen;
    v8->fields.__2__current = (Il2CppObject *)milliSecFourTeen;
    sub_B0D840((BattleServantConfConponent_o *)&v8->fields.__2__current, milliSecFourTeen, v54, v55, v56, v57, v58, v59);
    v27 = 2;
    goto LABEL_51;
  }
  player_datalist = (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)data->fields.player_datalist;
  if ( !player_datalist )
    sub_B0D97C(0LL);
  System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
    &v78,
    player_datalist,
    (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_BattleServantData__GetEnumerator__);
  p__7__wrap2 = &v8->fields.__7__wrap2;
  v30 = *(_OWORD *)&v78.fields.list;
  v8->fields.__7__wrap2.fields.current = (struct BattleServantData_o *)v78.fields.current;
  *(_OWORD *)&v8->fields.__7__wrap2.fields.list = v30;
  sub_B0D840((BattleServantConfConponent_o *)&v8->fields.__7__wrap2, 0LL, v31, v32, v33, v34, v35, v36);
  v8->fields.__1__state = -3;
  while ( 1 )
  {
    do
    {
      v62 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
              (System_Collections_Generic_List_Enumerator_T__o *)p__7__wrap2,
              (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__MoveNext__);
      if ( !v62 )
      {
        BattleLogic__coroutineContinueMember_d__92____m__Finally1(v8, v63);
        *(_QWORD *)&p__7__wrap2->fields.index = 0LL;
        p__7__wrap2->fields.current = 0LL;
        p__7__wrap2->fields.list = 0LL;
        v19 = *p_i_5__2 + 1;
        *p_i_5__2 = v19;
        goto LABEL_78;
      }
      current = v8->fields.__7__wrap2.fields.current;
      if ( !current )
        sub_B0D97C(v62);
    }
    while ( *p_i_5__2 != current->fields.index );
    v65 = _4__this->fields.perf;
    if ( !v65 )
      sub_B0D97C(0LL);
    BattlePerformance__preLoadServantSet(v65, v8->fields.__7__wrap2.fields.current, 0LL);
LABEL_69:
    if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
      && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
    {
      j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
    }
    v66 = ServantAssetLoadManager__checkLoad(0LL);
    if ( v66 )
      break;
    if ( !_4__this )
      sub_B0D97C(v66);
    v67 = _4__this->fields.perf;
    if ( !v67 )
      sub_B0D97C(0LL);
    p_i_5__2 = &v8->fields._i_5__2;
    BattlePerformance__loadPlayerActor(v67, v8->fields._i_5__2, 0LL);
    v68 = _4__this->fields.perf;
    if ( !v68 )
      sub_B0D97C(0LL);
    BattlePerformance__continuePlayerActor(v68, v8->fields._i_5__2, v8->fields.isTactical, 0LL);
    p__7__wrap2 = &v8->fields.__7__wrap2;
  }
  LODWORD(v78.fields.list) = 0;
  v71 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v78);
  v8->fields.__2__current = (Il2CppObject *)v71;
  sub_B0D840((BattleServantConfConponent_o *)&v8->fields.__2__current, v71, v72, v73, v74, v75, v76, v77);
  result = 1;
  v8->fields.__1__state = 1;
  return result;
}


Il2CppObject *__fastcall BattleLogic__coroutineContinueMember_d__92__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__coroutineContinueMember_d__92_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__coroutineContinueMember_d__92__System_Collections_IEnumerator_Reset(
        BattleLogic__coroutineContinueMember_d__92_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__coroutineContinueMember_d__92_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__coroutineContinueMember_d__92__System_Collections_IEnumerator_get_Current(
        BattleLogic__coroutineContinueMember_d__92_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__coroutineContinueMember_d__92__System_IDisposable_Dispose(
        BattleLogic__coroutineContinueMember_d__92_o *this,
        const MethodInfo *method)
{
  int32_t _1__state; // w8

  _1__state = this->fields.__1__state;
  if ( _1__state == 1 || _1__state == -3 )
    BattleLogic__coroutineContinueMember_d__92____m__Finally1(this, method);
}


void __fastcall BattleLogic__coroutineContinueMember_d__92____m__Finally1(
        BattleLogic__coroutineContinueMember_d__92_o *this,
        const MethodInfo *method)
{
  if ( (byte_4213920 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__, method);
    byte_4213920 = 1;
  }
  this->fields.__1__state = -1;
  System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
    (System_Collections_Generic_List_Enumerator_T__o *)&this->fields.__7__wrap2,
    (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_BattleServantData__Dispose__);
}


void __fastcall BattleLogic__coroutineEntrySubMember_d__79___ctor(
        BattleLogic__coroutineEntrySubMember_d__79_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__coroutineEntrySubMember_d__79__MoveNext(
        BattleLogic__coroutineEntrySubMember_d__79_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x2
  BattleLogic__coroutineEntrySubMember_d__79_o *v3; // x19
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  __int64 v16; // x1
  __int64 v17; // x1
  __int64 v18; // x1
  __int64 v19; // x1
  __int64 v20; // x1
  __int64 v21; // x1
  __int64 v22; // x1
  __int64 v23; // x1
  __int64 v24; // x1
  __int64 v25; // x1
  __int64 v26; // x1
  __int64 v27; // x1
  __int64 v28; // x1
  __int64 v29; // x1
  __int64 v30; // x1
  __int64 v31; // x1
  __int64 v32; // x1
  __int64 v33; // x1
  __int64 v34; // x1
  __int64 v35; // x1
  __int64 v36; // x1
  __int64 v37; // x1
  __int64 v38; // x1
  __int64 v39; // x1
  struct BattleLogic_o *_4__this; // x20
  __int64 v41; // x21
  System_String_array **v42; // x2
  System_String_array **v43; // x3
  System_Boolean_array **v44; // x4
  System_Int32_array **v45; // x5
  System_Int32_array *v46; // x6
  System_Int32_array *v47; // x7
  System_Int32_array **v48; // x1
  System_Int32_array **v49; // x0
  System_String_array **v50; // x2
  System_String_array **v51; // x3
  System_Boolean_array **v52; // x4
  System_Int32_array **v53; // x5
  System_Int32_array *v54; // x6
  System_Int32_array *v55; // x7
  BattleServantData_array *v56; // x22
  System_Int32_array **v57; // x0
  struct BattleServantData_array **p_moveToSubMemberPlayerServantArray_5__3; // x23
  System_String_array **v59; // x2
  System_String_array **v60; // x3
  System_Boolean_array **v61; // x4
  System_Int32_array **v62; // x5
  System_Int32_array *v63; // x6
  System_Int32_array *v64; // x7
  struct BattleServantData_array *deadPlayerServantArray_5__2; // x8
  __int64 v66; // x1
  __int64 v67; // x2
  System_Collections_Generic_List_RestockServantLogic__o *RestockServantLogicList; // x22
  BattleLogic___c_c *v69; // x8
  struct BattleLogic___c_StaticFields *static_fields; // x9
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__79_0; // x23
  Il2CppObject *v72; // x24
  struct BattleLogic___c_StaticFields *v73; // x0
  System_String_array **v74; // x2
  System_String_array **v75; // x3
  System_Boolean_array **v76; // x4
  System_Int32_array **v77; // x5
  System_Int32_array *v78; // x6
  System_Int32_array *v79; // x7
  System_Collections_Generic_IEnumerable_TSource__o *v80; // x0
  __int64 v81; // x1
  __int64 v82; // x2
  struct BattleData_o *data; // x8
  struct System_Int32_array *p_entryid; // x23
  BattleLogic__coroutineEntrySubMember_d__79_o *v85; // x22
  BattleLogic___c_c *v86; // x0
  struct BattleLogic___c_StaticFields *v87; // x8
  int32_t max_length; // w23
  System_Func_int__BattleActionData_SideEffectData__o *_9__79_1; // x24
  Il2CppObject *v90; // x25
  struct BattleLogic___c_StaticFields *v91; // x0
  System_String_array **v92; // x2
  System_String_array **v93; // x3
  System_Boolean_array **v94; // x4
  System_Int32_array **v95; // x5
  System_Int32_array *v96; // x6
  System_Int32_array *v97; // x7
  __int64 v98; // x1
  __int64 v99; // x2
  System_Collections_Generic_List_int__o *v100; // x24
  System_Collections_Generic_List_int__o **p_playerDeckIndices_5__5; // x23
  System_String_array **v102; // x2
  System_String_array **v103; // x3
  System_Boolean_array **v104; // x4
  System_Int32_array **v105; // x5
  System_Int32_array *v106; // x6
  System_Int32_array *v107; // x7
  int32_t v108; // w22
  Il2CppObject *current; // x25
  BattleData_o *v110; // x0
  int32_t klass_high; // w24
  BattleServantData_o *v112; // x2
  _BOOL8 v113; // x0
  struct BattleData_o *v114; // x8
  struct System_Int32_array *e_entryid; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v116; // x23
  __int64 v117; // x1
  __int64 v118; // x2
  System_Func_int__bool__o *v119; // x24
  _BOOL4 v120; // w27
  System_Collections_Generic_List_RestockServantLogic__o *v121; // x0
  __int64 v122; // x1
  __int64 v123; // x2
  BattleLogic___c_c *v124; // x8
  System_Collections_Generic_IEnumerable_TSource__o *v125; // x23
  struct BattleLogic___c_StaticFields *v126; // x9
  System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *_9__79_2; // x24
  Il2CppObject *v128; // x25
  struct BattleLogic___c_StaticFields *v129; // x0
  System_String_array **v130; // x2
  System_String_array **v131; // x3
  System_Boolean_array **v132; // x4
  System_Int32_array **v133; // x5
  System_Int32_array *v134; // x6
  System_Int32_array *v135; // x7
  System_Collections_Generic_IEnumerable_TSource__o *v136; // x0
  System_Int32_array **v137; // x0
  System_String_array **v138; // x2
  System_String_array **v139; // x3
  System_Boolean_array **v140; // x4
  System_Int32_array **v141; // x5
  System_Int32_array *v142; // x6
  System_Int32_array *v143; // x7
  BattleData_o *v144; // x1
  System_Collections_Generic_IEnumerable_T__o *RandomEntryOrderDecidedArray; // x23
  __int64 v146; // x1
  __int64 v147; // x2
  System_Action_int__o *v148; // x24
  __int64 v149; // x1
  __int64 v150; // x2
  System_Collections_Generic_List_int__o *v151; // x24
  System_Collections_Generic_List_int__o **p_enemyDeckIndices_5__6; // x23
  System_String_array **v153; // x2
  System_String_array **v154; // x3
  System_Boolean_array **v155; // x4
  System_Int32_array **v156; // x5
  System_Int32_array *v157; // x6
  System_Int32_array *v158; // x7
  _BOOL8 IsEnemyEntryOverLimit; // x0
  int *v160; // x24
  BattleData_o *v161; // x0
  BattleData_o *v162; // x0
  __int64 v163; // x21
  _BOOL8 IsEntry; // x0
  struct BattleData_o *v165; // x1
  struct System_Boolean_array *enemyAppearValid; // x8
  BattleServantData_o *v167; // x0
  BattleData_o *v168; // x0
  System_String_o *endproc; // x1
  System_Int32_array **v170; // x0
  BattleServantConfConponent_o *v171; // x19
  System_String_array **v172; // x2
  System_String_array **v173; // x3
  System_Boolean_array **v174; // x4
  System_Int32_array **v175; // x5
  System_Int32_array *v176; // x6
  System_Int32_array *v177; // x7
  int v178; // w8
  _BOOL8 v179; // x0
  BattlePerformance_o *perf; // x0
  _BOOL8 v181; // x0
  BattlePerformance_o *v182; // x0
  struct BattleServantData_array *v183; // x8
  struct BattleServantData_array *moveToSubMemberPlayerServantArray_5__3; // x8
  System_Int32_array **v185; // x0
  System_String_array **v186; // x2
  System_String_array **v187; // x3
  System_Boolean_array **v188; // x4
  System_Int32_array **v189; // x5
  System_Int32_array *v190; // x6
  System_Int32_array *v191; // x7
  bool result; // w0
  struct BattleData_o *v193; // x8
  System_Int32_array **v194; // x0
  BattleServantConfConponent_o *p__2__current; // x19
  System_String_array **v196; // x2
  System_String_array **v197; // x3
  System_Boolean_array **v198; // x4
  System_Int32_array **v199; // x5
  System_Int32_array *v200; // x6
  System_Int32_array *v201; // x7
  struct BattleData_o *v202; // x8
  __int64 v203; // x0
  _BYTE v204[44]; // [xsp+0h] [xbp-C0h] BYREF
  int v205; // [xsp+2Ch] [xbp-94h]
  System_Collections_Generic_List_Enumerator_int__o i; // [xsp+30h] [xbp-90h] BYREF
  System_Collections_Generic_List_Enumerator_T__o v207; // [xsp+50h] [xbp-70h] BYREF

  v3 = this;
  if ( (byte_4213921 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Action_int___ctor__, method);
    sub_B0D8A4(&System_Action_int__TypeInfo, v4);
    sub_B0D8A4(&Method_BasicHelper_ForEach_int___, v5);
    sub_B0D8A4(&Method_BasicHelper_ToIterator_RestockServantLogic___, v6);
    sub_B0D8A4(&Method_System_Linq_Enumerable_Any_int____67987528, v7);
    sub_B0D8A4(&Method_System_Linq_Enumerable_ToList_RestockServantLogic___, v8);
    sub_B0D8A4(&Method_System_Linq_Enumerable_Where_RestockServantLogic___, v9);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__Dispose__, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_RestockServantLogic__Dispose__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__MoveNext__, v12);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_RestockServantLogic__MoveNext__, v13);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_RestockServantLogic__get_Current__, v14);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__get_Current__, v15);
    sub_B0D8A4(&Method_System_Func_RestockServantLogic__bool___ctor__, v16);
    sub_B0D8A4(&Method_System_Func_int__RestockServantLogic___ctor__, v17);
    sub_B0D8A4(&Method_System_Func_int__bool___ctor__, v18);
    sub_B0D8A4(&System_Func_int__bool__TypeInfo, v19);
    sub_B0D8A4(&System_Func_int__RestockServantLogic__TypeInfo, v20);
    sub_B0D8A4(&System_Func_RestockServantLogic__bool__TypeInfo, v21);
    sub_B0D8A4(&int_TypeInfo, v22);
    sub_B0D8A4(&Method_System_Collections_Generic_List_RestockServantLogic__AddRange__, v23);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Add__, v24);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__GetEnumerator__, v25);
    sub_B0D8A4(&Method_System_Collections_Generic_List_RestockServantLogic__GetEnumerator__, v26);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int___ctor__, v27);
    sub_B0D8A4(&System_Collections_Generic_List_int__TypeInfo, v28);
    sub_B0D8A4(&OptionManager_TypeInfo, v29);
    sub_B0D8A4(&ServantAssetLoadManager_TypeInfo, v30);
    sub_B0D8A4(&Method_SingletonMonoBehaviour_AssetManager__get_Instance__, v31);
    sub_B0D8A4(&Method_BattleLogic___c__coroutineEntrySubMember_b__79_0__, v32);
    sub_B0D8A4(&Method_BattleLogic___c__coroutineEntrySubMember_b__79_1__, v33);
    sub_B0D8A4(&Method_BattleLogic___c__coroutineEntrySubMember_b__79_2__, v34);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass79_0__coroutineEntrySubMember_b__3__, v35);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass79_0__coroutineEntrySubMember_b__4__, v36);
    sub_B0D8A4(&BattleLogic___c__DisplayClass79_0_TypeInfo, v37);
    sub_B0D8A4(&BattleLogic___c_TypeInfo, v38);
    this = (BattleLogic__coroutineEntrySubMember_d__79_o *)sub_B0D8A4(&StringLiteral_9768/*"OK"*/, v39);
    byte_4213921 = 1;
  }
  memset(&v207, 0, sizeof(v207));
  memset(&i, 0, sizeof(i));
  v205 = 0;
  _4__this = v3->fields.__4__this;
  switch ( v3->fields.__1__state )
  {
    case 0:
      v3->fields.__1__state = -1;
      v41 = sub_B0D974(BattleLogic___c__DisplayClass79_0_TypeInfo, method, v2);
      System_Object___ctor((Il2CppObject *)v41, 0LL);
      if ( !v41 )
        goto LABEL_158;
      v48 = (System_Int32_array **)v3->fields.__4__this;
      *(_QWORD *)(v41 + 16) = v48;
      sub_B0D840((BattleServantConfConponent_o *)(v41 + 16), v48, v42, v43, v44, v45, v46, v47);
      if ( !_4__this )
        goto LABEL_158;
      v49 = (System_Int32_array **)BattleLogic__UnloadDeadDeckActorsAndFreeEntry(_4__this, 0, 0LL);
      v3->fields._deadPlayerServantArray_5__2 = (struct BattleServantData_array *)v49;
      sub_B0D840(
        (BattleServantConfConponent_o *)&v3->fields._deadPlayerServantArray_5__2,
        v49,
        v50,
        v51,
        v52,
        v53,
        v54,
        v55);
      v56 = BattleLogic__UnloadDeadDeckActorsAndFreeEntry(_4__this, 1, 0LL);
      v57 = (System_Int32_array **)BattleLogic__UnloadMoveToSubMemberDeckActors(_4__this, 0, 0LL);
      p_moveToSubMemberPlayerServantArray_5__3 = &v3->fields._moveToSubMemberPlayerServantArray_5__3;
      v3->fields._moveToSubMemberPlayerServantArray_5__3 = (struct BattleServantData_array *)v57;
      sub_B0D840(
        (BattleServantConfConponent_o *)&v3->fields._moveToSubMemberPlayerServantArray_5__3,
        v57,
        v59,
        v60,
        v61,
        v62,
        v63,
        v64);
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)BattleLogic__UnloadMoveToSubMemberDeckActors(
                                                               _4__this,
                                                               1,
                                                               0LL);
      deadPlayerServantArray_5__2 = v3->fields._deadPlayerServantArray_5__2;
      if ( !deadPlayerServantArray_5__2 )
        goto LABEL_158;
      if ( *(_QWORD *)&deadPlayerServantArray_5__2->max_length )
        goto LABEL_14;
      if ( !v56 )
        goto LABEL_158;
      if ( *(_QWORD *)&v56->max_length )
        goto LABEL_14;
      if ( !*p_moveToSubMemberPlayerServantArray_5__3 )
        goto LABEL_158;
      if ( *(_QWORD *)&(*p_moveToSubMemberPlayerServantArray_5__3)->max_length )
        goto LABEL_14;
      if ( !this )
        goto LABEL_158;
      if ( !this->fields.__2__current )
        goto LABEL_16;
LABEL_14:
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_158;
      BattleData__onProgressflg((BattleData_o *)this, 1024, 0LL);
LABEL_16:
      v3->fields._isentry_5__4 = 0;
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_AssetManager__get_Instance__);
      if ( !this )
        goto LABEL_158;
      AssetManager__PauseDownloadAssetStorage((AssetManager_o *)this, 0LL);
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_158;
      RestockServantLogicList = BattleData__GetRestockServantLogicList((BattleData_o *)this, 0LL);
      v69 = BattleLogic___c_TypeInfo;
      if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !BattleLogic___c_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
        v69 = BattleLogic___c_TypeInfo;
      }
      static_fields = v69->static_fields;
      _9__79_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)static_fields->__9__79_0;
      if ( !_9__79_0 )
      {
        if ( (BYTE3(v69->vtable._0_Equals.methodPtr) & 4) != 0 && !v69->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(v69);
          static_fields = BattleLogic___c_TypeInfo->static_fields;
        }
        v72 = (Il2CppObject *)static_fields->__9;
        _9__79_0 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B0D974(
                                                                                        System_Func_RestockServantLogic__bool__TypeInfo,
                                                                                        v66,
                                                                                        v67);
        System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
          _9__79_0,
          v72,
          Method_BattleLogic___c__coroutineEntrySubMember_b__79_0__,
          (const MethodInfo_26189B8 *)Method_System_Func_RestockServantLogic__bool___ctor__);
        v73 = BattleLogic___c_TypeInfo->static_fields;
        v73->__9__79_0 = (struct System_Func_RestockServantLogic__bool__o *)_9__79_0;
        sub_B0D840(
          (BattleServantConfConponent_o *)&v73->__9__79_0,
          (System_Int32_array **)_9__79_0,
          v74,
          v75,
          v76,
          v77,
          v78,
          v79);
      }
      v80 = System_Linq_Enumerable__Where_WarBoardManager_WarBoardOnboardSkillTarget_(
              (System_Collections_Generic_IEnumerable_TSource__o *)RestockServantLogicList,
              (System_Func_TSource__bool__o *)_9__79_0,
              (const MethodInfo_1B5A6B0 *)Method_System_Linq_Enumerable_Where_RestockServantLogic___);
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)System_Linq_Enumerable__ToList_WarBoardManager_WarBoardOnboardSkillTarget_(
                                                               v80,
                                                               (const MethodInfo_1B59168 *)Method_System_Linq_Enumerable_ToList_RestockServantLogic___);
      data = _4__this->fields.data;
      if ( !data )
        goto LABEL_158;
      p_entryid = data->fields.p_entryid;
      if ( !p_entryid )
        goto LABEL_158;
      v85 = this;
      v86 = BattleLogic___c_TypeInfo;
      if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !BattleLogic___c_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
        v86 = BattleLogic___c_TypeInfo;
      }
      v87 = v86->static_fields;
      max_length = p_entryid->max_length;
      _9__79_1 = (System_Func_int__BattleActionData_SideEffectData__o *)v87->__9__79_1;
      if ( !_9__79_1 )
      {
        if ( (BYTE3(v86->vtable._0_Equals.methodPtr) & 4) != 0 && !v86->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(v86);
          v87 = BattleLogic___c_TypeInfo->static_fields;
        }
        v90 = (Il2CppObject *)v87->__9;
        _9__79_1 = (System_Func_int__BattleActionData_SideEffectData__o *)sub_B0D974(
                                                                            System_Func_int__RestockServantLogic__TypeInfo,
                                                                            v81,
                                                                            v82);
        System_Func_int__BattleActionData_SideEffectData____ctor(
          _9__79_1,
          v90,
          Method_BattleLogic___c__coroutineEntrySubMember_b__79_1__,
          (const MethodInfo_26145DC *)Method_System_Func_int__RestockServantLogic___ctor__);
        v91 = BattleLogic___c_TypeInfo->static_fields;
        v91->__9__79_1 = (struct System_Func_int__RestockServantLogic__o *)_9__79_1;
        sub_B0D840(
          (BattleServantConfConponent_o *)&v91->__9__79_1,
          (System_Int32_array **)_9__79_1,
          v92,
          v93,
          v94,
          v95,
          v96,
          v97);
      }
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)BasicHelper__ToIterator_RestockServantLogic_(
                                                               max_length,
                                                               (System_Func_int__T__o *)_9__79_1,
                                                               (const MethodInfo_170A018 *)Method_BasicHelper_ToIterator_RestockServantLogic___);
      if ( !v85 )
        goto LABEL_158;
      System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule___AddRange(
        (System_Collections_Generic_List_TimeZoneInfo_AdjustmentRule__o *)v85,
        (System_Collections_Generic_IEnumerable_T__o *)this,
        (const MethodInfo_2FC5938 *)Method_System_Collections_Generic_List_RestockServantLogic__AddRange__);
      v100 = (System_Collections_Generic_List_int__o *)sub_B0D974(
                                                         System_Collections_Generic_List_int__TypeInfo,
                                                         v98,
                                                         v99);
      System_Collections_Generic_List_int____ctor(
        v100,
        (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
      v3->fields._playerDeckIndices_5__5 = v100;
      p_playerDeckIndices_5__5 = &v3->fields._playerDeckIndices_5__5;
      sub_B0D840(
        (BattleServantConfConponent_o *)&v3->fields._playerDeckIndices_5__5,
        (System_Int32_array **)v100,
        v102,
        v103,
        v104,
        v105,
        v106,
        v107);
      System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
        (System_Collections_Generic_List_Enumerator_T__o *)v204,
        (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)v85,
        (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_RestockServantLogic__GetEnumerator__);
      v108 = 0;
      v207 = *(System_Collections_Generic_List_Enumerator_T__o *)v204;
      while ( 1 )
      {
        v113 = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
                 &v207,
                 (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_RestockServantLogic__MoveNext__);
        if ( !v113 )
          break;
        current = v207.fields.current;
        if ( !v207.fields.current )
          sub_B0D97C(v113);
        v110 = _4__this->fields.data;
        if ( !v110 )
          sub_B0D97C(0LL);
        klass_high = HIDWORD(v207.fields.current[1].klass);
        if ( !BattleData__IsEntry(v110, klass_high, 0, 0LL) )
        {
          v112 = (BattleServantData_o *)((__int64 (__fastcall *)(Il2CppObject *, struct BattleData_o *, Il2CppMethodPointer))current->klass->vtable[4].method)(
                                          current,
                                          _4__this->fields.data,
                                          current->klass->vtable[5].methodPtr);
          if ( v112 )
          {
            BattleLogic__PreloadAndEntryServant(_4__this, klass_high, v112, v108, 0LL);
            if ( !*p_playerDeckIndices_5__5 )
              sub_B0D97C(0LL);
            System_Collections_Generic_List_int___Add(
              *p_playerDeckIndices_5__5,
              klass_high,
              (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
            ++v108;
            v3->fields._isentry_5__4 = 1;
          }
        }
      }
      *(_DWORD *)&v204[4 * v205++ + 24] = 411;
      System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
        &v207,
        (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_RestockServantLogic__Dispose__);
      if ( v205 && *(_DWORD *)&v204[4 * v205 + 20] == 411 )
        --v205;
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_158;
      if ( !BattleData__IsEnemyEntryOverLimit((BattleData_o *)this, 0LL) )
        goto LABEL_55;
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_158;
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)BattleData__checkAliveEnemys((BattleData_o *)this, 0LL);
      if ( ((unsigned __int8)this & 1) == 0 )
        goto LABEL_55;
      v114 = _4__this->fields.data;
      if ( !v114 )
        goto LABEL_158;
      e_entryid = v114->fields.e_entryid;
      if ( !e_entryid )
        goto LABEL_158;
      v116 = (System_Collections_Generic_IEnumerable_TSource__o *)System_Linq_Enumerable__Range(
                                                                    0,
                                                                    e_entryid->max_length,
                                                                    0LL);
      v119 = (System_Func_int__bool__o *)sub_B0D974(System_Func_int__bool__TypeInfo, v117, v118);
      System_Func_int__bool____ctor(
        v119,
        (Il2CppObject *)v41,
        Method_BattleLogic___c__DisplayClass79_0__coroutineEntrySubMember_b__4__,
        (const MethodInfo_26136E4 *)Method_System_Func_int__bool___ctor__);
      if ( System_Linq_Enumerable__Any_int__24227480(
             v116,
             (System_Func_TSource__bool__o *)v119,
             (const MethodInfo_171AE98 *)Method_System_Linq_Enumerable_Any_int____67987528) )
      {
LABEL_55:
        v120 = 1;
      }
      else
      {
        this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
        if ( !this )
          goto LABEL_158;
        BattleData__ResetEnemyEntryCount((BattleData_o *)this, 0LL);
        v202 = _4__this->fields.data;
        if ( !v202 )
          goto LABEL_158;
        v120 = v202->fields._EnemyEntryMaxCountEachTurn_k__BackingField != 0;
      }
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
      if ( this )
      {
        v121 = BattleData__GetRestockServantLogicList((BattleData_o *)this, 0LL);
        v124 = BattleLogic___c_TypeInfo;
        v125 = (System_Collections_Generic_IEnumerable_TSource__o *)v121;
        if ( (BYTE3(BattleLogic___c_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
          && !BattleLogic___c_TypeInfo->_2.cctor_finished )
        {
          j_il2cpp_runtime_class_init_0(BattleLogic___c_TypeInfo);
          v124 = BattleLogic___c_TypeInfo;
        }
        v126 = v124->static_fields;
        _9__79_2 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)v126->__9__79_2;
        if ( !_9__79_2 )
        {
          if ( (BYTE3(v124->vtable._0_Equals.methodPtr) & 4) != 0 && !v124->_2.cctor_finished )
          {
            j_il2cpp_runtime_class_init_0(v124);
            v126 = BattleLogic___c_TypeInfo->static_fields;
          }
          v128 = (Il2CppObject *)v126->__9;
          _9__79_2 = (System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool__o *)sub_B0D974(
                                                                                          System_Func_RestockServantLogic__bool__TypeInfo,
                                                                                          v122,
                                                                                          v123);
          System_Func_WarBoardManager_WarBoardOnboardSkillTarget__bool____ctor(
            _9__79_2,
            v128,
            Method_BattleLogic___c__coroutineEntrySubMember_b__79_2__,
            (const MethodInfo_26189B8 *)Method_System_Func_RestockServantLogic__bool___ctor__);
          v129 = BattleLogic___c_TypeInfo->static_fields;
          v129->__9__79_2 = (struct System_Func_RestockServantLogic__bool__o *)_9__79_2;
          sub_B0D840(
            (BattleServantConfConponent_o *)&v129->__9__79_2,
            (System_Int32_array **)_9__79_2,
            v130,
            v131,
            v132,
            v133,
            v134,
            v135);
        }
        v136 = System_Linq_Enumerable__Where_WarBoardManager_WarBoardOnboardSkillTarget_(
                 v125,
                 (System_Func_TSource__bool__o *)_9__79_2,
                 (const MethodInfo_1B5A6B0 *)Method_System_Linq_Enumerable_Where_RestockServantLogic___);
        v137 = (System_Int32_array **)System_Linq_Enumerable__ToList_WarBoardManager_WarBoardOnboardSkillTarget_(
                                        v136,
                                        (const MethodInfo_1B59168 *)Method_System_Linq_Enumerable_ToList_RestockServantLogic___);
        *(_QWORD *)(v41 + 24) = v137;
        sub_B0D840((BattleServantConfConponent_o *)(v41 + 24), v137, v138, v139, v140, v141, v142, v143);
        v144 = _4__this->fields.data;
        if ( v144 )
        {
          RandomEntryOrderDecidedArray = (System_Collections_Generic_IEnumerable_T__o *)RestockServantLogic__GetRandomEntryOrderDecidedArray(
                                                                                          v144->fields._EnemyAddOrderPosArray_k__BackingField,
                                                                                          v144,
                                                                                          0LL);
          v148 = (System_Action_int__o *)sub_B0D974(System_Action_int__TypeInfo, v146, v147);
          System_Action_int____ctor(
            v148,
            (Il2CppObject *)v41,
            Method_BattleLogic___c__DisplayClass79_0__coroutineEntrySubMember_b__3__,
            (const MethodInfo_246D4AC *)Method_System_Action_int___ctor__);
          BasicHelper__ForEach_int_(
            RandomEntryOrderDecidedArray,
            (System_Action_T__o *)v148,
            (const MethodInfo_1707E48 *)Method_BasicHelper_ForEach_int___);
          v151 = (System_Collections_Generic_List_int__o *)sub_B0D974(
                                                             System_Collections_Generic_List_int__TypeInfo,
                                                             v149,
                                                             v150);
          System_Collections_Generic_List_int____ctor(
            v151,
            (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
          v3->fields._enemyDeckIndices_5__6 = v151;
          p_enemyDeckIndices_5__6 = &v3->fields._enemyDeckIndices_5__6;
          sub_B0D840(
            (BattleServantConfConponent_o *)&v3->fields._enemyDeckIndices_5__6,
            (System_Int32_array **)v151,
            v153,
            v154,
            v155,
            v156,
            v157,
            v158);
          this = *(BattleLogic__coroutineEntrySubMember_d__79_o **)(v41 + 24);
          if ( this )
          {
            System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo___GetEnumerator(
              (System_Collections_Generic_List_Enumerator_T__o *)v204,
              (System_Collections_Generic_List_BattleLogicBuff_ReduceHpProcess_BuffInfo__o *)this,
              (const MethodInfo_2FC6564 *)Method_System_Collections_Generic_List_RestockServantLogic__GetEnumerator__);
            v207 = *(System_Collections_Generic_List_Enumerator_T__o *)v204;
            while ( 1 )
            {
              IsEnemyEntryOverLimit = System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___MoveNext(
                                        &v207,
                                        (const MethodInfo_2112550 *)Method_System_Collections_Generic_List_Enumerator_RestockServantLogic__MoveNext__);
              if ( !IsEnemyEntryOverLimit )
                break;
              v160 = (int *)v207.fields.current;
              if ( v120 )
              {
                v161 = _4__this->fields.data;
                if ( !v161 )
                  sub_B0D97C(0LL);
                IsEnemyEntryOverLimit = BattleData__IsEnemyEntryOverLimit(v161, 0LL);
                if ( IsEnemyEntryOverLimit )
                  break;
              }
              if ( !v160 )
                sub_B0D97C(IsEnemyEntryOverLimit);
              v162 = _4__this->fields.data;
              if ( !v162 )
                sub_B0D97C(0LL);
              v163 = v160[5];
              IsEntry = BattleData__IsEntry(v162, v163, 1, 0LL);
              if ( !IsEntry )
              {
                v165 = _4__this->fields.data;
                if ( !v165 )
                  sub_B0D97C(IsEntry);
                enemyAppearValid = v165->fields.enemyAppearValid;
                if ( !enemyAppearValid )
                  sub_B0D97C(IsEntry);
                if ( (unsigned int)v163 >= enemyAppearValid->max_length )
                {
                  v203 = sub_B0D9A8(IsEntry);
                  sub_B0D948(v203, 0LL);
                }
                if ( enemyAppearValid->m_Items[v163 + 4] )
                {
                  v167 = (BattleServantData_o *)(*(__int64 (__fastcall **)(int *))(*(_QWORD *)v160 + 376LL))(v160);
                  if ( v167 )
                  {
                    if ( !v3->fields.isEventBonusCheck || v167->fields.isAddition )
                    {
                      BattleLogic__PreloadAndEntryServant(_4__this, v163, v167, v108, 0LL);
                      if ( !*p_enemyDeckIndices_5__6 )
                        sub_B0D97C(0LL);
                      System_Collections_Generic_List_int___Add(
                        *p_enemyDeckIndices_5__6,
                        v163,
                        (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
                      v3->fields._isentry_5__4 = 1;
                      v168 = _4__this->fields.data;
                      if ( !v168 )
                        sub_B0D97C(0LL);
                      ++v108;
                      BattleData__AddEnemyEntryCount(v168, 0LL);
                    }
                  }
                }
              }
            }
            *(_DWORD *)&v204[4 * v205++ + 24] = 826;
            System_Collections_Generic_List_Enumerator_BattleLogicBuff_ReduceHpProcess_BuffInfo___Dispose(
              &v207,
              (const MethodInfo_211254C *)Method_System_Collections_Generic_List_Enumerator_RestockServantLogic__Dispose__);
            if ( v205 && *(_DWORD *)&v204[4 * v205 + 20] == 826 )
              --v205;
            if ( (BYTE3(OptionManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
              && !OptionManager_TypeInfo->_2.cctor_finished )
            {
              j_il2cpp_runtime_class_init_0(OptionManager_TypeInfo);
            }
            this = (BattleLogic__coroutineEntrySubMember_d__79_o *)OptionManager__isSavedMemoryMode(0LL);
            if ( ((unsigned __int8)this & 1) != 0 )
              goto LABEL_143;
            if ( v3->fields._isentry_5__4 )
            {
              v193 = _4__this->fields.data;
              if ( !v193 )
                goto LABEL_158;
              if ( v193->fields._IsReleaseUnusedAssetsWhenEntryMember_k__BackingField )
              {
LABEL_143:
                v194 = (System_Int32_array **)BattleLogic__UnloadUnusedAssetsAndWaitFinish(_4__this, 0LL);
                v3->fields.__2__current = (Il2CppObject *)v194;
                p__2__current = (BattleServantConfConponent_o *)&v3->fields.__2__current;
                sub_B0D840(p__2__current, v194, v196, v197, v198, v199, v200, v201);
                result = 1;
                *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
                return result;
              }
            }
LABEL_94:
            this = (BattleLogic__coroutineEntrySubMember_d__79_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_AssetManager__get_Instance__);
            if ( this )
            {
              AssetManager__ResumeDownloadAssetStorage((AssetManager_o *)this, 0LL);
LABEL_96:
              if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
                && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
              {
                j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
              }
              if ( ServantAssetLoadManager__checkLoad(0LL) )
              {
                *(_DWORD *)v204 = 0;
                v170 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, v204);
                v3->fields.__2__current = (Il2CppObject *)v170;
                v171 = (BattleServantConfConponent_o *)&v3->fields.__2__current;
                sub_B0D840(v171, v170, v172, v173, v174, v175, v176, v177);
                v178 = 2;
LABEL_132:
                *(_DWORD *)&v171[-1].fields.isOpenAfter = v178;
                return 1;
              }
              this = (BattleLogic__coroutineEntrySubMember_d__79_o *)v3->fields._playerDeckIndices_5__5;
              if ( this )
              {
                System_Collections_Generic_List_int___GetEnumerator(
                  (System_Collections_Generic_List_Enumerator_T__o *)v204,
                  (System_Collections_Generic_List_int__o *)this,
                  (const MethodInfo_2FB0D44 *)Method_System_Collections_Generic_List_int__GetEnumerator__);
                for ( i = *(System_Collections_Generic_List_Enumerator_int__o *)v204;
                      ;
                      BattlePerformance__loadPlayerActor(perf, i.fields.current, 0LL) )
                {
                  v179 = System_Collections_Generic_List_Enumerator_int___MoveNext(
                           &i,
                           (const MethodInfo_210FFE4 *)Method_System_Collections_Generic_List_Enumerator_int__MoveNext__);
                  if ( !v179 )
                    break;
                  if ( !_4__this )
                    sub_B0D97C(v179);
                  perf = _4__this->fields.perf;
                  if ( !perf )
                    sub_B0D97C(0LL);
                }
                *(_DWORD *)&v204[4 * v205++ + 24] = 992;
                System_Collections_Generic_List_Enumerator_int___Dispose(
                  &i,
                  (const MethodInfo_210FFE0 *)Method_System_Collections_Generic_List_Enumerator_int__Dispose__);
                if ( v205 && *(_DWORD *)&v204[4 * v205 + 20] == 992 )
                  --v205;
                this = (BattleLogic__coroutineEntrySubMember_d__79_o *)v3->fields._enemyDeckIndices_5__6;
                if ( this )
                {
                  System_Collections_Generic_List_int___GetEnumerator(
                    (System_Collections_Generic_List_Enumerator_T__o *)v204,
                    (System_Collections_Generic_List_int__o *)this,
                    (const MethodInfo_2FB0D44 *)Method_System_Collections_Generic_List_int__GetEnumerator__);
                  for ( i = *(System_Collections_Generic_List_Enumerator_int__o *)v204;
                        ;
                        BattlePerformance__loadEnemyActor(v182, i.fields.current, 0LL) )
                  {
                    v181 = System_Collections_Generic_List_Enumerator_int___MoveNext(
                             &i,
                             (const MethodInfo_210FFE4 *)Method_System_Collections_Generic_List_Enumerator_int__MoveNext__);
                    if ( !v181 )
                      break;
                    if ( !_4__this )
                      sub_B0D97C(v181);
                    v182 = _4__this->fields.perf;
                    if ( !v182 )
                      sub_B0D97C(0LL);
                  }
                  *(_DWORD *)&v204[4 * v205++ + 24] = 1055;
                  System_Collections_Generic_List_Enumerator_int___Dispose(
                    &i,
                    (const MethodInfo_210FFE0 *)Method_System_Collections_Generic_List_Enumerator_int__Dispose__);
                  if ( v205 && *(_DWORD *)&v204[4 * v205 + 20] == 1055 )
                    --v205;
                  v183 = v3->fields._deadPlayerServantArray_5__2;
                  if ( v183 )
                  {
                    if ( !*(_QWORD *)&v183->max_length )
                    {
                      moveToSubMemberPlayerServantArray_5__3 = v3->fields._moveToSubMemberPlayerServantArray_5__3;
                      if ( !moveToSubMemberPlayerServantArray_5__3 )
                        goto LABEL_158;
                      if ( !*(_QWORD *)&moveToSubMemberPlayerServantArray_5__3->max_length )
                        goto LABEL_131;
                    }
                    if ( !_4__this )
                      goto LABEL_158;
                    this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
                    if ( !this )
                      goto LABEL_158;
                    BattleData__createCommandCard((BattleData_o *)this, 0LL);
                    this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
                    if ( !this )
                      goto LABEL_158;
                    BattleData__shuffleCommand((BattleData_o *)this, 0LL);
                    this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
                    if ( !this )
                      goto LABEL_158;
                    BattleData__CheckDoNotSelectCommandCard((BattleData_o *)this, 0LL);
                    if ( !v3->fields.isTactical )
                    {
LABEL_131:
                      *(_DWORD *)v204 = 0;
                      v185 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, v204);
                      v3->fields.__2__current = (Il2CppObject *)v185;
                      v171 = (BattleServantConfConponent_o *)&v3->fields.__2__current;
                      sub_B0D840(v171, v185, v186, v187, v188, v189, v190, v191);
                      v178 = 3;
                      goto LABEL_132;
                    }
                    this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
                    if ( this )
                    {
                      if ( BattleData__checkAlivePlayers((BattleData_o *)this, 0LL) )
                        BattleLogic__drawCommand(_4__this, 0LL);
                      goto LABEL_131;
                    }
                  }
                }
              }
            }
          }
        }
      }
LABEL_158:
      sub_B0D97C(this);
    case 1:
      v3->fields.__1__state = -1;
      goto LABEL_94;
    case 2:
      v3->fields.__1__state = -1;
      goto LABEL_96;
    case 3:
      v3->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_158;
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_158;
      BattleData__RefreshAllSubServantDeckIndex((BattleData_o *)this, 0LL);
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_158;
      BattleData__ClearRestockServantLogic((BattleData_o *)this, 0LL);
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_158;
      BattlePerformance__updateFov((BattlePerformance_o *)this, 0LL);
      this = (BattleLogic__coroutineEntrySubMember_d__79_o *)_4__this->fields.fsm;
      if ( v3->fields._isentry_5__4 )
      {
        if ( !this )
          goto LABEL_158;
        endproc = (System_String_o *)StringLiteral_9768/*"OK"*/;
      }
      else
      {
        if ( !this )
          goto LABEL_158;
        endproc = v3->fields.endproc;
      }
      PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, endproc, 0LL);
      return 0;
    default:
      return 0;
  }
}


Il2CppObject *__fastcall BattleLogic__coroutineEntrySubMember_d__79__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__coroutineEntrySubMember_d__79_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__coroutineEntrySubMember_d__79__System_Collections_IEnumerator_Reset(
        BattleLogic__coroutineEntrySubMember_d__79_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__coroutineEntrySubMember_d__79_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__coroutineEntrySubMember_d__79__System_Collections_IEnumerator_get_Current(
        BattleLogic__coroutineEntrySubMember_d__79_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__coroutineEntrySubMember_d__79__System_IDisposable_Dispose(
        BattleLogic__coroutineEntrySubMember_d__79_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__coroutineImmediateEntrySubMember_d__81___ctor(
        BattleLogic__coroutineImmediateEntrySubMember_d__81_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__coroutineImmediateEntrySubMember_d__81__MoveNext(
        BattleLogic__coroutineImmediateEntrySubMember_d__81_o *this,
        const MethodInfo *method)
{
  BattleLogic__coroutineImmediateEntrySubMember_d__81_o *v2; // x20
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  int32_t _1__state; // w8
  struct BattleLogic_o *_4__this; // x19
  __int64 v16; // x1
  __int64 v17; // x2
  System_Collections_Generic_List_int__o *v18; // x22
  BattleLogic__coroutineImmediateEntrySubMember_d__81_o **p_enemyDeckIndices_5__2; // x21
  System_String_array **v20; // x2
  System_String_array **v21; // x3
  System_Boolean_array **v22; // x4
  System_Int32_array **v23; // x5
  System_Int32_array *v24; // x6
  System_Int32_array *v25; // x7
  BattleData_o *data; // x1
  Il2CppObject *_2__current; // x8
  BattleLogic__coroutineImmediateEntrySubMember_d__81_o *v28; // x22
  int32_t v29; // w23
  unsigned __int64 j; // x25
  __int64 v31; // x24
  BattleData_o *v32; // x2
  struct System_Boolean_array *enemyAppearValid; // x8
  struct BattleData_o *v34; // x8
  System_Int32_array **v35; // x0
  BattleServantConfConponent_o *v36; // x20
  System_String_array **v37; // x2
  System_String_array **v38; // x3
  System_Boolean_array **v39; // x4
  System_Int32_array **v40; // x5
  System_Int32_array *v41; // x6
  System_Int32_array *v42; // x7
  bool result; // w0
  System_Int32_array **v44; // x0
  BattleServantConfConponent_o *p__2__current; // x20
  System_String_array **v46; // x2
  System_String_array **v47; // x3
  System_Boolean_array **v48; // x4
  System_Int32_array **v49; // x5
  System_Int32_array *v50; // x6
  System_Int32_array *v51; // x7
  _BOOL8 v52; // x0
  BattlePerformance_o *perf; // x0
  __int64 v54; // x0
  System_Collections_Generic_List_Enumerator_int__o v55; // [xsp+8h] [xbp-88h] BYREF
  System_Collections_Generic_List_Enumerator_int__o i; // [xsp+20h] [xbp-70h] BYREF

  v2 = this;
  if ( (byte_4213922 & 1) == 0 )
  {
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__Dispose__, method);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__MoveNext__, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_Enumerator_int__get_Current__, v4);
    sub_B0D8A4(&int_TypeInfo, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__Add__, v6);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__GetEnumerator__, v7);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int___ctor__, v8);
    sub_B0D8A4(&Method_System_Collections_Generic_List_int__get_Count__, v9);
    sub_B0D8A4(&System_Collections_Generic_List_int__TypeInfo, v10);
    sub_B0D8A4(&OptionManager_TypeInfo, v11);
    sub_B0D8A4(&ServantAssetLoadManager_TypeInfo, v12);
    this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)sub_B0D8A4(
                                                                      &Method_SingletonMonoBehaviour_AssetManager__get_Instance__,
                                                                      v13);
    byte_4213922 = 1;
  }
  memset(&i, 0, sizeof(i));
  _1__state = v2->fields.__1__state;
  _4__this = v2->fields.__4__this;
  switch ( _1__state )
  {
    case 2:
      v2->fields.__1__state = -1;
LABEL_41:
      if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
      }
      if ( ServantAssetLoadManager__checkLoad(0LL) )
      {
        LODWORD(v55.fields.list) = 0;
        v44 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v55);
        v2->fields.__2__current = (Il2CppObject *)v44;
        p__2__current = (BattleServantConfConponent_o *)&v2->fields.__2__current;
        sub_B0D840(p__2__current, v44, v46, v47, v48, v49, v50, v51);
        *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 2;
        return 1;
      }
      this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)v2->fields._enemyDeckIndices_5__2;
      if ( this )
      {
        System_Collections_Generic_List_int___GetEnumerator(
          (System_Collections_Generic_List_Enumerator_T__o *)&v55,
          (System_Collections_Generic_List_int__o *)this,
          (const MethodInfo_2FB0D44 *)Method_System_Collections_Generic_List_int__GetEnumerator__);
        for ( i = v55; ; BattlePerformance__loadEnemyActor(perf, i.fields.current, 0LL) )
        {
          v52 = System_Collections_Generic_List_Enumerator_int___MoveNext(
                  &i,
                  (const MethodInfo_210FFE4 *)Method_System_Collections_Generic_List_Enumerator_int__MoveNext__);
          if ( !v52 )
            break;
          if ( !_4__this )
            sub_B0D97C(v52);
          perf = _4__this->fields.perf;
          if ( !perf )
            sub_B0D97C(0LL);
        }
        System_Collections_Generic_List_Enumerator_int___Dispose(
          &i,
          (const MethodInfo_210FFE0 *)Method_System_Collections_Generic_List_Enumerator_int__Dispose__);
        if ( _4__this )
        {
          this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)_4__this->fields.data;
          if ( this )
          {
            BattleData__RefreshAllSubServantDeckIndex((BattleData_o *)this, 0LL);
            return 0;
          }
        }
      }
LABEL_57:
      sub_B0D97C(this);
    case 1:
      v2->fields.__1__state = -1;
LABEL_38:
      this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_AssetManager__get_Instance__);
      if ( !this )
        goto LABEL_57;
      AssetManager__ResumeDownloadAssetStorage((AssetManager_o *)this, 0LL);
      goto LABEL_41;
    case 0:
      v2->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_57;
      BattleLogic__UnloadDeadDeckActorsAndFreeEntry(_4__this, 1, 0LL);
      BattleLogic__UnloadMoveToSubMemberDeckActors(_4__this, 1, 0LL);
      this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_AssetManager__get_Instance__);
      if ( !this )
        goto LABEL_57;
      AssetManager__PauseDownloadAssetStorage((AssetManager_o *)this, 0LL);
      v18 = (System_Collections_Generic_List_int__o *)sub_B0D974(
                                                        System_Collections_Generic_List_int__TypeInfo,
                                                        v16,
                                                        v17);
      System_Collections_Generic_List_int____ctor(
        v18,
        (const MethodInfo_2FAF1A4 *)Method_System_Collections_Generic_List_int___ctor__);
      v2->fields._enemyDeckIndices_5__2 = v18;
      p_enemyDeckIndices_5__2 = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o **)&v2->fields._enemyDeckIndices_5__2;
      sub_B0D840(
        (BattleServantConfConponent_o *)&v2->fields._enemyDeckIndices_5__2,
        (System_Int32_array **)v18,
        v20,
        v21,
        v22,
        v23,
        v24,
        v25);
      data = _4__this->fields.data;
      if ( !data )
        goto LABEL_57;
      this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)RestockServantLogic__GetRandomEntryOrderDecidedArray(
                                                                        data->fields._EnemyAddOrderPosArray_k__BackingField,
                                                                        data,
                                                                        0LL);
      if ( !this )
        goto LABEL_57;
      _2__current = this->fields.__2__current;
      v28 = this;
      if ( (int)_2__current >= 1 )
      {
        v29 = 0;
        for ( j = 0LL; (__int64)j < (int)_2__current; ++j )
        {
          if ( j >= (unsigned int)_2__current )
          {
LABEL_60:
            v54 = sub_B0D9A8(this);
            sub_B0D948(v54, 0LL);
          }
          this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)_4__this->fields.data;
          if ( !this )
            goto LABEL_57;
          v31 = *((int *)&v28->fields.__4__this + j);
          if ( BattleData__IsEnemyEntryOverLimit((BattleData_o *)this, 0LL) )
            break;
          this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)_4__this->fields.data;
          if ( !this )
            goto LABEL_57;
          this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)BattleData__IsEntry(
                                                                            (BattleData_o *)this,
                                                                            v31,
                                                                            1,
                                                                            0LL);
          if ( ((unsigned __int8)this & 1) == 0 )
          {
            v32 = _4__this->fields.data;
            if ( !v32 )
              goto LABEL_57;
            enemyAppearValid = v32->fields.enemyAppearValid;
            if ( !enemyAppearValid )
              goto LABEL_57;
            if ( (unsigned int)v31 >= enemyAppearValid->max_length )
              goto LABEL_60;
            if ( enemyAppearValid->m_Items[v31 + 4] )
            {
              this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)RestockServantLogic__GetImmediateRestockServant(
                                                                                v31,
                                                                                1,
                                                                                v32,
                                                                                0LL);
              if ( this )
              {
                if ( !v2->fields.isEventBonusCheck || BYTE2(this[8].monitor) )
                {
                  BattleLogic__PreloadAndEntryServant(_4__this, v31, (BattleServantData_o *)this, v29, 0LL);
                  RestockServantLogic__DeactiveRestockLogic(v31, 1, _4__this->fields.data, 0LL);
                  this = *p_enemyDeckIndices_5__2;
                  if ( !*p_enemyDeckIndices_5__2 )
                    goto LABEL_57;
                  System_Collections_Generic_List_int___Add(
                    (System_Collections_Generic_List_int__o *)this,
                    v31,
                    (const MethodInfo_2FAFF00 *)Method_System_Collections_Generic_List_int__Add__);
                  this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)_4__this->fields.data;
                  if ( !this )
                    goto LABEL_57;
                  ++v29;
                  BattleData__AddEnemyEntryCount((BattleData_o *)this, 0LL);
                }
              }
            }
          }
          LODWORD(_2__current) = v28->fields.__2__current;
        }
      }
      if ( (BYTE3(OptionManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !OptionManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(OptionManager_TypeInfo);
      }
      this = (BattleLogic__coroutineImmediateEntrySubMember_d__81_o *)OptionManager__isSavedMemoryMode(0LL);
      if ( ((unsigned __int8)this & 1) != 0 )
        goto LABEL_36;
      if ( !*p_enemyDeckIndices_5__2 )
        goto LABEL_57;
      if ( SLODWORD((*p_enemyDeckIndices_5__2)->fields.__2__current) >= 1 )
      {
        v34 = _4__this->fields.data;
        if ( !v34 )
          goto LABEL_57;
        if ( v34->fields._IsReleaseUnusedAssetsWhenEntryMember_k__BackingField )
        {
LABEL_36:
          v35 = (System_Int32_array **)BattleLogic__UnloadUnusedAssetsAndWaitFinish(_4__this, 0LL);
          v2->fields.__2__current = (Il2CppObject *)v35;
          v36 = (BattleServantConfConponent_o *)&v2->fields.__2__current;
          sub_B0D840(v36, v35, v37, v38, v39, v40, v41, v42);
          result = 1;
          *(_DWORD *)&v36[-1].fields.isOpenAfter = 1;
          return result;
        }
      }
      goto LABEL_38;
  }
  return 0;
}


Il2CppObject *__fastcall BattleLogic__coroutineImmediateEntrySubMember_d__81__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__coroutineImmediateEntrySubMember_d__81_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__coroutineImmediateEntrySubMember_d__81__System_Collections_IEnumerator_Reset(
        BattleLogic__coroutineImmediateEntrySubMember_d__81_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__coroutineImmediateEntrySubMember_d__81_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__coroutineImmediateEntrySubMember_d__81__System_Collections_IEnumerator_get_Current(
        BattleLogic__coroutineImmediateEntrySubMember_d__81_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__coroutineImmediateEntrySubMember_d__81__System_IDisposable_Dispose(
        BattleLogic__coroutineImmediateEntrySubMember_d__81_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__coroutineInitQuest_d__315___ctor(
        BattleLogic__coroutineInitQuest_d__315_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__coroutineInitQuest_d__315__MoveNext(
        BattleLogic__coroutineInitQuest_d__315_o *this,
        const MethodInfo *method)
{
  int32_t _1__state; // w8
  struct BattleLogic_o *_4__this; // x20
  BattleLogic__coroutineInitQuest_d__315_o *v4; // x19
  struct BattleData_o *data; // x8
  struct BattleData_o *v6; // x8
  struct BattleData_o *v7; // x8
  bool v8; // w21
  System_Collections_IEnumerator_o *inited; // x0
  System_Int32_array **started; // x0
  BattleServantConfConponent_o *p__2__current; // x19
  System_String_array **v12; // x2
  System_String_array **v13; // x3
  System_Boolean_array **v14; // x4
  System_Int32_array **v15; // x5
  System_Int32_array *v16; // x6
  System_Int32_array *v17; // x7

  _1__state = this->fields.__1__state;
  _4__this = this->fields.__4__this;
  v4 = this;
  if ( _1__state == 1 )
  {
    this->fields.__1__state = -1;
    if ( !_4__this )
      goto LABEL_17;
    BattleLogic__sendFsmEvent(_4__this, this->fields.endproc, 0LL);
    return 0;
  }
  if ( _1__state )
    return 0;
  this->fields.__1__state = -1;
  if ( !_4__this )
    goto LABEL_17;
  this = (BattleLogic__coroutineInitQuest_d__315_o *)_4__this->fields.data;
  if ( !this )
    goto LABEL_17;
  BattleData__initQuest((BattleData_o *)this, 0LL);
  data = _4__this->fields.data;
  if ( !data )
    goto LABEL_17;
  this = (BattleLogic__coroutineInitQuest_d__315_o *)data->fields.battleEvent;
  if ( !this )
    goto LABEL_17;
  ((void (__fastcall *)(BattleLogic__coroutineInitQuest_d__315_o *, __int64, void *))this->klass[1]._1.namespaze)(
    this,
    1LL,
    this->klass[1]._1.byval_arg.data);
  BattleLogic__actPtPassiveSkill(_4__this, 1, 0LL);
  this = (BattleLogic__coroutineInitQuest_d__315_o *)_4__this->fields.data;
  if ( !this
    || (BattleData__AddMasterSkillDelayIfNeeded((BattleData_o *)this, 0LL), (v6 = _4__this->fields.data) == 0LL)
    || (this = (BattleLogic__coroutineInitQuest_d__315_o *)v6->fields.battleEvent) == 0LL
    || (this = (BattleLogic__coroutineInitQuest_d__315_o *)(*(__int64 (__fastcall **)(BattleLogic__coroutineInitQuest_d__315_o *, Il2CppClass *))&this->klass[1]._1.this_arg.bits)(
                                                             this,
                                                             this->klass[1]._1.element_class),
        (v7 = _4__this->fields.data) == 0LL)
    || (this = (BattleLogic__coroutineInitQuest_d__315_o *)v7->fields.battleEvent) == 0LL )
  {
LABEL_17:
    sub_B0D97C(this);
  }
  v8 = 1;
  ((void (__fastcall *)(BattleLogic__coroutineInitQuest_d__315_o *, __int64, _QWORD))this->klass[1]._2.genericContainerHandle)(
    this,
    1LL,
    *(_QWORD *)&this->klass[1]._2.instance_size);
  inited = BattleLogic__CoroutineInitQuest(_4__this, 0LL, 0LL);
  started = (System_Int32_array **)UnityEngine_MonoBehaviour__StartCoroutine_34930128(
                                     (UnityEngine_MonoBehaviour_o *)_4__this,
                                     inited,
                                     0LL);
  v4->fields.__2__current = (Il2CppObject *)started;
  p__2__current = (BattleServantConfConponent_o *)&v4->fields.__2__current;
  sub_B0D840(p__2__current, started, v12, v13, v14, v15, v16, v17);
  *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
  return v8;
}


Il2CppObject *__fastcall BattleLogic__coroutineInitQuest_d__315__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__coroutineInitQuest_d__315_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__coroutineInitQuest_d__315__System_Collections_IEnumerator_Reset(
        BattleLogic__coroutineInitQuest_d__315_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__coroutineInitQuest_d__315_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__coroutineInitQuest_d__315__System_Collections_IEnumerator_get_Current(
        BattleLogic__coroutineInitQuest_d__315_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__coroutineInitQuest_d__315__System_IDisposable_Dispose(
        BattleLogic__coroutineInitQuest_d__315_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__coroutineLoadNstage_d__320___ctor(
        BattleLogic__coroutineLoadNstage_d__320_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__coroutineLoadNstage_d__320__MoveNext(
        BattleLogic__coroutineLoadNstage_d__320_o *this,
        const MethodInfo *method)
{
  System_String_array **v2; // x2
  System_String_array **v3; // x3
  System_Boolean_array **v4; // x4
  System_Int32_array **v5; // x5
  System_Int32_array *v6; // x6
  System_Int32_array *v7; // x7
  BattleLogic__coroutineLoadNstage_d__320_o *v8; // x19
  struct BattleLogic_o *_4__this; // x20
  System_String_array **v10; // x2
  System_String_array **v11; // x3
  System_Boolean_array **v12; // x4
  System_Int32_array **v13; // x5
  System_Int32_array *v14; // x6
  System_Int32_array *v15; // x7
  BattleServantConfConponent_o *v16; // x19
  int v17; // w8
  System_String_array **v18; // x2
  System_String_array **v19; // x3
  System_Boolean_array **v20; // x4
  System_Int32_array **v21; // x5
  System_Int32_array *v22; // x6
  System_Int32_array *v23; // x7
  BattleServantConfConponent_o *p__2__current; // x19
  bool result; // w0
  System_Collections_IEnumerator_o *EnemyActor; // x0
  System_Int32_array **started; // x0
  System_String_array **v28; // x2
  System_String_array **v29; // x3
  System_Boolean_array **v30; // x4
  System_Int32_array **v31; // x5
  System_Int32_array *v32; // x6
  System_Int32_array *v33; // x7
  struct BattlePerformance_o *perf; // x8

  v8 = this;
  if ( (byte_4213923 & 1) == 0 )
  {
    this = (BattleLogic__coroutineLoadNstage_d__320_o *)sub_B0D8A4(&ServantAssetLoadManager_TypeInfo, method);
    byte_4213923 = 1;
  }
  _4__this = v8->fields.__4__this;
  switch ( v8->fields.__1__state )
  {
    case 0:
      v8->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_30;
      this = (BattleLogic__coroutineLoadNstage_d__320_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_30;
      BattlePerformance__LoadAssetsNStage((BattlePerformance_o *)this, 0LL);
LABEL_14:
      if ( (BYTE3(ServantAssetLoadManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !ServantAssetLoadManager_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(ServantAssetLoadManager_TypeInfo);
      }
      this = (BattleLogic__coroutineLoadNstage_d__320_o *)ServantAssetLoadManager__checkLoad(0LL);
      if ( ((unsigned __int8)this & 1) != 0 )
      {
        v8->fields.__2__current = 0LL;
        p__2__current = (BattleServantConfConponent_o *)&v8->fields.__2__current;
        sub_B0D840(p__2__current, 0LL, v18, v19, v20, v21, v22, v23);
        result = 1;
        *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
        return result;
      }
      if ( !_4__this )
        goto LABEL_30;
      this = (BattleLogic__coroutineLoadNstage_d__320_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_30;
      EnemyActor = BattlePerformance__coroutineLoadEnemyActor((BattlePerformance_o *)this, 0LL);
      started = (System_Int32_array **)UnityEngine_MonoBehaviour__StartCoroutine_34930128(
                                         (UnityEngine_MonoBehaviour_o *)_4__this,
                                         EnemyActor,
                                         0LL);
      v8->fields.__2__current = (Il2CppObject *)started;
      v16 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
      sub_B0D840(v16, started, v28, v29, v30, v31, v32, v33);
      v17 = 2;
      goto LABEL_27;
    case 1:
      v8->fields.__1__state = -1;
      goto LABEL_14;
    case 2:
    case 3:
      v8->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_30;
      this = (BattleLogic__coroutineLoadNstage_d__320_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_30;
      if ( BattlePerformance__checkLoad((BattlePerformance_o *)this, 0LL) )
      {
        v8->fields.__2__current = 0LL;
        v16 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
        sub_B0D840(v16, 0LL, v10, v11, v12, v13, v14, v15);
        v17 = 3;
LABEL_27:
        *(_DWORD *)&v16[-1].fields.isOpenAfter = v17;
        return 1;
      }
      this = (BattleLogic__coroutineLoadNstage_d__320_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_30;
      BattlePerformance__loadNStage((BattlePerformance_o *)this, 0LL);
LABEL_24:
      perf = _4__this->fields.perf;
      if ( !perf )
LABEL_30:
        sub_B0D97C(this);
      if ( perf->fields.isBusyLoadNStage )
      {
        v8->fields.__2__current = 0LL;
        v16 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
        sub_B0D840(v16, 0LL, v2, v3, v4, v5, v6, v7);
        v17 = 4;
        goto LABEL_27;
      }
      ActionExtensions__Call(v8->fields.finishCallback, 0LL);
      return 0;
    case 4:
      v8->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_30;
      goto LABEL_24;
    default:
      return 0;
  }
}


Il2CppObject *__fastcall BattleLogic__coroutineLoadNstage_d__320__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__coroutineLoadNstage_d__320_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__coroutineLoadNstage_d__320__System_Collections_IEnumerator_Reset(
        BattleLogic__coroutineLoadNstage_d__320_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__coroutineLoadNstage_d__320_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__coroutineLoadNstage_d__320__System_Collections_IEnumerator_get_Current(
        BattleLogic__coroutineLoadNstage_d__320_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__coroutineLoadNstage_d__320__System_IDisposable_Dispose(
        BattleLogic__coroutineLoadNstage_d__320_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__coroutineLoadSaveWave_d__322___ctor(
        BattleLogic__coroutineLoadSaveWave_d__322_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__coroutineLoadSaveWave_d__322__MoveNext(
        BattleLogic__coroutineLoadSaveWave_d__322_o *this,
        const MethodInfo *method)
{
  BattleLogic__coroutineLoadSaveWave_d__322_o *v2; // x20
  int32_t _1__state; // w8
  struct BattleLogic_o *_4__this; // x19
  System_Collections_IEnumerator_o *Nstage; // x0
  System_Int32_array **started; // x0
  BattleServantConfConponent_o *p__2__current; // x20
  System_String_array **v8; // x2
  System_String_array **v9; // x3
  System_Boolean_array **v10; // x4
  System_Int32_array **v11; // x5
  System_Int32_array *v12; // x6
  System_Int32_array *v13; // x7
  bool result; // w0
  Il2CppObject *_2__current; // x8
  BattleLogic__coroutineLoadSaveWave_d__322_o *v16; // x20
  unsigned __int64 v17; // x22
  int v18; // w8
  BattleLogic__coroutineLoadSaveWave_d__322_o *v19; // x21
  unsigned int v20; // w24
  struct BattleData_o *data; // x8
  int v22; // w8
  BattleLogic__coroutineLoadSaveWave_d__322_o *v23; // x20
  unsigned int v24; // w21
  __int64 v25; // x0

  v2 = this;
  if ( (byte_4213924 & 1) == 0 )
  {
    this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, method);
    byte_4213924 = 1;
  }
  _1__state = v2->fields.__1__state;
  _4__this = v2->fields.__4__this;
  if ( _1__state == 1 )
  {
    v2->fields.__1__state = -1;
    BattleRandom__adjustment(0LL);
    if ( !_4__this )
      goto LABEL_38;
    this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)_4__this->fields.data;
    if ( !this )
      goto LABEL_38;
    if ( LODWORD(this[25].fields.__4__this) != 2
      || LODWORD(this[4].fields.__4__this) != 2
      || HIDWORD(this[4].fields.__2__current) )
    {
      goto LABEL_28;
    }
    this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)BattleData__getFieldPlayerServantList(
                                                            (BattleData_o *)this,
                                                            0LL);
    if ( !this )
      goto LABEL_38;
    _2__current = this->fields.__2__current;
    v16 = this;
    if ( (int)_2__current >= 1 )
    {
      v17 = 0LL;
      while ( v17 < (unsigned int)_2__current )
      {
        this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)*((_QWORD *)&v16->fields.__4__this + v17);
        if ( this )
        {
          this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)BattleServantData__getActiveSkillInfos(
                                                                  (BattleServantData_o *)this,
                                                                  0LL);
          if ( !this )
            goto LABEL_38;
          v18 = (int)this->fields.__2__current;
          v19 = this;
          if ( v18 >= 1 )
          {
            v20 = 0;
            while ( 1 )
            {
              if ( v20 >= v18 )
                goto LABEL_39;
              this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)*((_QWORD *)&v19->fields.__4__this + (int)v20);
              if ( !this )
                goto LABEL_38;
              this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)BattleSkillInfoData__getChargeTurn(
                                                                      (BattleSkillInfoData_o *)this,
                                                                      0LL);
              if ( (int)this >= 1 )
                break;
              v18 = (int)v19->fields.__2__current;
              if ( (int)++v20 >= v18 )
                goto LABEL_27;
            }
            data = _4__this->fields.data;
            if ( !data )
              goto LABEL_38;
            data->fields.tutorialState = 10;
          }
        }
LABEL_27:
        LODWORD(_2__current) = v16->fields.__2__current;
        if ( (__int64)++v17 >= (int)_2__current )
          goto LABEL_28;
      }
    }
    else
    {
LABEL_28:
      BattleLogic__updateEnemyTargetLogic(_4__this, 0LL);
      this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)_4__this->fields.data;
      if ( !this )
        goto LABEL_38;
      this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)BattleData__getFieldServantList(
                                                              (BattleData_o *)this,
                                                              0,
                                                              0LL);
      if ( !this )
        goto LABEL_38;
      v22 = (int)this->fields.__2__current;
      v23 = this;
      if ( v22 < 1 )
      {
LABEL_35:
        this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)_4__this->fields.fsm;
        if ( !this )
          goto LABEL_38;
        PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
        return 0;
      }
      v24 = 0;
      while ( v24 < v22 )
      {
        this = (BattleLogic__coroutineLoadSaveWave_d__322_o *)*((_QWORD *)&v23->fields.__4__this + (int)v24);
        if ( !this )
          goto LABEL_38;
        BattleServantData__updateBuff((BattleServantData_o *)this, 1, 1, 0LL);
        v22 = (int)v23->fields.__2__current;
        if ( (int)++v24 >= v22 )
          goto LABEL_35;
      }
    }
LABEL_39:
    v25 = sub_B0D9A8(this);
    sub_B0D948(v25, 0LL);
  }
  if ( !_1__state )
  {
    v2->fields.__1__state = -1;
    if ( _4__this )
    {
      Nstage = BattleLogic__coroutineLoadNstage(_4__this, 0LL, 0LL);
      started = (System_Int32_array **)UnityEngine_MonoBehaviour__StartCoroutine_34930128(
                                         (UnityEngine_MonoBehaviour_o *)_4__this,
                                         Nstage,
                                         0LL);
      v2->fields.__2__current = (Il2CppObject *)started;
      p__2__current = (BattleServantConfConponent_o *)&v2->fields.__2__current;
      sub_B0D840(p__2__current, started, v8, v9, v10, v11, v12, v13);
      result = 1;
      *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
      return result;
    }
LABEL_38:
    sub_B0D97C(this);
  }
  return 0;
}


Il2CppObject *__fastcall BattleLogic__coroutineLoadSaveWave_d__322__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__coroutineLoadSaveWave_d__322_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__coroutineLoadSaveWave_d__322__System_Collections_IEnumerator_Reset(
        BattleLogic__coroutineLoadSaveWave_d__322_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__coroutineLoadSaveWave_d__322_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__coroutineLoadSaveWave_d__322__System_Collections_IEnumerator_get_Current(
        BattleLogic__coroutineLoadSaveWave_d__322_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__coroutineLoadSaveWave_d__322__System_IDisposable_Dispose(
        BattleLogic__coroutineLoadSaveWave_d__322_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__coroutineStartLimitTurnTutorial_d__307___ctor(
        BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__coroutineStartLimitTurnTutorial_d__307__MoveNext(
        BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *this,
        const MethodInfo *method)
{
  BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *v2; // x20
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  Il2CppObject *_4__this; // x19
  Il2CppClass *klass; // x8
  UnityEngine_Object_o *v9; // x21
  System_Int32_array **v10; // x0
  BattleServantConfConponent_o *p__2__current; // x20
  System_String_array **v12; // x2
  System_String_array **v13; // x3
  System_Boolean_array **v14; // x4
  System_Int32_array **v15; // x5
  System_Int32_array *v16; // x6
  System_Int32_array *v17; // x7
  bool result; // w0
  Il2CppClass *v19; // x8
  Firebase_Unity_UnitySynchronizationContext_SynchronizationContextBehavoir_o *v20; // x20
  __int64 v21; // x1
  __int64 v22; // x2
  BattleEventTutorial_o *v23; // x20
  System_Action_o *v24; // x21
  int v25; // [xsp+Ch] [xbp-24h] BYREF

  v2 = this;
  if ( (byte_4213925 & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, method);
    sub_B0D8A4(&Method_BattleLogic_callbackResumeLimitTurnEffect__, v3);
    sub_B0D8A4(&Method_UnityEngine_GameObject_AddComponent_BattleRaidTurnStartEffect___, v4);
    sub_B0D8A4(&int_TypeInfo, v5);
    this = (BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *)sub_B0D8A4(&UnityEngine_Object_TypeInfo, v6);
    byte_4213925 = 1;
  }
  if ( v2->fields.__1__state >= 2u )
    return 0;
  _4__this = (Il2CppObject *)v2->fields.__4__this;
  v2->fields.__1__state = -1;
  if ( !_4__this )
    goto LABEL_23;
  klass = _4__this[3].klass;
  if ( !klass )
    goto LABEL_23;
  v9 = (UnityEngine_Object_o *)klass->vtable[32].method;
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  this = (BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *)UnityEngine_Object__op_Equality(v9, 0LL, 0LL);
  if ( ((unsigned __int8)this & 1) != 0 )
  {
    v25 = 0;
    v10 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v25);
    v2->fields.__2__current = (Il2CppObject *)v10;
    p__2__current = (BattleServantConfConponent_o *)&v2->fields.__2__current;
    sub_B0D840(p__2__current, v10, v12, v13, v14, v15, v16, v17);
    result = 1;
    *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
    return result;
  }
  v19 = _4__this[3].klass;
  if ( !v19 )
    goto LABEL_23;
  this = (BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *)v19->vtable[32].method;
  if ( !this )
    goto LABEL_23;
  v20 = UnityEngine_GameObject__AddComponent_UnitySynchronizationContext_SynchronizationContextBehavoir_(
          (UnityEngine_GameObject_o *)this,
          (const MethodInfo_1B62AAC *)Method_UnityEngine_GameObject_AddComponent_BattleRaidTurnStartEffect___);
  if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
  }
  this = (BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *)UnityEngine_Object__op_Inequality(
                                                                    (UnityEngine_Object_o *)v20,
                                                                    0LL,
                                                                    0LL);
  if ( ((unsigned __int8)this & 1) != 0 )
  {
    if ( !v20 )
      goto LABEL_23;
    LOBYTE(v20->fields.callbackQueue) = 1;
  }
  v23 = (BattleEventTutorial_o *)_4__this[4].klass;
  v24 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v21, v22);
  System_Action___ctor(v24, _4__this, Method_BattleLogic_callbackResumeLimitTurnEffect__, 0LL);
  if ( !v23 )
LABEL_23:
    sub_B0D97C(this);
  BattleEventTutorial__callTurn(v23, v24, 0LL);
  return 0;
}


Il2CppObject *__fastcall BattleLogic__coroutineStartLimitTurnTutorial_d__307__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__coroutineStartLimitTurnTutorial_d__307__System_Collections_IEnumerator_Reset(
        BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__coroutineStartLimitTurnTutorial_d__307_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__coroutineStartLimitTurnTutorial_d__307__System_Collections_IEnumerator_get_Current(
        BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__coroutineStartLimitTurnTutorial_d__307__System_IDisposable_Dispose(
        BattleLogic__coroutineStartLimitTurnTutorial_d__307_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__dropItemCoroutine_d__191___ctor(
        BattleLogic__dropItemCoroutine_d__191_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__dropItemCoroutine_d__191__MoveNext(
        BattleLogic__dropItemCoroutine_d__191_o *this,
        const MethodInfo *method)
{
  BattleLogic__dropItemCoroutine_d__191_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  struct BattleLogic_o *_4__this; // x20
  struct BattleData_o *data; // x8
  struct BattlePerformance_o *perf; // x8
  UnityEngine_Object_o *actioncamera; // x21
  struct BattlePerformance_o *v9; // x8
  __int64 v10; // x1
  __int64 v11; // x2
  UnityEngine_WaitForSeconds_o *v12; // x20
  BattleServantConfConponent_o *p__2__current; // x19
  System_String_array **v14; // x2
  System_String_array **v15; // x3
  System_Boolean_array **v16; // x4
  System_Int32_array **v17; // x5
  System_Int32_array *v18; // x6
  System_Int32_array *v19; // x7
  System_Action_o *callback; // x0
  __int64 v21; // x1
  __int64 v22; // x2
  UnityEngine_WaitForSeconds_o *v23; // x20
  BattleServantConfConponent_o *v24; // x19
  System_String_array **v25; // x2
  System_String_array **v26; // x3
  System_Boolean_array **v27; // x4
  System_Int32_array **v28; // x5
  System_Int32_array *v29; // x6
  System_Int32_array *v30; // x7
  int v31; // w8
  __int64 v32; // x1
  __int64 v33; // x2
  UnityEngine_WaitForSeconds_o *v34; // x20
  System_String_array **v35; // x2
  System_String_array **v36; // x3
  System_Boolean_array **v37; // x4
  System_Int32_array **v38; // x5
  System_Int32_array *v39; // x6
  System_Int32_array *v40; // x7

  v2 = this;
  if ( (byte_4213926 & 1) == 0 )
  {
    sub_B0D8A4(&UnityEngine_Object_TypeInfo, method);
    sub_B0D8A4(&UnityEngine_WaitForSeconds_TypeInfo, v3);
    this = (BattleLogic__dropItemCoroutine_d__191_o *)sub_B0D8A4(&StringLiteral_12290/*"SKILL_E_ALL_PLAYER"*/, v4);
    byte_4213926 = 1;
  }
  _4__this = v2->fields.__4__this;
  switch ( v2->fields.__1__state )
  {
    case 0:
      v2->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_28;
      data = _4__this->fields.data;
      if ( !data )
        goto LABEL_28;
      this = (BattleLogic__dropItemCoroutine_d__191_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_28;
      BattlePerformance__SetTimeScale((BattlePerformance_o *)this, (float)data->fields.systemflg_acceleration, 0LL);
      perf = _4__this->fields.perf;
      if ( !perf )
        goto LABEL_28;
      actioncamera = (UnityEngine_Object_o *)perf->fields.actioncamera;
      if ( (BYTE3(UnityEngine_Object_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
        && !UnityEngine_Object_TypeInfo->_2.cctor_finished )
      {
        j_il2cpp_runtime_class_init_0(UnityEngine_Object_TypeInfo);
      }
      this = (BattleLogic__dropItemCoroutine_d__191_o *)UnityEngine_Object__op_Inequality(actioncamera, 0LL, 0LL);
      if ( ((unsigned __int8)this & 1) != 0 )
      {
        v9 = _4__this->fields.perf;
        if ( v9 )
        {
          this = (BattleLogic__dropItemCoroutine_d__191_o *)v9->fields.actioncamera;
          if ( this )
          {
            BattleActionCamera__sendMainEvent((BattleActionCamera_o *)this, (System_String_o *)StringLiteral_12290/*"SKILL_E_ALL_PLAYER"*/, 0LL);
            v12 = (UnityEngine_WaitForSeconds_o *)sub_B0D974(UnityEngine_WaitForSeconds_TypeInfo, v10, v11);
            UnityEngine_WaitForSeconds___ctor(v12, 0.5, 0LL);
            v2->fields.__2__current = (Il2CppObject *)v12;
            p__2__current = (BattleServantConfConponent_o *)&v2->fields.__2__current;
            sub_B0D840(p__2__current, (System_Int32_array **)v12, v14, v15, v16, v17, v18, v19);
            LOBYTE(callback) = 1;
            *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
            return (char)callback;
          }
        }
LABEL_28:
        sub_B0D97C(this);
      }
LABEL_25:
      BattleLogic__EnemyDropItem(_4__this, 0LL);
      v34 = (UnityEngine_WaitForSeconds_o *)sub_B0D974(UnityEngine_WaitForSeconds_TypeInfo, v32, v33);
      UnityEngine_WaitForSeconds___ctor(v34, 2.0, 0LL);
      v2->fields.__2__current = (Il2CppObject *)v34;
      v24 = (BattleServantConfConponent_o *)&v2->fields.__2__current;
      sub_B0D840(v24, (System_Int32_array **)v34, v35, v36, v37, v38, v39, v40);
      v31 = 2;
      goto LABEL_26;
    case 1:
      v2->fields.__1__state = -1;
      if ( _4__this )
        goto LABEL_25;
      goto LABEL_28;
    case 2:
      v2->fields.__1__state = -1;
      if ( !_4__this )
        goto LABEL_28;
      this = (BattleLogic__dropItemCoroutine_d__191_o *)_4__this->fields.perf;
      if ( !this )
        goto LABEL_28;
      if ( BattlePerformance__IsItemDrop((BattlePerformance_o *)this, 0LL) )
      {
        this = (BattleLogic__dropItemCoroutine_d__191_o *)_4__this->fields.perf;
        if ( !this )
          goto LABEL_28;
        BattlePerformance__startMovePopObject((BattlePerformance_o *)this, 0LL);
        v23 = (UnityEngine_WaitForSeconds_o *)sub_B0D974(UnityEngine_WaitForSeconds_TypeInfo, v21, v22);
        UnityEngine_WaitForSeconds___ctor(v23, 0.5, 0LL);
        v2->fields.__2__current = (Il2CppObject *)v23;
        v24 = (BattleServantConfConponent_o *)&v2->fields.__2__current;
        sub_B0D840(v24, (System_Int32_array **)v23, v25, v26, v27, v28, v29, v30);
        v31 = 3;
LABEL_26:
        *(_DWORD *)&v24[-1].fields.isOpenAfter = v31;
        LOBYTE(callback) = 1;
        return (char)callback;
      }
LABEL_21:
      callback = v2->fields.callback;
      if ( callback )
      {
        System_Action__Invoke(callback, 0LL);
LABEL_23:
        LOBYTE(callback) = 0;
      }
      return (char)callback;
    case 3:
      v2->fields.__1__state = -1;
      goto LABEL_21;
    default:
      goto LABEL_23;
  }
}


Il2CppObject *__fastcall BattleLogic__dropItemCoroutine_d__191__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__dropItemCoroutine_d__191_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__dropItemCoroutine_d__191__System_Collections_IEnumerator_Reset(
        BattleLogic__dropItemCoroutine_d__191_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__dropItemCoroutine_d__191_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__dropItemCoroutine_d__191__System_Collections_IEnumerator_get_Current(
        BattleLogic__dropItemCoroutine_d__191_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__dropItemCoroutine_d__191__System_IDisposable_Dispose(
        BattleLogic__dropItemCoroutine_d__191_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__endCommandSpellCoroutine_d__255___ctor(
        BattleLogic__endCommandSpellCoroutine_d__255_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__endCommandSpellCoroutine_d__255__MoveNext(
        BattleLogic__endCommandSpellCoroutine_d__255_o *this,
        const MethodInfo *method)
{
  System_String_array **v2; // x2
  System_String_array **v3; // x3
  System_Boolean_array **v4; // x4
  System_Int32_array **v5; // x5
  System_Int32_array *v6; // x6
  System_Int32_array *v7; // x7
  BattleLogic__endCommandSpellCoroutine_d__255_o *v8; // x20
  __int64 v9; // x1
  __int64 v10; // x1
  int32_t _1__state; // w8
  struct BattleLogic_o *_4__this; // x19
  struct BattlePerformance_o *perf; // x8
  int32_t SpellImageIdBattle; // w0
  System_String_o *CommandSpellAssetName; // x20
  bool result; // w0
  BattleServantConfConponent_o *p__2__current; // x20

  v8 = this;
  if ( (byte_4213927 & 1) == 0 )
  {
    sub_B0D8A4(&AssetManager_TypeInfo, method);
    sub_B0D8A4(&BattlePerformance_TypeInfo, v9);
    this = (BattleLogic__endCommandSpellCoroutine_d__255_o *)sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v10);
    byte_4213927 = 1;
  }
  _1__state = v8->fields.__1__state;
  _4__this = v8->fields.__4__this;
  if ( _1__state == 1 )
  {
    v8->fields.__1__state = -1;
  }
  else
  {
    if ( _1__state )
      return 0;
    v8->fields.__1__state = -1;
    if ( !_4__this || (this = (BattleLogic__endCommandSpellCoroutine_d__255_o *)_4__this->fields.data) == 0LL )
LABEL_26:
      sub_B0D97C(this);
    BattleData__SaveTurnData((BattleData_o *)this, 0LL);
  }
  this = (BattleLogic__endCommandSpellCoroutine_d__255_o *)BattlePerformance_TypeInfo;
  if ( (BYTE3(BattlePerformance_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
    && !BattlePerformance_TypeInfo->_2.cctor_finished )
  {
    j_il2cpp_runtime_class_init_0(BattlePerformance_TypeInfo);
    this = (BattleLogic__endCommandSpellCoroutine_d__255_o *)BattlePerformance_TypeInfo;
  }
  if ( BYTE1(this[4].fields.__2__current[1].monitor) )
  {
    if ( _4__this )
    {
      this = (BattleLogic__endCommandSpellCoroutine_d__255_o *)_4__this->fields.perf;
      if ( this )
      {
        BattlePerformance__updateCommandCard((BattlePerformance_o *)this, 0LL);
        this = (BattleLogic__endCommandSpellCoroutine_d__255_o *)_4__this->fields.perf;
        if ( this )
        {
          BattlePerformance__checkRedrawCommandCard((BattlePerformance_o *)this, 0LL);
          perf = _4__this->fields.perf;
          if ( perf )
          {
            perf->fields.isTargetChange = 1;
            this = (BattleLogic__endCommandSpellCoroutine_d__255_o *)UserGameMaster__getSelfUserGame(0LL);
            if ( this )
            {
              SpellImageIdBattle = UserGameEntity__get_SpellImageIdBattle((UserGameEntity_o *)this, 0LL);
              CommandSpellAssetName = BattleLogic__GetCommandSpellAssetName(_4__this, SpellImageIdBattle, 0LL);
              if ( (BYTE3(AssetManager_TypeInfo->vtable._0_Equals.methodPtr) & 4) != 0
                && !AssetManager_TypeInfo->_2.cctor_finished )
              {
                j_il2cpp_runtime_class_init_0(AssetManager_TypeInfo);
              }
              AssetManager__releaseAssetStorage(CommandSpellAssetName, 0LL);
              this = (BattleLogic__endCommandSpellCoroutine_d__255_o *)_4__this->fields.perf;
              if ( this )
              {
                BattlePerformance__endCommandSpell((BattlePerformance_o *)this, 0LL);
                this = (BattleLogic__endCommandSpellCoroutine_d__255_o *)_4__this->fields.fsm;
                if ( this )
                {
                  PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
                  return 0;
                }
              }
            }
          }
        }
      }
    }
    goto LABEL_26;
  }
  v8->fields.__2__current = 0LL;
  p__2__current = (BattleServantConfConponent_o *)&v8->fields.__2__current;
  sub_B0D840(p__2__current, 0LL, v2, v3, v4, v5, v6, v7);
  result = 1;
  *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
  return result;
}


Il2CppObject *__fastcall BattleLogic__endCommandSpellCoroutine_d__255__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__endCommandSpellCoroutine_d__255_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__endCommandSpellCoroutine_d__255__System_Collections_IEnumerator_Reset(
        BattleLogic__endCommandSpellCoroutine_d__255_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__endCommandSpellCoroutine_d__255_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__endCommandSpellCoroutine_d__255__System_Collections_IEnumerator_get_Current(
        BattleLogic__endCommandSpellCoroutine_d__255_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__endCommandSpellCoroutine_d__255__System_IDisposable_Dispose(
        BattleLogic__endCommandSpellCoroutine_d__255_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__startCommandIE_d__202___ctor(
        BattleLogic__startCommandIE_d__202_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__startCommandIE_d__202__MoveNext(
        BattleLogic__startCommandIE_d__202_o *this,
        const MethodInfo *method)
{
  BattleLogic__startCommandIE_d__202_o *v2; // x19
  __int64 v3; // x1
  __int64 v4; // x1
  __int64 v5; // x1
  __int64 v6; // x1
  __int64 v7; // x1
  __int64 v8; // x1
  int32_t _1__state; // w8
  System_Int32_array **v10; // x0
  System_String_array **v11; // x2
  System_String_array **v12; // x3
  System_Boolean_array **v13; // x4
  System_Int32_array **v14; // x5
  System_Int32_array *v15; // x6
  System_Int32_array *v16; // x7
  bool result; // w0
  BattleLogic__startCommandIE_d__202_o **_4__this; // x23
  System_Collections_Generic_IEnumerable_T__o *BaseCommandCardData; // x21
  __int64 v20; // x1
  __int64 v21; // x2
  System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *v22; // x20
  int _2__current; // w8
  BattleLogic__startCommandIE_d__202_o *v24; // x21
  unsigned int v25; // w24
  BattleLogic__startCommandIE_d__202_c **v26; // x27
  BattleLogic__startCommandIE_d__202_o **v27; // x27
  BattleLogic__startCommandIE_d__202_o *v28; // t1
  __int64 v29; // x1
  __int64 v30; // x2
  BattleCommandData_o *v31; // x22
  const MethodInfo_2FC56E8 *v32; // x2
  System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *v33; // x0
  EventMissionProgressRequest_Argument_ProgressData_o *v34; // x1
  BattlePerformance_o *v35; // x21
  BattleLogic__startCommandIE_d__202_o *v36; // x8
  __int64 v37; // x0
  int v38; // [xsp+Ch] [xbp-44h] BYREF

  v2 = this;
  if ( (byte_4213928 & 1) == 0 )
  {
    sub_B0D8A4(&BattleCommandData_TypeInfo, method);
    sub_B0D8A4(&int_TypeInfo, v3);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__Add__, v4);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData__ToArray__, v5);
    sub_B0D8A4(&Method_System_Collections_Generic_List_BattleCommandData___ctor___67874064, v6);
    sub_B0D8A4(&System_Collections_Generic_List_BattleCommandData__TypeInfo, v7);
    this = (BattleLogic__startCommandIE_d__202_o *)sub_B0D8A4(
                                                     &Method_SingletonMonoBehaviour_CommonUI__get_Instance__,
                                                     v8);
    byte_4213928 = 1;
  }
  _1__state = v2->fields.__1__state;
  if ( _1__state == 1 )
  {
    _4__this = (BattleLogic__startCommandIE_d__202_o **)v2->fields.__4__this;
    v2->fields.__1__state = -1;
    if ( !_4__this )
      goto LABEL_49;
    this = _4__this[6];
    if ( !this )
      goto LABEL_49;
    BaseCommandCardData = (System_Collections_Generic_IEnumerable_T__o *)BattlePerformance__GetBaseCommandCardData(
                                                                           (BattlePerformance_o *)this,
                                                                           0LL);
    v22 = (System_Collections_Generic_List_WarBoardAIRoute_RouteData__o *)sub_B0D974(
                                                                            System_Collections_Generic_List_BattleCommandData__TypeInfo,
                                                                            v20,
                                                                            v21);
    System_Collections_Generic_List_WarBoardAIRoute_RouteData____ctor(
      v22,
      BaseCommandCardData,
      (const MethodInfo_2FC4C1C *)Method_System_Collections_Generic_List_BattleCommandData___ctor___67874064);
    this = _4__this[6];
    if ( !this )
      goto LABEL_49;
    BattlePerformance__closeSelectSvtWindow((BattlePerformance_o *)this, 0LL);
    this = _4__this[6];
    if ( !this )
      goto LABEL_49;
    BattlePerformance__closeSelectMainSubSvtWindow((BattlePerformance_o *)this, 0LL);
    this = _4__this[6];
    if ( !this )
      goto LABEL_49;
    BattlePerformance__closeSelectCommandTypeWindow((BattlePerformance_o *)this, 0LL);
    this = _4__this[4];
    if ( !this )
      goto LABEL_49;
    this = (BattleLogic__startCommandIE_d__202_o *)BattleData__getFieldPlayerServantList((BattleData_o *)this, 0LL);
    if ( !this )
      goto LABEL_49;
    _2__current = (int)this->fields.__2__current;
    v24 = this;
    if ( _2__current >= 1 )
    {
      v25 = 0;
      do
      {
        if ( v25 >= _2__current )
        {
LABEL_50:
          v37 = sub_B0D9A8(this);
          sub_B0D948(v37, 0LL);
        }
        v26 = &v24->klass + (int)v25;
        v28 = (BattleLogic__startCommandIE_d__202_o *)v26[4];
        v27 = (BattleLogic__startCommandIE_d__202_o **)(v26 + 4);
        this = v28;
        if ( !v28 )
          goto LABEL_49;
        this = (BattleLogic__startCommandIE_d__202_o *)BattleServantData__checkUseTDvc(
                                                         (BattleServantData_o *)this,
                                                         (BattleData_o *)_4__this[4],
                                                         0,
                                                         0LL);
        if ( ((unsigned __int8)this & 1) != 0 )
        {
          v31 = (BattleCommandData_o *)sub_B0D974(BattleCommandData_TypeInfo, v29, v30);
          BattleCommandData___ctor(v31, 0LL);
          if ( v25 >= LODWORD(v24->fields.__2__current) )
            goto LABEL_50;
          this = *v27;
          if ( !*v27 )
            goto LABEL_49;
          this = (BattleLogic__startCommandIE_d__202_o *)BattleServantData__getTreasureDvcCardId_20714272(
                                                           (BattleServantData_o *)this,
                                                           0,
                                                           0LL);
          if ( !v31 )
            goto LABEL_49;
          v31->fields._type = (int)this;
          if ( v25 >= LODWORD(v24->fields.__2__current) )
            goto LABEL_50;
          this = *v27;
          if ( !*v27 )
            goto LABEL_49;
          this = (BattleLogic__startCommandIE_d__202_o *)BattleServantData__getCommandDispLimitCount(
                                                           (BattleServantData_o *)this,
                                                           0LL);
          v31->fields.svtlimit = (int)this;
          if ( v25 >= LODWORD(v24->fields.__2__current) )
            goto LABEL_50;
          this = *v27;
          if ( !*v27 )
            goto LABEL_49;
          this = (BattleLogic__startCommandIE_d__202_o *)BattleServantData__getDispLimitCount(
                                                           (BattleServantData_o *)this,
                                                           1,
                                                           0LL);
          v31->fields._loadsvtLimit = (int)this;
          if ( v25 >= LODWORD(v24->fields.__2__current) )
            goto LABEL_50;
          if ( !*v27 )
            goto LABEL_49;
          v31->fields.uniqueId = (int32_t)(*v27)->fields.__2__current;
          if ( v25 >= LODWORD(v24->fields.__2__current) )
            goto LABEL_50;
          this = *v27;
          if ( !*v27 )
            goto LABEL_49;
          this = (BattleLogic__startCommandIE_d__202_o *)BattleServantData__getSvtId((BattleServantData_o *)this, 0LL);
          v31->fields.svtId = (int)this;
          if ( v25 >= LODWORD(v24->fields.__2__current) )
            goto LABEL_50;
          this = *v27;
          if ( !*v27 )
            goto LABEL_49;
          this = (BattleLogic__startCommandIE_d__202_o *)BattleServantData__GetCommandImageSvtId(
                                                           (BattleServantData_o *)this,
                                                           0LL);
          v31->fields.imageSvtId = (int)this;
          if ( v25 >= LODWORD(v24->fields.__2__current) )
            goto LABEL_50;
          this = *v27;
          if ( !*v27 )
            goto LABEL_49;
          this = (BattleLogic__startCommandIE_d__202_o *)BattleServantData__getTreasureDvcId(
                                                           (BattleServantData_o *)this,
                                                           0,
                                                           0LL);
          v31->fields.treasureDvc = (int)this;
          if ( v25 >= LODWORD(v24->fields.__2__current) )
            goto LABEL_50;
          if ( !*v27 )
            goto LABEL_49;
          v31->fields.follower = *(&(*v27)[6].fields.__1__state + 1);
          if ( v25 >= LODWORD(v24->fields.__2__current) )
            goto LABEL_50;
          if ( !*v27 )
            goto LABEL_49;
          v31->fields.flgEventJoin = (bool)(*v27)[6].fields.__2__current;
          if ( !v22 )
            goto LABEL_49;
          v32 = (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleCommandData__Add__;
          v33 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)v22;
          v34 = (EventMissionProgressRequest_Argument_ProgressData_o *)v31;
        }
        else
        {
          if ( !v22 )
            goto LABEL_49;
          v32 = (const MethodInfo_2FC56E8 *)Method_System_Collections_Generic_List_BattleCommandData__Add__;
          v33 = (System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData__o *)v22;
          v34 = 0LL;
        }
        System_Collections_Generic_List_EventMissionProgressRequest_Argument_ProgressData___Add(v33, v34, v32);
        _2__current = (int)v24->fields.__2__current;
      }
      while ( (int)++v25 < _2__current );
    }
    if ( !v22
      || (v35 = (BattlePerformance_o *)_4__this[6],
          this = (BattleLogic__startCommandIE_d__202_o *)System_Collections_Generic_List_WarBoardUiData_SaveData___ToArray(
                                                           (System_Collections_Generic_List_WarBoardUiData_SaveData__o *)v22,
                                                           (const MethodInfo_2FC7834 *)Method_System_Collections_Generic_List_BattleCommandData__ToArray__),
          (v36 = _4__this[4]) == 0LL)
      || !v35
      || (BattlePerformance__setCommandCard(
            v35,
            (BattleCommandData_array *)this,
            HIDWORD(v36[6].fields.__2__current),
            0LL),
          (this = (BattleLogic__startCommandIE_d__202_o *)SingletonMonoBehaviour_WebViewManager___get_Instance((const MethodInfo_2A71064 *)Method_SingletonMonoBehaviour_CommonUI__get_Instance__)) == 0LL)
      || (CommonUI__CloseTutorialNotificationDialogArrow((CommonUI_o *)this, 0LL), (this = _4__this[3]) == 0LL) )
    {
LABEL_49:
      sub_B0D97C(this);
    }
    PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, v2->fields.endproc, 0LL);
  }
  else if ( !_1__state )
  {
    v2->fields.__1__state = -1;
    v38 = 0;
    v10 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v38);
    v2->fields.__2__current = (Il2CppObject *)v10;
    sub_B0D840((BattleServantConfConponent_o *)&v2->fields.__2__current, v10, v11, v12, v13, v14, v15, v16);
    result = 1;
    v2->fields.__1__state = 1;
    return result;
  }
  return 0;
}


Il2CppObject *__fastcall BattleLogic__startCommandIE_d__202__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__startCommandIE_d__202_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__startCommandIE_d__202__System_Collections_IEnumerator_Reset(
        BattleLogic__startCommandIE_d__202_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__startCommandIE_d__202_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__startCommandIE_d__202__System_Collections_IEnumerator_get_Current(
        BattleLogic__startCommandIE_d__202_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__startCommandIE_d__202__System_IDisposable_Dispose(
        BattleLogic__startCommandIE_d__202_o *this,
        const MethodInfo *method)
{
  ;
}


void __fastcall BattleLogic__waitWaveStep_d__210___ctor(
        BattleLogic__waitWaveStep_d__210_o *this,
        int32_t 1__state,
        const MethodInfo *method)
{
  System_Object___ctor((Il2CppObject *)this, 0LL);
  this->fields.__1__state = 1__state;
}


bool __fastcall BattleLogic__waitWaveStep_d__210__MoveNext(
        BattleLogic__waitWaveStep_d__210_o *this,
        const MethodInfo *method)
{
  System_String_array **v2; // x2
  System_String_array **v3; // x3
  System_Boolean_array **v4; // x4
  System_Int32_array **v5; // x5
  System_Int32_array *v6; // x6
  System_Int32_array *v7; // x7
  BattleLogic__waitWaveStep_d__210_o *v8; // x19
  __int64 v9; // x1
  __int64 v10; // x1
  __int64 v11; // x1
  __int64 v12; // x1
  __int64 v13; // x1
  __int64 v14; // x1
  __int64 v15; // x1
  unsigned int _1__state; // w8
  struct BattleLogic_o *_4__this; // x20
  bool result; // w0
  System_Int32_array **v19; // x0
  BattleServantConfConponent_o *p__2__current; // x19
  System_String_array **v21; // x2
  System_String_array **v22; // x3
  System_Boolean_array **v23; // x4
  System_Int32_array **v24; // x5
  System_Int32_array *v25; // x6
  System_Int32_array *v26; // x7
  BattleServantConfConponent_o *p__8__1; // x21
  __int64 v28; // x1
  __int64 v29; // x2
  Il2CppObject *v30; // x22
  System_String_array **v31; // x2
  System_String_array **v32; // x3
  System_Boolean_array **v33; // x4
  System_Int32_array **v34; // x5
  System_Int32_array *v35; // x6
  System_Int32_array *v36; // x7
  __int64 v37; // x1
  __int64 v38; // x2
  BattleEventTutorial_o *eventTutorial; // x22
  Il2CppObject *klass; // x24
  System_Action_o *v41; // x23
  __int64 v42; // x1
  __int64 v43; // x2
  struct BattleLogicTask_array *taskList; // x8
  unsigned __int64 v45; // x22
  unsigned __int64 max_length; // x9
  System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *list_logic; // x21
  BattleLogicTask_o *v48; // x22
  System_Int32_array **v49; // x0
  BattleServantConfConponent_o *v50; // x19
  System_String_array **v51; // x2
  System_String_array **v52; // x3
  System_Boolean_array **v53; // x4
  System_Int32_array **v54; // x5
  System_Int32_array *v55; // x6
  System_Int32_array *v56; // x7
  int v57; // w8
  __int64 v58; // x0
  int v59; // [xsp+8h] [xbp-38h] BYREF
  int v60; // [xsp+Ch] [xbp-34h] BYREF

  v8 = this;
  if ( (byte_4213929 & 1) == 0 )
  {
    sub_B0D8A4(&System_Action_TypeInfo, method);
    sub_B0D8A4(&BattleLogicTask_TypeInfo, v9);
    sub_B0D8A4(&int_TypeInfo, v10);
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__, v11);
    sub_B0D8A4(&Method_System_Collections_Generic_LinkedList_BattleLogicTask__get_Count__, v12);
    sub_B0D8A4(&Method_BattleLogic___c__DisplayClass210_0__waitWaveStep_b__0__, v13);
    sub_B0D8A4(&BattleLogic___c__DisplayClass210_0_TypeInfo, v14);
    this = (BattleLogic__waitWaveStep_d__210_o *)sub_B0D8A4(&StringLiteral_5512/*"END_PROC"*/, v15);
    byte_4213929 = 1;
  }
  _1__state = v8->fields.__1__state;
  _4__this = v8->fields.__4__this;
  if ( _1__state < 2 )
  {
    v8->fields.__1__state = -1;
    if ( !_4__this )
      goto LABEL_32;
    this = (BattleLogic__waitWaveStep_d__210_o *)_4__this->fields.perf;
    if ( !this )
      goto LABEL_32;
    if ( BattlePerformance__IsStep4FieldMotion((BattlePerformance_o *)this, 0LL) )
    {
      v60 = 0;
      v19 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v60);
      v8->fields.__2__current = (Il2CppObject *)v19;
      p__2__current = (BattleServantConfConponent_o *)&v8->fields.__2__current;
      sub_B0D840(p__2__current, v19, v21, v22, v23, v24, v25, v26);
      result = 1;
      *(_DWORD *)&p__2__current[-1].fields.isOpenAfter = 1;
      return result;
    }
    if ( v8->fields.progress != 128 )
      goto LABEL_24;
    this = (BattleLogic__waitWaveStep_d__210_o *)_4__this->fields.eventTutorial;
    if ( !this )
      goto LABEL_32;
    if ( !BattleEventTutorial__CheckHasGimmickPhaseTutorial((BattleEventTutorial_o *)this, 0LL) )
      goto LABEL_24;
    v30 = (Il2CppObject *)sub_B0D974(BattleLogic___c__DisplayClass210_0_TypeInfo, v28, v29);
    System_Object___ctor(v30, 0LL);
    v8->fields.__8__1 = (struct BattleLogic___c__DisplayClass210_0_o *)v30;
    p__8__1 = (BattleServantConfConponent_o *)&v8->fields.__8__1;
    sub_B0D840(
      (BattleServantConfConponent_o *)&v8->fields.__8__1,
      (System_Int32_array **)v30,
      v31,
      v32,
      v33,
      v34,
      v35,
      v36);
    if ( !v8->fields.__8__1 )
      goto LABEL_32;
    v8->fields.__8__1->fields.isEnd = 0;
    eventTutorial = _4__this->fields.eventTutorial;
    klass = (Il2CppObject *)p__8__1->klass;
    v41 = (System_Action_o *)sub_B0D974(System_Action_TypeInfo, v37, v38);
    System_Action___ctor(v41, klass, Method_BattleLogic___c__DisplayClass210_0__waitWaveStep_b__0__, 0LL);
    if ( !eventTutorial )
      goto LABEL_32;
    BattleEventTutorial__callGimmick(eventTutorial, v41, 0LL);
  }
  else
  {
    if ( _1__state != 2 )
    {
      if ( _1__state != 3 )
        return 0;
      v8->fields.__1__state = -1;
      if ( _4__this )
      {
        BattleLogic__playTaskBattle(_4__this, 0LL);
        return 0;
      }
LABEL_32:
      sub_B0D97C(this);
    }
    p__8__1 = (BattleServantConfConponent_o *)&v8->fields.__8__1;
    v8->fields.__1__state = -1;
  }
  if ( !p__8__1->klass )
    goto LABEL_32;
  if ( LOBYTE(p__8__1->klass->_1.name) )
  {
    p__8__1->klass = 0LL;
    sub_B0D840(p__8__1, 0LL, v2, v3, v4, v5, v6, v7);
    if ( !_4__this )
      goto LABEL_32;
LABEL_24:
    this = (BattleLogic__waitWaveStep_d__210_o *)BattleLogic__isTimeAcceleration(_4__this, 0LL);
    if ( ((unsigned __int8)this & 1) != 0 )
      BattleLogic__setTimeAcceleration(_4__this, 0, 0LL);
    _4__this->fields.acttype = 2;
    taskList = v8->fields.taskList;
    if ( !taskList )
      goto LABEL_32;
    v45 = 0LL;
    while ( 1 )
    {
      max_length = taskList->max_length;
      list_logic = (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)_4__this->fields.list_logic;
      if ( (__int64)v45 >= (int)max_length )
        break;
      if ( v45 >= max_length )
      {
        v58 = sub_B0D9A8(this);
        sub_B0D948(v58, 0LL);
      }
      if ( list_logic )
      {
        this = (BattleLogic__waitWaveStep_d__210_o *)System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot___AddLast(
                                                       (System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot__o *)_4__this->fields.list_logic,
                                                       (BattleServantSnapShotGroupBase_SnapShot_o *)taskList->m_Items[v45],
                                                       (const MethodInfo_2D1CF50 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__);
        taskList = v8->fields.taskList;
        ++v45;
        if ( taskList )
          continue;
      }
      goto LABEL_32;
    }
    if ( !list_logic )
      goto LABEL_32;
    if ( list_logic->fields.count >= 1 )
    {
      v48 = (BattleLogicTask_o *)sub_B0D974(BattleLogicTask_TypeInfo, v42, v43);
      BattleLogicTask___ctor(v48, 0LL);
      System_Collections_Generic_LinkedList_BattleServantSnapShotGroupBase_SnapShot___AddLast(
        list_logic,
        (BattleServantSnapShotGroupBase_SnapShot_o *)v48,
        (const MethodInfo_2D1CF50 *)Method_System_Collections_Generic_LinkedList_BattleLogicTask__AddLast__);
      this = (BattleLogic__waitWaveStep_d__210_o *)_4__this->fields.fsm;
      if ( !this )
        goto LABEL_32;
      PlayMakerFSM__SendEvent((PlayMakerFSM_o *)this, (System_String_o *)StringLiteral_5512/*"END_PROC"*/, 0LL);
    }
    v59 = 0;
    v49 = (System_Int32_array **)j_il2cpp_value_box_0(int_TypeInfo, &v59);
    v8->fields.__2__current = (Il2CppObject *)v49;
    v50 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
    sub_B0D840(v50, v49, v51, v52, v53, v54, v55, v56);
    v57 = 3;
    goto LABEL_39;
  }
  v8->fields.__2__current = 0LL;
  v50 = (BattleServantConfConponent_o *)&v8->fields.__2__current;
  sub_B0D840(v50, 0LL, v2, v3, v4, v5, v6, v7);
  v57 = 2;
LABEL_39:
  *(_DWORD *)&v50[-1].fields.isOpenAfter = v57;
  return 1;
}


Il2CppObject *__fastcall BattleLogic__waitWaveStep_d__210__System_Collections_Generic_IEnumerator_System_Object__get_Current(
        BattleLogic__waitWaveStep_d__210_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall __noreturn BattleLogic__waitWaveStep_d__210__System_Collections_IEnumerator_Reset(
        BattleLogic__waitWaveStep_d__210_o *this,
        const MethodInfo *method)
{
  __int64 v2; // x0
  __int64 v3; // x1
  __int64 v4; // x2
  System_NotSupportedException_o *v5; // x19
  __int64 v6; // x0

  v2 = sub_B0D8A8(&System_NotSupportedException_TypeInfo);
  v5 = (System_NotSupportedException_o *)sub_B0D974(v2, v3, v4);
  System_NotSupportedException___ctor(v5, 0LL);
  v6 = sub_B0D8A8(&Method_BattleLogic__waitWaveStep_d__210_System_Collections_IEnumerator_Reset__);
  sub_B0D948(v5, v6);
}


Il2CppObject *__fastcall BattleLogic__waitWaveStep_d__210__System_Collections_IEnumerator_get_Current(
        BattleLogic__waitWaveStep_d__210_o *this,
        const MethodInfo *method)
{
  return this->fields.__2__current;
}


void __fastcall BattleLogic__waitWaveStep_d__210__System_IDisposable_Dispose(
        BattleLogic__waitWaveStep_d__210_o *this,
        const MethodInfo *method)
{
  ;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic_createActionBattle___ctor(
        BattleLogic_createActionBattle_o *this,
        Il2CppObject *object,
        intptr_t method,
        const MethodInfo *a4)
{
  System_Boolean_array **v4; // x4
  System_Int32_array **v5; // x5
  System_Int32_array *v6; // x6
  System_Int32_array *v7; // x7
  struct BattleServantClassBoardSkillEffectListComponent_o *v8; // x8
  BattleServantConfConponent_o *p_method; // x0

  v8 = **(struct BattleServantClassBoardSkillEffectListComponent_o ***)&method;
  *(_QWORD *)&this->fields.method = object;
  p_method = (BattleServantConfConponent_o *)&this->fields.method;
  p_method->monitor = *(void **)&method;
  p_method[-1].fields.classBoardSkillObj = v8;
  sub_B0D840(
    p_method,
    (System_Int32_array **)object,
    *(System_String_array ***)&method,
    (System_String_array **)a4,
    v4,
    v5,
    v6,
    v7);
}


System_IAsyncResult_o *__fastcall BattleLogic_createActionBattle__BeginInvoke(
        BattleLogic_createActionBattle_o *this,
        BattleLogicTask_o *task,
        System_AsyncCallback_o *callback,
        Il2CppObject *object,
        const MethodInfo *method)
{
  __int64 v6[2]; // [xsp+0h] [xbp-10h] BYREF

  v6[0] = (__int64)task;
  v6[1] = 0LL;
  return (System_IAsyncResult_o *)sub_B0D848(this, v6, callback, object);
}


BattleActionData_o *__fastcall BattleLogic_createActionBattle__EndInvoke(
        BattleLogic_createActionBattle_o *this,
        System_IAsyncResult_o *result,
        const MethodInfo *method)
{
  return (BattleActionData_o *)sub_B0D84C(result, 0LL, method);
}


BattleActionData_o *__fastcall BattleLogic_createActionBattle__Invoke(
        BattleLogic_createActionBattle_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  __int64 v3; // x3
  __int64 v4; // x8
  __int64 v7; // x24
  BattleLogic_createActionBattle_o **v8; // x25
  __int64 v9; // x26
  unsigned int v10; // w22
  __int64 class_0; // x0
  BattleLogicTask_c *v12; // x8
  unsigned __int64 v13; // x10
  int32_t *v14; // x11
  __int64 v15; // x0
  __int64 v16; // x0
  BattleActionData_o *result; // x0
  unsigned int v18; // w23
  __int64 v19; // x0
  __int64 v20; // x8
  unsigned __int64 v21; // x10
  _DWORD *v22; // x11
  __int64 v23; // x0
  __int64 v24; // x0
  __int64 v25; // x0
  __int64 (__fastcall **v26)(BattleLogicTask_o *, _QWORD); // x0
  __int64 v27; // x0
  __int64 (__fastcall **v28)(__int64 *, BattleLogicTask_o *, _QWORD); // x0
  BattleLogic_createActionBattle_o *v29; // x8
  __int64 v30; // x21
  __int64 *v31; // x22
  __int64 (__fastcall *v32)(BattleLogicTask_o *, __int64); // x23
  char v33; // w0
  int v34; // w8
  char v35; // w23
  char v36; // w0
  __int64 v37; // x8
  __int64 v38; // x1
  __int64 v39; // x2
  unsigned __int64 v40; // x10
  _DWORD *v41; // x11
  char v42; // w22
  char v43; // w0
  BattleLogicTask_c *klass; // x8
  __int64 v45; // x1
  __int64 v46; // x2
  unsigned __int64 v47; // x10
  int32_t *p_offset; // x11
  BattleLogic_createActionBattle_o *v49; // [xsp+8h] [xbp-48h] BYREF

  v49 = this;
  v4 = *(_QWORD *)&this[1].fields.method_ptr;
  if ( !v4 )
  {
    v8 = &v49;
    v7 = 1LL;
    goto LABEL_5;
  }
  v7 = *(_QWORD *)(v4 + 24);
  if ( v7 )
  {
    v8 = (BattleLogic_createActionBattle_o **)(v4 + 32);
LABEL_5:
    v9 = 0LL;
    while ( 1 )
    {
      v29 = v8[v9];
      v31 = *(__int64 **)&v29->fields.method;
      v30 = *(_QWORD *)&v29->fields.extra_arg;
      v32 = *(__int64 (__fastcall **)(BattleLogicTask_o *, __int64))&v29->fields.method_ptr;
      if ( *(__int16 *)(v30 + 72) == -1 )
        sub_B0D960(*(_QWORD *)&v29->fields.extra_arg, task, method, v3);
      v33 = sub_B0D8D4(v30);
      v34 = *(unsigned __int8 *)(v30 + 74);
      if ( (v33 & 1) != 0 )
      {
        if ( v34 == 1 )
          goto LABEL_58;
      }
      else
      {
        if ( v34 != 1 )
        {
          if ( *(__int16 *)(v30 + 72) != -1 && this->fields.m_target )
          {
            v42 = sub_B0D8CC(v30);
            v43 = sub_B0DCD0(v30);
            if ( (v42 & 1) != 0 )
            {
              if ( (v43 & 1) != 0 )
              {
                klass = task->klass;
                v45 = *(_QWORD *)(v30 + 24);
                v46 = *(unsigned __int16 *)(v30 + 72);
                if ( *(_WORD *)&task->klass->_2.bitflags1 )
                {
                  v47 = 0LL;
                  p_offset = &klass->_1.interfaceOffsets->offset;
                  while ( *((_QWORD *)p_offset - 1) != v45 )
                  {
                    ++v47;
                    p_offset += 4;
                    if ( v47 >= *(unsigned __int16 *)&task->klass->_2.bitflags1 )
                      goto LABEL_57;
                  }
                  v25 = (__int64)(&klass->vtable._0_Equals.method + 2 * *p_offset + 2 * (int)v46);
                }
                else
                {
LABEL_57:
                  v25 = sub_AA67A0(task, v45, v46);
                }
                v16 = *(_QWORD *)(v25 + 8);
              }
              else
              {
                v16 = *((_QWORD *)&task->klass->vtable._1_Finalize.methodPtr + 2 * *(unsigned __int16 *)(v30 + 72));
              }
              v26 = (__int64 (__fastcall **)(BattleLogicTask_o *, _QWORD))sub_B0D954(v16, v30);
              result = (BattleActionData_o *)(*v26)(task, v26);
            }
            else
            {
              v10 = *(unsigned __int16 *)(v30 + 72);
              if ( (v43 & 1) != 0 )
              {
                class_0 = j_il2cpp_method_get_class_0(v30);
                v12 = task->klass;
                if ( *(_WORD *)&task->klass->_2.bitflags1 )
                {
                  v13 = 0LL;
                  v14 = &v12->_1.interfaceOffsets->offset;
                  while ( *((_QWORD *)v14 - 1) != class_0 )
                  {
                    ++v13;
                    v14 += 4;
                    if ( v13 >= *(unsigned __int16 *)&task->klass->_2.bitflags1 )
                      goto LABEL_11;
                  }
                  v15 = (__int64)(&v12->vtable._0_Equals.method + 2 * (int)(*v14 + v10));
                }
                else
                {
LABEL_11:
                  v15 = sub_AA67A0(task, class_0, v10);
                }
                result = (BattleActionData_o *)(*(__int64 (__fastcall **)(BattleLogicTask_o *, _QWORD))v15)(
                                                 task,
                                                 *(_QWORD *)(v15 + 8));
              }
              else
              {
                result = (BattleActionData_o *)(*((__int64 (__fastcall **)(BattleLogicTask_o *, _QWORD))&task->klass->vtable._0_Equals.method
                                                + 2 * *(unsigned __int16 *)(v30 + 72)))(
                                                 task,
                                                 *((_QWORD *)&task->klass->vtable._1_Finalize.methodPtr
                                                 + 2 * *(unsigned __int16 *)(v30 + 72)));
              }
            }
            goto LABEL_59;
          }
LABEL_58:
          result = (BattleActionData_o *)v32(task, v30);
          goto LABEL_59;
        }
        if ( !v31 )
          goto LABEL_58;
        if ( *(__int16 *)(v30 + 72) != -1 && (*(_BYTE *)(*v31 + 277) & 1) == 0 && this->fields.m_target )
        {
          v35 = sub_B0D8CC(v30);
          v36 = sub_B0DCD0(v30);
          if ( (v35 & 1) != 0 )
          {
            if ( (v36 & 1) != 0 )
            {
              v37 = *v31;
              v38 = *(_QWORD *)(v30 + 24);
              v39 = *(unsigned __int16 *)(v30 + 72);
              if ( *(_WORD *)(*v31 + 298) )
              {
                v40 = 0LL;
                v41 = (_DWORD *)(*(_QWORD *)(v37 + 176) + 8LL);
                while ( *((_QWORD *)v41 - 1) != v38 )
                {
                  ++v40;
                  v41 += 4;
                  if ( v40 >= *(unsigned __int16 *)(*v31 + 298) )
                    goto LABEL_48;
                }
                v27 = v37 + 16LL * (*v41 + (int)v39) + 312;
              }
              else
              {
LABEL_48:
                v27 = sub_AA67A0(v31, v38, v39);
              }
              v24 = *(_QWORD *)(v27 + 8);
            }
            else
            {
              v24 = *(_QWORD *)(*v31 + 16LL * *(unsigned __int16 *)(v30 + 72) + 320);
            }
            v28 = (__int64 (__fastcall **)(__int64 *, BattleLogicTask_o *, _QWORD))sub_B0D954(v24, v30);
            result = (BattleActionData_o *)(*v28)(v31, task, v28);
          }
          else
          {
            v18 = *(unsigned __int16 *)(v30 + 72);
            if ( (v36 & 1) != 0 )
            {
              v19 = j_il2cpp_method_get_class_0(v30);
              v20 = *v31;
              if ( *(_WORD *)(*v31 + 298) )
              {
                v21 = 0LL;
                v22 = (_DWORD *)(*(_QWORD *)(v20 + 176) + 8LL);
                while ( *((_QWORD *)v22 - 1) != v19 )
                {
                  ++v21;
                  v22 += 4;
                  if ( v21 >= *(unsigned __int16 *)(*v31 + 298) )
                    goto LABEL_19;
                }
                v23 = v20 + 16LL * (int)(*v22 + v18) + 312;
              }
              else
              {
LABEL_19:
                v23 = sub_AA67A0(v31, v19, v18);
              }
              result = (BattleActionData_o *)(*(__int64 (__fastcall **)(__int64 *, BattleLogicTask_o *, _QWORD))v23)(
                                               v31,
                                               task,
                                               *(_QWORD *)(v23 + 8));
            }
            else
            {
              result = (BattleActionData_o *)(*(__int64 (__fastcall **)(__int64 *, BattleLogicTask_o *, _QWORD))(*v31 + 16LL * *(unsigned __int16 *)(v30 + 72) + 312))(
                                               v31,
                                               task,
                                               *(_QWORD *)(*v31 + 16LL * *(unsigned __int16 *)(v30 + 72) + 320));
            }
          }
          goto LABEL_59;
        }
      }
      result = (BattleActionData_o *)((__int64 (__fastcall *)(__int64 *, BattleLogicTask_o *, __int64))v32)(
                                       v31,
                                       task,
                                       v30);
LABEL_59:
      if ( ++v9 == v7 )
        return result;
    }
  }
  return 0LL;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic_reactionFunction___ctor(
        BattleLogic_reactionFunction_o *this,
        Il2CppObject *object,
        intptr_t method,
        const MethodInfo *a4)
{
  System_Boolean_array **v4; // x4
  System_Int32_array **v5; // x5
  System_Int32_array *v6; // x6
  System_Int32_array *v7; // x7
  struct BattleServantClassBoardSkillEffectListComponent_o *v8; // x8
  BattleServantConfConponent_o *p_method; // x0

  v8 = **(struct BattleServantClassBoardSkillEffectListComponent_o ***)&method;
  *(_QWORD *)&this->fields.method = object;
  p_method = (BattleServantConfConponent_o *)&this->fields.method;
  p_method->monitor = *(void **)&method;
  p_method[-1].fields.classBoardSkillObj = v8;
  sub_B0D840(
    p_method,
    (System_Int32_array **)object,
    *(System_String_array ***)&method,
    (System_String_array **)a4,
    v4,
    v5,
    v6,
    v7);
}


System_IAsyncResult_o *__fastcall BattleLogic_reactionFunction__BeginInvoke(
        BattleLogic_reactionFunction_o *this,
        BattleLogicTask_o *task,
        System_AsyncCallback_o *callback,
        Il2CppObject *object,
        const MethodInfo *method)
{
  __int64 v6[2]; // [xsp+0h] [xbp-10h] BYREF

  v6[0] = (__int64)task;
  v6[1] = 0LL;
  return (System_IAsyncResult_o *)sub_B0D848(this, v6, callback, object);
}


BattleLogicTask_array *__fastcall BattleLogic_reactionFunction__EndInvoke(
        BattleLogic_reactionFunction_o *this,
        System_IAsyncResult_o *result,
        const MethodInfo *method)
{
  return (BattleLogicTask_array *)sub_B0D84C(result, 0LL, method);
}


BattleLogicTask_array *__fastcall BattleLogic_reactionFunction__Invoke(
        BattleLogic_reactionFunction_o *this,
        BattleLogicTask_o *task,
        const MethodInfo *method)
{
  __int64 v3; // x3
  __int64 v4; // x8
  __int64 v7; // x24
  BattleLogic_reactionFunction_o **v8; // x25
  __int64 v9; // x26
  unsigned int v10; // w22
  __int64 class_0; // x0
  BattleLogicTask_c *v12; // x8
  unsigned __int64 v13; // x10
  int32_t *v14; // x11
  __int64 v15; // x0
  __int64 v16; // x0
  BattleLogicTask_array *result; // x0
  unsigned int v18; // w23
  __int64 v19; // x0
  __int64 v20; // x8
  unsigned __int64 v21; // x10
  _DWORD *v22; // x11
  __int64 v23; // x0
  __int64 v24; // x0
  __int64 v25; // x0
  __int64 (__fastcall **v26)(BattleLogicTask_o *, _QWORD); // x0
  __int64 v27; // x0
  __int64 (__fastcall **v28)(__int64 *, BattleLogicTask_o *, _QWORD); // x0
  BattleLogic_reactionFunction_o *v29; // x8
  __int64 v30; // x21
  __int64 *v31; // x22
  __int64 (__fastcall *v32)(BattleLogicTask_o *, __int64); // x23
  char v33; // w0
  int v34; // w8
  char v35; // w23
  char v36; // w0
  __int64 v37; // x8
  __int64 v38; // x1
  __int64 v39; // x2
  unsigned __int64 v40; // x10
  _DWORD *v41; // x11
  char v42; // w22
  char v43; // w0
  BattleLogicTask_c *klass; // x8
  __int64 v45; // x1
  __int64 v46; // x2
  unsigned __int64 v47; // x10
  int32_t *p_offset; // x11
  BattleLogic_reactionFunction_o *v49; // [xsp+8h] [xbp-48h] BYREF

  v49 = this;
  v4 = *(_QWORD *)&this[1].fields.method_ptr;
  if ( !v4 )
  {
    v8 = &v49;
    v7 = 1LL;
    goto LABEL_5;
  }
  v7 = *(_QWORD *)(v4 + 24);
  if ( v7 )
  {
    v8 = (BattleLogic_reactionFunction_o **)(v4 + 32);
LABEL_5:
    v9 = 0LL;
    while ( 1 )
    {
      v29 = v8[v9];
      v31 = *(__int64 **)&v29->fields.method;
      v30 = *(_QWORD *)&v29->fields.extra_arg;
      v32 = *(__int64 (__fastcall **)(BattleLogicTask_o *, __int64))&v29->fields.method_ptr;
      if ( *(__int16 *)(v30 + 72) == -1 )
        sub_B0D960(*(_QWORD *)&v29->fields.extra_arg, task, method, v3);
      v33 = sub_B0D8D4(v30);
      v34 = *(unsigned __int8 *)(v30 + 74);
      if ( (v33 & 1) != 0 )
      {
        if ( v34 == 1 )
          goto LABEL_58;
      }
      else
      {
        if ( v34 != 1 )
        {
          if ( *(__int16 *)(v30 + 72) != -1 && this->fields.m_target )
          {
            v42 = sub_B0D8CC(v30);
            v43 = sub_B0DCD0(v30);
            if ( (v42 & 1) != 0 )
            {
              if ( (v43 & 1) != 0 )
              {
                klass = task->klass;
                v45 = *(_QWORD *)(v30 + 24);
                v46 = *(unsigned __int16 *)(v30 + 72);
                if ( *(_WORD *)&task->klass->_2.bitflags1 )
                {
                  v47 = 0LL;
                  p_offset = &klass->_1.interfaceOffsets->offset;
                  while ( *((_QWORD *)p_offset - 1) != v45 )
                  {
                    ++v47;
                    p_offset += 4;
                    if ( v47 >= *(unsigned __int16 *)&task->klass->_2.bitflags1 )
                      goto LABEL_57;
                  }
                  v25 = (__int64)(&klass->vtable._0_Equals.method + 2 * *p_offset + 2 * (int)v46);
                }
                else
                {
LABEL_57:
                  v25 = sub_AA67A0(task, v45, v46);
                }
                v16 = *(_QWORD *)(v25 + 8);
              }
              else
              {
                v16 = *((_QWORD *)&task->klass->vtable._1_Finalize.methodPtr + 2 * *(unsigned __int16 *)(v30 + 72));
              }
              v26 = (__int64 (__fastcall **)(BattleLogicTask_o *, _QWORD))sub_B0D954(v16, v30);
              result = (BattleLogicTask_array *)(*v26)(task, v26);
            }
            else
            {
              v10 = *(unsigned __int16 *)(v30 + 72);
              if ( (v43 & 1) != 0 )
              {
                class_0 = j_il2cpp_method_get_class_0(v30);
                v12 = task->klass;
                if ( *(_WORD *)&task->klass->_2.bitflags1 )
                {
                  v13 = 0LL;
                  v14 = &v12->_1.interfaceOffsets->offset;
                  while ( *((_QWORD *)v14 - 1) != class_0 )
                  {
                    ++v13;
                    v14 += 4;
                    if ( v13 >= *(unsigned __int16 *)&task->klass->_2.bitflags1 )
                      goto LABEL_11;
                  }
                  v15 = (__int64)(&v12->vtable._0_Equals.method + 2 * (int)(*v14 + v10));
                }
                else
                {
LABEL_11:
                  v15 = sub_AA67A0(task, class_0, v10);
                }
                result = (BattleLogicTask_array *)(*(__int64 (__fastcall **)(BattleLogicTask_o *, _QWORD))v15)(
                                                    task,
                                                    *(_QWORD *)(v15 + 8));
              }
              else
              {
                result = (BattleLogicTask_array *)(*((__int64 (__fastcall **)(BattleLogicTask_o *, _QWORD))&task->klass->vtable._0_Equals.method
                                                   + 2 * *(unsigned __int16 *)(v30 + 72)))(
                                                    task,
                                                    *((_QWORD *)&task->klass->vtable._1_Finalize.methodPtr
                                                    + 2 * *(unsigned __int16 *)(v30 + 72)));
              }
            }
            goto LABEL_59;
          }
LABEL_58:
          result = (BattleLogicTask_array *)v32(task, v30);
          goto LABEL_59;
        }
        if ( !v31 )
          goto LABEL_58;
        if ( *(__int16 *)(v30 + 72) != -1 && (*(_BYTE *)(*v31 + 277) & 1) == 0 && this->fields.m_target )
        {
          v35 = sub_B0D8CC(v30);
          v36 = sub_B0DCD0(v30);
          if ( (v35 & 1) != 0 )
          {
            if ( (v36 & 1) != 0 )
            {
              v37 = *v31;
              v38 = *(_QWORD *)(v30 + 24);
              v39 = *(unsigned __int16 *)(v30 + 72);
              if ( *(_WORD *)(*v31 + 298) )
              {
                v40 = 0LL;
                v41 = (_DWORD *)(*(_QWORD *)(v37 + 176) + 8LL);
                while ( *((_QWORD *)v41 - 1) != v38 )
                {
                  ++v40;
                  v41 += 4;
                  if ( v40 >= *(unsigned __int16 *)(*v31 + 298) )
                    goto LABEL_48;
                }
                v27 = v37 + 16LL * (*v41 + (int)v39) + 312;
              }
              else
              {
LABEL_48:
                v27 = sub_AA67A0(v31, v38, v39);
              }
              v24 = *(_QWORD *)(v27 + 8);
            }
            else
            {
              v24 = *(_QWORD *)(*v31 + 16LL * *(unsigned __int16 *)(v30 + 72) + 320);
            }
            v28 = (__int64 (__fastcall **)(__int64 *, BattleLogicTask_o *, _QWORD))sub_B0D954(v24, v30);
            result = (BattleLogicTask_array *)(*v28)(v31, task, v28);
          }
          else
          {
            v18 = *(unsigned __int16 *)(v30 + 72);
            if ( (v36 & 1) != 0 )
            {
              v19 = j_il2cpp_method_get_class_0(v30);
              v20 = *v31;
              if ( *(_WORD *)(*v31 + 298) )
              {
                v21 = 0LL;
                v22 = (_DWORD *)(*(_QWORD *)(v20 + 176) + 8LL);
                while ( *((_QWORD *)v22 - 1) != v19 )
                {
                  ++v21;
                  v22 += 4;
                  if ( v21 >= *(unsigned __int16 *)(*v31 + 298) )
                    goto LABEL_19;
                }
                v23 = v20 + 16LL * (int)(*v22 + v18) + 312;
              }
              else
              {
LABEL_19:
                v23 = sub_AA67A0(v31, v19, v18);
              }
              result = (BattleLogicTask_array *)(*(__int64 (__fastcall **)(__int64 *, BattleLogicTask_o *, _QWORD))v23)(
                                                  v31,
                                                  task,
                                                  *(_QWORD *)(v23 + 8));
            }
            else
            {
              result = (BattleLogicTask_array *)(*(__int64 (__fastcall **)(__int64 *, BattleLogicTask_o *, _QWORD))(*v31 + 16LL * *(unsigned __int16 *)(v30 + 72) + 312))(
                                                  v31,
                                                  task,
                                                  *(_QWORD *)(*v31 + 16LL * *(unsigned __int16 *)(v30 + 72) + 320));
            }
          }
          goto LABEL_59;
        }
      }
      result = (BattleLogicTask_array *)((__int64 (__fastcall *)(__int64 *, BattleLogicTask_o *, __int64))v32)(
                                          v31,
                                          task,
                                          v30);
LABEL_59:
      if ( ++v9 == v7 )
        return result;
    }
  }
  return 0LL;
}


// local variable allocation has failed, the output may be wrong!
void __fastcall BattleLogic_taskFunction___ctor(
        BattleLogic_taskFunction_o *this,
        Il2CppObject *object,
        intptr_t method,
        const MethodInfo *a4)
{
  System_Boolean_array **v4; // x4
  System_Int32_array **v5; // x5
  System_Int32_array *v6; // x6
  System_Int32_array *v7; // x7
  struct BattleServantClassBoardSkillEffectListComponent_o *v8; // x8
  BattleServantConfConponent_o *p_method; // x0

  v8 = **(struct BattleServantClassBoardSkillEffectListComponent_o ***)&method;
  *(_QWORD *)&this->fields.method = object;
  p_method = (BattleServantConfConponent_o *)&this->fields.method;
  p_method->monitor = *(void **)&method;
  p_method[-1].fields.classBoardSkillObj = v8;
  sub_B0D840(
    p_method,
    (System_Int32_array **)object,
    *(System_String_array ***)&method,
    (System_String_array **)a4,
    v4,
    v5,
    v6,
    v7);
}


// local variable allocation has failed, the output may be wrong!
System_IAsyncResult_o *__fastcall BattleLogic_taskFunction__BeginInvoke(
        BattleLogic_taskFunction_o *this,
        int32_t ltype,
        BattleData_o *data,
        System_AsyncCallback_o *callback,
        Il2CppObject *object,
        const MethodInfo *method)
{
  __int64 v11[3]; // [xsp+8h] [xbp-48h] BYREF
  int32_t v12; // [xsp+2Ch] [xbp-24h] BYREF

  v12 = ltype;
  if ( (byte_421392D & 1) == 0 )
  {
    sub_B0D8A4(&BattleLogic_LOGICTYPE_TypeInfo, *(_QWORD *)&ltype);
    byte_421392D = 1;
  }
  v11[2] = 0LL;
  v11[0] = j_il2cpp_value_box_0(BattleLogic_LOGICTYPE_TypeInfo, &v12);
  v11[1] = (__int64)data;
  return (System_IAsyncResult_o *)sub_B0D848(this, v11, callback, object);
}


BattleLogicTask_array *__fastcall BattleLogic_taskFunction__EndInvoke(
        BattleLogic_taskFunction_o *this,
        System_IAsyncResult_o *result,
        const MethodInfo *method)
{
  return (BattleLogicTask_array *)sub_B0D84C(result, 0LL, method);
}


// local variable allocation has failed, the output may be wrong!
BattleLogicTask_array *__fastcall BattleLogic_taskFunction__Invoke(
        BattleLogic_taskFunction_o *this,
        int32_t ltype,
        BattleData_o *data,
        const MethodInfo *method)
{
  __int64 v4; // x8
  __int64 v7; // x25
  BattleLogic_taskFunction_o **v8; // x26
  __int64 v9; // x27
  unsigned int v10; // w24
  __int64 class_0; // x0
  __int64 v12; // x8
  unsigned int v13; // w23
  unsigned __int64 v14; // x10
  _DWORD *v15; // x11
  __int64 v16; // x0
  __int64 v17; // x0
  BattleLogicTask_array *result; // x0
  __int64 v19; // x0
  __int64 (__fastcall **v20)(__int64 *, _QWORD, BattleData_o *, _QWORD); // x0
  BattleLogic_taskFunction_o *v21; // x8
  __int64 *v22; // x22
  __int64 v23; // x23
  __int64 (__fastcall *v24)(unsigned int *, BattleData_o *, __int64); // x24
  char v25; // w24
  char v26; // w0
  unsigned int v27; // w24
  __int64 v28; // x8
  __int64 v29; // x1
  __int64 v30; // x2
  unsigned __int64 v31; // x10
  _DWORD *v32; // x11
  unsigned int v33; // [xsp+Ch] [xbp-54h] BYREF
  BattleLogic_taskFunction_o *v34; // [xsp+18h] [xbp-48h] BYREF

  v34 = this;
  v33 = ltype;
  v4 = *(_QWORD *)&this[1].fields.method_ptr;
  if ( !v4 )
  {
    v8 = &v34;
    v7 = 1LL;
    goto LABEL_5;
  }
  v7 = *(_QWORD *)(v4 + 24);
  if ( v7 )
  {
    v8 = (BattleLogic_taskFunction_o **)(v4 + 32);
LABEL_5:
    v9 = 0LL;
    while ( 1 )
    {
      v21 = v8[v9];
      v22 = *(__int64 **)&v21->fields.method;
      v23 = *(_QWORD *)&v21->fields.extra_arg;
      v24 = *(__int64 (__fastcall **)(unsigned int *, BattleData_o *, __int64))&v21->fields.method_ptr;
      if ( *(__int16 *)(v23 + 72) == -1 )
        sub_B0D960(*(_QWORD *)&v21->fields.extra_arg, *(_QWORD *)&ltype, data, method);
      if ( (sub_B0D8D4(v23) & 1) == 0 )
        break;
      if ( *(_BYTE *)(v23 + 74) != 2 )
        goto LABEL_36;
      result = (BattleLogicTask_array *)v24((unsigned int *)v33, data, v23);
LABEL_38:
      if ( ++v9 == v7 )
        return result;
    }
    if ( !v22 )
    {
      result = (BattleLogicTask_array *)v24(&v33 - 4, data, v23);
      goto LABEL_38;
    }
    if ( *(__int16 *)(v23 + 72) != -1 && (*(_BYTE *)(*v22 + 277) & 1) == 0 && this->fields.m_target )
    {
      v25 = sub_B0D8CC(v23);
      v26 = sub_B0DCD0(v23);
      if ( (v25 & 1) != 0 )
      {
        v27 = v33;
        if ( (v26 & 1) != 0 )
        {
          v28 = *v22;
          v29 = *(_QWORD *)(v23 + 24);
          v30 = *(unsigned __int16 *)(v23 + 72);
          if ( *(_WORD *)(*v22 + 298) )
          {
            v31 = 0LL;
            v32 = (_DWORD *)(*(_QWORD *)(v28 + 176) + 8LL);
            while ( *((_QWORD *)v32 - 1) != v29 )
            {
              ++v31;
              v32 += 4;
              if ( v31 >= *(unsigned __int16 *)(*v22 + 298) )
                goto LABEL_35;
            }
            v19 = v28 + 16LL * (*v32 + (int)v30) + 312;
          }
          else
          {
LABEL_35:
            v19 = sub_AA67A0(v22, v29, v30);
          }
          v17 = *(_QWORD *)(v19 + 8);
        }
        else
        {
          v17 = *(_QWORD *)(*v22 + 16LL * *(unsigned __int16 *)(v23 + 72) + 320);
        }
        v20 = (__int64 (__fastcall **)(__int64 *, _QWORD, BattleData_o *, _QWORD))sub_B0D954(v17, v23);
        result = (BattleLogicTask_array *)(*v20)(v22, v27, data, v20);
      }
      else
      {
        v10 = *(unsigned __int16 *)(v23 + 72);
        if ( (v26 & 1) != 0 )
        {
          class_0 = j_il2cpp_method_get_class_0(v23);
          v12 = *v22;
          v13 = v33;
          if ( *(_WORD *)(*v22 + 298) )
          {
            v14 = 0LL;
            v15 = (_DWORD *)(*(_QWORD *)(v12 + 176) + 8LL);
            while ( *((_QWORD *)v15 - 1) != class_0 )
            {
              ++v14;
              v15 += 4;
              if ( v14 >= *(unsigned __int16 *)(*v22 + 298) )
                goto LABEL_11;
            }
            v16 = v12 + 16LL * (int)(*v15 + v10) + 312;
          }
          else
          {
LABEL_11:
            v16 = sub_AA67A0(v22, class_0, v10);
          }
          result = (BattleLogicTask_array *)(*(__int64 (__fastcall **)(__int64 *, _QWORD, BattleData_o *, _QWORD))v16)(
                                              v22,
                                              v13,
                                              data,
                                              *(_QWORD *)(v16 + 8));
        }
        else
        {
          result = (BattleLogicTask_array *)(*(__int64 (__fastcall **)(__int64 *, _QWORD, BattleData_o *, _QWORD))(*v22 + 16LL * *(unsigned __int16 *)(v23 + 72) + 312))(
                                              v22,
                                              v33,
                                              data,
                                              *(_QWORD *)(*v22 + 16LL * *(unsigned __int16 *)(v23 + 72) + 320));
        }
      }
      goto LABEL_38;
    }
LABEL_36:
    result = (BattleLogicTask_array *)((__int64 (__fastcall *)(__int64 *, _QWORD, BattleData_o *, __int64))v24)(
                                        v22,
                                        v33,
                                        data,
                                        v23);
    goto LABEL_38;
  }
  return 0LL;
}